!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=613)}([function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(497),o=r},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"q",function(){return i}),n.d(t,"l",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"o",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"p",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"m",function(){return m}),n.d(t,"c",function(){return A}),n.d(t,"j",function(){return v}),n.d(t,"a",function(){return y});var r={ALL:"Global",DESELECT:"Global.deselect",DRAG_START:"Global.drag.start",DRAG_END:"Global.drag.end",SECTION_DRAG_START:"Global.drag.start.section",SECTION_DRAG_END:"Global.drag.end.section",BLOCK_DRAG_START:"Global.drag.start.block",BLOCK_DRAG_END:"Global.drag.end.block",SELECTION_CHANGE:"Global.selection.change",ERROR:"Global.error"},o={ALL:"Model",SET:"Model.set"},i={ALL:"Topbar",CLICK:"Topbar.click",LOADED:"Topbar.load",ADD_BUTTON:"Topbar.addButton",ADD_DROPDOWN:"Topbar.addDropDown",ADD_TO_DROPDOWN:"Topbar.addToDropDown",CLEAR_DROPDOWN:"Topbar.clearDropDown",REMOVE_BUTTON:"Topbar.removeButton"},a={ALL:"Sidebar",CLICK:"Sidebar.click",LOADED:"Sidebar.load",ADD_TAB:"Sidebar.addButton",REMOVE_TAB:"Sidebar.removeButton",TAB_CHANGE:"Sidebar.changeTab"},s={ALL:"Email",CLICK:"Email.click",LOADED:"Email.loaded",SAVE_HTML:"Email.saveHtml",SECTIONS:{ALL:"Email.sections",READY:"Email.sections.ready"}},l={ALL:"Sections",LOADED:"Sections.loaded",LOADING:"Sections.loading"},c={ALL:"Template",OPEN_SELECTION:"Template.openSelection",SELECTED:"Template.selected",SAVE:"Template.save",SAVED:"Template.saved"},u={ALL:"ImageLib",OPEN:"ImageLib.open",CLOSE:"ImageLib.close",IMAGE:{INSERTED:"ImageLib.image.inserted",RESIZE:"ImageLib.image.resize"}},d={ALL:"Theme",LOADED:"Theme.loaded",CHANGED:{ALL:"Theme.changed.all",EMAIL:"Theme.changed.email",IMAGE:"Theme.changed.block.image",BLOCK:"Theme.changed.block",BUTTON:"Theme.changed.block.button",PARAGRAPH:"Theme.changed.block.paragraph",HEADLINE:"Theme.changed.block.headline"},RERENDER:"Theme.rerender",SELECTED:"Theme.selected",EDIT:{ALL:"Theme.edit",EMAIL:"Theme.edit.email",IMAGE:"Theme.edit.block.image",BLOCK:"Theme.edit.block",BUTTON:"Theme.edit.block.button",SEPARATOR:"Theme.edit.block.separator",SECTION:"Theme.edit.section",PARAGRAPH:"Theme.edit.block.paragraph",HEADLINE:"Theme.edit.block.headline"}},f={RESET:{ALL:"Style.reset.all",EMAIL:"Style.reset.email",IMAGE:"Style.reset.block.image",BLOCK:"Style.reset.block",BUTTON:"Style.reset.block.button",SECTION:"Style.reset.section",PARAGRAPH:"Style.reset.block.paragraph",HEADLINE:"Style.reset.block.headline"}},p={ALL:"Settings",BUILD:"Settings.build",DESTROY:"Settings.destroy",SHOW:"Settings.show",HIDE:"Settings.hide",CONTENT:{CLICK:"Settings.content.click"},EXPERT_TOGGLE:"Settings.expert",TOGGLE:"Settings.toggle"},h={ALL:"Block",HOVER:{ANY:"Block.Hover",ENTER:"Block.Hover.Enter",LEAVE:"Block.Hover.Leave"},SELECTED:"Block.Selected",DESELECTED:"Block.Deselected",DELETED:"Block.Deleted"},g={ALL:"Section",HOVER:{ANY:"Section.Hover",ENTER:"Section.Hover.Enter",LEAVE:"Section.Hover.Leave"},DESELECTED:"Section.Deselected",SELECTED:"Section.Selected"},m={ALL:"Snapshot",UPDATED:"Snapshot.updated",OUTDATED:"Snapshot.outdated",SAVED_TO_REMOTE:"Snapshot.savedRemote",SAVE:{REMOTE:"Snapshot.save.remote",LOCAL:"Snapshot.save.local"},LOADED:{ANY:"Snapshot.loaded",LOCAL:"Snapshot.loaded.local",REMOTE:"Snapshot.loaded.remote"}},A={ALL:"Click",IFRAME:"Click.iframe",TOPFRAME:"Click.topframe",BAR:{SIDE:"Click.bar.side",TOP:"Click.bar.top",ANY:"Click.bar"},COMPONENT:{DROPDOWN:"Click.component.dropdown"}},v={ALL:"SectionTemplateModule",SAVE_SECTION:"SectionTemplateModule.addSection",LOADED:"SectionTemplateModule.loaded"},y={ALL:"AutoSave",UPDATE_AND_SAVE:"AutoSave.updateAndSave"}},function(e,t,n){var r=n(7),o=n(50),i=n(30),a=n(26),s=n(37),l=function(e,t,n){var c,u,d,f,p=e&l.F,h=e&l.G,g=e&l.S,m=e&l.P,A=e&l.B,v=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?o:o[t]||(o[t]={}),b=y.prototype||(y.prototype={});for(c in h&&(n=t),n)d=((u=!p&&v&&void 0!==v[c])?v:n)[c],f=A&&u?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,v&&a(v,c,d,e&l.U),y[c]!=d&&i(y,c,f),m&&b[c]!=d&&(b[c]=d)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var r=n(157),o=n(238),i=n(499),a=n.n(i),s=n(612),l=n(285),c=n(29),u=n(100),d=n(23),f=n(281),p=n(732),h=n(0),g=n(47);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function Utils(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Utils)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Utils,null,[{key:"isStorageAvailable",value:function isStorageAvailable(){var e="SENDER";try{return localStorage.setItem(e,e),localStorage.getItem(e),localStorage.removeItem(e),!0}catch(e){return ld("LocalStorage is not available"),!1}}},{key:"redirect",value:function redirect(e){if(!e)return!1;window.location=e}},{key:"generateUuid",value:function generateUuid(){return a()()}},{key:"arrayHas",value:function arrayHas(e,t){return Object(s.a)(e,function(e){return t.includes(e)}).length>0}},{key:"unixToHuman",value:function unixToHuman(e){return new Date(1e3*e).toLocaleString()}},{key:"getViewHtml",value:function getViewHtml(e){if(!Utils.isView(e))throw new Error("Must be a type of View");return new e.constructor({model:Object(l.a)(e,"model.clone",{})}).render().$el.html()}},{key:"isValidEmail",value:function isValidEmail(e){return A.test(String(e).toLowerCase())}},{key:"addUnderscoreMethods",value:function addUnderscoreMethods(t,n,r){Object(c.a)(n,function(n,o){e[o]&&(t.prototype[o]=v(n,o,r))})}},{key:"isView",value:function isView(e){return e instanceof o.a}},{key:"isModel",value:function isModel(e){return e instanceof r.a}},{key:"isNullOrUndef",value:function isNullOrUndef(e){return null===e||void 0===e}},{key:"urlError",value:function urlError(){throw new Error('A "url" property or function must be specified')}},{key:"wrapError",value:function wrapError(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t),h.a.publish("Error",new g.a("Failed to properly communicate with server",r.responseJSON,r.status))}}},{key:"removeIds",value:function removeIds(e,t){if("id"===t||"uuid"===t)return null}},{key:"sortArrayByChange",value:function sortArrayByChange(e,t,n){if(t===n)return e;var r,o,i=[];if(t>n)for(r=0;r<e.length;r++)i[r]=r<t&&r>=n?r+1:r;if(t<n)for(o=0;o<e.length;o++)i[o]=o>t&&o<=n?o-1:o;i[t]=n;var a=[];return Object(c.a)(e,function(e,t){a[i[t]]=e}),a}},{key:"getShortUid",value:function getShortUid(){for(var e="",t="tbaporhQXYZqcxyz0123456789",n=0;n<9;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"timestamp",get:function get(){return Math.floor((new Date).getTime()/1e3)}}]),Utils}(),A=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,v=function s_ADD_METHOD(t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,o){return e[n](this[r],y(t),o)};case 4:return function(t,o,i){return e[n](this[r],y(t),o,i)};default:return function(){var t,o=Array.prototype.slice.call(arguments);return o.unshift(this[r]),(t=e)[n].apply(t,_toConsumableArray(o))}}},y=function s_CB(e){return Object(u.a)(e)?e:Object(d.a)(e)&&!m.isModel(e)?b(e):Object(f.a)(e)?function(t){return t.get(e)}:e},b=function s_MODEL_MATCHER(e){var t=Object(p.a)(e);return function(e){return t(e.attributes)}}}).call(this,n(24))},,function(e,t,n){"use strict";var r=n(70),o=n.n(r),i=n(281),a=n(11);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function Alert(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Alert)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Alert,null,[{key:"closeAll",value:function closeAll(){o.a.close()}},{key:"toast",value:function toast(e){var toast=o.a.mixin({animation:!1,customClass:"animated slideInLeft fast",toast:!0,position:"bottom-start",showCloseButton:!0,showConfirmButton:!1,buttonsStyling:!1,cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-danger",timer:3e3});return Object(i.a)(e)&&(e={type:null,title:e}),toast(e)}},{key:"input",value:function input(e){return o.a.mixin({showCloseButton:!0,input:"text",showCancelButton:!1,confirmButtonText:l("Send"),cancelButtonText:l("Cancel"),buttonsStyling:!1,cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,animation:!1,customClass:"animated zoomIn"})(e)}},{key:"confirm",value:function confirm(e){return o.a.mixin({title:l("Are you sure?"),text:l("You won't be able to revert this!"),type:"warning",showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ff0000",animation:!1,customClass:"animated zoomIn",cancelButtonColor:"#777777",buttonsStyling:!1,cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-danger"})(e)}},{key:"error",value:function error(e){Alert.toast({timer:5e3,type:null,title:"Failed to load section templates: <br> ".concat(Object(a.a)(e,"responseJSON.message","Unknown"))})}}]),Alert}();t.a=s},function(e,t,n){e.exports=n(447).default},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(123);t.a=function get(e,t,n){var o=null==e?void 0:Object(r.a)(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(102)("wks"),o=n(59),i=n(7).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=n(238);const o=["description","fileName","lineNumber","message","name","number","stack"];function Exception(e,t){let n,r,i=t&&t.loc;i&&(e+=" - "+(n=i.start.line)+":"+(r=i.start.column));let a=Error.prototype.constructor.call(this,e);for(let e=0;e<o.length;e++)this[o[e]]=a[o[e]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{i&&(this.lineNumber=n,Object.defineProperty?Object.defineProperty(this,"column",{value:r,enumerable:!0}):this.column=r)}catch(e){}}Exception.prototype=new Error;var i=Exception,a=n(611),s=n(100);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function BaseView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseView),(t=_possibleConstructorReturn(this,_getPrototypeOf(BaseView).call(this,e))).noTemplate="<h1>No template</h1>",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseView,r["a"]),_createClass(BaseView,[{key:"events",get:function get(){return{}}}]),_createClass(BaseView,[{key:"initialize",value:function initialize(e){}},{key:"render",value:function render(){this.delegateEvents(null),this.trigger("preRender",this);try{this.el.innerHTML=Object(a.a)(this,"template",this.getModelAttributes())||this.noTemplate}catch(e){console.error(e)}return this.trigger("postRender",this),this}},{key:"getModelAttributes",value:function getModelAttributes(){return this.model.getAttributes()||{}}},{key:"resetStyle",value:function resetStyle(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return!1;for(var t={},n=0;n<e.length;n++)t[e[n]]=null;this.model.set(t)}},{key:"setTemplate",value:function setTemplate(e){if(!Object(s.a)(e))throw new i("View template must be a function",this);this.template=e}}]),BaseView}();t.a=l},function(e,t,n){var r=n(9),o=n(197),i=n(36),a=Object.defineProperty;t.f=n(15)?Object.defineProperty:function defineProperty(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(44),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){e.exports=n(646)},function(e,t,n){var r=n(43);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(240),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";var r=n(157),o=n(3),i=n(0),a=n(1),s=n(53),l=n(98),c=n(57),u=n(176),d=n(257),f=n(56);var p=function baseUnset(e,t){return t=Object(c.a)(t,e),null==(e=Object(d.a)(e,t))||delete e[Object(f.a)(Object(u.a)(t))]},h=n(84),g=n(256);var m=function customOmitClone(e){return Object(g.a)(e)?void 0:e},A=n(280);var v=function flatten(e){return null!=e&&e.length?Object(A.a)(e,1):[]},y=n(255),b=n(188);var w=function flatRest(e){return Object(b.a)(Object(y.a)(e,void 0,v),e+"")},_=n(253),E=w(function(e,t){var n={};if(null==e)return n;var r=!1;t=Object(s.a)(t,function(t){return t=Object(c.a)(t,e),r||(r=t.length>1),t}),Object(h.a)(e,Object(_.a)(e),n),r&&(n=Object(l.a)(n,7,m));for(var o=t.length;o--;)p(n,t[o]);return n}),C=n(735),S=n(11),T=n(736),x=n(733),O=n(469),k=n(123),B=n(261);var P=function basePickBy(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Object(k.a)(e,a);n(s,a)&&Object(B.a)(i,Object(c.a)(a,e),s)}return i},I=n(279);var R=function basePick(e,t){return P(e,t,function(t,n){return Object(I.a)(e,n)})},L=w(function(e,t){return null==e?{}:R(e,t)}),M=n(80),D=n(263),N=n(85),F=n(262),U=Object(N.a)(function(e){var t=Object(u.a)(e),n=Object(s.a)(e,F.a);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?Object(D.a)(n,void 0,t):[]}),H=n(185);var j=function isEqual(e,t){return Object(H.a)(e,t)},Q=n(29);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function BaseModel(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseModel),_possibleConstructorReturn(this,_getPrototypeOf(BaseModel).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseModel,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseModel,[{key:"unsetKey",value:function unsetKey(e,t){var n=E(this.attributes,e)[e.split(".")[0]];this.set(e.split(".")[0],n,t)}},{key:"getAttributes",value:function getAttributes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(C.a)({},this.toJSON(),this.currentTheme,function(e,t){return null===e?t:e});return""!==e?Object(S.a)(t,e):t}},{key:"copy",value:function copy(){return Object(T.a)(this.toJSON(),this._removeIds)}},{key:"get",value:function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(S.a)(this.attributes,e,t)}},{key:"set",value:function set(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.a.isNullOrUndef(e))return this;"object"===_typeof(e)&&(n=t||{});var r=Object(S.a)(n,"clone",!1),s=Object(S.a)(n,"silent",!1),l=Object(S.a)(n,"autosave",!1);if(r&&(t=Object(x.a)(t)),"string"==typeof e&&e.indexOf(".")>0){var c=e.replace(/\./,"&").split("&"),u=c[0]||"",d=c[1]||"",f=this.get(u,{});e=u,t=Object(O.a)(f,d,t)}return s&&!l||i.a.publish("".concat(a.h.SET,".").concat(this.constructor.name),{key:e,val:t,options:n}),_get2(_getPrototypeOf(BaseModel.prototype),"set",this).call(this,e,t,n)}},{key:"_removeIds",value:function _removeIds(e,t){if("id"===t||"uuid"===t)return null}},{key:"initialize",value:function initialize(){}},{key:"makeDefault",value:function makeDefault(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"function"==typeof e&&(e=e()),this.mergeModelStyleOnTheme(e),this.view.resetStyle(e),i.a.publish(a.p.CHANGED[this.eventName]),i.a.publish(a.p.CHANGED.ALL)}},{key:"applyToAll",value:function applyToAll(e){"function"==typeof e&&(e=e()),this.mergeModelStyleOnTheme(e),i.a.publish(a.n.RESET[this.eventName],this._getRequiredKeys(e)),i.a.publish(a.p.CHANGED.ALL)}},{key:"mergeModelStyleOnTheme",value:function mergeModelStyleOnTheme(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(C.a)(this.targetModelTheme,L(this.targetModelJson,this._getRequiredKeys(e)),function(e,t){return null===t?e:t})}},{key:"_getRequiredKeys",value:function _getRequiredKeys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(M.a)(this.targetModelTheme);return null!==e?U(t,e,j):t}},{key:"getAccordionBindsById",value:function getAccordionBindsById(e){var t=this,n=[];return Object(Q.a)(this.settingsScheme.tabs,function(r){Object(Q.a)(r.accordions,function(r){if(r.id===e)return n=t.getAccordionBinds(r),!1})}),n}},{key:"getAccordionBinds",value:function getAccordionBinds(e){var t=[];return Object(Q.a)(e.controls,function(e){Object(Q.a)(e.parts,function(e){Object(Q.a)(e.options.bind,function(e){""!==e&&t.push(e)})})}),t}},{key:"currentTheme",get:function get(){return Builder.run("Email.model.theme.get","data.".concat(this.name),{})}},{key:"name",get:function get(){return this.constructor.name}},{key:"targetModelTheme",get:function get(){return Builder.find("Email.model.theme.attributes.data."+this.name)}},{key:"targetModelJson",get:function get(){return"Section"===this.name?this.toJSON().data:this.toJSON()}}]),BaseModel}();t.a=z},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var i=[],a=n.document,s=Object.getPrototypeOf,l=i.slice,c=i.concat,u=i.push,d=i.indexOf,f={},p=f.toString,h=f.hasOwnProperty,g=h.toString,m=g.call(Object),A={},v=function isFunction(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function isWindow(e){return null!=e&&e===e.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(e,t,n){var r,o,i=(n=n||a).createElement("script");if(i.text=e,t)for(r in b)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function toType(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function isArrayLike(e){var t=!!e&&"length"in e&&e.length,n=toType(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(w.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||w.isPlainObject(n)?n:{},o=!1,a[t]=w.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&g.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){DOMEval(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(isArrayLike(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(isArrayLike(Object(e))?w.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(isArrayLike(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return c.apply([],a)},guid:1,support:A}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var E=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,g,m,A,v,y,b="sizzle"+1*new Date,w=e.document,_=0,E=0,C=createCache(),S=createCache(),T=createCache(),x=createCache(),O=function(e,t){return e===t&&(d=!0),0},k={}.hasOwnProperty,B=[],P=B.pop,I=B.push,R=B.push,L=B.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+N+"*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",H=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",j=new RegExp(N+"+","g"),Q=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),z=new RegExp("^"+N+"*,"+N+"*"),$=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),V=new RegExp(N+"|>"),G=new RegExp(H),W=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},q=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},ae=addCombinator(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(B=L.call(w.childNodes),w.childNodes),B[w.childNodes.length].nodeType}catch(e){R={apply:B.length?function(e,t){I.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function Sizzle(e,t,r,o){var i,s,c,u,d,h,A,v=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!o&&((t?t.ownerDocument||t:w)!==p&&f(t),t=t||p,g)){if(11!==_&&(d=Z.exec(e)))if(i=d[1]){if(9===_){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(v&&(c=v.getElementById(i))&&y(t,c)&&c.id===i)return r.push(c),r}else{if(d[2])return R.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!x[e+" "]&&(!m||!m.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(A=e,v=t,1===_&&V.test(e)){for((u=t.getAttribute("id"))?u=u.replace(re,oe):t.setAttribute("id",u=b),s=(h=a(e)).length;s--;)h[s]="#"+u+" "+toSelector(h[s]);A=h.join(","),v=ee.test(e)&&testContext(t.parentNode)||t}try{return R.apply(r,v.querySelectorAll(A)),r}catch(t){x(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(Q,"$1"),t,r,o)}function createCache(){var e=[];return function cache(t,n){return e.push(t+" ")>r.cacheLength&&delete cache[e.shift()],cache[t+" "]=n}}function markFunction(e){return e[b]=!0,e}function assert(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function addHandle(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function siblingCheck(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function createInputPseudo(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function createButtonPseudo(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function createDisabledPseudo(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function createPositionalPseudo(e){return markFunction(function(t){return t=+t,markFunction(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function testContext(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=Sizzle.support={},i=Sizzle.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!q.test(t||n&&n.nodeName||"HTML")},f=Sizzle.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,g=!i(p),w!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=assert(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=assert(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=assert(function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},A=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(assert(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),assert(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&assert(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),A.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),A=A.length&&new RegExp(A.join("|")),t=J.test(h.compareDocumentPosition),y=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&y(w,e)?-1:t===p||t.ownerDocument===w&&y(w,t)?1:u?M(u,e)-M(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===p?-1:t===p?1:o?-1:i?1:u?M(u,e)-M(u,t):0;if(o===i)return siblingCheck(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?siblingCheck(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},p):p},Sizzle.matches=function(e,t){return Sizzle(e,null,null,t)},Sizzle.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),n.matchesSelector&&g&&!x[t+" "]&&(!A||!A.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){x(t,!0)}return Sizzle(t,p,null,[e]).length>0},Sizzle.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),y(e,t)},Sizzle.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&k.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Sizzle.escape=function(e){return(e+"").replace(re,oe)},Sizzle.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Sizzle.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(O),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=Sizzle.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Sizzle.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Sizzle.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Sizzle.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,A=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===A:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(y=(p=(c=(u=(d=(f=m)[b]||(f[b]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(y=p=0)||h.pop();)if(1===f.nodeType&&++y&&f===t){u[e]=[_,p,y];break}}else if(v&&(y=p=(c=(u=(d=(f=t)[b]||(f[b]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===y)for(;(f=++p&&f&&f[g]||(y=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==A:1!==f.nodeType)||!++y||(v&&((u=(d=f[b]||(f[b]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[_,y]),f!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||Sizzle.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?markFunction(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=M(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:markFunction(function(e){var t=[],n=[],r=s(e.replace(Q,"$1"));return r[b]?markFunction(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:markFunction(function(e){return function(t){return Sizzle(e,t).length>0}}),contains:markFunction(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}}),lang:markFunction(function(e){return W.test(e||"")||Sizzle.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(e,t){return[t-1]}),eq:createPositionalPseudo(function(e,t,n){return[n<0?n+t:n]}),even:createPositionalPseudo(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:createPositionalPseudo(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=createInputPseudo(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=createButtonPseudo(t);function setFilters(){}function toSelector(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function addCombinator(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=E++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,f=[_,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===_&&c[1]===s)return f[2]=c[2];if(u[i]=f,f[2]=e(t,n,l))return!0}return!1}}function elementMatcher(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function condense(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function setMatcher(e,t,n,r,o,i){return r&&!r[b]&&(r=setMatcher(r)),o&&!o[b]&&(o=setMatcher(o,i)),markFunction(function(i,a,s,l){var c,u,d,f=[],p=[],h=a.length,g=i||function multipleContexts(e,t,n){for(var r=0,o=t.length;r<o;r++)Sizzle(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:condense(g,f,e,s,l),A=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,A,s,l),r)for(c=condense(A,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(A[p[u]]=!(m[p[u]]=d));if(i){if(o||e){if(o){for(c=[],u=A.length;u--;)(d=A[u])&&c.push(m[u]=d);o(null,A=[],c,l)}for(u=A.length;u--;)(d=A[u])&&(c=o?M(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else A=condense(A===a?A.splice(h,A.length):A),o?o(null,a,A,l):R.apply(a,A)})}function matcherFromTokens(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=addCombinator(function(e){return e===t},s,!0),d=addCombinator(function(e){return M(t,e)>-1},s,!0),f=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])f=[addCombinator(elementMatcher(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return setMatcher(l>1&&elementMatcher(f),l>1&&toSelector(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(Q,"$1"),n,l<o&&matcherFromTokens(e.slice(l,o)),o<i&&matcherFromTokens(e=e.slice(o)),o<i&&toSelector(e))}f.push(n)}return elementMatcher(f)}return setFilters.prototype=r.filters=r.pseudos,r.setFilters=new setFilters,a=Sizzle.tokenize=function(e,t){var n,o,i,a,s,l,c,u=S[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=$.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(Q," ")}),s=s.slice(n.length)),r.filter)!(o=K[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?Sizzle.error(e):S(e,l).slice(0)},s=Sizzle.compile=function(e,t){var n,o=[],i=[],s=T[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=matcherFromTokens(t[n]))[b]?o.push(s):i.push(s);(s=T(e,function matcherFromGroupMatchers(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,u){var d,h,m,A=0,v="0",y=i&&[],b=[],w=c,E=i||o&&r.find.TAG("*",u),C=_+=null==w?1:Math.random()||.1,S=E.length;for(u&&(c=a===p||a||u);v!==S&&null!=(d=E[v]);v++){if(o&&d){for(h=0,a||d.ownerDocument===p||(f(d),s=!g);m=e[h++];)if(m(d,a||p,s)){l.push(d);break}u&&(_=C)}n&&((d=!m&&d)&&A--,i&&y.push(d))}if(A+=v,n&&v!==A){for(h=0;m=t[h++];)m(y,b,a,s);if(i){if(A>0)for(;v--;)y[v]||b[v]||(b[v]=P.call(l));b=condense(b)}R.apply(l,b),u&&!i&&b.length>0&&A+t.length>1&&Sizzle.uniqueSort(l)}return u&&(_=C,c=w),y};return n?markFunction(i):i}(i,o))).selector=e}return s},l=Sizzle.select=function(e,t,n,o){var i,l,c,u,d,f="function"==typeof e&&e,p=!o&&a(e=f.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=K.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[u=c.type]);)if((d=r.find[u])&&(o=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&testContext(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&toSelector(l)))return R.apply(n,o),n;break}}return(f||s(e,p))(o,t,!g,n,!t||ee.test(e)&&testContext(t.parentNode)||t),n},n.sortStable=b.split("").sort(O).join("")===b,n.detectDuplicates=!!d,f(),n.sortDetached=assert(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),assert(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&assert(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||addHandle("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),assert(function(e){return null==e.getAttribute("disabled")})||addHandle(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),Sizzle}(n);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var C=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=w.expr.match.needsContext;function nodeName(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(e,t,n){return v(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return d.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,o[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,"string"==typeof e&&T.test(e)?w(e):e||[],!1).length}});var O,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:k.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),x.test(r[1])&&w.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,O=w(a);var B=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function sibling(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&w(e);if(!T.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?d.call(w(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(nodeName(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var o=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=w.filter(r,o)),this.length>1&&(P[e]||w.uniqueSort(o),B.test(e)&&o.reverse()),this.pushStack(o)}});var I=/[^\x20\t\r\n\f]+/g;function Identity(e){return e}function Thrower(e){throw e}function adoptValue(e,t,n,r){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function createOptions(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function add(t){w.each(t,function(t,n){v(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==toType(n)&&add(n)})}(arguments),n&&!t&&l()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,r){var o=v(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){var i=0;function resolve(e,t,r,o){return function(){var a=this,s=arguments,l=function(){var n,l;if(!(e<i)){if((n=r.apply(a,s))===t.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(l)?o?l.call(n,resolve(i,t,Identity,o),resolve(i,t,Thrower,o)):(i++,l.call(n,resolve(i,t,Identity,o),resolve(i,t,Thrower,o),resolve(i,t,Identity,t.notifyWith))):(r!==Identity&&(a=void 0,s=[n]),(o||t.resolveWith)(a,s))}},c=o?l:function(){try{l()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),e+1>=i&&(r!==Thrower&&(a=void 0,s=[n]),t.rejectWith(a,s))}};e?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred(function(n){t[0][3].add(resolve(0,n,v(o)?o:Identity,n.notifyWith)),t[1][3].add(resolve(0,n,v(e)?e:Identity)),t[2][3].add(resolve(0,n,v(r)?r:Thrower))}).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},i={};return w.each(t,function(e,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=l.call(arguments),i=w.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?l.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(adoptValue(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)adoptValue(o[n],a(n),i.reject);return i.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&R.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){n.setTimeout(function(){throw e})};var L=w.Deferred();function completed(){a.removeEventListener("DOMContentLoaded",completed),n.removeEventListener("load",completed),w.ready()}w.fn.ready=function(e){return L.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||L.resolveWith(a,[w]))}}),w.ready.then=L.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(w.ready):(a.addEventListener("DOMContentLoaded",completed),n.addEventListener("load",completed));var M=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===toType(n))for(s in o=!0,n)M(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,v(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(w(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},D=/^-ms-/,N=/-([a-z])/g;function fcamelCase(e,t){return t.toUpperCase()}function camelCase(e){return e.replace(D,"ms-").replace(N,fcamelCase)}var F=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Data(){this.expando=w.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(e){var t=e[this.expando];return t||(t={},F(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[camelCase(t)]=n;else for(r in t)o[camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(camelCase):(t=camelCase(t))in r?[t]:t.match(I)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var U=new Data,H=new Data,j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function dataAttr(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function getData(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:j.test(e)?JSON.parse(e):e)}(n)}catch(e){}H.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return H.hasData(e)||U.hasData(e)},data:function(e,t,n){return H.access(e,t,n)},removeData:function(e,t){H.remove(e,t)},_data:function(e,t,n){return U.access(e,t,n)},_removeData:function(e,t){U.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=H.get(i),1===i.nodeType&&!U.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=camelCase(r.slice(5)),dataAttr(i,r,o[r]));U.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){H.set(this,e)}):M(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=H.get(i,e))?n:void 0!==(n=dataAttr(i,e))?n:void 0;this.each(function(){H.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){H.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=U.get(e,t),n&&(!r||Array.isArray(n)?r=U.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,o=n.shift(),i=w._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return U.get(e,n)||U.access(e,n,{empty:w.Callbacks("once memory").add(function(){U.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=w.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=U.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],G=a.documentElement,W=function(e){return w.contains(e.ownerDocument,e)},K={composed:!0};G.getRootNode&&(W=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(K)===e.ownerDocument});var q=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&W(e)&&"none"===w.css(e,"display")},Y=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};function adjustCSS(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},l=s(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),u=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+l)&&$.exec(w.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)w.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,w.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var X={};function getDefaultDisplay(e){var t,n=e.ownerDocument,r=e.nodeName,o=X[r];return o||(t=n.body.appendChild(n.createElement(r)),o=w.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),X[r]=o,o)}function showHide(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=U.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&q(r)&&(o[i]=getDefaultDisplay(r))):"none"!==n&&(o[i]="none",U.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}w.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){q(this)?w(this).show():w(this).hide()})}});var J=/^(?:checkbox|radio)$/i,Z=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ee=/^$|^module$|\/(?:java|ecma)script/i,te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&nodeName(e,t)?w.merge([e],n):n}function setGlobalEval(e,t){for(var n=0,r=e.length;n<r;n++)U.set(e[n],"globalEval",!t||U.get(t[n],"globalEval"))}te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ne,re,oe=/<|&#?\w+;/;function buildFragment(e,t,n,r,o){for(var i,a,s,l,c,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===toType(i))w.merge(f,i.nodeType?[i]:i);else if(oe.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(Z.exec(i)||["",""])[1].toLowerCase(),l=te[s]||te._default,a.innerHTML=l[1]+w.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;w.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",p=0;i=f[p++];)if(r&&w.inArray(i,r)>-1)o&&o.push(i);else if(c=W(i),a=getAll(d.appendChild(i),"script"),c&&setGlobalEval(a),n)for(u=0;i=a[u++];)ee.test(i.type||"")&&n.push(i);return d}ne=a.createDocumentFragment().appendChild(a.createElement("div")),(re=a.createElement("input")).setAttribute("type","radio"),re.setAttribute("checked","checked"),re.setAttribute("name","t"),ne.appendChild(re),A.checkClone=ne.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.innerHTML="<textarea>x</textarea>",A.noCloneChecked=!!ne.cloneNode(!0).lastChild.defaultValue;var ie=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function expectSync(e,t){return e===function safeActiveElement(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function on(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)on(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=returnFalse;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,o,r,n)})}function leverageNative(e,t,n){n?(U.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=U.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=l.call(arguments),U.set(this,t,i),r=n(this,t),this[t](),i!==(o=U.get(this,t))||r?U.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(U.set(this,t,{value:w.event.trigger(w.extend(i[0],w.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===U.get(e,t)&&w.event.add(e,t,returnTrue)}w.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,g,m=U.get(e);if(m)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&w.find.matchesSelector(G,o),n.guid||(n.guid=w.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(I)||[""]).length;c--;)p=g=(s=se.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=w.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=w.event.special[p]||{},u=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:h.join(".")},i),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),w.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,g,m=U.hasData(e)&&U.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(p=g=(s=se.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||w.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],n,r,!0);w.isEmptyObject(l)&&U.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=w.event.fix(e),l=new Array(arguments.length),c=(U.get(this,"events")||{})[s.type]||[],u=w.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?w(o,this).index(c)>-1:w.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return J.test(t.type)&&t.click&&nodeName(t,"input")&&leverageNative(t,"click",returnTrue),!1},trigger:function(e){var t=this||e;return J.test(t.type)&&t.click&&nodeName(t,"input")&&leverageNative(t,"click"),!0},_default:function(e){var t=e.target;return J.test(t.type)&&t.click&&nodeName(t,"input")&&U.get(t,"click")||nodeName(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?returnTrue:returnFalse,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ie.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ae.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return leverageNative(this,e,expectSync),!1},trigger:function(){return leverageNative(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return on(this,e,t,n,r)},one:function(e,t,n,r){return on(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=returnFalse),this.each(function(){w.event.remove(this,e,n,t)})}});var le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ce=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(e,t){return nodeName(e,"table")&&nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function disableScript(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function restoreScript(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function cloneCopyEvent(e,t){var n,r,o,i,a,s,l,c;if(1===t.nodeType){if(U.hasData(e)&&(i=U.access(e),a=U.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)w.event.add(t,o,c[o][n]);H.hasData(e)&&(s=H.access(e),l=w.extend({},s),H.set(t,l))}}function domManip(e,t,n,r){t=c.apply([],t);var o,i,a,s,l,u,d=0,f=e.length,p=f-1,h=t[0],g=v(h);if(g||f>1&&"string"==typeof h&&!A.checkClone&&ue.test(h))return e.each(function(o){var i=e.eq(o);g&&(t[0]=h.call(this,o,i.html())),domManip(i,t,n,r)});if(f&&(i=(o=buildFragment(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=w.map(getAll(o,"script"),disableScript)).length;d<f;d++)l=o,d!==p&&(l=w.clone(l,!0,!0),s&&w.merge(a,getAll(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,w.map(a,restoreScript),d=0;d<s;d++)l=a[d],ee.test(l.type||"")&&!U.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):DOMEval(l.textContent.replace(de,""),l,u))}return e}function remove(e,t,n){for(var r,o=t?w.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||w.cleanData(getAll(r)),r.parentNode&&(n&&W(r)&&setGlobalEval(getAll(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(le,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s,l,c,u=e.cloneNode(!0),d=W(e);if(!(A.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=getAll(u),r=0,o=(i=getAll(e)).length;r<o;r++)s=i[r],l=a[r],void 0,"input"===(c=l.nodeName.toLowerCase())&&J.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(i=i||getAll(e),a=a||getAll(u),r=0,o=i.length;r<o;r++)cloneCopyEvent(i[r],a[r]);else cloneCopyEvent(e,u);return(a=getAll(u,"script")).length>0&&setGlobalEval(a,!d&&getAll(e,"script")),u},cleanData:function(e){for(var t,n,r,o=w.event.special,i=0;void 0!==(n=e[i]);i++)if(F(n)){if(t=n[U.expando]){if(t.events)for(r in t.events)o[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[U.expando]=void 0}n[H.expando]&&(n[H.expando]=void 0)}}}),w.fn.extend({detach:function(e){return remove(this,e,!0)},remove:function(e){return remove(this,e)},text:function(e){return M(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return domManip(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,e).appendChild(e)})},prepend:function(){return domManip(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return domManip(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ce.test(e)&&!te[(Z.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return domManip(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(getAll(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],o=w(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),w(o[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var fe=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),pe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},he=new RegExp(V.join("|"),"i");function curCSS(e,t,n){var r,o,i,a,s=e.style;return(n=n||pe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||W(e)||(a=w.style(e,t)),!A.pixelBoxStyles()&&fe.test(a)&&he.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function addGetHookIf(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",G.appendChild(s).appendChild(l);var a=n.getComputedStyle(l);e="1%"!==a.top,i=12===roundPixelMeasures(a.marginLeft),l.style.right="60%",o=36===roundPixelMeasures(a.right),t=36===roundPixelMeasures(a.width),l.style.position="absolute",r=12===roundPixelMeasures(l.offsetWidth/3),G.removeChild(s),l=null}}function roundPixelMeasures(e){return Math.round(parseFloat(e))}var e,t,r,o,i,s=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",A.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(A,{boxSizingReliable:function(){return computeStyleTests(),t},pixelBoxStyles:function(){return computeStyleTests(),o},pixelPosition:function(){return computeStyleTests(),e},reliableMarginLeft:function(){return computeStyleTests(),i},scrollboxSize:function(){return computeStyleTests(),r}}))}();var ge=["Webkit","Moz","ms"],me=a.createElement("div").style,Ae={};function finalPropName(e){var t=w.cssProps[e]||Ae[e];return t||(e in me?e:Ae[e]=function vendorPropName(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ge.length;n--;)if((e=ge[n]+t)in me)return e}(e)||e)}var ve=/^(none|table(?!-c[ea]).+)/,ye=/^--/,be={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(e,t,n){var r=$.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function boxModelAdjustment(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=w.css(e,n+V[a],!0,o)),r?("content"===n&&(l-=w.css(e,"padding"+V[a],!0,o)),"margin"!==n&&(l-=w.css(e,"border"+V[a]+"Width",!0,o))):(l+=w.css(e,"padding"+V[a],!0,o),"padding"!==n?l+=w.css(e,"border"+V[a]+"Width",!0,o):s+=w.css(e,"border"+V[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function getWidthOrHeight(e,t,n){var r=pe(e),o=(!A.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=o,a=curCSS(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(fe.test(a)){if(!n)return a;a="auto"}return(!A.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+boxModelAdjustment(e,t,n||(o?"border":"content"),i,r,a)+"px"}function Tween(e,t,n,r,o){return new Tween.prototype.init(e,t,n,r,o)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=camelCase(t),l=ye.test(t),c=e.style;if(l||(t=finalPropName(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=$.exec(n))&&o[1]&&(n=adjustCSS(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(w.cssNumber[s]?"":"px")),A.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=camelCase(t);return ye.test(t)||(t=finalPropName(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=curCSS(e,t,r)),"normal"===o&&t in we&&(o=we[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ve.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?getWidthOrHeight(e,t,r):Y(e,be,function(){return getWidthOrHeight(e,t,r)})},set:function(e,n,r){var o,i=pe(e),a=!A.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,i),l=r?boxModelAdjustment(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-boxModelAdjustment(e,t,"border",!1,i)-.5)),l&&(o=$.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),setPositiveNumber(0,n,l)}}}),w.cssHooks.marginLeft=addGetHookIf(A.reliableMarginLeft,function(e,t){if(t)return(parseFloat(curCSS(e,"marginLeft"))||e.getBoundingClientRect().left-Y(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+V[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=setPositiveNumber)}),w.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=pe(e),o=t.length;a<o;a++)i[t[a]]=w.css(e,t[a],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[finalPropName(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=Tween.prototype.init,w.fx.step={};var _e,Ee,Ce=/^(?:toggle|show|hide)$/,Se=/queueHooks$/;function schedule(){Ee&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(schedule):n.setTimeout(schedule,w.fx.interval),w.fx.tick())}function createFxNow(){return n.setTimeout(function(){_e=void 0}),_e=Date.now()}function genFx(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=V[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function createTween(e,t,n){for(var r,o=(Animation.tweeners[t]||[]).concat(Animation.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Animation(e,t,n){var r,o,i=0,a=Animation.prefilters.length,s=w.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=_e||createFxNow(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:_e||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function propFilter(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=camelCase(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);i<a;i++)if(r=Animation.prefilters[i].call(c,e,u,c.opts))return v(r.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return w.map(u,createTween,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(Animation,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return adjustCSS(n.elem,e,$.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(I);for(var n,r=0,o=e.length;r<o;r++)n=e[r],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(t)},prefilters:[function defaultPrefilter(e,t,n){var r,o,i,a,s,l,c,u,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&q(e),m=U.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[r],Ce.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||w.style(e,r)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=U.get(e,"display")),"none"===(u=w.css(e,"display"))&&(c?u=c:(showHide([e],!0),c=e.style.display||c,u=w.css(e,"display"),showHide([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(e,"float")&&(l||(f.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=U.access(e,"fxshow",{display:c}),i&&(m.hidden=!g),g&&showHide([e],!0),f.done(function(){for(r in g||showHide([e]),U.remove(e,"fxshow"),p)w.style(e,r,p[r])})),l=createTween(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?Animation.prefilters.unshift(e):Animation.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(q).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=w.isEmptyObject(e),i=w.speed(t,n,r),a=function(){var t=Animation(this,w.extend({},e),i);(o||U.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=w.timers,a=U.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Se.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=U.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,o)}}),w.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(_e=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),_e=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){Ee||(Ee=!0,schedule())},w.fx.stop=function(){Ee=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",A.checkOn=""!==e.value,A.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",A.radioValue="t"===e.value}();var Te,xe=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return M(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?Te:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!A.radioValue&&"radio"===t&&nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(I);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Te={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xe[t]||w.find.attr;xe[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=xe[a],xe[a]=o,o=null!=n(e,t,r)?a:null,xe[a]=i),o}});var Oe=/^(?:input|select|textarea|button)$/i,ke=/^(?:a|area)$/i;function stripAndCollapse(e){return(e.match(I)||[]).join(" ")}function getClass(e){return e.getAttribute&&e.getAttribute("class")||""}function classesToArray(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}w.fn.extend({prop:function(e,t){return M(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(t=w.propFix[t]||t,o=w.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):Oe.test(e.nodeName)||ke.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),A.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(v(e))return this.each(function(t){w(this).addClass(e.call(this,t,getClass(this)))});if((t=classesToArray(e)).length)for(;n=this[l++];)if(o=getClass(n),r=1===n.nodeType&&" "+stripAndCollapse(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=stripAndCollapse(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(v(e))return this.each(function(t){w(this).removeClass(e.call(this,t,getClass(this)))});if(!arguments.length)return this.attr("class","");if((t=classesToArray(e)).length)for(;n=this[l++];)if(o=getClass(n),r=1===n.nodeType&&" "+stripAndCollapse(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=stripAndCollapse(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,getClass(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=w(this),a=classesToArray(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=getClass(this))&&U.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":U.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+stripAndCollapse(getClass(n))+" ").indexOf(t)>-1)return!0;return!1}});var Be=/\r/g;w.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=v(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:stripAndCollapse(w.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!nodeName(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=w.makeArray(t),a=o.length;a--;)((r=o[a]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},A.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),A.focusin="onfocusin"in n;var Pe=/^(?:focusinfocus|focusoutblur)$/,Ie=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,r,o){var i,s,l,c,u,d,f,p,g=[r||a],m=h.call(e,"type")?e.type:e,A=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=l=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!Pe.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(A=m.split(".")).shift(),A.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[w.expando]?e:new w.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=A.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:w.makeArray(t,[e]),f=w.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!y(r)){for(c=f.delegateType||m,Pe.test(c+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(r.ownerDocument||a)&&g.push(l.defaultView||l.parentWindow||n)}for(i=0;(s=g[i++])&&!e.isPropagationStopped();)p=s,e.type=i>1?c:f.bindType||m,(d=(U.get(s,"events")||{})[e.type]&&U.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&F(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),t)||!F(r)||u&&v(r[m])&&!y(r)&&((l=r[u])&&(r[u]=null),w.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,Ie),r[m](),e.isPropagationStopped()&&p.removeEventListener(m,Ie),w.event.triggered=void 0,l&&(r[u]=l)),e.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),A.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=U.access(r,t);o||r.addEventListener(e,n,!0),U.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=U.access(r,t)-1;o?U.access(r,t,o):(r.removeEventListener(e,n,!0),U.remove(r,t))}}});var Re=n.location,Le=Date.now(),Me=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var De=/\[\]$/,Ne=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,Ue=/^(?:input|select|textarea|keygen)/i;function buildParams(e,t,n,r){var o;if(Array.isArray(t))w.each(t,function(t,o){n||De.test(e)?r(e,o):buildParams(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==toType(t))r(e,t);else for(o in t)buildParams(e+"["+o+"]",t[o],n,r)}w.param=function(e,t){var n,r=[],o=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){o(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,o);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Ue.test(this.nodeName)&&!Fe.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Ne,"\r\n")}}):{name:t.name,value:n.replace(Ne,"\r\n")}}).get()}});var He=/%20/g,je=/#.*$/,Qe=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:GET|HEAD)$/,Ve=/^\/\//,Ge={},We={},Ke="*/".concat("*"),qe=a.createElement("a");function addToPrefiltersOrTransports(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(I)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){var o={},i=e===We;function inspect(a){var s;return o[a]=!0,w.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||i||o[l]?i?!(s=l):void 0:(t.dataTypes.unshift(l),inspect(l),!1)}),s}return inspect(t.dataTypes[0])||!o["*"]&&inspect("*")}function ajaxExtend(e,t){var n,r,o=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}qe.href=Re.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Re.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,w.ajaxSettings),t):ajaxExtend(w.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(Ge),ajaxTransport:addToPrefiltersOrTransports(We),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,s,l,c,u,d,f,p,h=w.ajaxSetup({},t),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?w(g):w.event,A=w.Deferred(),v=w.Callbacks("once memory"),y=h.statusCode||{},b={},_={},E="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=ze.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)C.always(e[C.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),done(0,t),this}};if(A.promise(C),h.url=((e||h.url||Re.href)+"").replace(Ve,Re.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=qe.protocol+"//"+qe.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),inspectPrefiltersOrTransports(Ge,h,t,C),u)return C;for(f in(d=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!$e.test(h.type),o=h.url.replace(je,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(He,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Me.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Qe,"$1"),p=(Me.test(o)?"&":"?")+"_="+Le+++p),h.url=o+p),h.ifModified&&(w.lastModified[o]&&C.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&C.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ke+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(g,C,h)||u))return C.abort();if(E="abort",v.add(h.complete),C.done(h.success),C.fail(h.error),r=inspectPrefiltersOrTransports(We,h,t,C)){if(C.readyState=1,d&&m.trigger("ajaxSend",[C,h]),u)return C;h.async&&h.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},h.timeout));try{u=!1,r.send(b,done)}catch(e){if(u)throw e;done(-1,e)}}else done(-1,"No Transport");function done(e,t,a,s){var c,f,p,b,_,E=t;u||(u=!0,l&&n.clearTimeout(l),r=void 0,i=s||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function ajaxHandleResponses(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(h,C,a)),b=function ajaxConvert(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(h,b,C,c),c?(h.ifModified&&((_=C.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=_),(_=C.getResponseHeader("etag"))&&(w.etag[o]=_)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=b.state,f=b.data,c=!(p=b.error))):(p=E,!e&&E||(E="error",e<0&&(e=0))),C.status=e,C.statusText=(t||E)+"",c?A.resolveWith(g,[f,E,C]):A.rejectWith(g,[C,E,p]),C.statusCode(y),y=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[C,h,c?f:p]),v.fireWith(g,[C,E]),d&&(m.trigger("ajaxComplete",[C,h]),--w.active||w.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:o,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e,t){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Ye={0:200,1223:204},Xe=w.ajaxSettings.xhr();A.cors=!!Xe&&"withCredentials"in Xe,A.ajax=Xe=!!Xe,w.ajaxTransport(function(e){var t,r;if(A.cors||Xe&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ye[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Je,Ze=[],et=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ze.pop()||w.expando+"_"+Le++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(et.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&et.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(et,"$1"+o):!1!==e.jsonp&&(e.url+=(Me.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||w.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?w(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Ze.push(o)),a&&v(i)&&i(a[0]),a=i=void 0}),"script"}),A.createHTMLDocument=((Je=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Je.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(A.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),o=x.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=buildFragment([e],t,i),i&&i.length&&w(i).remove(),w.merge([],o.childNodes)));var r,o,i},w.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=stripAndCollapse(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&w.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=w.css(e,"position"),u=w(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(r=u.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(r,"marginTop",!0),left:t.left-o.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||G})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return M(this,function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=addGetHookIf(A.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),fe.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return M(this,function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?w.css(t,n,s):w.style(t,n,o,s)},t,a?o:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=l.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||w.guid++,o},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=nodeName,w.isFunction=v,w.isWindow=y,w.camelCase=camelCase,w.type=toType,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return w}.apply(t,[]))||(e.exports=r);var tt=n.jQuery,nt=n.$;return w.noConflict=function(e){return n.$===w&&(n.$=nt),e&&n.jQuery===w&&(n.jQuery=tt),w},o||(n.jQuery=n.$=w),w})},function(e,t,n){"use strict";t.a=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,p=2,h=4,g=1,m=2,A=1,v=2,y=4,b=8,w=16,_=32,E=64,C=128,S=256,T=512,x=30,O="...",k=800,B=16,P=1,I=2,R=1/0,L=9007199254740991,M=1.7976931348623157e308,D=NaN,N=4294967295,F=N-1,U=N>>>1,H=[["ary",C],["bind",A],["bindKey",v],["curry",b],["curryRight",w],["flip",T],["partial",_],["partialRight",E],["rearg",S]],j="[object Arguments]",Q="[object Array]",z="[object AsyncFunction]",$="[object Boolean]",V="[object Date]",G="[object DOMException]",W="[object Error]",K="[object Function]",q="[object GeneratorFunction]",Y="[object Map]",X="[object Number]",J="[object Null]",Z="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",oe="[object Symbol]",ie="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",le="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",fe="[object Int8Array]",pe="[object Int16Array]",he="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",Ae="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Ce=RegExp(_e.source),Se=RegExp(Ee.source),Te=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Oe=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ie.source),Le=/^\s+|\s+$/g,Me=/^\s+/,De=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,He=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,Qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Ze+"]",nt="["+Je+"]",rt="\\d+",ot="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Ze+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",lt="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+it+"|"+at+")",pt="(?:"+dt+"|"+at+")",ht="(?:"+nt+"|"+st+")"+"?",gt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[lt,ct,ut].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),mt="(?:"+[ot,ct,ut].join("|")+")"+gt,At="(?:"+[lt+nt+"?",nt,ct,ut,et].join("|")+")",vt=RegExp("['’]","g"),yt=RegExp(nt,"g"),bt=RegExp(st+"(?="+st+")|"+At+gt,"g"),wt=RegExp([dt+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,dt,"$"].join("|")+")",pt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,dt+ft,"$"].join("|")+")",dt+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,mt].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],St=-1,Tt={};Tt[ue]=Tt[de]=Tt[fe]=Tt[pe]=Tt[he]=Tt[ge]=Tt[me]=Tt[Ae]=Tt[ve]=!0,Tt[j]=Tt[Q]=Tt[le]=Tt[$]=Tt[ce]=Tt[V]=Tt[W]=Tt[K]=Tt[Y]=Tt[X]=Tt[Z]=Tt[te]=Tt[ne]=Tt[re]=Tt[ae]=!1;var xt={};xt[j]=xt[Q]=xt[le]=xt[ce]=xt[$]=xt[V]=xt[ue]=xt[de]=xt[fe]=xt[pe]=xt[he]=xt[Y]=xt[X]=xt[Z]=xt[te]=xt[ne]=xt[re]=xt[oe]=xt[ge]=xt[me]=xt[Ae]=xt[ve]=!0,xt[W]=xt[K]=xt[ae]=!1;var Ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Bt=parseInt,Pt="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,Rt=Pt||It||Function("return this")(),Lt=t&&!t.nodeType&&t,Mt=Lt&&"object"==typeof r&&r&&!r.nodeType&&r,Dt=Mt&&Mt.exports===Lt,Nt=Dt&&Pt.process,Ft=function(){try{var e=Mt&&Mt.require&&Mt.require("util").types;return e||Nt&&Nt.binding&&Nt.binding("util")}catch(e){}}(),Ut=Ft&&Ft.isArrayBuffer,Ht=Ft&&Ft.isDate,jt=Ft&&Ft.isMap,Qt=Ft&&Ft.isRegExp,zt=Ft&&Ft.isSet,$t=Ft&&Ft.isTypedArray;function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function arrayAggregator(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function arrayEachRight(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function arrayEvery(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}function arrayIncludesWith(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function arrayReduce(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function arrayReduceRight(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=baseProperty("length");function baseFindKey(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function baseFindIndex(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function baseIndexOf(e,t,n){return t==t?function strictIndexOf(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):baseFindIndex(e,baseIsNaN,n)}function baseIndexOfWith(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function baseIsNaN(e){return e!=e}function baseMean(e,t){var n=null==e?0:e.length;return n?baseSum(e,t)/n:D}function baseProperty(e){return function(t){return null==t?i:t[e]}}function basePropertyOf(e){return function(t){return null==e?i:e[t]}}function baseReduce(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function baseSum(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function baseUnary(e){return function(t){return e(t)}}function baseValues(e,t){return arrayMap(t,function(t){return e[t]})}function cacheHas(e,t){return e.has(t)}function charsStartIndex(e,t){for(var n=-1,r=e.length;++n<r&&baseIndexOf(t,e[n],0)>-1;);return n}function charsEndIndex(e,t){for(var n=e.length;n--&&baseIndexOf(t,e[n],0)>-1;);return n}var Gt=basePropertyOf({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Wt=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(e){return"\\"+Ot[e]}function hasUnicode(e){return _t.test(e)}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function overArg(e,t){return function(n){return e(t(n))}}function replaceHolders(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==d||(e[n]=d,i[o++]=n)}return i}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function setToPairs(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function stringSize(e){return hasUnicode(e)?function unicodeSize(e){var t=bt.lastIndex=0;for(;bt.test(e);)++t;return t}(e):Vt(e)}function stringToArray(e){return hasUnicode(e)?function unicodeToArray(e){return e.match(bt)||[]}(e):function asciiToArray(e){return e.split("")}(e)}var Kt=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qt=function runInContext(e){var t,n=(e=null==e?Rt:qt.defaults(Rt.Object(),e,qt.pick(Rt,Ct))).Array,r=e.Date,o=e.Error,Je=e.Function,Ze=e.Math,et=e.Object,tt=e.RegExp,nt=e.String,rt=e.TypeError,ot=n.prototype,it=Je.prototype,at=et.prototype,st=e["__core-js_shared__"],lt=it.toString,ct=at.hasOwnProperty,ut=0,dt=(t=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",ft=at.toString,pt=lt.call(et),ht=Rt._,gt=tt("^"+lt.call(ct).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Dt?e.Buffer:i,At=e.Symbol,bt=e.Uint8Array,_t=mt?mt.allocUnsafe:i,Ot=overArg(et.getPrototypeOf,et),Pt=et.create,It=at.propertyIsEnumerable,Lt=ot.splice,Mt=At?At.isConcatSpreadable:i,Nt=At?At.iterator:i,Ft=At?At.toStringTag:i,Vt=function(){try{var e=getNative(et,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=e.clearTimeout!==Rt.clearTimeout&&e.clearTimeout,Xt=r&&r.now!==Rt.Date.now&&r.now,Jt=e.setTimeout!==Rt.setTimeout&&e.setTimeout,Zt=Ze.ceil,en=Ze.floor,tn=et.getOwnPropertySymbols,nn=mt?mt.isBuffer:i,rn=e.isFinite,on=ot.join,an=overArg(et.keys,et),sn=Ze.max,ln=Ze.min,cn=r.now,un=e.parseInt,dn=Ze.random,fn=ot.reverse,pn=getNative(e,"DataView"),hn=getNative(e,"Map"),gn=getNative(e,"Promise"),mn=getNative(e,"Set"),An=getNative(e,"WeakMap"),vn=getNative(et,"create"),yn=An&&new An,bn={},wn=toSource(pn),_n=toSource(hn),En=toSource(gn),Cn=toSource(mn),Sn=toSource(An),Tn=At?At.prototype:i,xn=Tn?Tn.valueOf:i,On=Tn?Tn.toString:i;function lodash(e){if(isObjectLike(e)&&!Ir(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(ct.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}var kn=function(){function object(){}return function(e){if(!isObject(e))return{};if(Pt)return Pt(e);object.prototype=e;var t=new object;return object.prototype=i,t}}();function baseLodash(){}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function arrayLikeKeys(e,t){var n=Ir(e),r=!n&&Pr(e),o=!n&&!r&&Lr(e),i=!n&&!r&&!o&&Ur(e),a=n||r||o||i,s=a?baseTimes(e.length,nt):[],l=s.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:i}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function assignMergeValue(e,t,n){(n===i||eq(e[t],n))&&(n!==i||t in e)||baseAssignValue(e,t,n)}function assignValue(e,t,n){var r=e[t];ct.call(e,t)&&eq(r,n)&&(n!==i||t in e)||baseAssignValue(e,t,n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseAggregator(e,t,n,r){return Bn(e,function(e,o,i){t(r,e,n(e),i)}),r}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignValue(e,t,n){"__proto__"==t&&Vt?Vt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function baseAt(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:get(e,t[r]);return a}function baseClamp(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function baseClone(e,t,n,r,o,a){var s,l=t&f,c=t&p,u=t&h;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!isObject(e))return e;var d=Ir(e);if(d){if(s=function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return copyArray(e,s)}else{var g=Qn(e),m=g==K||g==q;if(Lr(e))return cloneBuffer(e,l);if(g==Z||g==j||m&&!o){if(s=c||m?{}:initCloneObject(e),!l)return c?function copySymbolsIn(e,t){return copyObject(e,jn(e),t)}(e,function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}(s,e)):function copySymbols(e,t){return copyObject(e,Hn(e),t)}(e,baseAssign(s,e))}else{if(!xt[g])return o?e:{};s=function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case le:return cloneArrayBuffer(e);case $:case V:return new r(+e);case ce:return function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ue:case de:case fe:case pe:case he:case ge:case me:case Ae:case ve:return cloneTypedArray(e,n);case Y:return new r;case X:case re:return new r(e);case te:return function cloneRegExp(e){var t=new e.constructor(e.source,ze.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case oe:return function cloneSymbol(e){return xn?et(xn.call(e)):{}}(e)}}(e,g,l)}}a||(a=new Stack);var A=a.get(e);if(A)return A;if(a.set(e,s),Fr(e))return e.forEach(function(r){s.add(baseClone(r,t,n,r,e,a))}),s;if(Dr(e))return e.forEach(function(r,o){s.set(o,baseClone(r,t,n,o,e,a))}),s;var v=d?i:(u?c?getAllKeysIn:getAllKeys:c?keysIn:keys)(e);return arrayEach(v||e,function(r,o){v&&(r=e[o=r]),assignValue(s,o,baseClone(r,t,n,o,e,a))}),s}function baseConformsTo(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function baseDelay(e,t,n){if("function"!=typeof e)throw new rt(l);return Vn(function(){e.apply(i,n)},t)}function baseDifference(e,t,n,r){var o=-1,i=arrayIncludes,s=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=arrayMap(t,baseUnary(n))),r?(i=arrayIncludesWith,s=!1):t.length>=a&&(i=cacheHas,s=!1,t=new SetCache(t));e:for(;++o<l;){var d=e[o],f=null==n?d:n(d);if(d=r||0!==d?d:0,s&&f==f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}lodash.templateSettings={escape:Te,evaluate:xe,interpolate:Oe,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=kn(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=kn(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=vn?vn(null):{},this.size=0},Hash.prototype.delete=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hash.prototype.get=function hashGet(e){var t=this.__data__;if(vn){var n=t[e];return n===c?i:n}return ct.call(t,e)?t[e]:i},Hash.prototype.has=function hashHas(e){var t=this.__data__;return vn?t[e]!==i:ct.call(t,e)},Hash.prototype.set=function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&t===i?c:t,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0||(n==t.length-1?t.pop():Lt.call(t,n,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?i:t[n][1]},ListCache.prototype.has=function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1},ListCache.prototype.set=function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(hn||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t},MapCache.prototype.get=function mapCacheGet(e){return getMapData(this,e).get(e)},MapCache.prototype.has=function mapCacheHas(e){return getMapData(this,e).has(e)},MapCache.prototype.set=function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(e){return this.__data__.set(e,c),this},SetCache.prototype.has=function setCacheHas(e){return this.__data__.has(e)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Stack.prototype.get=function stackGet(e){return this.__data__.get(e)},Stack.prototype.has=function stackHas(e){return this.__data__.has(e)},Stack.prototype.set=function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!hn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this};var Bn=createBaseEach(baseForOwn),Pn=createBaseEach(baseForOwnRight,!0);function baseEvery(e,t){var n=!0;return Bn(e,function(e,r,o){return n=!!t(e,r,o)}),n}function baseExtremum(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(l===i?s==s&&!isSymbol(s):n(s,l)))var l=s,c=a}return c}function baseFilter(e,t){var n=[];return Bn(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function baseFlatten(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=isFlattenable),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,r,o):arrayPush(o,s):r||(o[o.length]=s)}return o}var In=createBaseFor(),Rn=createBaseFor(!0);function baseForOwn(e,t){return e&&In(e,t,keys)}function baseForOwnRight(e,t){return e&&Rn(e,t,keys)}function baseFunctions(e,t){return arrayFilter(t,function(t){return isFunction(e[t])})}function baseGet(e,t){for(var n=0,r=(t=castPath(t,e)).length;null!=e&&n<r;)e=e[toKey(t[n++])];return n&&n==r?e:i}function baseGetAllKeys(e,t,n){var r=t(e);return Ir(e)?r:arrayPush(r,n(e))}function baseGetTag(e){return null==e?e===i?ie:J:Ft&&Ft in et(e)?function getRawTag(e){var t=ct.call(e,Ft),n=e[Ft];try{e[Ft]=i;var r=!0}catch(e){}var o=ft.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),o}(e):function objectToString(e){return ft.call(e)}(e)}function baseGt(e,t){return e>t}function baseHas(e,t){return null!=e&&ct.call(e,t)}function baseHasIn(e,t){return null!=e&&t in et(e)}function baseIntersection(e,t,r){for(var o=r?arrayIncludesWith:arrayIncludes,a=e[0].length,s=e.length,l=s,c=n(s),u=1/0,d=[];l--;){var f=e[l];l&&t&&(f=arrayMap(f,baseUnary(t))),u=ln(f.length,u),c[l]=!r&&(t||a>=120&&f.length>=120)?new SetCache(l&&f):i}f=e[0];var p=-1,h=c[0];e:for(;++p<a&&d.length<u;){var g=f[p],m=t?t(g):g;if(g=r||0!==g?g:0,!(h?cacheHas(h,m):o(d,m,r))){for(l=s;--l;){var A=c[l];if(!(A?cacheHas(A,m):o(e[l],m,r)))continue e}h&&h.push(m),d.push(g)}}return d}function baseInvoke(e,t,n){var r=null==(e=parent(e,t=castPath(t,e)))?e:e[toKey(last(t))];return null==r?i:apply(r,e,n)}function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==j}function baseIsEqual(e,t,n,r,o){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:function baseIsEqualDeep(e,t,n,r,o,a){var s=Ir(e),l=Ir(t),c=s?Q:Qn(e),u=l?Q:Qn(t),d=(c=c==j?Z:c)==Z,f=(u=u==j?Z:u)==Z,p=c==u;if(p&&Lr(e)){if(!Lr(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Stack),s||Ur(e)?equalArrays(e,t,n,r,o,a):function equalByTag(e,t,n,r,o,i,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!i(new bt(e),new bt(t)));case $:case V:case X:return eq(+e,+t);case W:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case Y:var s=mapToArray;case ne:var l=r&g;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=m,a.set(e,t);var u=equalArrays(s(e),s(t),r,o,i,a);return a.delete(e),u;case oe:if(xn)return xn.call(e)==xn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(n&g)){var h=d&&ct.call(e,"__wrapped__"),A=f&&ct.call(t,"__wrapped__");if(h||A){var v=h?e.value():e,y=A?t.value():t;return a||(a=new Stack),o(v,y,n,r,a)}}return!!p&&(a||(a=new Stack),function equalObjects(e,t,n,r,o,a){var s=n&g,l=getAllKeys(e),c=l.length,u=getAllKeys(t).length;if(c!=u&&!s)return!1;for(var d=c;d--;){var f=l[d];if(!(s?f in t:ct.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var h=!0;a.set(e,t),a.set(t,e);for(var m=s;++d<c;){f=l[d];var A=e[f],v=t[f];if(r)var y=s?r(v,A,f,t,e,a):r(A,v,f,e,t,a);if(!(y===i?A===v||o(A,v,n,r,a):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,baseIsEqual,o))}function baseIsMatch(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=et(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=n[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===i&&!(c in e))return!1}else{var f=new Stack;if(r)var p=r(u,d,c,e,t,f);if(!(p===i?baseIsEqual(d,u,g|m,r,f):p))return!1}}return!0}function baseIsNative(e){return!(!isObject(e)||function isMasked(e){return!!dt&&dt in e}(e))&&(isFunction(e)?gt:Ge).test(toSource(e))}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?Ir(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseKeys(e){if(!isPrototype(e))return an(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function baseKeysIn(e){if(!isObject(e))return function nativeKeysIn(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function baseLt(e,t){return e<t}function baseMap(e,t){var r=-1,o=isArrayLike(e)?n(e.length):[];return Bn(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(n){var r=get(n,e);return r===i&&r===t?hasIn(n,e):baseIsEqual(t,r,g|m)}}function baseMerge(e,t,n,r,o){e!==t&&In(t,function(a,s){if(isObject(a))o||(o=new Stack),function baseMergeDeep(e,t,n,r,o,a,s){var l=safeGet(e,n),c=safeGet(t,n),u=s.get(c);if(u)assignMergeValue(e,n,u);else{var d=a?a(l,c,n+"",e,t,s):i,f=d===i;if(f){var p=Ir(c),h=!p&&Lr(c),g=!p&&!h&&Ur(c);d=c,p||h||g?Ir(l)?d=l:isArrayLikeObject(l)?d=copyArray(l):h?(f=!1,d=cloneBuffer(c,!0)):g?(f=!1,d=cloneTypedArray(c,!0)):d=[]:isPlainObject(c)||Pr(c)?(d=l,Pr(l)?d=toPlainObject(l):isObject(l)&&!isFunction(l)||(d=initCloneObject(c))):f=!1}f&&(s.set(c,d),o(d,c,r,a,s),s.delete(c)),assignMergeValue(e,n,d)}}(e,t,s,n,baseMerge,r,o);else{var l=r?r(safeGet(e,s),a,s+"",e,t,o):i;l===i&&(l=a),assignMergeValue(e,s,l)}},keysIn)}function baseNth(e,t){var n=e.length;if(n)return isIndex(t+=t<0?n:0,n)?e[t]:i}function baseOrderBy(e,t,n){var r=-1;return t=arrayMap(t.length?t:[identity],baseUnary(getIteratee())),function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(baseMap(e,function(e,n,o){return{criteria:arrayMap(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function compareMultiple(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l=compareAscending(o[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function basePickBy(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=baseGet(e,a);n(s,a)&&baseSet(i,castPath(a,e),s)}return i}function basePullAll(e,t,n,r){var o=r?baseIndexOfWith:baseIndexOf,i=-1,a=t.length,s=e;for(e===t&&(t=copyArray(t)),n&&(s=arrayMap(e,baseUnary(n)));++i<a;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(s,u,l,r))>-1;)s!==e&&Lt.call(s,l,1),Lt.call(e,l,1);return e}function basePullAt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;isIndex(o)?Lt.call(e,o,1):baseUnset(e,o)}}return e}function baseRandom(e,t){return e+en(dn()*(t-e+1))}function baseRepeat(e,t){var n="";if(!e||t<1||t>L)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function baseRest(e,t){return Gn(overRest(e,t,identity),e+"")}function baseSample(e){return arraySample(values(e))}function baseSampleSize(e,t){var n=values(e);return shuffleSelf(n,baseClamp(t,0,n.length))}function baseSet(e,t,n,r){if(!isObject(e))return e;for(var o=-1,a=(t=castPath(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=toKey(t[o]),u=n;if(o!=s){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=isObject(d)?d:isIndex(t[o+1])?[]:{})}assignValue(l,c,u),l=l[c]}return e}var Ln=yn?function(e,t){return yn.set(e,t),e}:identity,Mn=Vt?function(e,t){return Vt(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity;function baseShuffle(e){return shuffleSelf(values(e))}function baseSlice(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function baseSome(e,t){var n;return Bn(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function baseSortedIndex(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=U){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!isSymbol(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return baseSortedIndexBy(e,t,identity,n)}function baseSortedIndexBy(e,t,n,r){t=n(t);for(var o=0,a=null==e?0:e.length,s=t!=t,l=null===t,c=isSymbol(t),u=t===i;o<a;){var d=en((o+a)/2),f=n(e[d]),p=f!==i,h=null===f,g=f==f,m=isSymbol(f);if(s)var A=r||g;else A=u?g&&(r||p):l?g&&p&&(r||!h):c?g&&p&&!h&&(r||!m):!h&&!m&&(r?f<=t:f<t);A?o=d+1:a=d}return ln(a,F)}function baseSortedUniq(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!eq(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?D:+e}function baseToString(e){if("string"==typeof e)return e;if(Ir(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return On?On.call(e):"";var t=e+"";return"0"==t&&1/e==-R?"-0":t}function baseUniq(e,t,n){var r=-1,o=arrayIncludes,i=e.length,s=!0,l=[],c=l;if(n)s=!1,o=arrayIncludesWith;else if(i>=a){var u=t?null:Fn(e);if(u)return setToArray(u);s=!1,o=cacheHas,c=new SetCache}else c=t?[]:l;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,s&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(d)}else o(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}function baseUnset(e,t){return null==(e=parent(e,t=castPath(t,e)))||delete e[toKey(last(t))]}function baseUpdate(e,t,n,r){return baseSet(e,t,n(baseGet(e,t)),r)}function baseWhile(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?baseSlice(e,r?0:i,r?i+1:o):baseSlice(e,r?i+1:0,r?o:i)}function baseWrapperValue(e,t){var n=e;return n instanceof LazyWrapper&&(n=n.value()),arrayReduce(t,function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))},n)}function baseXor(e,t,r){var o=e.length;if(o<2)return o?baseUniq(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var s=e[i],l=-1;++l<o;)l!=i&&(a[i]=baseDifference(a[i]||s,e[l],t,r));return baseUniq(baseFlatten(a,1),t,r)}function baseZipObject(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var l=r<a?t[r]:i;n(s,e[r],l)}return s}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}function castFunction(e){return"function"==typeof e?e:identity}function castPath(e,t){return Ir(e)?e:isKey(e,t)?[e]:Wn(toString(e))}var Dn=baseRest;function castSlice(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:baseSlice(e,t,n)}var Nn=Yt||function(e){return Rt.clearTimeout(e)};function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=_t?_t(n):new e.constructor(n);return e.copy(r),r}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function compareAscending(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=isSymbol(e),s=t!==i,l=null===t,c=t==t,u=isSymbol(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!u&&e<t||u&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}function composeArgs(e,t,r,o){for(var i=-1,a=e.length,s=r.length,l=-1,c=t.length,u=sn(a-s,0),d=n(c+u),f=!o;++l<c;)d[l]=t[l];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}function composeArgsRight(e,t,r,o){for(var i=-1,a=e.length,s=-1,l=r.length,c=-1,u=t.length,d=sn(a-l,0),f=n(d+u),p=!o;++i<d;)f[i]=e[i];for(var h=i;++c<u;)f[h+c]=t[c];for(;++s<l;)(p||i<a)&&(f[h+r[s]]=e[i++]);return f}function copyArray(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function copyObject(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?baseAssignValue(n,l,c):assignValue(n,l,c)}return n}function createAggregator(e,t){return function(n,r){var o=Ir(n)?arrayAggregator:baseAggregator,i=t?t():{};return o(n,e,getIteratee(r,2),i)}}function createAssigner(e){return baseRest(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&isIterateeCall(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=et(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=et(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function createBaseFor(e){return function(t,n,r){for(var o=-1,i=et(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}function createCaseFirst(e){return function(t){var n=hasUnicode(t=toString(t))?stringToArray(t):i,r=n?n[0]:t.charAt(0),o=n?castSlice(n,1).join(""):t.slice(1);return r[e]()+o}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(vt,"")),e,"")}}function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),r=e.apply(n,t);return isObject(r)?r:n}}function createFind(e){return function(t,n,r){var o=et(t);if(!isArrayLike(t)){var a=getIteratee(n,3);t=keys(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function createFlow(e){return flatRest(function(t){var n=t.length,r=n,o=LodashWrapper.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(l);if(o&&!s&&"wrapper"==getFuncName(a))var s=new LodashWrapper([],!0)}for(r=s?r:n;++r<n;){var c=getFuncName(a=t[r]),u="wrapper"==c?Un(a):i;s=u&&isLaziable(u[0])&&u[1]==(C|b|_|S)&&!u[4].length&&1==u[9]?s[getFuncName(u[0])].apply(s,u[3]):1==a.length&&isLaziable(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ir(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function createHybrid(e,t,r,o,a,s,l,c,u,d){var f=t&C,p=t&A,h=t&v,g=t&(b|w),m=t&T,y=h?i:createCtor(e);return function wrapper(){for(var A=arguments.length,v=n(A),b=A;b--;)v[b]=arguments[b];if(g)var w=getHolder(wrapper),_=function countHolders(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,w);if(o&&(v=composeArgs(v,o,a,g)),s&&(v=composeArgsRight(v,s,l,g)),A-=_,g&&A<d){var E=replaceHolders(v,w);return createRecurry(e,t,createHybrid,wrapper.placeholder,r,v,E,c,u,d-A)}var C=p?r:this,S=h?C[e]:e;return A=v.length,c?v=function reorder(e,t){for(var n=e.length,r=ln(t.length,n),o=copyArray(e);r--;){var a=t[r];e[r]=isIndex(a,n)?o[a]:i}return e}(v,c):m&&A>1&&v.reverse(),f&&u<A&&(v.length=u),this&&this!==Rt&&this instanceof wrapper&&(S=y||createCtor(S)),S.apply(C,v)}}function createInverter(e,t){return function(n,r){return function baseInverter(e,t,n,r){return baseForOwn(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function createMathOperation(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=baseToString(n),r=baseToString(r)):(n=baseToNumber(n),r=baseToNumber(r)),o=e(n,r)}return o}}function createOver(e){return flatRest(function(t){return t=arrayMap(t,baseUnary(getIteratee())),baseRest(function(n){var r=this;return e(t,function(e){return apply(e,r,n)})})})}function createPadding(e,t){var n=(t=t===i?" ":baseToString(t)).length;if(n<2)return n?baseRepeat(t,e):t;var r=baseRepeat(t,Zt(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(r),0,e).join(""):r.slice(0,e)}function createRange(e){return function(t,r,o){return o&&"number"!=typeof o&&isIterateeCall(t,r,o)&&(r=o=i),t=toFinite(t),r===i?(r=t,t=0):r=toFinite(r),function baseRange(e,t,r,o){for(var i=-1,a=sn(Zt((t-e)/(r||1)),0),s=n(a);a--;)s[o?a:++i]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:toFinite(o),e)}}function createRelationalOperation(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=toNumber(t),n=toNumber(n)),e(t,n)}}function createRecurry(e,t,n,r,o,a,s,l,c,u){var d=t&b;t|=d?_:E,(t&=~(d?E:_))&y||(t&=~(A|v));var f=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,l,c,u],p=n.apply(i,f);return isLaziable(e)&&$n(p,f),p.placeholder=r,setWrapToString(p,e,t)}function createRound(e){var t=Ze[e];return function(e,n){if(e=toNumber(e),n=null==n?0:ln(toInteger(n),292)){var r=(toString(e)+"e").split("e");return+((r=(toString(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Fn=mn&&1/setToArray(new mn([,-0]))[1]==R?function(e){return new mn(e)}:noop;function createToPairs(e){return function(t){var n=Qn(t);return n==Y?mapToArray(t):n==ne?setToPairs(t):function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}(t,e(t))}}function createWrap(e,t,r,o,a,s,c,u){var f=t&v;if(!f&&"function"!=typeof e)throw new rt(l);var p=o?o.length:0;if(p||(t&=~(_|E),o=a=i),c=c===i?c:sn(toInteger(c),0),u=u===i?u:toInteger(u),p-=a?a.length:0,t&E){var h=o,g=a;o=a=i}var m=f?i:Un(e),T=[e,t,r,o,a,h,g,s,c,u];if(m&&function mergeData(e,t){var n=e[1],r=t[1],o=n|r,i=o<(A|v|C),a=r==C&&n==b||r==C&&n==S&&e[7].length<=t[8]||r==(C|S)&&t[7].length<=t[8]&&n==b;if(!i&&!a)return e;r&A&&(e[2]=t[2],o|=n&A?0:y);var s=t[3];if(s){var l=e[3];e[3]=l?composeArgs(l,s,t[4]):s,e[4]=l?replaceHolders(e[3],d):t[4]}return(s=t[5])&&(l=e[5],e[5]=l?composeArgsRight(l,s,t[6]):s,e[6]=l?replaceHolders(e[5],d):t[6]),(s=t[7])&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}(T,m),e=T[0],t=T[1],r=T[2],o=T[3],a=T[4],!(u=T[9]=T[9]===i?f?0:e.length:sn(T[9]-p,0))&&t&(b|w)&&(t&=~(b|w)),t&&t!=A)x=t==b||t==w?function createCurry(e,t,r){var o=createCtor(e);return function wrapper(){for(var a=arguments.length,s=n(a),l=a,c=getHolder(wrapper);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:replaceHolders(s,c);return(a-=u.length)<r?createRecurry(e,t,createHybrid,wrapper.placeholder,i,s,u,i,i,r-a):apply(this&&this!==Rt&&this instanceof wrapper?o:e,this,s)}}(e,t,u):t!=_&&t!=(A|_)||a.length?createHybrid.apply(i,T):function createPartial(e,t,r,o){var i=t&A,a=createCtor(e);return function wrapper(){for(var t=-1,s=arguments.length,l=-1,c=o.length,u=n(c+s),d=this&&this!==Rt&&this instanceof wrapper?a:e;++l<c;)u[l]=o[l];for(;s--;)u[l++]=arguments[++t];return apply(d,i?r:this,u)}}(e,t,r,o);else var x=function createBind(e,t,n){var r=t&A,o=createCtor(e);return function wrapper(){return(this&&this!==Rt&&this instanceof wrapper?o:e).apply(r?n:this,arguments)}}(e,t,r);return setWrapToString((m?Ln:$n)(x,T),e,t)}function customDefaultsAssignIn(e,t,n,r){return e===i||eq(e,at[n])&&!ct.call(r,n)?t:e}function customDefaultsMerge(e,t,n,r,o,a){return isObject(e)&&isObject(t)&&(a.set(t,e),baseMerge(e,t,i,customDefaultsMerge,a),a.delete(t)),e}function customOmitClone(e){return isPlainObject(e)?i:e}function equalArrays(e,t,n,r,o,a){var s=n&g,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var d=-1,f=!0,p=n&m?new SetCache:i;for(a.set(e,t),a.set(t,e);++d<l;){var h=e[d],A=t[d];if(r)var v=s?r(A,h,d,t,e,a):r(h,A,d,e,t,a);if(v!==i){if(v)continue;f=!1;break}if(p){if(!arraySome(t,function(e,t){if(!cacheHas(p,t)&&(h===e||o(h,e,n,r,a)))return p.push(t)})){f=!1;break}}else if(h!==A&&!o(h,A,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function flatRest(e){return Gn(overRest(e,i,flatten),e+"")}function getAllKeys(e){return baseGetAllKeys(e,keys,Hn)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,jn)}var Un=yn?function(e){return yn.get(e)}:noop;function getFuncName(e){for(var t=e.name+"",n=bn[t],r=ct.call(bn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function getHolder(e){return(ct.call(lodash,"placeholder")?lodash:e).placeholder}function getIteratee(){var e=lodash.iteratee||iteratee;return e=e===iteratee?baseIteratee:e,arguments.length?e(arguments[0],arguments[1]):e}function getMapData(e,t){var n=e.__data__;return function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function getMatchData(e){for(var t=keys(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,isStrictComparable(o)]}return t}function getNative(e,t){var n=function getValue(e,t){return null==e?i:e[t]}(e,t);return baseIsNative(n)?n:i}var Hn=tn?function(e){return null==e?[]:(e=et(e),arrayFilter(tn(e),function(t){return It.call(e,t)}))}:stubArray,jn=tn?function(e){for(var t=[];e;)arrayPush(t,Hn(e)),e=Ot(e);return t}:stubArray,Qn=baseGetTag;function hasPath(e,t,n){for(var r=-1,o=(t=castPath(t,e)).length,i=!1;++r<o;){var a=toKey(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&isLength(o)&&isIndex(a,o)&&(Ir(e)||Pr(e))}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:kn(Ot(e))}function isFlattenable(e){return Ir(e)||Pr(e)||!!(Mt&&e&&e[Mt])}function isIndex(e,t){var n=typeof e;return!!(t=null==t?L:t)&&("number"==n||"symbol"!=n&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function isKey(e,t){if(Ir(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol(e))||Be.test(e)||!ke.test(e)||null!=t&&e in et(t)}function isLaziable(e){var t=getFuncName(e),n=lodash[t];if("function"!=typeof n||!(t in LazyWrapper.prototype))return!1;if(e===n)return!0;var r=Un(n);return!!r&&e===r[0]}(pn&&Qn(new pn(new ArrayBuffer(1)))!=ce||hn&&Qn(new hn)!=Y||gn&&"[object Promise]"!=Qn(gn.resolve())||mn&&Qn(new mn)!=ne||An&&Qn(new An)!=ae)&&(Qn=function(e){var t=baseGetTag(e),n=t==Z?e.constructor:i,r=n?toSource(n):"";if(r)switch(r){case wn:return ce;case _n:return Y;case En:return"[object Promise]";case Cn:return ne;case Sn:return ae}return t});var zn=st?isFunction:stubFalse;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function isStrictComparable(e){return e==e&&!isObject(e)}function matchesStrictComparable(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in et(n))}}function overRest(e,t,r){return t=sn(t===i?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=sn(o.length-t,0),s=n(a);++i<a;)s[i]=o[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=o[i];return l[t]=r(s),apply(e,this,l)}}function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function safeGet(e,t){if("__proto__"!=t)return e[t]}var $n=shortOut(Ln),Vn=Jt||function(e,t){return Rt.setTimeout(e,t)},Gn=shortOut(Mn);function setWrapToString(e,t,n){var r=t+"";return Gn(e,function insertWrapDetails(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}(r,function updateWrapDetails(e,t){return arrayEach(H,function(n){var r="_."+n[0];t&n[1]&&!arrayIncludes(e,r)&&e.push(r)}),e.sort()}(function getWrapDetails(e){var t=e.match(Fe);return t?t[1].split(Ue):[]}(r),n)))}function shortOut(e){var t=0,n=0;return function(){var r=cn(),o=B-(r-n);if(n=r,o>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(i,arguments)}}function shuffleSelf(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=baseRandom(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Wn=function memoizeCapped(e){var t=memoize(e,function(e){return n.size===u&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,function(e,n,r,o){t.push(r?o.replace(je,"$1"):n||e)}),t});function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-R?"-0":t}function toSource(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Kn=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]}),qn=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=i),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(n,2)):[]}),Yn=baseRest(function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=i),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),i,n):[]});function findIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:toInteger(n);return o<0&&(o=sn(r+o,0)),baseFindIndex(e,getIteratee(t,3),o)}function findLastIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=toInteger(n),o=n<0?sn(r+o,0):ln(o,r-1)),baseFindIndex(e,getIteratee(t,3),o,!0)}function flatten(e){return null!=e&&e.length?baseFlatten(e,1):[]}function head(e){return e&&e.length?e[0]:i}var Xn=baseRest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),Jn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t===last(n)?t=i:n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,getIteratee(t,2)):[]}),Zn=baseRest(function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,i,t):[]});function last(e){var t=null==e?0:e.length;return t?e[t-1]:i}var er=baseRest(pullAll);function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}var tr=flatRest(function(e,t){var n=null==e?0:e.length,r=baseAt(e,t);return basePullAt(e,arrayMap(t,function(e){return isIndex(e,n)?+e:e}).sort(compareAscending)),r});function reverse(e){return null==e?e:fn.call(e)}var nr=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),rr=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=i),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(t,2))}),or=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:i,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),i,t)});function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,function(e){if(isArrayLikeObject(e))return t=sn(e.length,t),!0}),baseTimes(t,function(t){return arrayMap(e,baseProperty(t))})}function unzipWith(e,t){if(!e||!e.length)return[];var n=unzip(e);return null==t?n:arrayMap(n,function(e){return apply(t,i,e)})}var ir=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]}),ar=baseRest(function(e){return baseXor(arrayFilter(e,isArrayLikeObject))}),sr=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=i),baseXor(arrayFilter(e,isArrayLikeObject),getIteratee(t,2))}),lr=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:i,baseXor(arrayFilter(e,isArrayLikeObject),i,t)}),cr=baseRest(unzip);var ur=baseRest(function(e){var t=e.length,n=t>1?e[t-1]:i;return unzipWith(e,n="function"==typeof n?(e.pop(),n):i)});function chain(e){var t=lodash(e);return t.__chain__=!0,t}function thru(e,t){return t(e)}var dr=flatRest(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof LazyWrapper&&isIndex(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:thru,args:[o],thisArg:i}),new LodashWrapper(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var fr=createAggregator(function(e,t,n){ct.call(e,n)?++e[n]:baseAssignValue(e,n,1)});var pr=createFind(findIndex),hr=createFind(findLastIndex);function forEach(e,t){return(Ir(e)?arrayEach:Bn)(e,getIteratee(t,3))}function forEachRight(e,t){return(Ir(e)?arrayEachRight:Pn)(e,getIteratee(t,3))}var gr=createAggregator(function(e,t,n){ct.call(e,n)?e[n].push(t):baseAssignValue(e,n,[t])});var mr=baseRest(function(e,t,r){var o=-1,i="function"==typeof t,a=isArrayLike(e)?n(e.length):[];return Bn(e,function(e){a[++o]=i?apply(t,e,r):baseInvoke(e,t,r)}),a}),Ar=createAggregator(function(e,t,n){baseAssignValue(e,n,t)});function map(e,t){return(Ir(e)?arrayMap:baseMap)(e,getIteratee(t,3))}var vr=createAggregator(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var yr=baseRest(function(e,t){if(null==e)return[];var n=t.length;return n>1&&isIterateeCall(e,t[0],t[1])?t=[]:n>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])}),br=Xt||function(){return Rt.Date.now()};function ary(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,createWrap(e,C,i,i,i,i,t)}function before(e,t){var n;if("function"!=typeof t)throw new rt(l);return e=toInteger(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var wr=baseRest(function(e,t,n){var r=A;if(n.length){var o=replaceHolders(n,getHolder(wr));r|=_}return createWrap(e,r,t,n,o)}),_r=baseRest(function(e,t,n){var r=A|v;if(n.length){var o=replaceHolders(n,getHolder(_r));r|=_}return createWrap(t,r,e,n,o)});function debounce(e,t,n){var r,o,a,s,c,u,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new rt(l);function invokeFunc(t){var n=r,a=o;return r=o=i,d=t,s=e.apply(a,n)}function shouldInvoke(e){var n=e-u;return u===i||n>=t||n<0||p&&e-d>=a}function timerExpired(){var e=br();if(shouldInvoke(e))return trailingEdge(e);c=Vn(timerExpired,function remainingWait(e){var n=t-(e-u);return p?ln(n,a-(e-d)):n}(e))}function trailingEdge(e){return c=i,h&&r?invokeFunc(e):(r=o=i,s)}function debounced(){var e=br(),n=shouldInvoke(e);if(r=arguments,o=this,u=e,n){if(c===i)return function leadingEdge(e){return d=e,c=Vn(timerExpired,t),f?invokeFunc(e):s}(u);if(p)return c=Vn(timerExpired,t),invokeFunc(u)}return c===i&&(c=Vn(timerExpired,t)),s}return t=toNumber(t)||0,isObject(n)&&(f=!!n.leading,a=(p="maxWait"in n)?sn(toNumber(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),debounced.cancel=function cancel(){c!==i&&Nn(c),d=0,r=u=o=c=i},debounced.flush=function flush(){return c===i?s:trailingEdge(br())},debounced}var Er=baseRest(function(e,t){return baseDelay(e,1,t)}),Cr=baseRest(function(e,t,n){return baseDelay(e,toNumber(t)||0,n)});function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(l);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(memoize.Cache||MapCache),n}function negate(e){if("function"!=typeof e)throw new rt(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}memoize.Cache=MapCache;var Sr=Dn(function(e,t){var n=(t=1==t.length&&Ir(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1),baseUnary(getIteratee()))).length;return baseRest(function(r){for(var o=-1,i=ln(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return apply(e,this,r)})}),Tr=baseRest(function(e,t){var n=replaceHolders(t,getHolder(Tr));return createWrap(e,_,i,t,n)}),xr=baseRest(function(e,t){var n=replaceHolders(t,getHolder(xr));return createWrap(e,E,i,t,n)}),Or=flatRest(function(e,t){return createWrap(e,S,i,i,i,t)});function eq(e,t){return e===t||e!=e&&t!=t}var kr=createRelationalOperation(baseGt),Br=createRelationalOperation(function(e,t){return e>=t}),Pr=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&ct.call(e,"callee")&&!It.call(e,"callee")},Ir=n.isArray,Rr=Ut?baseUnary(Ut):function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==le};function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}var Lr=nn||stubFalse,Mr=Ht?baseUnary(Ht):function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==V};function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==W||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==K||t==q||t==z||t==ee}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function isObjectLike(e){return null!=e&&"object"==typeof e}var Dr=jt?baseUnary(jt):function baseIsMap(e){return isObjectLike(e)&&Qn(e)==Y};function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==X}function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=Z)return!1;var t=Ot(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==pt}var Nr=Qt?baseUnary(Qt):function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==te};var Fr=zt?baseUnary(zt):function baseIsSet(e){return isObjectLike(e)&&Qn(e)==ne};function isString(e){return"string"==typeof e||!Ir(e)&&isObjectLike(e)&&baseGetTag(e)==re}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==oe}var Ur=$t?baseUnary($t):function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!Tt[baseGetTag(e)]};var Hr=createRelationalOperation(baseLt),jr=createRelationalOperation(function(e,t){return e<=t});function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(Nt&&e[Nt])return function iteratorToArray(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Nt]());var t=Qn(e);return(t==Y?mapToArray:t==ne?setToArray:values)(e)}function toFinite(e){return e?(e=toNumber(e))===R||e===-R?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t==t?n?t-n:t:0}function toLength(e){return e?baseClamp(toInteger(e),0,N):0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return D;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Le,"");var n=Ve.test(e);return n||We.test(e)?Bt(e.slice(2),n?2:8):$e.test(e)?D:+e}function toPlainObject(e){return copyObject(e,keysIn(e))}function toString(e){return null==e?"":baseToString(e)}var Qr=createAssigner(function(e,t){if(isPrototype(t)||isArrayLike(t))copyObject(t,keys(t),e);else for(var n in t)ct.call(t,n)&&assignValue(e,n,t[n])}),zr=createAssigner(function(e,t){copyObject(t,keysIn(t),e)}),$r=createAssigner(function(e,t,n,r){copyObject(t,keysIn(t),e,r)}),Vr=createAssigner(function(e,t,n,r){copyObject(t,keys(t),e,r)}),Gr=flatRest(baseAt);var Wr=baseRest(function(e,t){e=et(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&isIterateeCall(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=keysIn(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===i||eq(d,at[u])&&!ct.call(e,u))&&(e[u]=a[u])}return e}),Kr=baseRest(function(e){return e.push(i,customDefaultsMerge),apply(Zr,i,e)});function get(e,t,n){var r=null==e?i:baseGet(e,t);return r===i?n:r}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var qr=createInverter(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n},constant(identity)),Yr=createInverter(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},getIteratee),Xr=baseRest(baseInvoke);function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var Jr=createAssigner(function(e,t,n){baseMerge(e,t,n)}),Zr=createAssigner(function(e,t,n,r){baseMerge(e,t,n,r)}),eo=flatRest(function(e,t){var n={};if(null==e)return n;var r=!1;t=arrayMap(t,function(t){return t=castPath(t,e),r||(r=t.length>1),t}),copyObject(e,getAllKeysIn(e),n),r&&(n=baseClone(n,f|p|h,customOmitClone));for(var o=t.length;o--;)baseUnset(n,t[o]);return n});var to=flatRest(function(e,t){return null==e?{}:function basePick(e,t){return basePickBy(e,t,function(t,n){return hasIn(e,n)})}(e,t)});function pickBy(e,t){if(null==e)return{};var n=arrayMap(getAllKeysIn(e),function(e){return[e]});return t=getIteratee(t),basePickBy(e,n,function(e,n){return t(e,n[0])})}var no=createToPairs(keys),ro=createToPairs(keysIn);function values(e){return null==e?[]:baseValues(e,keys(e))}var oo=createCompounder(function(e,t,n){return t=t.toLowerCase(),e+(n?capitalize(t):t)});function capitalize(e){return fo(toString(e).toLowerCase())}function deburr(e){return(e=toString(e))&&e.replace(qe,Gt).replace(yt,"")}var io=createCompounder(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ao=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),so=createCaseFirst("toLowerCase");var lo=createCompounder(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var co=createCompounder(function(e,t,n){return e+(n?" ":"")+fo(t)});var uo=createCompounder(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),fo=createCaseFirst("toUpperCase");function words(e,t,n){return e=toString(e),(t=n?i:t)===i?function hasUnicodeWord(e){return Et.test(e)}(e)?function unicodeWords(e){return e.match(wt)||[]}(e):function asciiWords(e){return e.match(He)||[]}(e):e.match(t)||[]}var po=baseRest(function(e,t){try{return apply(e,i,t)}catch(e){return isError(e)?e:new o(e)}}),ho=flatRest(function(e,t){return arrayEach(t,function(t){t=toKey(t),baseAssignValue(e,t,wr(e[t],e))}),e});function constant(e){return function(){return e}}var go=createFlow(),mo=createFlow(!0);function identity(e){return e}function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,f))}var Ao=baseRest(function(e,t){return function(n){return baseInvoke(n,e,t)}}),vo=baseRest(function(e,t){return function(n){return baseInvoke(e,n,t)}});function mixin(e,t,n){var r=keys(t),o=baseFunctions(t,r);null!=n||isObject(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=baseFunctions(t,keys(t)));var i=!(isObject(n)&&"chain"in n&&!n.chain),a=isFunction(e);return arrayEach(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=copyArray(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,arrayPush([this.value()],arguments))})}),e}function noop(){}var yo=createOver(arrayMap),bo=createOver(arrayEvery),wo=createOver(arraySome);function property(e){return isKey(e)?baseProperty(toKey(e)):function basePropertyDeep(e){return function(t){return baseGet(t,e)}}(e)}var _o=createRange(),Eo=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var Co=createMathOperation(function(e,t){return e+t},0),So=createRound("ceil"),To=createMathOperation(function(e,t){return e/t},1),xo=createRound("floor");var Oo,ko=createMathOperation(function(e,t){return e*t},1),Bo=createRound("round"),Po=createMathOperation(function(e,t){return e-t},0);return lodash.after=function after(e,t){if("function"!=typeof t)throw new rt(l);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}},lodash.ary=ary,lodash.assign=Qr,lodash.assignIn=zr,lodash.assignInWith=$r,lodash.assignWith=Vr,lodash.at=Gr,lodash.before=before,lodash.bind=wr,lodash.bindAll=ho,lodash.bindKey=_r,lodash.castArray=function castArray(){if(!arguments.length)return[];var e=arguments[0];return Ir(e)?e:[e]},lodash.chain=chain,lodash.chunk=function chunk(e,t,r){t=(r?isIterateeCall(e,t,r):t===i)?1:sn(toInteger(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=n(Zt(o/t));a<o;)l[s++]=baseSlice(e,a,a+=t);return l},lodash.compact=function compact(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},lodash.concat=function concat(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return arrayPush(Ir(r)?copyArray(r):[r],baseFlatten(t,1))},lodash.cond=function cond(e){var t=null==e?0:e.length,n=getIteratee();return e=t?arrayMap(e,function(e){if("function"!=typeof e[1])throw new rt(l);return[n(e[0]),e[1]]}):[],baseRest(function(n){for(var r=-1;++r<t;){var o=e[r];if(apply(o[0],this,n))return apply(o[1],this,n)}})},lodash.conforms=function conforms(e){return function baseConforms(e){var t=keys(e);return function(n){return baseConformsTo(n,e,t)}}(baseClone(e,f))},lodash.constant=constant,lodash.countBy=fr,lodash.create=function create(e,t){var n=kn(e);return null==t?n:baseAssign(n,t)},lodash.curry=function curry(e,t,n){var r=createWrap(e,b,i,i,i,i,i,t=n?i:t);return r.placeholder=curry.placeholder,r},lodash.curryRight=function curryRight(e,t,n){var r=createWrap(e,w,i,i,i,i,i,t=n?i:t);return r.placeholder=curryRight.placeholder,r},lodash.debounce=debounce,lodash.defaults=Wr,lodash.defaultsDeep=Kr,lodash.defer=Er,lodash.delay=Cr,lodash.difference=Kn,lodash.differenceBy=qn,lodash.differenceWith=Yn,lodash.drop=function drop(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,(t=n||t===i?1:toInteger(t))<0?0:t,r):[]},lodash.dropRight=function dropRight(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,0,(t=r-(t=n||t===i?1:toInteger(t)))<0?0:t):[]},lodash.dropRightWhile=function dropRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0,!0):[]},lodash.dropWhile=function dropWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0):[]},lodash.fill=function fill(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(n=0,r=o),function baseFill(e,t,n,r){var o=e.length;for((n=toInteger(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:toInteger(r))<0&&(r+=o),r=n>r?0:toLength(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},lodash.filter=function filter(e,t){return(Ir(e)?arrayFilter:baseFilter)(e,getIteratee(t,3))},lodash.flatMap=function flatMap(e,t){return baseFlatten(map(e,t),1)},lodash.flatMapDeep=function flatMapDeep(e,t){return baseFlatten(map(e,t),R)},lodash.flatMapDepth=function flatMapDepth(e,t,n){return n=n===i?1:toInteger(n),baseFlatten(map(e,t),n)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(e){return null!=e&&e.length?baseFlatten(e,R):[]},lodash.flattenDepth=function flattenDepth(e,t){return null!=e&&e.length?baseFlatten(e,t=t===i?1:toInteger(t)):[]},lodash.flip=function flip(e){return createWrap(e,T)},lodash.flow=go,lodash.flowRight=mo,lodash.fromPairs=function fromPairs(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},lodash.functions=function functions(e){return null==e?[]:baseFunctions(e,keys(e))},lodash.functionsIn=function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn(e))},lodash.groupBy=gr,lodash.initial=function initial(e){return null!=e&&e.length?baseSlice(e,0,-1):[]},lodash.intersection=Xn,lodash.intersectionBy=Jn,lodash.intersectionWith=Zn,lodash.invert=qr,lodash.invertBy=Yr,lodash.invokeMap=mr,lodash.iteratee=iteratee,lodash.keyBy=Ar,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,r,o){baseAssignValue(n,t(e,r,o),e)}),n},lodash.mapValues=function mapValues(e,t){var n={};return t=getIteratee(t,3),baseForOwn(e,function(e,r,o){baseAssignValue(n,r,t(e,r,o))}),n},lodash.matches=function matches(e){return baseMatches(baseClone(e,f))},lodash.matchesProperty=function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,f))},lodash.memoize=memoize,lodash.merge=Jr,lodash.mergeWith=Zr,lodash.method=Ao,lodash.methodOf=vo,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(e){return e=toInteger(e),baseRest(function(t){return baseNth(t,e)})},lodash.omit=eo,lodash.omitBy=function omitBy(e,t){return pickBy(e,negate(getIteratee(t)))},lodash.once=function once(e){return before(2,e)},lodash.orderBy=function orderBy(e,t,n,r){return null==e?[]:(Ir(t)||(t=null==t?[]:[t]),Ir(n=r?i:n)||(n=null==n?[]:[n]),baseOrderBy(e,t,n))},lodash.over=yo,lodash.overArgs=Sr,lodash.overEvery=bo,lodash.overSome=wo,lodash.partial=Tr,lodash.partialRight=xr,lodash.partition=vr,lodash.pick=to,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(e){return function(t){return null==e?i:baseGet(e,t)}},lodash.pull=er,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,getIteratee(n,2)):e},lodash.pullAllWith=function pullAllWith(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,i,n):e},lodash.pullAt=tr,lodash.range=_o,lodash.rangeRight=Eo,lodash.rearg=Or,lodash.reject=function reject(e,t){return(Ir(e)?arrayFilter:baseFilter)(e,negate(getIteratee(t,3)))},lodash.remove=function remove(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=getIteratee(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return basePullAt(e,o),n},lodash.rest=function rest(e,t){if("function"!=typeof e)throw new rt(l);return baseRest(e,t=t===i?t:toInteger(t))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(e,t,n){return t=(n?isIterateeCall(e,t,n):t===i)?1:toInteger(t),(Ir(e)?arraySampleSize:baseSampleSize)(e,t)},lodash.set=function set(e,t,n){return null==e?e:baseSet(e,t,n)},lodash.setWith=function setWith(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:baseSet(e,t,n,r)},lodash.shuffle=function shuffle(e){return(Ir(e)?arrayShuffle:baseShuffle)(e)},lodash.slice=function slice(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)?(t=0,n=r):(t=null==t?0:toInteger(t),n=n===i?r:toInteger(n)),baseSlice(e,t,n)):[]},lodash.sortBy=yr,lodash.sortedUniq=function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]},lodash.sortedUniqBy=function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,getIteratee(t,2)):[]},lodash.split=function split(e,t,n){return n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=i),(n=n===i?N:n>>>0)?(e=toString(e))&&("string"==typeof t||null!=t&&!Nr(t))&&!(t=baseToString(t))&&hasUnicode(e)?castSlice(stringToArray(e),0,n):e.split(t,n):[]},lodash.spread=function spread(e,t){if("function"!=typeof e)throw new rt(l);return t=null==t?0:sn(toInteger(t),0),baseRest(function(n){var r=n[t],o=castSlice(n,0,t);return r&&arrayPush(o,r),apply(e,this,o)})},lodash.tail=function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]},lodash.take=function take(e,t,n){return e&&e.length?baseSlice(e,0,(t=n||t===i?1:toInteger(t))<0?0:t):[]},lodash.takeRight=function takeRight(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,(t=r-(t=n||t===i?1:toInteger(t)))<0?0:t,r):[]},lodash.takeRightWhile=function takeRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!1,!0):[]},lodash.takeWhile=function takeWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3)):[]},lodash.tap=function tap(e,t){return t(e),e},lodash.throttle=function throttle(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new rt(l);return isObject(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),debounce(e,t,{leading:r,maxWait:t,trailing:o})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=no,lodash.toPairsIn=ro,lodash.toPath=function toPath(e){return Ir(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(Wn(toString(e)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(e,t,n){var r=Ir(e),o=r||Lr(e)||Ur(e);if(t=getIteratee(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:isObject(e)&&isFunction(i)?kn(Ot(e)):{}}return(o?arrayEach:baseForOwn)(e,function(e,r,o){return t(n,e,r,o)}),n},lodash.unary=function unary(e){return ary(e,1)},lodash.union=nr,lodash.unionBy=rr,lodash.unionWith=or,lodash.uniq=function uniq(e){return e&&e.length?baseUniq(e):[]},lodash.uniqBy=function uniqBy(e,t){return e&&e.length?baseUniq(e,getIteratee(t,2)):[]},lodash.uniqWith=function uniqWith(e,t){return t="function"==typeof t?t:i,e&&e.length?baseUniq(e,i,t):[]},lodash.unset=function unset(e,t){return null==e||baseUnset(e,t)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(e,t,n){return null==e?e:baseUpdate(e,t,castFunction(n))},lodash.updateWith=function updateWith(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:baseUpdate(e,t,castFunction(n),r)},lodash.values=values,lodash.valuesIn=function valuesIn(e){return null==e?[]:baseValues(e,keysIn(e))},lodash.without=ir,lodash.words=words,lodash.wrap=function wrap(e,t){return Tr(castFunction(t),e)},lodash.xor=ar,lodash.xorBy=sr,lodash.xorWith=lr,lodash.zip=cr,lodash.zipObject=function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)},lodash.zipWith=ur,lodash.entries=no,lodash.entriesIn=ro,lodash.extend=zr,lodash.extendWith=$r,mixin(lodash,lodash),lodash.add=Co,lodash.attempt=po,lodash.camelCase=oo,lodash.capitalize=capitalize,lodash.ceil=So,lodash.clamp=function clamp(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=toNumber(n))==n?n:0),t!==i&&(t=(t=toNumber(t))==t?t:0),baseClamp(toNumber(e),t,n)},lodash.clone=function clone(e){return baseClone(e,h)},lodash.cloneDeep=function cloneDeep(e){return baseClone(e,f|h)},lodash.cloneDeepWith=function cloneDeepWith(e,t){return baseClone(e,f|h,t="function"==typeof t?t:i)},lodash.cloneWith=function cloneWith(e,t){return baseClone(e,h,t="function"==typeof t?t:i)},lodash.conformsTo=function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys(t))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(e,t){return null==e||e!=e?t:e},lodash.divide=To,lodash.endsWith=function endsWith(e,t,n){e=toString(e),t=baseToString(t);var r=e.length,o=n=n===i?r:baseClamp(toInteger(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},lodash.eq=eq,lodash.escape=function escape(e){return(e=toString(e))&&Se.test(e)?e.replace(Ee,Wt):e},lodash.escapeRegExp=function escapeRegExp(e){return(e=toString(e))&&Re.test(e)?e.replace(Ie,"\\$&"):e},lodash.every=function every(e,t,n){var r=Ir(e)?arrayEvery:baseEvery;return n&&isIterateeCall(e,t,n)&&(t=i),r(e,getIteratee(t,3))},lodash.find=pr,lodash.findIndex=findIndex,lodash.findKey=function findKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwn)},lodash.findLast=hr,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwnRight)},lodash.floor=xo,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(e,t){return null==e?e:In(e,getIteratee(t,3),keysIn)},lodash.forInRight=function forInRight(e,t){return null==e?e:Rn(e,getIteratee(t,3),keysIn)},lodash.forOwn=function forOwn(e,t){return e&&baseForOwn(e,getIteratee(t,3))},lodash.forOwnRight=function forOwnRight(e,t){return e&&baseForOwnRight(e,getIteratee(t,3))},lodash.get=get,lodash.gt=kr,lodash.gte=Br,lodash.has=function has(e,t){return null!=e&&hasPath(e,t,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(e,t,n,r){e=isArrayLike(e)?e:values(e),n=n&&!r?toInteger(n):0;var o=e.length;return n<0&&(n=sn(o+n,0)),isString(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&baseIndexOf(e,t,n)>-1},lodash.indexOf=function indexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:toInteger(n);return o<0&&(o=sn(r+o,0)),baseIndexOf(e,t,o)},lodash.inRange=function inRange(e,t,n){return t=toFinite(t),n===i?(n=t,t=0):n=toFinite(n),function baseInRange(e,t,n){return e>=ln(t,n)&&e<sn(t,n)}(e=toNumber(e),t,n)},lodash.invoke=Xr,lodash.isArguments=Pr,lodash.isArray=Ir,lodash.isArrayBuffer=Rr,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(e){return!0===e||!1===e||isObjectLike(e)&&baseGetTag(e)==$},lodash.isBuffer=Lr,lodash.isDate=Mr,lodash.isElement=function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)},lodash.isEmpty=function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(Ir(e)||"string"==typeof e||"function"==typeof e.splice||Lr(e)||Ur(e)||Pr(e)))return!e.length;var t=Qn(e);if(t==Y||t==ne)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},lodash.isEqual=function isEqual(e,t){return baseIsEqual(e,t)},lodash.isEqualWith=function isEqualWith(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?baseIsEqual(e,t,i,n):!!r},lodash.isError=isError,lodash.isFinite=function isFinite(e){return"number"==typeof e&&rn(e)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=Dr,lodash.isMatch=function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))},lodash.isMatchWith=function isMatchWith(e,t,n){return n="function"==typeof n?n:i,baseIsMatch(e,t,getMatchData(t),n)},lodash.isNaN=function isNaN(e){return isNumber(e)&&e!=+e},lodash.isNative=function isNative(e){if(zn(e))throw new o(s);return baseIsNative(e)},lodash.isNil=function isNil(e){return null==e},lodash.isNull=function isNull(e){return null===e},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=Nr,lodash.isSafeInteger=function isSafeInteger(e){return isInteger(e)&&e>=-L&&e<=L},lodash.isSet=Fr,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=Ur,lodash.isUndefined=function isUndefined(e){return e===i},lodash.isWeakMap=function isWeakMap(e){return isObjectLike(e)&&Qn(e)==ae},lodash.isWeakSet=function isWeakSet(e){return isObjectLike(e)&&baseGetTag(e)==se},lodash.join=function join(e,t){return null==e?"":on.call(e,t)},lodash.kebabCase=io,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=toInteger(n))<0?sn(r+o,0):ln(o,r-1)),t==t?function strictLastIndexOf(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):baseFindIndex(e,baseIsNaN,o,!0)},lodash.lowerCase=ao,lodash.lowerFirst=so,lodash.lt=Hr,lodash.lte=jr,lodash.max=function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):i},lodash.maxBy=function maxBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseGt):i},lodash.mean=function mean(e){return baseMean(e,identity)},lodash.meanBy=function meanBy(e,t){return baseMean(e,getIteratee(t,2))},lodash.min=function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):i},lodash.minBy=function minBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseLt):i},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=ko,lodash.nth=function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):i},lodash.noConflict=function noConflict(){return Rt._===this&&(Rt._=ht),this},lodash.noop=noop,lodash.now=br,lodash.pad=function pad(e,t,n){e=toString(e);var r=(t=toInteger(t))?stringSize(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return createPadding(en(o),n)+e+createPadding(Zt(o),n)},lodash.padEnd=function padEnd(e,t,n){e=toString(e);var r=(t=toInteger(t))?stringSize(e):0;return t&&r<t?e+createPadding(t-r,n):e},lodash.padStart=function padStart(e,t,n){e=toString(e);var r=(t=toInteger(t))?stringSize(e):0;return t&&r<t?createPadding(t-r,n)+e:e},lodash.parseInt=function parseInt(e,t,n){return n||null==t?t=0:t&&(t=+t),un(toString(e).replace(Me,""),t||0)},lodash.random=function random(e,t,n){if(n&&"boolean"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=toFinite(e),t===i?(t=e,e=0):t=toFinite(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=dn();return ln(e+o*(t-e+kt("1e-"+((o+"").length-1))),t)}return baseRandom(e,t)},lodash.reduce=function reduce(e,t,n){var r=Ir(e)?arrayReduce:baseReduce,o=arguments.length<3;return r(e,getIteratee(t,4),n,o,Bn)},lodash.reduceRight=function reduceRight(e,t,n){var r=Ir(e)?arrayReduceRight:baseReduce,o=arguments.length<3;return r(e,getIteratee(t,4),n,o,Pn)},lodash.repeat=function repeat(e,t,n){return t=(n?isIterateeCall(e,t,n):t===i)?1:toInteger(t),baseRepeat(toString(e),t)},lodash.replace=function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:t.replace(e[1],e[2])},lodash.result=function result(e,t,n){var r=-1,o=(t=castPath(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[toKey(t[r])];a===i&&(r=o,a=n),e=isFunction(a)?a.call(e):a}return e},lodash.round=Bo,lodash.runInContext=runInContext,lodash.sample=function sample(e){return(Ir(e)?arraySample:baseSample)(e)},lodash.size=function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=Qn(e);return t==Y||t==ne?e.size:baseKeys(e).length},lodash.snakeCase=lo,lodash.some=function some(e,t,n){var r=Ir(e)?arraySome:baseSome;return n&&isIterateeCall(e,t,n)&&(t=i),r(e,getIteratee(t,3))},lodash.sortedIndex=function sortedIndex(e,t){return baseSortedIndex(e,t)},lodash.sortedIndexBy=function sortedIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2))},lodash.sortedIndexOf=function sortedIndexOf(e,t){var n=null==e?0:e.length;if(n){var r=baseSortedIndex(e,t);if(r<n&&eq(e[r],t))return r}return-1},lodash.sortedLastIndex=function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(e,t,n){return baseSortedIndexBy(e,t,getIteratee(n,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(e,t){if(null!=e&&e.length){var n=baseSortedIndex(e,t,!0)-1;if(eq(e[n],t))return n}return-1},lodash.startCase=co,lodash.startsWith=function startsWith(e,t,n){return e=toString(e),n=null==n?0:baseClamp(toInteger(n),0,e.length),t=baseToString(t),e.slice(n,n+t.length)==t},lodash.subtract=Po,lodash.sum=function sum(e){return e&&e.length?baseSum(e,identity):0},lodash.sumBy=function sumBy(e,t){return e&&e.length?baseSum(e,getIteratee(t,2)):0},lodash.template=function template(e,t,n){var r=lodash.templateSettings;n&&isIterateeCall(e,t,n)&&(t=i),e=toString(e),t=$r({},t,r,customDefaultsAssignIn);var o,a,s=$r({},t.imports,r.imports,customDefaultsAssignIn),l=keys(s),c=baseValues(s,l),u=0,d=t.interpolate||Ye,f="__p += '",p=tt((t.escape||Ye).source+"|"+d.source+"|"+(d===Oe?Qe:Ye).source+"|"+(t.evaluate||Ye).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++St+"]")+"\n";e.replace(p,function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(u,l).replace(Xe,escapeStringChar),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),f+="';\n";var g=t.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(ye,""):f).replace(be,"$1").replace(we,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=po(function(){return Je(l,h+"return "+f).apply(i,c)});if(m.source=f,isError(m))throw m;return m},lodash.times=function times(e,t){if((e=toInteger(e))<1||e>L)return[];var n=N,r=ln(e,N);t=getIteratee(t),e-=N;for(var o=baseTimes(r,t);++n<e;)t(n);return o},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(e){return toString(e).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(e){return e?baseClamp(toInteger(e),-L,L):0===e?e:0},lodash.toString=toString,lodash.toUpper=function toUpper(e){return toString(e).toUpperCase()},lodash.trim=function trim(e,t,n){if((e=toString(e))&&(n||t===i))return e.replace(Le,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e),o=stringToArray(t);return castSlice(r,charsStartIndex(r,o),charsEndIndex(r,o)+1).join("")},lodash.trimEnd=function trimEnd(e,t,n){if((e=toString(e))&&(n||t===i))return e.replace(De,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,0,charsEndIndex(r,stringToArray(t))+1).join("")},lodash.trimStart=function trimStart(e,t,n){if((e=toString(e))&&(n||t===i))return e.replace(Me,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,charsStartIndex(r,stringToArray(t))).join("")},lodash.truncate=function truncate(e,t){var n=x,r=O;if(isObject(t)){var o="separator"in t?t.separator:o;n="length"in t?toInteger(t.length):n,r="omission"in t?baseToString(t.omission):r}var a=(e=toString(e)).length;if(hasUnicode(e)){var s=stringToArray(e);a=s.length}if(n>=a)return e;var l=n-stringSize(r);if(l<1)return r;var c=s?castSlice(s,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(s&&(l+=c.length-l),Nr(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=tt(o.source,toString(ze.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var f=u.index;c=c.slice(0,f===i?l:f)}}else if(e.indexOf(baseToString(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},lodash.unescape=function unescape(e){return(e=toString(e))&&Ce.test(e)?e.replace(_e,Kt):e},lodash.uniqueId=function uniqueId(e){var t=++ut;return toString(e)+t},lodash.upperCase=uo,lodash.upperFirst=fo,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(Oo={},baseForOwn(lodash,function(e,t){ct.call(lodash.prototype,t)||(Oo[t]=e)}),Oo),{chain:!1}),lodash.VERSION="4.17.11",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(n){n=n===i?1:sn(toInteger(n),0);var r=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,N),type:e+(r.__dir__<0?"Right":"")}),r},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==P||3==n;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:getIteratee(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),arrayEach(["head","last"],function(e,t){var n="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest(function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map(function(n){return baseInvoke(n,e,t)})}),LazyWrapper.prototype.reject=function(e){return this.filter(negate(getIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var n=this;return n.__filtered__&&(e>0||t<0)?new LazyWrapper(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=toInteger(t))<0?n.dropRight(-t):n.take(t-e)),n)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(N)},baseForOwn(LazyWrapper.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=lodash[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(lodash.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof LazyWrapper,c=s[0],u=l||Ir(t),d=function(e){var t=o.apply(lodash,arrayPush([e],s));return r&&f?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,g=l&&!p;if(!a&&u){t=g?t:new LazyWrapper(this);var m=e.apply(t,s);return m.__actions__.push({func:thru,args:[d],thisArg:i}),new LodashWrapper(m,f)}return h&&g?e.apply(this,s):(m=this.thru(d),h?r?m.value()[0]:m.value():m)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ir(o)?o:[],e)}return this[n](function(n){return t.apply(Ir(n)?n:[],e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var n=lodash[t];if(n){var r=n.name+"";(bn[r]||(bn[r]=[])).push({name:t,func:n})}}),bn[createHybrid(i,v).name]=[{name:"wrapper",func:i}],LazyWrapper.prototype.clone=function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},LazyWrapper.prototype.value=function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ir(e),r=t<0,o=n?e.length:0,i=function getView(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ln(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,f=0,p=ln(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return baseWrapperValue(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var g=-1,m=e[c+=t];++g<d;){var A=u[g],v=A.iteratee,y=A.type,b=v(m);if(y==I)m=b;else if(!b){if(y==P)continue e;break e}}h[f++]=m}return h},lodash.prototype.at=dr,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){this.__values__===i&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(e){for(var t,n=this;n instanceof baseLodash;){var r=wrapperClone(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},lodash.prototype.reverse=function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),(t=t.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:i}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,Nt&&(lodash.prototype[Nt]=function wrapperToIterator(){return this}),lodash}();Rt._=qt,(o=function(){return qt}.call(t,n,t,r))===i||(r.exports=o)}).call(this)}).call(this,n(71),n(120)(e))},function(e,t,n){"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return r});var r=function(){function Debug(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Debug)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Debug,null,[{key:"log",value:function log(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}]),Debug}()},function(e,t,n){var r=n(7),o=n(30),i=n(31),a=n(59)("src"),s=n(287),l=(""+s).split("toString");n(50).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(2),o=n(10),i=n(43),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";var r=n(21);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function BaseModule(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseModule),_possibleConstructorReturn(this,_getPrototypeOf(BaseModule).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseModule,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseModule,[{key:"initialize",value:function initialize(){}}]),BaseModule}();t.a=o},function(e,t,n){"use strict";var r=n(171),o=n(187),i=n(83);var a=function castFunction(e){return"function"==typeof e?e:i.a},s=n(17);t.a=function forEach(e,t){return(Object(s.a)(e)?r.a:o.a)(e,a(t))}},function(e,t,n){var r=n(14),o=n(58);e.exports=n(15)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(89),o=n(58),i=n(35),a=n(36),s=n(31),l=n(197),c=Object.getOwnPropertyDescriptor;t.f=n(15)?c:function getOwnPropertyDescriptor(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.a=function isObjectLike(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(103),o=n(43);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(32);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(37),o=n(103),i=n(19),a=n(16),s=n(199);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var g,m,A=i(t),v=o(A),y=r(s,h,3),b=a(v.length),w=0,_=n?p(t,b):l?p(t,0):void 0;b>w;w++)if((f||w in v)&&(m=y(g=v[w],w,A),e))if(n)_[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:_.push(g)}else if(u)return!1;return d?-1:c||u?u:_}}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(2),o=n(50),i=n(10);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r={bubbleScroll:!0,scrollSensitivity:50,scrollSpeed:40,swapThreshold:.8,direction:"vertical",removeCloneOnHide:!1,ghostClass:"ghostClass"},o={SEVERITY:{SERVER_PROBLEM:5,CLIENT_ERROR:4,WARNING:3,INFO:1}},i=[{name:"Chrome"},{name:"Firefox"},{name:"Opera"},{name:"Safari"},{name:"Edge"}]},function(e,t,n){"use strict";var r=n(13),o=n(285),i=n(29),a=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function BaseSettingComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseSettingComponent),_possibleConstructorReturn(this,_getPrototypeOf(BaseSettingComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseSettingComponent,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseSettingComponent,[{key:"setNewData",value:function setNewData(e,t){var n=this,r=this.getBind(e),a=this.getUserInputValue(e);Object(o.a)(this.currentSettingScheme,"customBehavior.actions.beforeChange",!1),Object(i.a)(r,function(e){(!n.matchAttributes(a,n.model.get(e))||void 0!==a.length&&0!==a.length)&&n.model.set(e,a)}),Object(o.a)(this.currentSettingScheme,"customBehavior.actions.afterChange",!1),"function"==typeof this.options.callback&&this.options.callback(this.model,a),"function"==typeof t&&t()}},{key:"getModelValue",value:function getModelValue(){return this.model.getAttributes(Object(a.a)(this,"options.bind.0"))}},{key:"matchAttributes",value:function matchAttributes(e,t){var n=_typeof(t);return"number"===_typeof(e)&&"number"!==n?!(!isNaN(e)||!isNaN(t))||parseInt(t)===e:t===e}},{key:"themeValue",value:function themeValue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.currentTheme[Object(a.a)(this,e||"options.bind.0")]}},{key:"getBind",value:function getBind(){}},{key:"getUserInputValue",value:function getUserInputValue(){}},{key:"events",get:function get(){return{}}},{key:"modelValue",get:function get(){return this.model.get(Object(a.a)(this,"options.bind.0"))}}]),BaseSettingComponent}();t.a=s},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(31),o=n(19),i=n(140)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";if(n(15)){var r=n(51),o=n(7),i=n(10),a=n(2),s=n(115),l=n(154),c=n(37),u=n(77),d=n(58),f=n(30),p=n(76),h=n(44),g=n(16),m=n(223),A=n(72),v=n(36),y=n(31),b=n(88),w=n(8),_=n(19),E=n(135),C=n(62),S=n(45),T=n(65).f,x=n(137),O=n(59),k=n(12),B=n(38),P=n(106),I=n(90),R=n(138),L=n(73),M=n(105),D=n(75),N=n(134),F=n(198),U=n(14),H=n(33),j=U.f,Q=H.f,z=o.RangeError,$=o.TypeError,V=o.Uint8Array,G=Array.prototype,W=l.ArrayBuffer,K=l.DataView,q=B(0),Y=B(2),X=B(3),J=B(4),Z=B(5),ee=B(6),te=P(!0),ne=P(!1),re=R.values,oe=R.keys,ie=R.entries,ae=G.lastIndexOf,se=G.reduce,le=G.reduceRight,ce=G.join,ue=G.sort,de=G.slice,fe=G.toString,pe=G.toLocaleString,he=k("iterator"),ge=k("toStringTag"),me=O("typed_constructor"),Ae=O("def_constructor"),ve=s.CONSTR,ye=s.TYPED,be=s.VIEW,we=B(1,function(e,t){return Te(I(e,e[Ae]),t)}),_e=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ee=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),Ce=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Se=function(e){if(w(e)&&ye in e)return e;throw $(e+" is not a typed array!")},Te=function(e,t){if(!(w(e)&&me in e))throw $("It is not a typed array constructor!");return new e(t)},xe=function(e,t){return Oe(I(e,e[Ae]),t)},Oe=function(e,t){for(var n=0,r=t.length,o=Te(e,r);r>n;)o[n]=t[n++];return o},ke=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},Be=function from(e){var t,n,r,o,i,a,s=_(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,f=x(s);if(void 0!=f&&!E(f)){for(a=f.call(s),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);s=r}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=g(s.length),o=Te(this,n);n>t;t++)o[t]=d?u(s[t],t):s[t];return o},Pe=function of(){for(var e=0,t=arguments.length,n=Te(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!V&&i(function(){pe.call(new V(1))}),Re=function toLocaleString(){return pe.apply(Ie?de.call(Se(this)):Se(this),arguments)},Le={copyWithin:function copyWithin(e,t){return F.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function every(e){return J(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function fill(e){return N.apply(Se(this),arguments)},filter:function filter(e){return xe(this,Y(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function find(e){return Z(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(e){q(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function includes(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function join(e){return ce.apply(Se(this),arguments)},lastIndexOf:function lastIndexOf(e){return ae.apply(Se(this),arguments)},map:function map(e){return we(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(e){return se.apply(Se(this),arguments)},reduceRight:function reduceRight(e){return le.apply(Se(this),arguments)},reverse:function reverse(){for(var e,t=Se(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function some(e){return X(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function sort(e){return ue.call(Se(this),e)},subarray:function subarray(e,t){var n=Se(this),r=n.length,o=A(e,r);return new(I(n,n[Ae]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,g((void 0===t?r:A(t,r))-o))}},Me=function slice(e,t){return xe(this,de.call(Se(this),e,t))},De=function set(e){Se(this);var t=Ce(arguments[1],1),n=this.length,r=_(e),o=g(r.length),i=0;if(o+t>n)throw z("Wrong length!");for(;i<o;)this[t+i]=r[i++]},Ne={entries:function entries(){return ie.call(Se(this))},keys:function keys(){return oe.call(Se(this))},values:function values(){return re.call(Se(this))}},Fe=function(e,t){return w(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function getOwnPropertyDescriptor(e,t){return Fe(e,t=v(t,!0))?d(2,e[t]):Q(e,t)},He=function defineProperty(e,t,n){return!(Fe(e,t=v(t,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};ve||(H.f=Ue,U.f=He),a(a.S+a.F*!ve,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:He}),i(function(){fe.call({})})&&(fe=pe=function toString(){return ce.call(this)});var je=p({},Le);p(je,Ne),f(je,he,Ne.values),p(je,{slice:Me,set:De,constructor:function(){},toString:fe,toLocaleString:Re}),ke(je,"buffer","b"),ke(je,"byteOffset","o"),ke(je,"byteLength","l"),ke(je,"length","e"),j(je,ge,{get:function(){return this[ye]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=o[c],A=h||{},v=h&&S(h),y=!h||!s.ABV,_={},E=h&&h.prototype,x=function(e,n){j(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,_e)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,_e)}(this,n,e)},enumerable:!0})};y?(h=n(function(e,n,r,o){u(e,h,c,"_d");var i,a,s,l,d=0,p=0;if(w(n)){if(!(n instanceof W||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return ye in n?Oe(h,n):Be.call(h,n);i=n,p=Ce(r,t);var A=n.byteLength;if(void 0===o){if(A%t)throw z("Wrong length!");if((a=A-p)<0)throw z("Wrong length!")}else if((a=g(o)*t)+p>A)throw z("Wrong length!");s=a/t}else s=m(n),i=new W(a=s*t);for(f(e,"_d",{b:i,o:p,l:a,e:s,v:new K(i)});d<s;)x(e,d++)}),E=h.prototype=C(je),f(E,"constructor",h)):i(function(){h(1)})&&i(function(){new h(-1)})&&M(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,o){var i;return u(e,h,c),w(n)?n instanceof W||"ArrayBuffer"==(i=b(n))||"SharedArrayBuffer"==i?void 0!==o?new A(n,Ce(r,t),o):void 0!==r?new A(n,Ce(r,t)):new A(n):ye in n?Oe(h,n):Be.call(h,n):new A(m(n))}),q(v!==Function.prototype?T(A).concat(T(v)):T(A),function(e){e in h||f(h,e,A[e])}),h.prototype=E,r||(E.constructor=h));var O=E[he],k=!!O&&("values"==O.name||void 0==O.name),B=Ne.values;f(h,me,!0),f(E,ye,c),f(E,be,!0),f(E,Ae,h),(l?new h(1)[ge]==c:ge in E)||j(E,ge,{get:function(){return c}}),_[c]=h,a(a.G+a.W+a.F*(h!=A),_),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){A.of.call(h,1)}),c,{from:Be,of:Pe}),"BYTES_PER_ELEMENT"in E||f(E,"BYTES_PER_ELEMENT",t),a(a.P,c,Le),D(c),a(a.P+a.F*Ee,c,{set:De}),a(a.P+a.F*!k,c,Ne),r||E.toString==fe||(E.toString=fe),a(a.P+a.F*i(function(){new h(1).slice()}),c,{slice:Me}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!i(function(){E.toLocaleString.call([1,2])})),c,{toLocaleString:Re}),L[c]=k?O:B,r||k||f(E,he,B)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=n(228);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function HttpError(e,t,n){var r;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HttpError),(r=_possibleConstructorReturn(this,_getPrototypeOf(HttpError).call(this,e))).resp=t,r.status=n,r.severity=Math.floor(n/100),r}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HttpError,r["a"]),HttpError}();t.a=o},function(e,t,n){"use strict";var r=n(100),o=n(168);t.a=function isArrayLike(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(20).a.Symbol;t.a=r},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t,n){var r=n(59)("meta"),o=n(8),i=n(31),a=n(14).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(10)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){"use strict";t.a=function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";var r=n(49),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;var l=function getRawTag(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o},c=Object.prototype.toString;var u=function objectToString(e){return c.call(e)},d="[object Null]",f="[object Undefined]",p=r.a?r.a.toStringTag:void 0;t.a=function baseGetTag(e){return null==e?void 0===e?f:d:p&&p in Object(e)?l(e):u(e)}},function(e,t,n){"use strict";var r=n(275),o=n(259),i=Object(o.a)(function(e,t,n){Object(r.a)(e,t,n)});t.a=i},function(e,t,n){"use strict";var r=n(92),o=1/0;t.a=function toKey(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){"use strict";var r=n(17),o=n(169),i=n(161),a="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(memoize.Cache||i.a),n}memoize.Cache=i.a;var s=memoize,l=500;var c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=function memoizeCapped(e){var t=s(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(c,function(e,n,r,o){t.push(r?o.replace(u,"$1"):n||e)}),t}),f=n(93);t.a=function castPath(e,t){return Object(r.a)(e)?e:Object(o.a)(e,t)?[e]:d(Object(f.a)(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(12)("unscopables"),o=Array.prototype;void 0==o[r]&&n(30)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(9),o=n(202),i=n(141),a=n(140)("IE_PROTO"),s=function(){},l=function(){var e,t=n(133)("iframe"),r=i.length;for(t.style.display="none",n(204).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function create(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(203),o=n(141);e.exports=Object.keys||function keys(e){return r(e,o)}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(203),o=n(141).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return r(e,o)}},function(e,t,n){"use strict";t.a=function baseUnary(e){return function(t){return e(t)}}},function(e,t,n){"use strict";var r=n(21),o=n(285),i=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function BaseBlockModel(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseBlockModel),_possibleConstructorReturn(this,_getPrototypeOf(BaseBlockModel).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseBlockModel,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseBlockModel,[{key:"initialize",value:function initialize(){var e=this;this.listenTo(this.column,"change:position",function(){e.set("col",e.column.get("position"),{silent:!0})}),this.listenTo(this,"change",function(){void 0!==e.section&&e.section.sectionWidthValidation()}),_get(_getPrototypeOf(BaseBlockModel.prototype),"initialize",this).call(this)}},{key:"removeColumn",value:function removeColumn(){return this.section.removeColumn(this.column)}},{key:"save",value:function save(e,t,n){Object(o.a)(this.getSection(),"updateElements")}},{key:"getSection",value:function getSection(){return Object(i.a)(this,"collection.column.collection.section")}},{key:"column",get:function get(){return Object(i.a)(this,"collection.column")}},{key:"section",get:function get(){return Object(i.a)(this,"collection.column.collection.section")}}]),BaseBlockModel}();t.a=a},function(e,t,n){"use strict";(function(e){var r=n(13),o=n(1),i=n(0),a=n(11),s=n(29),c=n(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(t){function BaseBlockView(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseBlockView),t=_possibleConstructorReturn(this,_getPrototypeOf(BaseBlockView).call(this,e)),Object(a.a)(e,"enableTheme",!0)&&t.listenToTheme(),t._selected=!1,t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseBlockView,r["a"]),_createClass(BaseBlockView,[{key:"onSelect",value:function onSelect(){var e=this;this.selected||(this.selected=!0,i.a.publishSync(o.f.DESELECT,this),i.a.subscribeOnce(o.f.DESELECT,function(t,n){e.onGlobalDeselect(n)}),i.a.subscribeOnce(o.f.DRAG_START,function(t,n){e.onGlobalDeselect(n)}),i.a.publish(o.b.SELECTED,this),i.a.publish(o.k.BUILD,Object(a.a)(this,"model.settingsScheme")))}},{key:"onGlobalDeselect",value:function onGlobalDeselect(e){var t=this;Object(a.a)(e,"uuid")!==this.uuid&&(this.selected=!1,this.model.is_modified&&setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:t.model.attributes.type.replace(/([a-z])([A-Z])/g,"$1 $2")+" block modified",section_uuid:void 0!==t.model.section?t.model.section.uuid:"email",type:t.model.get("type")}]),t.model.is_modified=!1;case 2:case"end":return e.stop()}},_callee)})),100),i.a.publish(o.b.DESELECTED,this))}},{key:"selected",get:function get(){return this._selected},set:function set(e){this._selected=e}},{key:"attributes",get:function get(){return{"data-type":this.model.get("type"),"data-id":this.model.id,width:"100%",role:"presentation",border:0,cellpadding:0,cellspacing:0}}},{key:"className",get:function get(){return"table-block base-block-view"}},{key:"tagName",get:function get(){return"table"}},{key:"events",get:function get(){var e=this;return{"click.BaseView":function clickBaseView(t){t.preventDefault(),t.stopPropagation(),e.onSelect()},"mouseenter.BaseView":function mouseenterBaseView(){i.a.publish(o.b.HOVER.ENTER,e)},"mouseleave.BaseView":function mouseleaveBaseView(){i.a.publish(o.b.HOVER.LEAVE,e)}}}}]),_createClass(BaseBlockView,[{key:"initialize",value:function initialize(){}},{key:"listenToTheme",value:function listenToTheme(){var e=this;i.a.subscribe(o.p.EDIT[this.model.eventName],function(t,n){e.handleThemeCustomize(t,n)}),i.a.subscribe(o.p.CHANGED[this.model.eventName],function(t,n){e.handleThemeChange(t,n)}),i.a.subscribe(o.p.CHANGED.ALL,function(t,n){e.handleThemeChange(t,n)}),i.a.subscribe(o.n.RESET[this.model.eventName],function(t,n){e.resetStyle(n)})}},{key:"handleThemeChange",value:function handleThemeChange(e,t){return this.render()}},{key:"handleThemeCustomize",value:function handleThemeCustomize(e,t){var n=this;return Builder.isThemeOverrideEnabled()&&Object(s.a)(t,function(e){n.model.set(e,null,{silent:!0})}),this.render()}},{key:"duplicate",value:function duplicate(){var e=this,t=this.model.copy();this.model.collection.add(t,{at:this.model.get("pos")+1,wait:!1}),setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:t.type.replace(/([a-z])([A-Z])/g,"$1 $2")+" copied",section_uuid:e.model.section.uuid}]);case 1:case"end":return n.stop()}},_callee2)})),250)}},{key:"remove",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var t,n,r=this;return regeneratorRuntime.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(t=this.model.section.uuid,Builder.isLocalEnabled("hideBlockDeleteWarning")){a.next=8;break}return a.next=4,c.a.confirm({type:null,title:l("Are you sure?"),confirmButtonText:l("Delete block"),cancelButtonText:l("Cancel"),focusConfirm:!1,html:l("You are going to permanently delete the block.")+'<div class="custom-control custom-checkbox" style="padding-top:25px;">   <input type="checkbox" class="custom-control-input" id="do-not-show-checkbox" >       <label class="custom-control-label" for="do-not-show-checkbox">'+l("Do not show this warning in the future")+"</label></div>",preConfirm:function preConfirm(){e("#do-not-show-checkbox").is(":checked")&&Builder.toggleLocal("hideBlockDeleteWarning")}});case 4:if(n=a.sent,n.value){a.next=8;break}return a.abrupt("return",!1);case 8:return this.$el.animateCss("fadeOut",function(){r.model.collection.remove(r.model),_get(_getPrototypeOf(BaseBlockView.prototype),"remove",r).call(r),Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:r.model.attributes.type.replace(/([a-z])([A-Z])/g,"$1 $2")+" removed from email",section_uuid:t}])},140),i.a.publish(o.b.DELETED,this.model),a.abrupt("return",this);case 11:case"end":return a.stop()}},_callee3,this)}));return function remove(){return t.apply(this,arguments)}}()}]),BaseBlockView}();t.a=u}).call(this,n(22))},function(e,t,n){"use strict";var r,o=n(100),i=n(20).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var s=function isMasked(e){return!!a&&a in e},l=n(23),c=n(118),u=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,h=f.hasOwnProperty,g=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var m=function baseIsNative(e){return!(!Object(l.a)(e)||s(e))&&(Object(o.a)(e)?g:u).test(Object(c.a)(e))};var A=function getValue(e,t){return null==e?void 0:e[t]};t.a=function getNative(e,t){var n=A(e,t);return m(n)?n:void 0}},function(e,t,n){e.exports=function(){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _construct(e,t,n){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function _construct(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var e=function toArray(e){return Array.prototype.slice.call(e)},t=function formatInputOptions(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(function(e,n){t.push([n,e])}):Object.keys(e).forEach(function(n){t.push([n,e[n]])}),t},n=function warn(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},r=function error(e){console.error("".concat("SweetAlert2:"," ").concat(e))},o=[],i=function warnOnce(e){-1===o.indexOf(e)&&(o.push(e),n(e))},a=function callIfFunction(e){return"function"==typeof e?e():e},s=function isPromise(e){return e&&Promise.resolve(e)===e},l=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),c=function prefix(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},u=c(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),d=c(["success","warning","info","question","error"]),f={previousBodyPadding:null},p=function hasClass(e,t){return e.classList.contains(t)},h=function focusInput(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},g=function addOrRemoveClass(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(function(t){e.forEach?e.forEach(function(e){n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},m=function addClass(e,t){g(e,t,!0)},A=function removeClass(e,t){g(e,t,!1)},v=function getChildByClass(e,t){for(var n=0;n<e.childNodes.length;n++)if(p(e.childNodes[n],t))return e.childNodes[n]},y=function show(e){e.style.opacity="",e.style.display=e.id===u.content?"block":"flex"},b=function hide(e){e.style.opacity="",e.style.display="none"},w=function isVisible(e){return e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_=function getContainer(){return document.body.querySelector("."+u.container)},E=function elementByClass(e){var t=_();return t?t.querySelector("."+e):null},C=function getPopup(){return E(u.popup)},S=function getIcons(){var t=C();return e(t.querySelectorAll("."+u.icon))},T=function getTitle(){return E(u.title)},x=function getContent(){return E(u.content)},O=function getImage(){return E(u.image)},k=function getProgressSteps(){return E(u.progresssteps)},B=function getValidationMessage(){return E(u["validation-message"])},P=function getConfirmButton(){return E(u.confirm)},I=function getCancelButton(){return E(u.cancel)},R=function getActions(){return E(u.actions)},L=function getFooter(){return E(u.footer)},M=function getCloseButton(){return E(u.close)},D=function getFocusableElements(){var t=e(C().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e,t){return e=parseInt(e.getAttribute("tabindex")),t=parseInt(t.getAttribute("tabindex")),e>t?1:e<t?-1:0}),n=e(C().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function(e){return"-1"!==e.getAttribute("tabindex")});return function uniqueArray(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(t.concat(n)).filter(function(e){return w(e)})},N=function isModal(){return!F()&&!document.body.classList.contains(u["no-backdrop"])},F=function isToast(){return document.body.classList.contains(u["toast-shown"])},U=function isNodeEnv(){return"undefined"==typeof window||"undefined"==typeof document},H='\n <div aria-labelledby="'.concat(u.title,'" aria-describedby="').concat(u.content,'" class="').concat(u.popup,'" tabindex="-1">\n   <div class="').concat(u.header,'">\n     <ul class="').concat(u.progresssteps,'"></ul>\n     <div class="').concat(u.icon," ").concat(d.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(u.icon," ").concat(d.question,'">\n       <span class="').concat(u["icon-text"],'">?</span>\n      </div>\n     <div class="').concat(u.icon," ").concat(d.warning,'">\n       <span class="').concat(u["icon-text"],'">!</span>\n      </div>\n     <div class="').concat(u.icon," ").concat(d.info,'">\n       <span class="').concat(u["icon-text"],'">i</span>\n      </div>\n     <div class="').concat(u.icon," ").concat(d.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(u.image,'" />\n     <h2 class="').concat(u.title,'" id="').concat(u.title,'"></h2>\n     <button type="button" class="').concat(u.close,'">×</button>\n   </div>\n   <div class="').concat(u.content,'">\n     <div id="').concat(u.content,'"></div>\n     <input class="').concat(u.input,'" />\n     <input type="file" class="').concat(u.file,'" />\n     <div class="').concat(u.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(u.select,'"></select>\n     <div class="').concat(u.radio,'"></div>\n     <label for="').concat(u.checkbox,'" class="').concat(u.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(u.label,'"></span>\n     </label>\n     <textarea class="').concat(u.textarea,'"></textarea>\n     <div class="').concat(u["validation-message"],'" id="').concat(u["validation-message"],'"></div>\n   </div>\n   <div class="').concat(u.actions,'">\n     <button type="button" class="').concat(u.confirm,'">OK</button>\n     <button type="button" class="').concat(u.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(u.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),j=function init(e){var t=_();if(t&&(t.parentNode.removeChild(t),A([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]])),!U()){var n=document.createElement("div");n.className=u.container,n.innerHTML=H;var o="string"==typeof e.target?document.querySelector(e.target):e.target;o.appendChild(n);var i,a=C(),s=x(),l=v(s,u.input),c=v(s,u.file),d=s.querySelector(".".concat(u.range," input")),f=s.querySelector(".".concat(u.range," output")),p=v(s,u.select),h=s.querySelector(".".concat(u.checkbox," input")),g=v(s,u.textarea);a.setAttribute("role",e.toast?"alert":"dialog"),a.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||a.setAttribute("aria-modal","true"),"rtl"===window.getComputedStyle(o).direction&&m(_(),u.rtl);var y=function resetValidationMessage(e){we.isVisible()&&i!==e.target.value&&we.resetValidationMessage(),i=e.target.value};return l.oninput=y,c.onchange=y,p.onchange=y,h.onchange=y,g.oninput=y,d.oninput=function(e){y(e),f.value=d.value},d.onchange=function(e){y(e),d.nextSibling.value=d.value},a}r("SweetAlert2 requires document to initialize")},Q=function parseHtmlToContainer(e,t){if(!e)return b(t);if(e instanceof HTMLElement)t.appendChild(e);else if("object"===_typeof(e))if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0));else e&&(t.innerHTML=e);y(t)},z=function(){if(U())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),$=function renderActions(e){var t=R(),n=P(),r=I();if(e.showConfirmButton||e.showCancelButton?y(t):b(t),e.showCancelButton?r.style.display="inline-block":b(r),e.showConfirmButton?n.style.removeProperty("display"):b(n),n.innerHTML=e.confirmButtonText,r.innerHTML=e.cancelButtonText,n.setAttribute("aria-label",e.confirmButtonAriaLabel),r.setAttribute("aria-label",e.cancelButtonAriaLabel),n.className=u.confirm,m(n,e.confirmButtonClass),r.className=u.cancel,m(r,e.cancelButtonClass),e.buttonsStyling){m([n,r],u.styled),e.confirmButtonColor&&(n.style.backgroundColor=e.confirmButtonColor),e.cancelButtonColor&&(r.style.backgroundColor=e.cancelButtonColor);var o=window.getComputedStyle(n).getPropertyValue("background-color");n.style.borderLeftColor=o,n.style.borderRightColor=o}else A([n,r],u.styled),n.style.backgroundColor=n.style.borderLeftColor=n.style.borderRightColor="",r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor=""},V=function renderContent(e){var t=x().querySelector("#"+u.content);e.html?Q(e.html,t):e.text?(t.textContent=e.text,y(t)):b(t)},G=function renderIcon(e){for(var t=S(),n=0;n<t.length;n++)b(t[n]);if(e.type)if(-1!==Object.keys(d).indexOf(e.type)){var o=we.getPopup().querySelector(".".concat(u.icon,".").concat(d[e.type]));y(o),e.animation&&m(o,"swal2-animate-".concat(e.type,"-icon"))}else r('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.type,'"'))},W=function renderImage(e){var t=O();e.imageUrl?(t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt),y(t),e.imageWidth?t.setAttribute("width",e.imageWidth):t.removeAttribute("width"),e.imageHeight?t.setAttribute("height",e.imageHeight):t.removeAttribute("height"),t.className=u.image,e.imageClass&&m(t,e.imageClass)):b(t)},K=function renderProgressSteps(e){var t=k(),r=parseInt(null===e.currentProgressStep?we.getQueueStep():e.currentProgressStep,10);e.progressSteps&&e.progressSteps.length?(y(t),t.innerHTML="",r>=e.progressSteps.length&&n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(n,o){var i=document.createElement("li");if(m(i,u.progresscircle),i.innerHTML=n,o===r&&m(i,u.activeprogressstep),t.appendChild(i),o!==e.progressSteps.length-1){var a=document.createElement("li");m(a,u.progressline),e.progressStepsDistance&&(a.style.width=e.progressStepsDistance),t.appendChild(a)}})):b(t)},q=function renderTitle(e){var t=T();e.titleText?t.innerText=e.titleText:e.title&&("string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Q(e.title,t))},Y=function fixScrollbar(){null===f.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(f.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=f.previousBodyPadding+function measureScrollbar(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()+"px")},X=function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode},J=function fixVerticalPositionIE(){var e=_(),t=C();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Z={},ee=function close(t,n){var r=_(),o=C();if(o){null!==t&&"function"==typeof t&&t(o),A(o,u.show),m(o,u.hide);var i=function removePopupAndResetState(){F()?te(n):(function restoreActiveElement(){return new Promise(function(e){var t=window.scrollX,n=window.scrollY;Z.restoreFocusTimeout=setTimeout(function(){Z.previousActiveElement&&Z.previousActiveElement.focus?(Z.previousActiveElement.focus(),Z.previousActiveElement=null):document.body&&document.body.focus(),e()},100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)})}().then(function(){return te(n)}),Z.keydownTarget.removeEventListener("keydown",Z.keydownHandler,{capture:Z.keydownListenerCapture}),Z.keydownHandlerAdded=!1),r.parentNode&&r.parentNode.removeChild(r),A([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"],u["toast-column"]]),N()&&(function undoScrollbar(){null!==f.previousBodyPadding&&(document.body.style.paddingRight=f.previousBodyPadding,f.previousBodyPadding=null)}(),function undoIOSfix(){if(p(document.body,u.iosfix)){var e=parseInt(document.body.style.top,10);A(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),function undoIEfix(){"undefined"!=typeof window&&X()&&window.removeEventListener("resize",J)}(),function unsetAriaHidden(){e(document.body.children).forEach(function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})}())};z&&!p(o,u.noanimation)?o.addEventListener(z,function swalCloseEventFinished(){o.removeEventListener(z,swalCloseEventFinished),p(o,u.hide)&&i()}):i()}},te=function triggerOnAfterClose(e){null!==e&&"function"==typeof e&&setTimeout(function(){e()})};function withNoNewKeyword(e){var t=function NoNewKeywordSwal(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!(this instanceof NoNewKeywordSwal))return _construct(NoNewKeywordSwal,t);Object.getPrototypeOf(NoNewKeywordSwal).apply(this,t)};return t.prototype=_extends(Object.create(e.prototype),{constructor:t}),"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var ne={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},re=["useRejections","expectRejections","extraParams"],oe=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],ie=function isValidParameter(e){return ne.hasOwnProperty(e)||"extraParams"===e},ae=function isDeprecatedParameter(e){return-1!==re.indexOf(e)},se=function showWarningsForParams(e){for(var t in e)ie(t)||n('Unknown parameter "'.concat(t,'"')),e.toast&&-1!==oe.indexOf(t)&&n('The parameter "'.concat(t,'" is incompatible with toasts')),ae(t)&&i('The parameter "'.concat(t,'" is deprecated and will be removed in the next major release.'))},le='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.',ce={},ue=[],de=function showLoading(){var e=C();e||we(""),e=C();var t=R(),n=P(),r=I();y(t),y(n),m([e,t],u.loading),n.disabled=!0,r.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},fe=Object.freeze({isValidParameter:ie,isDeprecatedParameter:ae,argsToParams:function argsToParams(e){var t={};switch(_typeof(e[0])){case"object":_extends(t,e[0]);break;default:["title","html","type"].forEach(function(n,o){switch(_typeof(e[o])){case"string":t[n]=e[o];break;case"undefined":break;default:r("Unexpected type of ".concat(n,'! Expected "string", got ').concat(_typeof(e[o])))}})}return t},adaptInputValidator:function adaptInputValidator(e){return function adaptedInputValidator(t,n){return e.call(this,t,n).then(function(){},function(e){return e})}},close:ee,closePopup:ee,closeModal:ee,closeToast:ee,isVisible:function isVisible(){return!!C()},clickConfirm:function clickConfirm(){return P().click()},clickCancel:function clickCancel(){return I().click()},getContainer:_,getPopup:C,getTitle:T,getContent:x,getImage:O,getIcons:S,getCloseButton:M,getButtonsWrapper:function getButtonsWrapper(){return i("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),E(u.actions)},getActions:R,getConfirmButton:P,getCancelButton:I,getFooter:L,getFocusableElements:D,getValidationMessage:B,isLoading:function isLoading(){return C().hasAttribute("data-loading")},fire:function fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(this,t)},mixin:function mixin(e){return withNoNewKeyword(function(t){function MixinSwal(){return _classCallCheck(this,MixinSwal),_possibleConstructorReturn(this,_getPrototypeOf(MixinSwal).apply(this,arguments))}return _inherits(MixinSwal,t),_createClass(MixinSwal,[{key:"_main",value:function _main(t){return _get(_getPrototypeOf(MixinSwal.prototype),"_main",this).call(this,_extends({},e,t))}}]),MixinSwal}(this))},queue:function queue(e){var t=this;ue=e;var n=function resetQueue(){ue=[],document.body.removeAttribute("data-swal2-queue-step")},r=[];return new Promise(function(e){!function step(o,i){o<ue.length?(document.body.setAttribute("data-swal2-queue-step",o),t(ue[o]).then(function(t){void 0!==t.value?(r.push(t.value),step(o+1,i)):(n(),e({dismiss:t.dismiss}))})):(n(),e({value:r}))}(0)})},getQueueStep:function getQueueStep(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function insertQueueStep(e,t){return t&&t<ue.length?ue.splice(t,0,e):ue.push(e)},deleteQueueStep:function deleteQueueStep(e){void 0!==ue[e]&&ue.splice(e,1)},showLoading:de,enableLoading:de,getTimerLeft:function getTimerLeft(){return Z.timeout&&Z.timeout.getTimerLeft()},stopTimer:function stopTimer(){return Z.timeout&&Z.timeout.stop()},resumeTimer:function resumeTimer(){return Z.timeout&&Z.timeout.start()},toggleTimer:function toggleTimer(){var e=Z.timeout;return e&&(e.running?e.stop():e.start())},increaseTimer:function increaseTimer(e){return Z.timeout&&Z.timeout.increase(e)},isTimerRunning:function isTimerRunning(){return Z.timeout&&Z.timeout.isRunning()}}),pe="function"==typeof Symbol?Symbol:function(){var e=0;function _Symbol(t){return"__"+t+"_"+Math.floor(1e9*Math.random())+"_"+ ++e+"__"}return _Symbol.iterator=_Symbol("Symbol.iterator"),_Symbol}(),he="function"==typeof WeakMap?WeakMap:function(e,t,n){function WeakMap(){t(this,e,{value:pe("WeakMap")})}return WeakMap.prototype={delete:function del(t){delete t[this[e]]},get:function get(t){return t[this[e]]},has:function has(t){return n.call(t,this[e])},set:function set(n,r){t(n,this[e],{configurable:!0,value:r})}},WeakMap}(pe("WeakMap"),Object.defineProperty,{}.hasOwnProperty),ge={promise:new he,innerParams:new he,domCache:new he};function hideLoading(){var e=ge.innerParams.get(this),t=ge.domCache.get(this);e.showConfirmButton||(b(t.confirmButton),e.showCancelButton||b(t.actions)),A([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}function showValidationMessage(e){var t=ge.domCache.get(this);t.validationMessage.innerHTML=e;var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),y(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",u["validation-message"]),h(r),m(r,u.inputerror))}function resetValidationMessage(){var e=ge.domCache.get(this);e.validationMessage&&b(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),A(t,u.inputerror))}var me,Ae=function Timer(e,t){_classCallCheck(this,Timer);var n,r,o=t;this.running=!1,this.start=function(){return this.running||(this.running=!0,r=new Date,n=setTimeout(e,o)),o},this.stop=function(){return this.running&&(this.running=!1,clearTimeout(n),o-=new Date-r),o},this.increase=function(e){var t=this.running;return t&&this.stop(),o+=e,t&&this.start(),o},this.getTimerLeft=function(){return this.running&&(this.stop(),this.start()),o},this.isRunning=function(){return this.running},this.start()},ve={email:function email(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid email address")},url:function url(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e)?Promise.resolve():Promise.reject(t&&t.validationMessage?t.validationMessage:"Invalid URL")}},ye=function openPopup(t){var n=_(),r=C();null!==t.onBeforeOpen&&"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(r),t.animation?(m(r,u.show),m(n,u.fade),A(r,u.hide)):A(r,u.fade),y(r),n.style.overflowY="hidden",z&&!p(r,u.noanimation)?r.addEventListener(z,function swalCloseEventFinished(){r.removeEventListener(z,swalCloseEventFinished),n.style.overflowY="auto"}):n.style.overflowY="auto",m([document.documentElement,document.body,n],u.shown),t.heightAuto&&t.backdrop&&!t.toast&&m([document.documentElement,document.body],u["height-auto"]),N()&&(Y(),function iOSfix(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!p(document.body,u.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",m(document.body,u.iosfix)}}(),function IEfix(){"undefined"!=typeof window&&X()&&(J(),window.addEventListener("resize",J))}(),function setAriaHidden(){e(document.body.children).forEach(function(e){e===_()||function contains(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,_())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})}(),setTimeout(function(){n.scrollTop=0})),F()||Z.previousActiveElement||(Z.previousActiveElement=document.activeElement),null!==t.onOpen&&"function"==typeof t.onOpen&&setTimeout(function(){t.onOpen(r)})},be=Object.freeze({hideLoading:hideLoading,disableLoading:hideLoading,getInput:function getInput(e){var t=ge.innerParams.get(this),n=ge.domCache.get(this);if(!(e=e||t.input))return null;switch(e){case"select":case"textarea":case"file":return v(n.content,u[e]);case"checkbox":return n.popup.querySelector(".".concat(u.checkbox," input"));case"radio":return n.popup.querySelector(".".concat(u.radio," input:checked"))||n.popup.querySelector(".".concat(u.radio," input:first-child"));case"range":return n.popup.querySelector(".".concat(u.range," input"));default:return v(n.content,u.input)}},enableButtons:function enableButtons(){var e=ge.domCache.get(this);e.confirmButton.disabled=!1,e.cancelButton.disabled=!1},disableButtons:function disableButtons(){var e=ge.domCache.get(this);e.confirmButton.disabled=!0,e.cancelButton.disabled=!0},enableConfirmButton:function enableConfirmButton(){ge.domCache.get(this).confirmButton.disabled=!1},disableConfirmButton:function disableConfirmButton(){ge.domCache.get(this).confirmButton.disabled=!0},enableInput:function enableInput(){var e=this.getInput();if(!e)return!1;if("radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!1;else e.disabled=!1},disableInput:function disableInput(){var e=this.getInput();if(!e)return!1;if(e&&"radio"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=!0;else e.disabled=!0},showValidationMessage:showValidationMessage,resetValidationMessage:resetValidationMessage,resetValidationError:function resetValidationError(){i("Swal.resetValidationError() is deprecated and will be removed in the next major release, use Swal.resetValidationMessage() instead"),resetValidationMessage.bind(this)()},showValidationError:function showValidationError(e){i("Swal.showValidationError() is deprecated and will be removed in the next major release, use Swal.showValidationMessage() instead"),showValidationMessage.bind(this)(e)},getProgressSteps:function getProgressSteps$1(){return ge.innerParams.get(this).progressSteps},setProgressSteps:function setProgressSteps(e){var t=_extends({},ge.innerParams.get(this),{progressSteps:e});ge.innerParams.set(this,t),K(t)},showProgressSteps:function showProgressSteps(){var e=ge.domCache.get(this);y(e.progressSteps)},hideProgressSteps:function hideProgressSteps(){var e=ge.domCache.get(this);b(e.progressSteps)},_main:function _main(e){var o=this;se(e);var i=_extends({},ne,e);(function setParameters(e){e.inputValidator||Object.keys(ve).forEach(function(t){e.input===t&&(e.inputValidator=e.expectRejections?ve[t]:we.adaptInputValidator(ve[t]))}),e.validationMessage&&("object"!==_typeof(e.extraParams)&&(e.extraParams={}),e.extraParams.validationMessage=e.validationMessage),(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(n('Target parameter is not valid, defaulting to "body"'),e.target="body"),"function"==typeof e.animation&&(e.animation=e.animation.call());var t,r=C(),o="string"==typeof e.target?document.querySelector(e.target):e.target;t=r&&o&&r.parentNode!==o.parentNode?j(e):r||j(e),e.width&&(t.style.width="number"==typeof e.width?e.width+"px":e.width),e.padding&&(t.style.padding="number"==typeof e.padding?e.padding+"px":e.padding),e.background&&(t.style.background=e.background);for(var i=window.getComputedStyle(t).getPropertyValue("background-color"),a=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),s=0;s<a.length;s++)a[s].style.backgroundColor=i;var l=_(),c=M(),d=L();if(q(e),V(e),"string"==typeof e.backdrop?_().style.background=e.backdrop:e.backdrop||m([document.documentElement,document.body],u["no-backdrop"]),!e.backdrop&&e.allowOutsideClick&&n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.position in u?m(l,u[e.position]):(n('The "position" parameter is not valid, defaulting to "center"'),m(l,u.center)),e.grow&&"string"==typeof e.grow){var f="grow-"+e.grow;f in u&&m(l,u[f])}e.showCloseButton?(c.setAttribute("aria-label",e.closeButtonAriaLabel),y(c)):b(c),t.className=u.popup,e.toast?(m([document.documentElement,document.body],u["toast-shown"]),m(t,u.toast)):m(t,u.modal),e.customClass&&m(t,e.customClass),e.customContainerClass&&m(l,e.customContainerClass),K(e),G(e),W(e),$(e),Q(e.footer,d),!0===e.animation?A(t,u.noanimation):m(t,u.noanimation),e.showLoaderOnConfirm&&!e.preConfirm&&n("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")})(i),Object.freeze(i),ge.innerParams.set(this,i),Z.timeout&&(Z.timeout.stop(),delete Z.timeout),clearTimeout(Z.restoreFocusTimeout);var l={popup:C(),container:_(),content:x(),actions:R(),confirmButton:P(),cancelButton:I(),closeButton:M(),validationMessage:B(),progressSteps:k()};ge.domCache.set(this,l);var c=this.constructor;return new Promise(function(e,d){var f=function succeedWith(t){c.closePopup(i.onClose,i.onAfterClose),i.useRejections?e(t):e({value:t})},p=function dismissWith(t){c.closePopup(i.onClose,i.onAfterClose),i.useRejections?d(t):e({dismiss:t})},g=function errorWith(e){c.closePopup(i.onClose,i.onAfterClose),d(e)};i.timer&&(Z.timeout=new Ae(function(){p("timer"),delete Z.timeout},i.timer)),i.input&&setTimeout(function(){var e=o.getInput();e&&h(e)},0);for(var _=function confirm(e){if(i.showLoaderOnConfirm&&c.showLoading(),i.preConfirm){o.resetValidationMessage();var t=Promise.resolve().then(function(){return i.preConfirm(e,i.extraParams)});i.expectRejections?t.then(function(t){return f(t||e)},function(e){o.hideLoading(),e&&o.showValidationMessage(e)}):t.then(function(t){w(l.validationMessage)||!1===t?o.hideLoading():f(t||e)},function(e){return g(e)})}else f(e)},E=function onButtonEvent(e){var t=e.target,n=l.confirmButton,r=l.cancelButton,a=n&&(n===t||n.contains(t)),s=r&&(r===t||r.contains(t));switch(e.type){case"click":if(a&&c.isVisible())if(o.disableButtons(),i.input){var u=function getInputValue(){var e=o.getInput();if(!e)return null;switch(i.input){case"checkbox":return e.checked?1:0;case"radio":return e.checked?e.value:null;case"file":return e.files.length?e.files[0]:null;default:return i.inputAutoTrim?e.value.trim():e.value}}();if(i.inputValidator){o.disableInput();var d=Promise.resolve().then(function(){return i.inputValidator(u,i.extraParams)});i.expectRejections?d.then(function(){o.enableButtons(),o.enableInput(),_(u)},function(e){o.enableButtons(),o.enableInput(),e&&o.showValidationMessage(e)}):d.then(function(e){o.enableButtons(),o.enableInput(),e?o.showValidationMessage(e):_(u)},function(e){return g(e)})}else o.getInput().checkValidity()?_(u):(o.enableButtons(),o.showValidationMessage(i.validationMessage))}else _(!0);else s&&c.isVisible()&&(o.disableButtons(),p(c.DismissReason.cancel))}},C=l.popup.querySelectorAll("button"),S=0;S<C.length;S++)C[S].onclick=E,C[S].onmouseover=E,C[S].onmouseout=E,C[S].onmousedown=E;if(l.closeButton.onclick=function(){p(c.DismissReason.close)},i.toast)l.popup.onclick=function(){i.showConfirmButton||i.showCancelButton||i.showCloseButton||i.input||p(c.DismissReason.close)};else{var T=!1;l.popup.onmousedown=function(){l.container.onmouseup=function(e){l.container.onmouseup=void 0,e.target===l.container&&(T=!0)}},l.container.onmousedown=function(){l.popup.onmouseup=function(e){l.popup.onmouseup=void 0,(e.target===l.popup||l.popup.contains(e.target))&&(T=!0)}},l.container.onclick=function(e){T?T=!1:e.target===l.container&&a(i.allowOutsideClick)&&p(c.DismissReason.backdrop)}}i.reverseButtons?l.confirmButton.parentNode.insertBefore(l.cancelButton,l.confirmButton):l.confirmButton.parentNode.insertBefore(l.confirmButton,l.cancelButton);var x=function setFocus(e,t){for(var n=D(i.focusCancel),r=0;r<n.length;r++)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),n[e].focus();l.popup.focus()};Z.keydownHandlerAdded&&(Z.keydownTarget.removeEventListener("keydown",Z.keydownHandler,{capture:Z.keydownListenerCapture}),Z.keydownHandlerAdded=!1),i.toast||(Z.keydownHandler=function(e){return function keydownHandler(e,t){if(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"!==e.key||e.isComposing)if("Tab"===e.key){for(var n=e.target,r=D(t.focusCancel),i=-1,s=0;s<r.length;s++)if(n===r[s]){i=s;break}e.shiftKey?x(i,-1):x(i,1),e.stopPropagation(),e.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"].indexOf(e.key)?document.activeElement===l.confirmButton&&w(l.cancelButton)?l.cancelButton.focus():document.activeElement===l.cancelButton&&w(l.confirmButton)&&l.confirmButton.focus():"Escape"!==e.key&&"Esc"!==e.key||!0!==a(t.allowEscapeKey)||(e.preventDefault(),p(c.DismissReason.esc));else if(e.target&&o.getInput()&&e.target.outerHTML===o.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(t.input))return;c.clickConfirm(),e.preventDefault()}}(e,i)},Z.keydownTarget=i.keydownListenerCapture?window:l.popup,Z.keydownListenerCapture=i.keydownListenerCapture,Z.keydownTarget.addEventListener("keydown",Z.keydownHandler,{capture:Z.keydownListenerCapture}),Z.keydownHandlerAdded=!0),o.enableButtons(),o.hideLoading(),o.resetValidationMessage(),i.toast&&(i.input||i.footer||i.showCloseButton)?m(document.body,u["toast-column"]):A(document.body,u["toast-column"]);for(var O,k,B=["input","file","range","select","radio","checkbox","textarea"],P=function setInputPlaceholder(e){e.placeholder&&!i.inputPlaceholder||(e.placeholder=i.inputPlaceholder)},I=0;I<B.length;I++){var R=u[B[I]],L=v(l.content,R);if(O=o.getInput(B[I])){for(var M in O.attributes)if(O.attributes.hasOwnProperty(M)){var N=O.attributes[M].name;"type"!==N&&"value"!==N&&O.removeAttribute(N)}for(var F in i.inputAttributes)"range"===B[I]&&"placeholder"===F||O.setAttribute(F,i.inputAttributes[F])}L.className=R,i.inputClass&&m(L,i.inputClass),b(L)}switch(i.input){case"text":case"email":case"password":case"number":case"tel":case"url":O=v(l.content,u.input),"string"==typeof i.inputValue||"number"==typeof i.inputValue?O.value=i.inputValue:s(i.inputValue)||n('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(_typeof(i.inputValue),'"')),P(O),O.type=i.input,y(O);break;case"file":O=v(l.content,u.file),P(O),O.type=i.input,y(O);break;case"range":var U=v(l.content,u.range),H=U.querySelector("input"),j=U.querySelector("output");H.value=i.inputValue,H.type=i.input,j.value=i.inputValue,y(U);break;case"select":var Q=v(l.content,u.select);if(Q.innerHTML="",i.inputPlaceholder){var z=document.createElement("option");z.innerHTML=i.inputPlaceholder,z.value="",z.disabled=!0,z.selected=!0,Q.appendChild(z)}k=function populateInputOptions(e){e.forEach(function(e){var t=e[0],n=e[1],r=document.createElement("option");r.value=t,r.innerHTML=n,i.inputValue.toString()===t.toString()&&(r.selected=!0),Q.appendChild(r)}),y(Q),Q.focus()};break;case"radio":var $=v(l.content,u.radio);$.innerHTML="",k=function populateInputOptions(e){e.forEach(function(e){var t=e[0],n=e[1],r=document.createElement("input"),o=document.createElement("label");r.type="radio",r.name=u.radio,r.value=t,i.inputValue.toString()===t.toString()&&(r.checked=!0);var a=document.createElement("span");a.innerHTML=n,a.className=u.label,o.appendChild(r),o.appendChild(a),$.appendChild(o)}),y($);var t=$.querySelectorAll("input");t.length&&t[0].focus()};break;case"checkbox":var V=v(l.content,u.checkbox),G=o.getInput("checkbox");G.type="checkbox",G.value=1,G.id=u.checkbox,G.checked=Boolean(i.inputValue);var W=V.querySelector("span");W.innerHTML=i.inputPlaceholder,y(V);break;case"textarea":var K=v(l.content,u.textarea);K.value=i.inputValue,P(K),y(K);break;case null:break;default:r('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(i.input,'"'))}if("select"===i.input||"radio"===i.input){var q=function processInputOptions(e){return k(t(e))};s(i.inputOptions)?(c.showLoading(),i.inputOptions.then(function(e){o.hideLoading(),q(e)})):"object"===_typeof(i.inputOptions)?q(i.inputOptions):r("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(_typeof(i.inputOptions)))}else-1!==["text","email","number","tel","textarea"].indexOf(i.input)&&s(i.inputValue)&&(c.showLoading(),b(O),i.inputValue.then(function(e){O.value="number"===i.input?parseFloat(e)||0:e+"",y(O),O.focus(),o.hideLoading()}).catch(function(e){r("Error in inputValue promise: "+e),O.value="",y(O),O.focus(),o.hideLoading()}));ye(i),i.toast||(a(i.allowEnterKey)?i.focusCancel&&w(l.cancelButton)?l.cancelButton.focus():i.focusConfirm&&w(l.confirmButton)?l.confirmButton.focus():x(-1,1):document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()),l.container.scrollTop=0})}});function SweetAlert(){if("undefined"!=typeof window){"undefined"==typeof Promise&&r("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),me=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0}});var i=this._main(this.params);ge.promise.set(this,i)}}SweetAlert.prototype.then=function(e,t){var n=ge.promise.get(this);return n.then(e,t)},SweetAlert.prototype.catch=function(e){var t=ge.promise.get(this);return t.catch(e)},SweetAlert.prototype.finally=function(e){var t=ge.promise.get(this);return t.finally(e)},_extends(SweetAlert.prototype,be),_extends(SweetAlert,fe),Object.keys(be).forEach(function(e){SweetAlert[e]=function(){var t;if(me)return(t=me)[e].apply(t,arguments)}}),SweetAlert.DismissReason=l,SweetAlert.noop=function(){};var we=withNoNewKeyword(function withGlobalDefaults(e){var t=function(t){function SwalWithGlobalDefaults(){return _classCallCheck(this,SwalWithGlobalDefaults),_possibleConstructorReturn(this,_getPrototypeOf(SwalWithGlobalDefaults).apply(this,arguments))}return _inherits(SwalWithGlobalDefaults,t),_createClass(SwalWithGlobalDefaults,[{key:"_main",value:function _main(e){return _get(_getPrototypeOf(SwalWithGlobalDefaults.prototype),"_main",this).call(this,_extends({},ce,e))}}],[{key:"setDefaults",value:function setDefaults(t){if(i(le),!t||"object"!==_typeof(t))throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object");se(t),Object.keys(t).forEach(function(n){e.isValidParameter(n)&&(ce[n]=t[n])})}},{key:"resetDefaults",value:function resetDefaults(){i(le),ce={}}}]),SwalWithGlobalDefaults}(e);return"undefined"!=typeof window&&"object"===_typeof(window._swalDefaults)&&t.setDefaults(window._swalDefaults),t}(SweetAlert));return we.default=we,we}(),"undefined"!=typeof window&&window.Sweetalert2&&(window.Sweetalert2.version="7.33.1",window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,"@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;box-shadow:0 0 .625em #d9d9d9;overflow-y:hidden}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:initial;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon-text{font-size:2em;font-weight:700;line-height:1em}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:2em;height:2.8125em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.25em;left:-.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 2em;transform-origin:0 2em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:showSweetToast .5s;animation:showSweetToast .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:hideSweetToast .2s forwards;animation:hideSweetToast .2s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:animate-toast-success-tip .75s;animation:animate-toast-success-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:animate-toast-success-long .75s;animation:animate-toast-success-long .75s}@-webkit-keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@-webkit-keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}.swal2-container{display:flex;position:fixed;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:10px;background-color:transparent;z-index:1060;overflow-x:hidden;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-fade{transition:background-color .1s}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem;box-sizing:border-box}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-popup .swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-popup .swal2-title{display:block;position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-popup .swal2-actions{flex-wrap:wrap;align-items:center;justify-content:center;margin:1.25em auto 0;z-index:1}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm{width:2.5em;height:2.5em;margin:.46875em;padding:0;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;box-sizing:border-box;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{display:inline-block;width:15px;height:15px;margin-left:5px;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff;content:'';-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal}.swal2-popup .swal2-styled{margin:.3125em;padding:.625em 2em;font-weight:500;box-shadow:none}.swal2-popup .swal2-styled:not([disabled]){cursor:pointer}.swal2-popup .swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-popup .swal2-styled::-moz-focus-inner{border:0}.swal2-popup .swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-popup .swal2-image{max-width:100%;margin:1.25em auto}.swal2-popup .swal2-close{position:absolute;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer;overflow:hidden}.swal2-popup .swal2-close:hover{-webkit-transform:none;transform:none;color:#f27474}.swal2-popup>.swal2-checkbox,.swal2-popup>.swal2-file,.swal2-popup>.swal2-input,.swal2-popup>.swal2-radio,.swal2-popup>.swal2-select,.swal2-popup>.swal2-textarea{display:none}.swal2-popup .swal2-content{justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:300;line-height:normal;z-index:1;word-wrap:break-word}.swal2-popup #swal2-content{text-align:center}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-radio,.swal2-popup .swal2-select,.swal2-popup .swal2-textarea{margin:1em auto}.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-textarea{width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;font-size:1.125em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);box-sizing:border-box}.swal2-popup .swal2-file.swal2-inputerror,.swal2-popup .swal2-input.swal2-inputerror,.swal2-popup .swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-popup .swal2-file:focus,.swal2-popup .swal2-input:focus,.swal2-popup .swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-popup .swal2-file::-webkit-input-placeholder,.swal2-popup .swal2-input::-webkit-input-placeholder,.swal2-popup .swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-popup .swal2-file:-ms-input-placeholder,.swal2-popup .swal2-input:-ms-input-placeholder,.swal2-popup .swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::-ms-input-placeholder,.swal2-popup .swal2-input::-ms-input-placeholder,.swal2-popup .swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::placeholder,.swal2-popup .swal2-input::placeholder,.swal2-popup .swal2-textarea::placeholder{color:#ccc}.swal2-popup .swal2-range input{width:80%}.swal2-popup .swal2-range output{width:20%;font-weight:600;text-align:center}.swal2-popup .swal2-range input,.swal2-popup .swal2-range output{height:2.625em;margin:1em auto;padding:0;font-size:1.125em;line-height:2.625em}.swal2-popup .swal2-input{height:2.625em;padding:0 .75em}.swal2-popup .swal2-input[type=number]{max-width:10em}.swal2-popup .swal2-file{font-size:1.125em}.swal2-popup .swal2-textarea{height:6.75em;padding:.75em}.swal2-popup .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;color:#545454;font-size:1.125em}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-radio{align-items:center;justify-content:center}.swal2-popup .swal2-checkbox label,.swal2-popup .swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-popup .swal2-checkbox input,.swal2-popup .swal2-radio input{margin:0 .4em}.swal2-popup .swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;overflow:hidden}.swal2-popup .swal2-validation-message::before{display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center;content:'!';zoom:normal}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}.swal2-icon{position:relative;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;line-height:5em;cursor:default;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;zoom:normal}.swal2-icon-text{font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;top:-.25em;left:-.25em;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%;z-index:2;box-sizing:content-box}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);z-index:1}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;height:.3125em;border-radius:.125em;background-color:#a5dc86;z-index:2}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-progresssteps{align-items:center;margin:0 0 1.25em;padding:0;font-weight:600}.swal2-progresssteps li{display:inline-block;position:relative}.swal2-progresssteps .swal2-progresscircle{width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center;z-index:20}.swal2-progresssteps .swal2-progresscircle:first-child{margin-left:0}.swal2-progresssteps .swal2-progresscircle:last-child{margin-right:0}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep{background:#3085d6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progresscircle{background:#add8e6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progressline{background:#add8e6}.swal2-progresssteps .swal2-progressline{width:2.5em;height:.4em;margin:0 -1px;background:#3085d6;z-index:10}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:initial!important}}")},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(44),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t){e.exports={}},function(e,t,n){var r=n(14).f,o=n(31),i=n(12)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(7),o=n(14),i=n(15),a=n(12)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(26);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(2),o=n(43),i=n(10),a=n(146),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var o={},s=i(function(){return!!a[e]()||"​"!="​"[e]()}),l=o[e]=s?t(d):a[e];n&&(o[n]=l),r(r.P+r.F*s,"String",o)},d=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t,n){"use strict";t.__esModule=!0,t.extend=extend,t.indexOf=function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function escapeExpression(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!i.test(e))return e;return e.replace(o,escapeChar)},t.isEmpty=function isEmpty(e){return!e&&0!==e||!(!l(e)||0!==e.length)},t.createFrame=function createFrame(e){var t=extend({},e);return t._parent=e,t},t.blockParams=function blockParams(e,t){return e.path=t,e},t.appendContextPath=function appendContextPath(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,i=/[&<>"'`=]/;function escapeChar(e){return r[e]}function extend(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;t.toString=a;var s=function isFunction(e){return"function"==typeof e};s(/x/)&&(t.isFunction=s=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=s;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=l},function(e,t,n){"use strict";var r=n(278),o=n(191),i=n(48);t.a=function keys(e){return Object(i.a)(e)?Object(r.a)(e):Object(o.a)(e)}},function(e,t,n){"use strict";var r=n(69),o=n(20),i=Object(r.a)(o.a,"DataView"),a=n(132),s=Object(r.a)(o.a,"Promise"),l=Object(r.a)(o.a,"Set"),c=n(163),u=n(54),d=n(118),f=Object(d.a)(i),p=Object(d.a)(a.a),h=Object(d.a)(s),g=Object(d.a)(l),m=Object(d.a)(c.a),A=u.a;(i&&"[object DataView]"!=A(new i(new ArrayBuffer(1)))||a.a&&"[object Map]"!=A(new a.a)||s&&"[object Promise]"!=A(s.resolve())||l&&"[object Set]"!=A(new l)||c.a&&"[object WeakMap]"!=A(new c.a))&&(A=function(e){var t=Object(u.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(d.a)(n):"";if(r)switch(r){case f:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case g:return"[object Set]";case m:return"[object WeakMap]"}return t});t.a=A},function(e,t,n){"use strict";var r=n(475),o=n(647),i=Object.prototype.toString;function isArray(e){return"[object Array]"===i.call(e)}function isObject(e){return null!==e&&"object"==typeof e}function isFunction(e){return"[object Function]"===i.call(e)}function forEach(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:isArray,isArrayBuffer:function isArrayBuffer(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function isString(e){return"string"==typeof e},isNumber:function isNumber(e){return"number"==typeof e},isObject:isObject,isUndefined:function isUndefined(e){return void 0===e},isDate:function isDate(e){return"[object Date]"===i.call(e)},isFile:function isFile(e){return"[object File]"===i.call(e)},isBlob:function isBlob(e){return"[object Blob]"===i.call(e)},isFunction:isFunction,isStream:function isStream(e){return isObject(e)&&isFunction(e.pipe)},isURLSearchParams:function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:forEach,merge:function merge(){var e={};function assignValue(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=merge(e[n],t):e[n]=t}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],assignValue);return e},extend:function extend(e,t,n){return forEach(t,function assignValue(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";t.a=function identity(e){return e}},function(e,t,n){"use strict";var r=n(174),o=n(173);t.a=function copyObject(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?Object(o.a)(n,c,u):Object(r.a)(n,c,u)}return n}},function(e,t,n){"use strict";var r=n(83),o=n(255),i=n(188);t.a=function baseRest(e,t){return Object(i.a)(Object(o.a)(e,t,r.a),e+"")}},function(e,t,n){"use strict";var r=n(28),o=n(0),i=n(1),a=n(119),s=n(29);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function SectionSettings(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionSettings),_possibleConstructorReturn(this,_getPrototypeOf(SectionSettings).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SectionSettings,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SectionSettings,[{key:"initialize",value:function initialize(){this.section=this}},{key:"getSettings",value:function getSettings(){var e=this;return{title:l("Section settings"),id:"section",isOpen:!1,controls:[{title:l("BACKGROUND IMAGE"),isPro:!1,parts:[{type:"ImagePreviewComponent",targetModel:this.section,options:{bind:["data.backgroundUrl"],imageClick:function imageClick(){o.a.publish(i.g.OPEN,{model:e.section,key:"data.backgroundUrl",beforeSet:function beforeSet(){},afterSet:function afterSet(){o.a.publish(i.k.BUILD,e.section.settingsScheme)}})}}},{title:l("Image"),type:"ButtonComponent",targetModel:this.section,options:{title:l("Change"),className:"btn btn-secondary ml-1",bind:"",onClick:function onClick(){o.a.publish(i.g.OPEN,{model:e.section,key:"data.backgroundUrl",beforeSet:function beforeSet(){},afterSet:function afterSet(){o.a.publish(i.k.BUILD,e.section.settingsScheme)}})}}}]},{title:l("IMAGE FORMAT"),isPro:!0,parts:[{title:"Type",type:"ButtonGroupComponent",targetModel:this.section,options:{conditional:"data.backgroundUrl",bind:["data.backgroundRepeat"],buttonStyle:"outline-secondary",size:"sm",callback:function callback(e,t){switch(t){case"cover":e.set("data.backgroundSize","cover");break;case"no-repeat":e.set("data.backgroundSize","contain");break;case"repeat":e.set("data.backgroundSize","auto")}},buttons:[{value:"cover",image:SENDER_ENDPOINT+"email-editor/static/img/fillArrow.svg",imgClasses:"invertImageClass"},{value:"no-repeat",image:SENDER_ENDPOINT+"email-editor/static/img/fillFull.svg",imgClasses:"invertImageClass"},{value:"repeat",image:SENDER_ENDPOINT+"email-editor/static/img/fillPattern.svg",imgClasses:"invertImageClass"}]}}]},{title:l("BACKGROUND COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this.section,options:{bind:["data.contentBackgroundColor"]}}]},{title:l("SECTION BACKGROUND COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this.section,options:{bind:["data.backgroundColor"]}}]},{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.paddingLeft","data.paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:30,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.paddingTop","data.paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:30,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("TOP CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"Border",type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.borderTopRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:17,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:23,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}]}}]},{title:l("TOP CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this.section,options:{bind:["data.borderTopRadius"],buttonStyle:"outline-secondary",size:"sm",min:0,max:40}}]},{title:l("BOTTOM CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"Border",type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.borderBottomRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:17,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:23,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}]}}]},{title:l("BOTTOM CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this.section,options:{bind:["data.borderBottomRadius"],buttonStyle:"outline-secondary",size:"sm",min:0,max:40}}]},{isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this.section,options:{pillWidth:"auto",title:l("Top space"),paddingRight:"5px",bind:["data.paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this.section,options:{pillWidth:"auto",title:l("Bottom space"),paddingLeft:"5px",bind:["data.paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this.section,options:{pillWidth:"auto",title:l("Left space"),paddingRight:"5px",bind:["data.paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this.section,options:{pillWidth:"auto",title:l("Right space"),paddingLeft:"5px",bind:["data.paddingRight"],min:0,max:500,step:1}}]},{title:l("COLUMN SPACING"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this.section,options:{bind:["data.columnSpacing"],min:0,max:80,step:1}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.hideOnMobile"],buttonStyle:"outline-secondary w-50",containerClass:"w-100",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}]}}]},{title:l("BREAK ON MOBILE"),isPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this.section,options:{bind:["data.DontBrakeOnMobile"],buttonStyle:"outline-secondary w-50",containerClass:"w-100",buttons:[{value:!1,text:l("Yes")},{value:!0,text:l("No")}]}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(a.a)(this.applyToAll,this.section,Object(a.a)(this.getSectionAccordionBinds,this))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(a.a)(this.makeDefault,this.section,Object(a.a)(this.getSectionAccordionBinds,this,"section"))}}]}]}}},{key:"getSectionAccordionBinds",value:function getSectionAccordionBinds(){return this.getAccordionBinds(this.getSettings())}},{key:"getAccordionBinds",value:function getAccordionBinds(e){var t=[];return Object(s.a)(e.controls,function(e){Object(s.a)(e.parts,function(e){Object(s.a)(e.options.bind,function(e){""!==e&&t.push(e.split(".")[1]||e)})})}),t}}]),SectionSettings}();t.a=c},function(e,t,n){"use strict";(function(e){var r=n(240),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(449)(e))},function(e,t,n){var r=n(61),o=n(12)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(9),o=n(32),i=n(12)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";(function(e){var r=n(20),o=n(500),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||o.a;t.a=l}).call(this,n(449)(e))},function(e,t,n){"use strict";var r=n(54),o=n(34),i="[object Symbol]";t.a=function isSymbol(e){return"symbol"==typeof e||Object(o.a)(e)&&Object(r.a)(e)==i}},function(e,t,n){"use strict";var r=n(244);t.a=function toString(e){return null==e?"":Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(54),o=n(34),i="[object Arguments]";var a=function baseIsArguments(e){return Object(o.a)(e)&&Object(r.a)(e)==i},s=Object.prototype,l=s.hasOwnProperty,c=s.propertyIsEnumerable,u=a(function(){return arguments}())?a:function(e){return Object(o.a)(e)&&l.call(e,"callee")&&!c.call(e,"callee")};t.a=u},function(e,t,n){"use strict";var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.a=function isIndex(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";t.a=function eq(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";t.a=function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";var r=n(101),o=n(171),i=n(174),a=n(84),s=n(80);var l=function baseAssign(e,t){return e&&Object(a.a)(t,Object(s.a)(t),e)},c=n(130);var u=function baseAssignIn(e,t){return e&&Object(a.a)(t,Object(c.a)(t),e)},d=n(249),f=n(97),p=n(170);var h=function copySymbols(e,t){return Object(a.a)(e,Object(p.a)(e),t)},g=n(251);var m=function copySymbolsIn(e,t){return Object(a.a)(e,Object(g.a)(e),t)},A=n(229),v=n(253),y=n(81),b=Object.prototype.hasOwnProperty;var w=function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&b.call(e,"index")&&(n.index=e.index,n.input=e.input),n},_=n(175);var E=function cloneDataView(e,t){var n=t?Object(_.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},C=/\w*$/;var S=function cloneRegExp(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t},T=n(49),x=T.a?T.a.prototype:void 0,O=x?x.valueOf:void 0;var k=function cloneSymbol(e){return O?Object(O.call(e)):{}},B=n(252),P="[object Boolean]",I="[object Date]",R="[object Map]",L="[object Number]",M="[object RegExp]",D="[object Set]",N="[object String]",F="[object Symbol]",U="[object ArrayBuffer]",H="[object DataView]",j="[object Float32Array]",Q="[object Float64Array]",z="[object Int8Array]",$="[object Int16Array]",V="[object Int32Array]",G="[object Uint8Array]",W="[object Uint8ClampedArray]",K="[object Uint16Array]",q="[object Uint32Array]";var Y=function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case U:return Object(_.a)(e);case P:case I:return new r(+e);case H:return E(e,n);case j:case Q:case z:case $:case V:case G:case W:case K:case q:return Object(B.a)(e,n);case R:return new r;case L:case N:return new r(e);case M:return S(e);case D:return new r;case F:return k(e)}},X=n(250),J=n(17),Z=n(91),ee=n(34),te="[object Map]";var ne=function baseIsMap(e){return Object(ee.a)(e)&&Object(y.a)(e)==te},re=n(66),oe=n(87),ie=oe.a&&oe.a.isMap,ae=ie?Object(re.a)(ie):ne,se=n(23),le="[object Set]";var ce=function baseIsSet(e){return Object(ee.a)(e)&&Object(y.a)(e)==le},ue=oe.a&&oe.a.isSet,de=ue?Object(re.a)(ue):ce,fe=1,pe=2,he=4,ge="[object Arguments]",me="[object Function]",Ae="[object GeneratorFunction]",ve="[object Object]",ye={};ye[ge]=ye["[object Array]"]=ye["[object ArrayBuffer]"]=ye["[object DataView]"]=ye["[object Boolean]"]=ye["[object Date]"]=ye["[object Float32Array]"]=ye["[object Float64Array]"]=ye["[object Int8Array]"]=ye["[object Int16Array]"]=ye["[object Int32Array]"]=ye["[object Map]"]=ye["[object Number]"]=ye[ve]=ye["[object RegExp]"]=ye["[object Set]"]=ye["[object String]"]=ye["[object Symbol]"]=ye["[object Uint8Array]"]=ye["[object Uint8ClampedArray]"]=ye["[object Uint16Array]"]=ye["[object Uint32Array]"]=!0,ye["[object Error]"]=ye[me]=ye["[object WeakMap]"]=!1;t.a=function baseClone(e,t,n,a,c,p){var g,b=t&fe,_=t&pe,E=t&he;if(n&&(g=c?n(e,a,c,p):n(e)),void 0!==g)return g;if(!Object(se.a)(e))return e;var C=Object(J.a)(e);if(C){if(g=w(e),!b)return Object(f.a)(e,g)}else{var S=Object(y.a)(e),T=S==me||S==Ae;if(Object(Z.a)(e))return Object(d.a)(e,b);if(S==ve||S==ge||T&&!c){if(g=_||T?{}:Object(X.a)(e),!b)return _?m(e,u(g,e)):h(e,l(g,e))}else{if(!ye[S])return c?e:{};g=Y(e,S,b)}}p||(p=new r.a);var x=p.get(e);if(x)return x;p.set(e,g),de(e)?e.forEach(function(r){g.add(baseClone(r,t,n,r,e,p))}):ae(e)&&e.forEach(function(r,o){g.set(o,baseClone(r,t,n,o,e,p))});var O=E?_?v.a:A.a:_?keysIn:s.a,k=C?void 0:O(e);return Object(o.a)(k||e,function(r,o){k&&(r=e[o=r]),Object(i.a)(g,o,baseClone(r,t,n,o,e,p))}),g}},function(e,t,n){"use strict";var r=n(276),o=n(185),i=n(11),a=n(279),s=n(169),l=n(242),c=n(243),u=n(56),d=1,f=2;var p=function baseMatchesProperty(e,t){return Object(s.a)(e)&&Object(l.a)(t)?Object(c.a)(Object(u.a)(e),t):function(n){var r=Object(i.a)(n,e);return void 0===r&&r===t?Object(a.a)(n,e):Object(o.a)(t,r,d|f)}},h=n(83),g=n(17),m=n(248),A=n(123);var v=function basePropertyDeep(e){return function(t){return Object(A.a)(t,e)}};var y=function property(e){return Object(s.a)(e)?Object(m.a)(Object(u.a)(e)):v(e)};t.a=function baseIteratee(e){return"function"==typeof e?e:null==e?h.a:"object"==typeof e?Object(g.a)(e)?p(e[0],e[1]):Object(r.a)(e):y(e)}},function(e,t,n){"use strict";var r=n(54),o=n(23),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.a=function isFunction(e){if(!Object(o.a)(e))return!1;var t=Object(r.a)(e);return t==a||t==s||t==i||t==l}},function(e,t,n){"use strict";var r=n(129);var o=function stackClear(){this.__data__=new r.a,this.size=0};var i=function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var a=function stackGet(e){return this.__data__.get(e)};var s=function stackHas(e){return this.__data__.has(e)},l=n(132),c=n(161),u=200;var d=function stackSet(e,t){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!l.a||o.length<u-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.a(o)}return n.set(e,t),this.size=n.size,this};function Stack(e){var t=this.__data__=new r.a(e);this.size=t.size}Stack.prototype.clear=o,Stack.prototype.delete=i,Stack.prototype.get=a,Stack.prototype.has=s,Stack.prototype.set=d;t.a=Stack},function(e,t,n){var r=n(50),o=n(7),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(51)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(61);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(61);e.exports=Array.isArray||function isArray(e){return"Array"==r(e)}},function(e,t,n){var r=n(12)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(35),o=n(16),i=n(72);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=o(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(37),o=n(200),i=n(135),a=n(9),s=n(16),l=n(137),c={},u={};(t=e.exports=function(e,t,n,d,f){var p,h,g,m,A=f?function(){return e}:l(e),v=r(n,d,t?2:1),y=0;if("function"!=typeof A)throw TypeError(e+" is not iterable!");if(i(A)){for(p=s(e.length);p>y;y++)if((m=t?v(a(h=e[y])[0],h[1]):v(e[y]))===c||m===u)return m}else for(g=A.call(e);!(h=g.next()).done;)if((m=o(g,v,h.value,t))===c||m===u)return m}).BREAK=c,t.RETURN=u},function(e,t,n){"use strict";var r=n(7),o=n(2),i=n(26),a=n(76),s=n(52),l=n(107),c=n(77),u=n(8),d=n(10),f=n(105),p=n(74),h=n(142);e.exports=function(e,t,n,g,m,A){var v=r[e],y=v,b=m?"set":"add",w=y&&y.prototype,_={},E=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(A&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function has(e){return!(A&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function get(e){return A&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function add(e){return t.call(this,0===e?0:e),this}:function set(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(A||w.forEach&&!d(function(){(new y).entries().next()}))){var C=new y,S=C[b](A?{}:-0,1)!=C,T=d(function(){C.has(1)}),x=f(function(e){new y(e)}),O=!A&&d(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});x||((y=t(function(t,n){c(t,y,e);var r=h(new v,t,y);return void 0!=n&&l(n,m,r[b],r),r})).prototype=w,w.constructor=y),(T||O)&&(E("delete"),E("has"),m&&E("get")),(O||S)&&E(b),A&&w.clear&&delete w.clear}else y=g.getConstructor(t,e,m,b),a(y.prototype,n),s.NEED=!0;return p(y,e),_[e]=y,o(o.G+o.W+o.F*(y!=v),_),A||g.setStrong(y,e,m),y}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";e.exports=n(51)||!n(10)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(7)[e]})},function(e,t,n){var r=n(7).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(9);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(88),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(394);var r=n(26),o=n(30),i=n(10),a=n(43),s=n(12),l=n(151),c=s("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),p=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),h=p?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t}):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!d){var g=/./[f],m=n(a,f,""[e],function maybeCallNative(e,t,n,r,o){return t.exec===l?p&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),A=m[0],v=m[1];r(String.prototype,e,A),o(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},function(e,t,n){for(var r,o=n(7),i=n(30),a=n(59),s=a("typed_array"),l=a("view"),c=!(!o.ArrayBuffer||!o.DataView),u=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[f[d++]])?(i(r.prototype,s,!0),i(r.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(e,t,n){"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function Exception(e,t){var n=t&&t.loc,o=void 0,i=void 0;n&&(e+=" - "+(o=n.start.line)+":"+(i=n.start.column));for(var a=Error.prototype.constructor.call(this,e),s=0;s<r.length;s++)this[r[s]]=a[r[s]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{n&&(this.lineNumber=o,Object.defineProperty?Object.defineProperty(this,"column",{value:i,enumerable:!0}):this.column=i)}catch(e){}}Exception.prototype=new Error,t.default=Exception,e.exports=t.default},function(e,t,n){"use strict";t.decode=t.parse=n(664),t.encode=t.stringify=n(665)},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function toSource(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){"use strict";var r=n(85),o=n(83),i=n(163),a=i.a&&new i.a,s=a?function(e,t){return a.set(e,t),e}:o.a,l=n(125),c=n(23);var u=function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Object(l.a)(e.prototype),r=e.apply(n,t);return Object(c.a)(r)?r:n}},d=n(20),f=1;var p=function createBind(e,t,n){var r=t&f,o=u(e);return function wrapper(){return(this&&this!==d.a&&this instanceof wrapper?o:e).apply(r?n:this,arguments)}},h=n(126),g=Math.max;var m=function composeArgs(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,c=g(i-a,0),u=Array(l+c),d=!r;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u},A=Math.max;var v=function composeArgsRight(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,c=t.length,u=A(i-s,0),d=Array(u+c),f=!r;++o<u;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++a<s;)(f||o<i)&&(d[p+n[a]]=e[o++]);return d};var y=function countHolders(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var b=function baseLodash(){},w=4294967295;function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=w,this.__views__=[]}LazyWrapper.prototype=Object(l.a)(b.prototype),LazyWrapper.prototype.constructor=LazyWrapper;var _=LazyWrapper;var E=a?function(e){return a.get(e)}:function noop(){},C={},S=Object.prototype.hasOwnProperty;var T=function getFuncName(e){for(var t=e.name+"",n=C[t],r=S.call(C,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t};function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=Object(l.a)(b.prototype),LodashWrapper.prototype.constructor=LodashWrapper;var x=LodashWrapper,O=n(17),k=n(34),B=n(97);var P=function wrapperClone(e){if(e instanceof _)return e.clone();var t=new x(e.__wrapped__,e.__chain__);return t.__actions__=Object(B.a)(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},I=Object.prototype.hasOwnProperty;function lodash(e){if(Object(k.a)(e)&&!Object(O.a)(e)&&!(e instanceof _)){if(e instanceof x)return e;if(I.call(e,"__wrapped__"))return P(e)}return new x(e)}lodash.prototype=b.prototype,lodash.prototype.constructor=lodash;var R=lodash;var L=function isLaziable(e){var t=T(e),n=R[t];if("function"!=typeof n||!(t in _.prototype))return!1;if(e===n)return!0;var r=E(n);return!!r&&e===r[0]},M=n(254),D=Object(M.a)(s),N=/\{\n\/\* \[wrapped with (.+)\] \*/,F=/,? & /;var U=function getWrapDetails(e){var t=e.match(N);return t?t[1].split(F):[]},H=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var j=function insertWrapDetails(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(H,"{\n/* [wrapped with "+t+"] */\n")},Q=n(188),z=n(171),$=n(186),V=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var G=function updateWrapDetails(e,t){return Object(z.a)(V,function(n){var r="_."+n[0];t&n[1]&&!Object($.a)(e,r)&&e.push(r)}),e.sort()};var W=function setWrapToString(e,t,n){var r=t+"";return Object(Q.a)(e,j(r,G(U(r),n)))},K=1,q=2,Y=4,X=8,J=32,Z=64;var ee=function createRecurry(e,t,n,r,o,i,a,s,l,c){var u=t&X;t|=u?J:Z,(t&=~(u?Z:J))&Y||(t&=~(K|q));var d=[e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c],f=n.apply(void 0,d);return L(e)&&D(f,d),f.placeholder=r,W(f,e,t)};var te=function getHolder(e){return e.placeholder},ne=n(95),re=Math.min;var oe=function reorder(e,t){for(var n=e.length,r=re(t.length,n),o=Object(B.a)(e);r--;){var i=t[r];e[r]=Object(ne.a)(i,n)?o[i]:void 0}return e},ie="__lodash_placeholder__";var ae=function replaceHolders(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==ie||(e[n]=ie,i[o++]=n)}return i},se=1,le=2,ce=8,ue=16,de=128,fe=512;var pe=function createHybrid(e,t,n,r,o,i,a,s,l,c){var f=t&de,p=t&se,h=t&le,g=t&(ce|ue),A=t&fe,b=h?void 0:u(e);return function wrapper(){for(var w=arguments.length,_=Array(w),E=w;E--;)_[E]=arguments[E];if(g)var C=te(wrapper),S=y(_,C);if(r&&(_=m(_,r,o,g)),i&&(_=v(_,i,a,g)),w-=S,g&&w<c){var T=ae(_,C);return ee(e,t,createHybrid,wrapper.placeholder,n,_,T,s,l,c-w)}var x=p?n:this,O=h?x[e]:e;return w=_.length,s?_=oe(_,s):A&&w>1&&_.reverse(),f&&l<w&&(_.length=l),this&&this!==d.a&&this instanceof wrapper&&(O=b||u(O)),O.apply(x,_)}};var he=function createCurry(e,t,n){var r=u(e);return function wrapper(){for(var o=arguments.length,i=Array(o),a=o,s=te(wrapper);a--;)i[a]=arguments[a];var l=o<3&&i[0]!==s&&i[o-1]!==s?[]:ae(i,s);if((o-=l.length)<n)return ee(e,t,pe,wrapper.placeholder,void 0,i,l,void 0,void 0,n-o);var c=this&&this!==d.a&&this instanceof wrapper?r:e;return Object(h.a)(c,this,i)}},ge=1;var me=function createPartial(e,t,n,r){var o=t&ge,i=u(e);return function wrapper(){for(var t=-1,a=arguments.length,s=-1,l=r.length,c=Array(l+a),u=this&&this!==d.a&&this instanceof wrapper?i:e;++s<l;)c[s]=r[s];for(;a--;)c[s++]=arguments[++t];return Object(h.a)(u,o?n:this,c)}},Ae="__lodash_placeholder__",ve=1,ye=2,be=4,we=8,_e=128,Ee=256,Ce=Math.min;var Se=function mergeData(e,t){var n=e[1],r=t[1],o=n|r,i=o<(ve|ye|_e),a=r==_e&&n==we||r==_e&&n==Ee&&e[7].length<=t[8]||r==(_e|Ee)&&t[7].length<=t[8]&&n==we;if(!i&&!a)return e;r&ve&&(e[2]=t[2],o|=n&ve?0:be);var s=t[3];if(s){var l=e[3];e[3]=l?m(l,s,t[4]):s,e[4]=l?ae(e[3],Ae):t[4]}return(s=t[5])&&(l=e[5],e[5]=l?v(l,s,t[6]):s,e[6]=l?ae(e[5],Ae):t[6]),(s=t[7])&&(e[7]=s),r&_e&&(e[8]=null==e[8]?t[8]:Ce(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e},Te=n(162),xe="Expected a function",Oe=1,ke=2,Be=8,Pe=16,Ie=32,Re=64,Le=Math.max;var Me=function createWrap(e,t,n,r,o,i,a,l){var c=t&ke;if(!c&&"function"!=typeof e)throw new TypeError(xe);var u=r?r.length:0;if(u||(t&=~(Ie|Re),r=o=void 0),a=void 0===a?a:Le(Object(Te.a)(a),0),l=void 0===l?l:Object(Te.a)(l),u-=o?o.length:0,t&Re){var d=r,f=o;r=o=void 0}var h=c?void 0:E(e),g=[e,t,n,r,o,d,f,i,a,l];if(h&&Se(g,h),e=g[0],t=g[1],n=g[2],r=g[3],o=g[4],!(l=g[9]=void 0===g[9]?c?0:e.length:Le(g[9]-u,0))&&t&(Be|Pe)&&(t&=~(Be|Pe)),t&&t!=Oe)m=t==Be||t==Pe?he(e,t,l):t!=Ie&&t!=(Oe|Ie)||o.length?pe.apply(void 0,g):me(e,t,n,r);else var m=p(e,t,n);return W((h?s:D)(m,g),e,t)},De=Object(r.a)(function(e,t,n){var r=1;if(n.length){var o=ae(n,te(De));r|=32}return Me(e,r,t,n,o)});De.placeholder={};t.a=De},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=/^#([a-f0-9]{3})$/i,a=function hex3(e){var t=e.match(i);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]},s=/^#([a-f0-9]{6})$/i,l=function hex6(e){var t=e.match(s);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]},c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,u=function rgb(e){var t=e.match(c);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]},d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,f=function rgba(e){var t=e.match(d);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]},p=function fromArray(e){return[Math.min(e[0],255),Math.min(e[1],255),Math.min(e[2],255),e.length>3?e[3]:null]},h=function namedColor(e){var t=m[e.toLowerCase()];return t||!1},g=function(){function Color(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Color);var t=Array.isArray(e)?p(e):a(e)||u(e)||f(e)||h(e)||l(e)||[0,0,0,null],n=r(t,4),o=n[0],i=n[1],s=n[2],c=n[3];this.r=o,this.g=i,this.b=s,this.a=c}return o(Color,[{key:"isTransparent",value:function isTransparent(){return 0===this.a}},{key:"toString",value:function toString(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),Color}();t.default=g;var m={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new g([0,0,0,0])},function(e,t,n){"use strict";var r=Object.prototype;t.a=function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(57),o=n(56);t.a=function baseGet(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(o.a)(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";t.a=function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){"use strict";var r=n(23),o=Object.create,i=function(){function object(){}return function(e){if(!Object(r.a)(e))return{};if(o)return o(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();t.a=i},function(e,t,n){"use strict";t.a=function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){"use strict";n(18);var r=n(21);n(157);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}n(117);var o=function(e){function BaseProvider(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseProvider),_possibleConstructorReturn(this,_getPrototypeOf(BaseProvider).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseProvider,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseProvider,[{key:"loadMore",value:function loadMore(){return this.setOffset(this.getOffset()+this.getLimit()),this.fetch()}},{key:"selectCategory",value:function selectCategory(e){return this.setType(e)}},{key:"getBaseUrl",value:function getBaseUrl(){return this.baseUrl}},{key:"setType",value:function setType(e){return!!e&&(this.type=e,this.type)}},{key:"getType",value:function getType(){return this.type}},{key:"setOffset",value:function setOffset(e){return void 0!==e&&(this.offset=e,this.offset)}},{key:"getOffset",value:function getOffset(){return this.offset}},{key:"getLimit",value:function getLimit(){return this.limit}},{key:"name",get:function get(){}}]),BaseProvider}();t.a=o},function(e,t,n){"use strict";var r=n(13),o=n(29),i=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function BaseSettingTabView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseSettingTabView),_possibleConstructorReturn(this,_getPrototypeOf(BaseSettingTabView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseSettingTabView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseSettingTabView,[{key:"getElementView",value:function getElementView(){}},{key:"getList",value:function getList(){}},{key:"generateElements",value:function generateElements(){var e=this,t=[];return Object(o.a)(this.getList(),function(n){if((!Object(i.a)(n,"isPro",!1)||Builder.isExpertModeEnabled())&&(!Object(i.a)(n,"nonPro",!1)||!Builder.isExpertModeEnabled())&&n){var r=e.getElementView();t.push(new r({data:n,model:e.model}).render().el),r=null}}),t}}]),BaseSettingTabView}();t.a=a},function(e,t,n){"use strict";var r=function listCacheClear(){this.__data__=[],this.size=0},o=n(96);var i=function assocIndexOf(e,t){for(var n=e.length;n--;)if(Object(o.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var s=function listCacheDelete(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))};var l=function listCacheGet(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};var c=function listCacheHas(e){return i(this.__data__,e)>-1};var u=function listCacheSet(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=r,ListCache.prototype.delete=s,ListCache.prototype.get=l,ListCache.prototype.has=c,ListCache.prototype.set=u;t.a=ListCache},function(e,t,n){"use strict";var r=n(278),o=n(23),i=n(122);var a=function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},s=Object.prototype.hasOwnProperty;var l=function baseKeysIn(e){if(!Object(o.a)(e))return a(e);var t=Object(i.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n},c=n(48);t.a=function keysIn(e){return Object(c.a)(e)?Object(r.a)(e,!0):l(e)}},function(e,t,n){"use strict";var r=n(54),o=n(168),i=n(34),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function baseIsTypedArray(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(r.a)(e)]},l=n(66),c=n(87),u=c.a&&c.a.isTypedArray,d=u?Object(l.a)(u):s;t.a=d},function(e,t,n){"use strict";var r=n(69),o=n(20),i=Object(r.a)(o.a,"Map");t.a=i},function(e,t,n){var r=n(8),o=n(7).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){"use strict";var r=n(19),o=n(72),i=n(16);e.exports=function fill(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:o(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var r=n(73),o=n(12)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(14),o=n(58);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(88),o=n(12)("iterator"),i=n(73);e.exports=n(50).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(60),o=n(201),i=n(73),a=n(35);e.exports=n(139)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(51),o=n(2),i=n(26),a=n(30),s=n(73),l=n(301),c=n(74),u=n(45),d=n(12)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,g,m,A){l(n,t,h);var v,y,b,w=function(e){if(!f&&e in S)return S[e];switch(e){case"keys":return function keys(){return new n(this,e)};case"values":return function values(){return new n(this,e)}}return function entries(){return new n(this,e)}},_=t+" Iterator",E="values"==g,C=!1,S=e.prototype,T=S[d]||S["@@iterator"]||g&&S[g],x=T||w(g),O=g?E?w("entries"):x:void 0,k="Array"==t&&S.entries||T;if(k&&(b=u(k.call(new e)))!==Object.prototype&&b.next&&(c(b,_,!0),r||"function"==typeof b[d]||a(b,d,p)),E&&T&&"values"!==T.name&&(C=!0,x=function values(){return T.call(this)}),r&&!A||!f&&!C&&S[d]||a(S,d,x),s[t]=x,s[_]=p,g)if(v={values:E?x:w("values"),keys:m?x:w("keys"),entries:O},A)for(y in v)y in S||i(S,y,v[y]);else o(o.P+o.F*(f||C),t,v);return v}},function(e,t,n){var r=n(102)("keys"),o=n(59);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(8),o=n(143).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(8),o=n(9),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(37)(Function.call,n(33).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports=Math.sign||function sign(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function expm1(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r,o,i,a=n(37),s=n(207),l=n(204),c=n(133),u=n(7),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,g=u.Dispatch,m=0,A={},v=function(){var e=+this;if(A.hasOwnProperty(e)){var t=A[e];delete A[e],t()}},y=function(e){v.call(e.data)};f&&p||(f=function setImmediate(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return A[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function clearImmediate(e){delete A[e]},"process"==n(61)(d)?r=function(e){d.nextTick(a(v,e,1))}:g&&g.now?r=function(e){g.now(a(v,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){var r=n(8),o=n(61),i=n(12)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){"use strict";var r=n(150)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(44),o=n(43);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r,o,i=n(112),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function exec(e){var t,n,r,o,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",i.call(l))),c&&(t=l.lastIndex),r=a.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),e.exports=l},function(e,t,n){var r=n(148),o=n(43);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(12)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(7),o=n(15),i=n(51),a=n(115),s=n(30),l=n(76),c=n(10),u=n(77),d=n(44),f=n(16),p=n(223),h=n(65).f,g=n(14).f,m=n(134),A=n(74),v="prototype",y="Wrong index!",b=r.ArrayBuffer,w=r.DataView,_=r.Math,E=r.RangeError,C=r.Infinity,S=b,T=_.abs,x=_.pow,O=_.floor,k=_.log,B=_.LN2,P=o?"_b":"buffer",I=o?"_l":"byteLength",R=o?"_o":"byteOffset";function packIEEE754(e,t,n){var r,o,i,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?x(2,-24)-x(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===C?(o=e!=e?1:0,r=l):(r=O(k(e)/B),e*(i=x(2,-r))<1&&(r--,i*=2),(e+=r+c>=1?u/i:u*x(2,1-c))*i>=2&&(r++,i/=2),r+c>=l?(o=0,r=l):r+c>=1?(o=(e*i-1)*x(2,t),r+=c):(o=e*x(2,c-1)*x(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function unpackIEEE754(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===i)return r?NaN:c?-C:C;r+=x(2,t),u-=a}return(c?-1:1)*r*x(2,u-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,n){g(e[v],t,{get:function(){return this[n]}})}function get(e,t,n,r){var o=p(+n);if(o+t>e[I])throw E(y);var i=e[P]._b,a=o+e[R],s=i.slice(a,a+t);return r?s:s.reverse()}function set(e,t,n,r,o,i){var a=p(+n);if(a+t>e[I])throw E(y);for(var s=e[P]._b,l=a+e[R],c=r(+o),u=0;u<t;u++)s[l+u]=c[i?u:t-u-1]}if(a.ABV){if(!c(function(){b(1)})||!c(function(){new b(-1)})||c(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var L,M=(b=function ArrayBuffer(e){return u(this,b),new S(p(e))})[v]=S[v],D=h(S),N=0;D.length>N;)(L=D[N++])in b||s(b,L,S[L]);i||(M.constructor=b)}var F=new w(new b(2)),U=w[v].setInt8;F.setInt8(0,2147483648),F.setInt8(1,2147483649),!F.getInt8(0)&&F.getInt8(1)||l(w[v],{setInt8:function setInt8(e,t){U.call(this,e,t<<24>>24)},setUint8:function setUint8(e,t){U.call(this,e,t<<24>>24)}},!0)}else b=function ArrayBuffer(e){u(this,b,"ArrayBuffer");var t=p(e);this._b=m.call(new Array(t),0),this[I]=t},w=function DataView(e,t,n){u(this,w,"DataView"),u(e,b,"DataView");var r=e[I],o=d(t);if(o<0||o>r)throw E("Wrong offset!");if(o+(n=void 0===n?r-o:f(n))>r)throw E("Wrong length!");this[P]=e,this[R]=o,this[I]=n},o&&(addGetter(b,"byteLength","_l"),addGetter(w,"buffer","_b"),addGetter(w,"byteLength","_l"),addGetter(w,"byteOffset","_o")),l(w[v],{getInt8:function getInt8(e){return get(this,1,e)[0]<<24>>24},getUint8:function getUint8(e){return get(this,1,e)[0]},getInt16:function getInt16(e){var t=get(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function getUint16(e){var t=get(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function getInt32(e){return unpackI32(get(this,4,e,arguments[1]))},getUint32:function getUint32(e){return unpackI32(get(this,4,e,arguments[1]))>>>0},getFloat32:function getFloat32(e){return unpackIEEE754(get(this,4,e,arguments[1]),23,4)},getFloat64:function getFloat64(e){return unpackIEEE754(get(this,8,e,arguments[1]),52,8)},setInt8:function setInt8(e,t){set(this,1,e,packI8,t)},setUint8:function setUint8(e,t){set(this,1,e,packI8,t)},setInt16:function setInt16(e,t){set(this,2,e,packI16,t,arguments[2])},setUint16:function setUint16(e,t){set(this,2,e,packI16,t,arguments[2])},setInt32:function setInt32(e,t){set(this,4,e,packI32,t,arguments[2])},setUint32:function setUint32(e,t){set(this,4,e,packI32,t,arguments[2])},setFloat32:function setFloat32(e,t){set(this,4,e,packF32,t,arguments[2])},setFloat64:function setFloat64(e,t){set(this,8,e,packF64,t,arguments[2])}});A(b,"ArrayBuffer"),A(w,"DataView"),s(w[v],a.VIEW,!0),t.ArrayBuffer=b,t.DataView=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}})(n(165));var o=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},i=function(){function Length(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Length),this.type="%"===e.substr(e.length-1)?o.PERCENTAGE:o.PX;var t=parseFloat(e);this.value=isNaN(t)?0:t}return r(Length,[{key:"isPercentage",value:function isPercentage(){return this.type===o.PERCENTAGE}},{key:"getAbsoluteValue",value:function getAbsoluteValue(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function create(e){return new Length(e)}}]),Length}();t.default=i;t.calculateLengthFromValueWithUnit=function calculateLengthFromValueWithUnit(e,t,n){switch(n){case"px":case"%":return new i(t+n);case"em":case"rem":var r=new i(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):function getRootFontSize(e){var t=e.parent;return t?getRootFontSize(t):parseFloat(e.style.font.fontSize)}(e),r;default:return new i("0")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(233)),i=_interopRequireDefault(n(683));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=t.Bounds=function(){function Bounds(e,t,n,r){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Bounds),this.left=e,this.top=t,this.width=n,this.height=r}return r(Bounds,null,[{key:"fromClientRect",value:function fromClientRect(e,t,n){return new Bounds(e.left+t,e.top+n,e.width,e.height)}}]),Bounds}(),s=(t.parseBounds=function parseBounds(e,t,n){return a.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function calculatePaddingBox(e,t){return new a(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function calculateContentBox(e,t,n){var r=t[0].value,o=t[1].value,i=t[2].value,s=t[3].value;return new a(e.left+s+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+s+o),e.height-(n[0].borderWidth+n[2].borderWidth+r+i))},t.parseDocumentSize=function parseDocumentSize(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),o=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,o)},t.parsePathForBorder=function parsePathForBorder(e,t){switch(t){case 0:return s(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return s(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return s(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return s(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function createPathFromCurves(e,t,n,r){var o=[];return e instanceof i.default?o.push(e.subdivide(.5,!1)):o.push(e),n instanceof i.default?o.push(n.subdivide(.5,!0)):o.push(n),r instanceof i.default?o.push(r.subdivide(.5,!0).reverse()):o.push(r),t instanceof i.default?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o}),l=(t.calculateBorderBoxPath=function calculateBorderBoxPath(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function calculatePaddingBoxPath(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function parseBoundCurves(e,t,n){var r=n[l.TOP_LEFT][0].getAbsoluteValue(e.width),i=n[l.TOP_LEFT][1].getAbsoluteValue(e.height),a=n[l.TOP_RIGHT][0].getAbsoluteValue(e.width),s=n[l.TOP_RIGHT][1].getAbsoluteValue(e.height),u=n[l.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),d=n[l.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),f=n[l.BOTTOM_LEFT][0].getAbsoluteValue(e.width),p=n[l.BOTTOM_LEFT][1].getAbsoluteValue(e.height),h=[];h.push((r+a)/e.width),h.push((f+u)/e.width),h.push((i+p)/e.height),h.push((s+d)/e.height);var g=Math.max.apply(Math,h);g>1&&(r/=g,i/=g,a/=g,s/=g,u/=g,d/=g,f/=g,p/=g);var m=e.width-a,A=e.height-d,v=e.width-u,y=e.height-p;return{topLeftOuter:r>0||i>0?c(e.left,e.top,r,i,l.TOP_LEFT):new o.default(e.left,e.top),topLeftInner:r>0||i>0?c(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,r-t[3].borderWidth),Math.max(0,i-t[0].borderWidth),l.TOP_LEFT):new o.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:a>0||s>0?c(e.left+m,e.top,a,s,l.TOP_RIGHT):new o.default(e.left+e.width,e.top),topRightInner:a>0||s>0?c(e.left+Math.min(m,e.width+t[3].borderWidth),e.top+t[0].borderWidth,m>e.width+t[3].borderWidth?0:a-t[3].borderWidth,s-t[0].borderWidth,l.TOP_RIGHT):new o.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:u>0||d>0?c(e.left+v,e.top+A,u,d,l.BOTTOM_RIGHT):new o.default(e.left+e.width,e.top+e.height),bottomRightInner:u>0||d>0?c(e.left+Math.min(v,e.width-t[3].borderWidth),e.top+Math.min(A,e.height+t[0].borderWidth),Math.max(0,u-t[1].borderWidth),d-t[2].borderWidth,l.BOTTOM_RIGHT):new o.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:f>0||p>0?c(e.left,e.top+y,f,p,l.BOTTOM_LEFT):new o.default(e.left,e.top+e.height),bottomLeftInner:f>0||p>0?c(e.left+t[3].borderWidth,e.top+y,Math.max(0,f-t[3].borderWidth),p-t[2].borderWidth,l.BOTTOM_LEFT):new o.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),c=function getCurvePoints(e,t,n,r,a){var s=(Math.sqrt(2)-1)/3*4,c=n*s,u=r*s,d=e+n,f=t+r;switch(a){case l.TOP_LEFT:return new i.default(new o.default(e,f),new o.default(e,f-u),new o.default(d-c,t),new o.default(d,t));case l.TOP_RIGHT:return new i.default(new o.default(e,t),new o.default(e+c,t),new o.default(d,f-u),new o.default(d,f));case l.BOTTOM_RIGHT:return new i.default(new o.default(d,t),new o.default(d,t+u),new o.default(e+c,f),new o.default(e,f));case l.BOTTOM_LEFT:default:return new i.default(new o.default(d,f),new o.default(d-c,f),new o.default(e,t+u),new o.default(e,t))}}},function(e,t,n){"use strict";(function(e){var r=n(3),o=n(167),i=n(11),a=n(733),s=n(734);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function Model(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Model),t=_possibleConstructorReturn(this,_getPrototypeOf(Model).call(this)),e.isBoolean(o.abortCtor)&&o.abortCtor)return _possibleConstructorReturn(t);var i=n;t.cid=e.uniqueId(t.cidPrefix),t.attributes={},o.collection&&(t.collection=o.collection),t.changed={},t.validationError=null,t.cidPrefix="c";var a=e.get(i,"uuid",!1)||r.a.generateUuid();return i.uuid=a,t.uuid=a,e.isBoolean(o.abortCtorInit)&&o.abortCtorInit?_possibleConstructorReturn(t):(o.parse&&(i=t.parse(i,o)||{}),i=e.defaults({},i,e.result(_assertThisInitialized(t),"defaults")),t.set(i,o),t.initialize(_assertThisInitialized(t),arguments),t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Model,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Model,[{key:"changedAttributes",value:function changedAttributes(t){if(!t)return!!this.hasChanged()&&e.clone(this.changed);var n=this._changing?this._previousAttributes:this.attributes,r={};for(var o in t){var i=t[o];e.isEqual(n[o],i)||(r[o]=i)}return!!e.size(r)&&r}},{key:"clear",value:function clear(t){var n={};for(var r in this.attributes)n[r]=void 0;return this.set(n,e.extend({},t,{unset:!0}))}},{key:"clone",value:function clone(){return new this.constructor(this.attributes)}},{key:"destroy",value:function destroy(t){var n=this,o=(t=t?e.clone(t):{}).success,i=t.wait,destroy=function destroy(){n.stopListening(),n.trigger("destroy",n,n.collection,t)};t.success=function(e){i&&destroy(),o&&o.call(t.context,n,e,t),n.isNew()||n.trigger("sync",n,e,t)};var a=!1;return this.isNew()?e.defer(t.success):(r.a.wrapError(this,t),a=this.sync("delete",this,t)),i||destroy(),a}},{key:"escape",value:function escape(t){return e.escape(this.get(t))}},{key:"fetch",value:function fetch(t){var n=this,o=(t=e.extend({parse:!0},t)).success;return t.success=function(e){var r=t.parse?n.parse(e,t):e;if(!n.set(r,t))return!1;o&&o.call(t.context,n,e,t),n.trigger("sync",n,e,t)},r.a.wrapError(this,t),this.sync("read",this,t)}},{key:"get",value:function get(e){return this.attributes[e]}},{key:"has",value:function has(e){return!r.a.isNullOrUndef(this.get(e))}},{key:"hasChanged",value:function hasChanged(t){return r.a.isNullOrUndef(t)?!e.isEmpty(this.changed):e.has(this.changed,t)}},{key:"initialize",value:function initialize(){}},{key:"isNew",value:function isNew(){return!this.has(this.idAttribute)}},{key:"isValid",value:function isValid(t){return this._validate({},e.defaults({validate:!0},t))}},{key:"matches",value:function matches(t){return!!e.iteratee(t,this)(this.attributes)}},{key:"parse",value:function parse(e,t){return e}},{key:"previous",value:function previous(e){return r.a.isNullOrUndef(e)||!this._previousAttributes?null:this._previousAttributes[e]}},{key:"previousAttributes",value:function previousAttributes(){return e.clone(this._previousAttributes)}},{key:"save",value:function save(t,n){var o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.a.isNullOrUndef(t)||"object"===_typeof(t)?(o=t,a=n):(o={})[t]=n;var s=(a=e.extend({validate:!0,parse:!0},a)).wait;if(o&&!s){if(!this.set(o,a))return!1}else if(!this._validate(o,a))return!1;var l=a.success,c=this.attributes;a.success=function(t){i.attributes=c;var n=a.parse?i.parse(t,a):t;if(s&&(n=e.extend({},o,n)),n&&!i.set(n,a))return!1;l&&l.call(a.context,i,t,a),i.trigger("sync",i,t,a)},r.a.wrapError(this,a),o&&s&&(this.attributes=e.extend({},c,o));var u=this.isNew()?"create":a.patch?"patch":"update";"patch"!==u||a.attrs||(a.attrs=o);var d=this.sync(u,this,a);return this.attributes=c,d}},{key:"set",value:function set(t,n){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.a.isNullOrUndef(t))return this;if("object"===_typeof(t)?(o=t,i=n||{}):(o={})[t]=n,!this._validate(o,i))return!1;var a=i.unset,s=i.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=e.clone(this.attributes),this.changed={});var u=this.attributes,d=this.changed,f=this._previousAttributes;for(var p in o)n=o[p],e.isEqual(u[p],n)&&"object"!==_typeof(n)||l.push(p),e.isEqual(f[p],n)?delete d[p]:d[p]=n,a?delete u[p]:u[p]=n;if(this.id=this.get(this.idAttribute),!s){l.length&&(this._pending=i);for(var h=0;h<l.length;h++)this.trigger("change:".concat(l[h]),this,u[l[h]],i)}if(c)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i,o);return this._pending=!1,this._changing=!1,this}},{key:"sync",value:function sync(){return Backbone.sync.apply(this,arguments)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(e,"deep",!1)?Object(a.a)(this.attributes):Object(s.a)(this.attributes)}},{key:"unset",value:function unset(t,n){return this.set(t,void 0,e.extend({},n,{unset:!0}))}},{key:"url",value:function url(){var t=e.result(this,"urlRoot")||e.result(this.collection,"url")||r.a.urlError();if(this.isNew())return t;var n=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(n)}},{key:"_validate",value:function _validate(t,n){if(!n.validate||!this.validate)return!0;t=e.extend({},this.attributes,t);var r=this.validationError=this.validate(t,n)||null;return!r||(this.trigger("invalid",this,r,e.extend(n,{validationError:r})),!1)}}]),Model}();l.prototype.idAttribute="id";r.a.addUnderscoreMethods(l,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"),t.a=l}).call(this,n(24))},function(e,t,n){"use strict";t.a=function cacheHas(e,t){return e.has(t)}},function(e,t,n){"use strict";var r=n(23),o=n(92),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.a=function toNumber(e){if("number"==typeof e)return e;if(Object(o.a)(e))return i;if(Object(r.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=_interopRequireDefault(n(483)),i=_interopRequireDefault(n(484)),a=n(679);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function html2canvas(e,t){var n=t||{},s=new i.default("boolean"!=typeof n.logging||n.logging);s.log("html2canvas $npm_package_version");var l=e.ownerDocument;if(!l)return Promise.reject("Provided element is not within a Document");var c=l.defaultView,u={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:c.devicePixelRatio||1,target:new o.default(n.canvas),useCORS:!1,windowWidth:c.innerWidth,windowHeight:c.innerHeight,scrollX:c.pageXOffset,scrollY:c.pageYOffset};return(0,a.renderElement)(e,r({},u,n),s)};s.CanvasRenderer=o.default,e.exports=s},function(e,t,n){"use strict";var r=n(69),o=Object(r.a)(Object,"create");var i=function hashClear(){this.__data__=o?o(null):{},this.size=0};var a=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s="__lodash_hash_undefined__",l=Object.prototype.hasOwnProperty;var c=function hashGet(e){var t=this.__data__;if(o){var n=t[e];return n===s?void 0:n}return l.call(t,e)?t[e]:void 0},u=Object.prototype.hasOwnProperty;var d=function hashHas(e){var t=this.__data__;return o?void 0!==t[e]:u.call(t,e)},f="__lodash_hash_undefined__";var p=function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?f:t,this};function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=i,Hash.prototype.delete=a,Hash.prototype.get=c,Hash.prototype.has=d,Hash.prototype.set=p;var h=Hash,g=n(129),m=n(132);var A=function mapCacheClear(){this.size=0,this.__data__={hash:new h,map:new(m.a||g.a),string:new h}};var v=function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var y=function getMapData(e,t){var n=e.__data__;return v(t)?n["string"==typeof t?"string":"hash"]:n.map};var b=function mapCacheDelete(e){var t=y(this,e).delete(e);return this.size-=t?1:0,t};var w=function mapCacheGet(e){return y(this,e).get(e)};var _=function mapCacheHas(e){return y(this,e).has(e)};var E=function mapCacheSet(e,t){var n=y(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=A,MapCache.prototype.delete=b,MapCache.prototype.get=w,MapCache.prototype.has=_,MapCache.prototype.set=E;t.a=MapCache},function(e,t,n){"use strict";var r=n(159),o=1/0,i=1.7976931348623157e308;var a=function toFinite(e){return e?(e=Object(r.a)(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0};t.a=function toInteger(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){"use strict";var r=n(69),o=n(20),i=Object(r.a)(o.a,"WeakMap");t.a=i},function(e,t,n){"use strict";t.a={title:"Image library",version:"0.1",icon:"fas fa-folder-open",defaultProvider:"UserImages",sidebar:{menuItems:[{title:"My images",provider:"UserImages",icon:"fas fa-image",image:!1},{title:"Giphy!",provider:"Giphy",icon:!1,image:"https://3.bp.blogspot.com/-iab1f7FhnfA/WYFtAEQTGZI/AAAAAAAACZk/7rmmn0HPEXM56NMWfwz5VCKBCD0edzANwCK4BGAYYCw/s1600/api_giphy_logo.png"},{title:"Unsplash!",provider:"Unsplash",icon:!1,image:"https://user-images.githubusercontent.com/14293805/50018582-18411900-ffd0-11e8-80c9-d3e742db2c3e.png"},{title:"Patterns",provider:"Patterns",icon:"fas fa-chess-board",image:!1}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(121)),i=n(166),a=n(225),s=n(454),l=n(684),c=n(685),u=n(686),d=n(687),f=n(688),p=n(689),h=n(234),g=n(690),m=n(691),A=n(486),v=n(485),y=n(487),b=n(453),w=n(692),_=n(488),E=n(693),C=n(694),S=n(695),T=n(696),x=n(156),O=n(489),k=n(456);var B=["INPUT","TEXTAREA","SELECT"],P=function(){function NodeContainer(e,t,n,r){var i=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NodeContainer),this.parent=t,this.tagName=e.tagName,this.index=r,this.childNodes=[],this.listItems=[],"number"==typeof e.start&&(this.listStart=e.start);var P=e.ownerDocument.defaultView,R=P.pageXOffset,L=P.pageYOffset,M=P.getComputedStyle(e,null),D=(0,c.parseDisplay)(M.display),N="radio"===e.type||"checkbox"===e.type,F=(0,y.parsePosition)(M.position);if(this.style={background:N?O.INPUT_BACKGROUND:(0,a.parseBackground)(M,n),border:N?O.INPUT_BORDERS:(0,s.parseBorder)(M),borderRadius:(e instanceof P.HTMLInputElement||e instanceof HTMLInputElement)&&N?(0,O.getInputBorderRadius)(e):(0,l.parseBorderRadius)(M),color:N?O.INPUT_COLOR:new o.default(M.color),display:D,float:(0,u.parseCSSFloat)(M.float),font:(0,d.parseFont)(M),letterSpacing:(0,f.parseLetterSpacing)(M.letterSpacing),listStyle:D===c.DISPLAY.LIST_ITEM?(0,h.parseListStyle)(M):null,lineBreak:(0,p.parseLineBreak)(M.lineBreak),margin:(0,g.parseMargin)(M),opacity:parseFloat(M.opacity),overflow:-1===B.indexOf(e.tagName)?(0,m.parseOverflow)(M.overflow):m.OVERFLOW.HIDDEN,overflowWrap:(0,A.parseOverflowWrap)(M.overflowWrap?M.overflowWrap:M.wordWrap),padding:(0,v.parsePadding)(M),position:F,textDecoration:(0,b.parseTextDecoration)(M),textShadow:(0,w.parseTextShadow)(M.textShadow),textTransform:(0,_.parseTextTransform)(M.textTransform),transform:(0,E.parseTransform)(M),visibility:(0,C.parseVisibility)(M.visibility),wordBreak:(0,S.parseWordBreak)(M.wordBreak),zIndex:(0,T.parseZIndex)(F!==y.POSITION.STATIC?M.zIndex:"auto")},this.isTransformed()&&(e.style.transform="matrix(1,0,0,1,0,0)"),D===c.DISPLAY.LIST_ITEM){var U=(0,k.getListOwner)(this);if(U){var H=U.listItems.length;U.listItems.push(this),this.listIndex=e.hasAttribute("value")&&"number"==typeof e.value?e.value:0===H?"number"==typeof U.listStart?U.listStart:1:U.listItems[H-1].listIndex+1}}"IMG"===e.tagName&&e.addEventListener("load",function(){i.bounds=(0,x.parseBounds)(e,R,L),i.curvedBounds=(0,x.parseBoundCurves)(i.bounds,i.style.border,i.style.borderRadius)}),this.image=I(e,n),this.bounds=N?(0,O.reformatInputBounds)((0,x.parseBounds)(e,R,L)):(0,x.parseBounds)(e,R,L),this.curvedBounds=(0,x.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius)}return r(NodeContainer,[{key:"getClipPaths",value:function getClipPaths(){var e=this.parent?this.parent.getClipPaths():[];return this.style.overflow!==m.OVERFLOW.VISIBLE?e.concat([(0,x.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function isInFlow(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function isVisible(){return!(0,i.contains)(this.style.display,c.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===C.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function isAbsolutelyPositioned(){return this.style.position!==y.POSITION.STATIC&&this.style.position!==y.POSITION.RELATIVE}},{key:"isPositioned",value:function isPositioned(){return this.style.position!==y.POSITION.STATIC}},{key:"isFloating",value:function isFloating(){return this.style.float!==u.FLOAT.NONE}},{key:"isRootElement",value:function isRootElement(){return null===this.parent}},{key:"isTransformed",value:function isTransformed(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function isPositionedWithZIndex(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function isInlineLevel(){return(0,i.contains)(this.style.display,c.DISPLAY.INLINE)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_FLEX)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_GRID)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_LIST_ITEM)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function isInlineBlockOrInlineTable(){return(0,i.contains)(this.style.display,c.DISPLAY.INLINE_BLOCK)||(0,i.contains)(this.style.display,c.DISPLAY.INLINE_TABLE)}}]),NodeContainer}();t.default=P;var I=function getImage(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var o=e;return t.loadCanvas(o);case"IFRAME":var i=e.getAttribute("data-html2canvas-internal-iframe-key");if(i)return i}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.contains=function contains(e,t){return 0!=(e&t)},t.distance=function distance(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function copyCSSStyles(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){"use strict";var r=n(498);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function Events(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Events),_possibleConstructorReturn(this,_getPrototypeOf(Events).call(this))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Events,r["a"]),Events}();t.a=o},function(e,t,n){"use strict";var r=9007199254740991;t.a=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,n){"use strict";var r=n(17),o=n(92),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.a=function isKey(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(o.a)(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";var r=n(239),o=n(247),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),Object(r.a)(a(e),function(t){return i.call(e,t)}))}:o.a;t.a=s},function(e,t,n){"use strict";t.a=function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict";var r=n(241),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";var r=n(194);t.a=function baseAssignValue(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=n(173),o=n(96),i=Object.prototype.hasOwnProperty;t.a=function assignValue(e,t,n){var a=e[t];i.call(e,t)&&Object(o.a)(a,n)&&(void 0!==n||t in e)||Object(r.a)(e,t,n)}},function(e,t,n){"use strict";var r=n(193);t.a=function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new r.a(t).set(new r.a(e)),t}},function(e,t,n){"use strict";t.a=function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){"use strict";var r=n(48),o=n(34);t.a=function isArrayLikeObject(e){return Object(o.a)(e)&&Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(179);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function EmailElementCollection(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailElementCollection),_possibleConstructorReturn(this,_getPrototypeOf(EmailElementCollection).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailElementCollection,r["a"]),EmailElementCollection}();t.a=o},function(e,t,n){"use strict";var r=n(520),o=n(17),i=n(612),a=n(738);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function BaseCollection(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseCollection),_possibleConstructorReturn(this,_getPrototypeOf(BaseCollection).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseCollection,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseCollection,[{key:"initialize",value:function initialize(){}},{key:"filter",value:function filter(e,t){return Object(o.a)(t)?Object(i.a)(this.models,function(n){return t.includes(n.attributes[e])}):[]}},{key:"getPropsArray",value:function getPropsArray(e){return Object(a.a)(this.toJSON({}),function(t){return t[e]})}}]),BaseCollection}();t.a=s},function(e,t,n){"use strict";var r=n(13),o=n(552),i=n.n(o),a=n(55);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function CategoryView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CategoryView),_possibleConstructorReturn(this,_getPrototypeOf(CategoryView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(CategoryView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(CategoryView,[{key:"initialize",value:function initialize(e){this.model.set("selectedCategories",["0"]),this.setTemplate(i.a),this.listenTo(this.model,"emailTemplatePicker:hide",this.remove),this.listenTo(this.model.categories,"sync",this.render)}},{key:"onClick",value:function onClick(e){var t=e.shiftKey||!1,n=this.$(e.currentTarget).data("id")+"",r=this.model.get("selectedCategories");t?r.push(n):r=[n],this.model.set("selectedCategories",r),this.render()}},{key:"getModelAttributes",value:function getModelAttributes(){return Object(a.a)({},_get(_getPrototypeOf(CategoryView.prototype),"getModelAttributes",this).call(this),{categories:this.model.categories.toArray()})}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"CategoryView "}},{key:"events",get:function get(){return{"click .theme-category-bubble":"onClick"}}}]),CategoryView}();t.a=s},function(e,t,n){"use strict";var r=n(13),o=n(554),i=n.n(o),a=n(29);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function ListView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ListView),_possibleConstructorReturn(this,_getPrototypeOf(ListView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ListView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ListView,[{key:"getFiltered",value:function getFiltered(){}},{key:"getListItem",value:function getListItem(){}},{key:"initialize",value:function initialize(){}},{key:"renderList",value:function renderList(){this.$el.find('[data-toggle="tooltip"]').tooltip("hide");var e=[],t=this.getListItem();return Object(a.a)(this.getFiltered(),function(n){e.push(new t({model:n}).render().el)}),0===e.length&&(e=[i()()]),this.$el.html(e).animateCss("fadeIn"),this.$el.find('[data-toggle="tooltip"]').tooltip(),this}}]),ListView}();t.a=s},function(e,t,n){"use strict";var r=n(179);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function CategoryItemCollection(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CategoryItemCollection),_possibleConstructorReturn(this,_getPrototypeOf(CategoryItemCollection).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(CategoryItemCollection,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(CategoryItemCollection,[{key:"getAllItemsCategory",value:function getAllItemsCategory(){}},{key:"filter",value:function filter(e,t){return t.includes(this.getAllItemsCategory())?this.models:_get(_getPrototypeOf(CategoryItemCollection.prototype),"filter",this).call(this,e,t)}},{key:"initialize",value:function initialize(){}}]),CategoryItemCollection}();t.a=o},function(e,t,n){"use strict";var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.a=function hasUnicode(e){return r.test(e)}},function(e,t,n){"use strict";const r="function ResizeObserver () { [polyfill code] }",o=e=>(e.toString=function(){return r},e),i=12,a=window.requestAnimationFrame,s={attributes:!0,characterData:!0,childList:!0,subtree:!0},l=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],c=new Map,u=new Map;let d;const f=()=>{d||(d=!0,a(function runSchedule(e){d=!1;const t=[],n=[];c.forEach(e=>t.push(e)),u.forEach(e=>n.push(e)),c.clear(),u.clear();try{for(let n of t)n(e)}finally{for(let t of n)t(e)}}))};const p=new class scheduler_Scheduler{constructor(){this.stopped=!0,this.listener=(()=>this.schedule())}run(e){const t=this;u.set(this,function ResizeObserver(){let n=!1;try{n=D()}finally{n?t.run(60):e?t.run(e-1):t.start()}}),f()}schedule(){this.stop(),this.run(i)}observe(){const e=()=>this.observer&&this.observer.observe(document.body,s);document.body?e():window.addEventListener("DOMContentLoaded",e)}start(){this.stopped&&(this.stopped=!1,"MutationObserver"in window&&(this.observer=new MutationObserver(this.listener),this.observe()),l.forEach(e=>window.addEventListener(e,this.listener,!0)))}stop(){this.stopped||(this.observer&&this.observer.disconnect(),l.forEach(e=>window.removeEventListener(e,this.listener,!0)),this.stopped=!0)}};let h=0;var g;window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new Error("requestAnimationFrame expects 1 callback argument of type function.");const t=h+=1;return c.set(t,function AnimationFrame(t){return e(t)}),f(),t},window.cancelAnimationFrame=function(e){c.delete(e)},o(window.requestAnimationFrame),o(window.cancelAnimationFrame),function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.SCROLL_BOX="scroll-box",e.DEVICE_PIXEL_BORDER_BOX="device-pixel-border-box"}(g||(g={}));class DOMRectReadOnly{constructor(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}static fromRect(e){return new DOMRectReadOnly(e.x,e.y,e.width,e.height)}}const m=e=>e instanceof SVGElement&&"getBBox"in e,A=e=>{if(m(e)){const{width:t,height:n}=e.getBBox();return!t&&!n}const{offsetWidth:t,offsetHeight:n}=e;return!(t||n||e.getClientRects().length)},v=new Map,y=/auto|scroll/,b=/msie|trident/i.test(navigator.userAgent),w=e=>parseFloat(e||"0"),_=(e=0,t=0)=>Object.freeze({inlineSize:e,blockSize:t}),E=Object.freeze({borderBoxSize:_(),contentBoxSize:_(),scrollBoxSize:_(),devicePixelBorderBoxSize:_(),contentRect:new DOMRectReadOnly(0,0,0,0)}),C=e=>{if(v.has(e))return v.get(e);if(A(e))return v.set(e,E),E;const t=getComputedStyle(e),n=window.devicePixelRatio,r=m(e)&&e.getBBox(),o=!b&&"border-box"===t.boxSizing,i=!r&&y.test(t.overflowY||""),a=!r&&y.test(t.overflowX||""),s=r?0:w(t.paddingTop),l=r?0:w(t.paddingRight),c=r?0:w(t.paddingBottom),u=r?0:w(t.paddingLeft),d=r?0:w(t.borderTopWidth),f=r?0:w(t.borderRightWidth),p=r?0:w(t.borderBottomWidth),h=u+l,g=s+c,C=(r?0:w(t.borderLeftWidth))+f,S=d+p,T=a?e.offsetHeight-S-e.clientHeight:0,x=i?e.offsetWidth-C-e.clientWidth:0,O=o?h+C:0,k=o?g+S:0,B=r?r.width:w(t.width)-O-x,P=r?r.height:w(t.height)-k-T,I=B+h+x+C,R=P+g+T+S,L=Object.freeze({borderBoxSize:_(I,R),contentBoxSize:_(B,P),scrollBoxSize:_(B+h,P+g),devicePixelBorderBoxSize:_(I*n,R*n),contentRect:new DOMRectReadOnly(u,s,B,P)});return v.set(e,L),L},S=(e,t)=>{const n=C(e);switch(t){case g.BORDER_BOX:return n.borderBoxSize;case g.SCROLL_BOX:return n.scrollBoxSize;case g.DEVICE_PIXEL_BORDER_BOX:return n.devicePixelBorderBoxSize;case g.CONTENT_BOX:default:return n.contentBoxSize}};class ResizeObservation_ResizeObservation{constructor(e,t){this.target=e,this.observedBox=t||g.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}isActive(){const e=S(this.target,this.observedBox);return this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize}}class ResizeObserverDetail{constructor(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}}const T=()=>P.some(e=>e.activeTargets.length>0),x="ResizeObserver loop completed with undelivered notifications.";const O=e=>{if(A(e))return 1/0;let t=0,n=e.parentNode;for(;n;)t+=1,n=n.parentNode;return t},k=()=>{let e=1/0;const t=[];P.forEach(function processObserver(n){if(0===n.activeTargets.length)return;const r=[];n.activeTargets.forEach(function processTarget(t){const n=new class ResizeObserverEntry_ResizeObserverEntry{constructor(e){const t=C(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=t.borderBoxSize,this.contentSize=t.contentBoxSize,this.scrollSize=t.scrollBoxSize,this.devicePixelBorderBoxSize=t.devicePixelBorderBoxSize}}(t.target),o=O(t.target);r.push(n),t.lastReportedSize=S(t.target,t.observedBox),o<e&&(e=o)}),t.push(function resizeObserverCallback(){n.callback(r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)});for(let e of t)e();return e},B=e=>{v.clear(),P.forEach(function processObserver(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function processTarget(n){n.isActive()&&(O(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},P=[],I=new Map;let R=0;const L=e=>{!R&&e>0&&p.start(),!(R+=e)&&p.stop()},M=(e,t)=>{for(let n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},D=()=>{let e=0;for(B(e);T();)e=k(),B(e);return(()=>P.some(e=>e.skippedTargets.length>0))()&&(()=>{let e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:x}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=x),window.dispatchEvent(e)})(),e>0};class ResizeObserverController_ResizeObserverController{static connect(e,t){const n=new ResizeObserverDetail(e,t);P.push(n),I.set(e,n)}static observe(e,t,n){if(I.has(e)){const r=I.get(e);M(r.observationTargets,t)<0&&(r.observationTargets.push(new ResizeObservation_ResizeObservation(t,n&&n.box)),L(1),p.schedule())}}static unobserve(e,t){if(I.has(e)){const n=I.get(e),r=M(n.observationTargets,t);r>=0&&(n.observationTargets.splice(r,1),L(-1))}}static disconnect(e){if(I.has(e)){const t=I.get(e);P.splice(P.indexOf(t),1),I.delete(e),L(-t.observationTargets.length)}}}const N=g.DEVICE_PIXEL_BORDER_BOX;t.a=class ResizeObserver_ResizeObserver{constructor(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController_ResizeObserverController.connect(this,e)}observe(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(e instanceof Element==0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");if(t&&t.box===N&&"CANVAS"!==e.tagName)throw new Error(`Can only watch ${t.box} on canvas elements.`);ResizeObserverController_ResizeObserverController.observe(this,e,t)}unobserve(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(e instanceof Element==0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController_ResizeObserverController.unobserve(this,e)}disconnect(){ResizeObserverController_ResizeObserverController.disconnect(this)}static toString(){return r}}},function(e,t,n){"use strict";var r=n(101),o=n(189);var i=function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},a=n(158),s=1,l=2;var c=function equalArrays(e,t,n,r,c,u){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var g=-1,m=!0,A=n&l?new o.a:void 0;for(u.set(e,t),u.set(t,e);++g<f;){var v=e[g],y=t[g];if(r)var b=d?r(y,v,g,t,e,u):r(v,y,g,e,t,u);if(void 0!==b){if(b)continue;m=!1;break}if(A){if(!i(t,function(e,t){if(!Object(a.a)(A,t)&&(v===e||c(v,e,n,r,u)))return A.push(t)})){m=!1;break}}else if(v!==y&&!c(v,y,n,r,u)){m=!1;break}}return u.delete(e),u.delete(t),m},u=n(49),d=n(193),f=n(96);var p=function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};var h=function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},g=1,m=2,A="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Map]",w="[object Number]",_="[object RegExp]",E="[object Set]",C="[object String]",S="[object Symbol]",T="[object ArrayBuffer]",x="[object DataView]",O=u.a?u.a.prototype:void 0,k=O?O.valueOf:void 0;var B=function equalByTag(e,t,n,r,o,i,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!i(new d.a(e),new d.a(t)));case A:case v:case w:return Object(f.a)(+e,+t);case y:return e.name==t.name&&e.message==t.message;case _:case C:return e==t+"";case b:var s=p;case E:var l=r&g;if(s||(s=h),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=m,a.set(e,t);var O=c(s(e),s(t),r,o,i,a);return a.delete(e),O;case S:if(k)return k.call(e)==k.call(t)}return!1},P=n(229),I=1,R=Object.prototype.hasOwnProperty;var L=function equalObjects(e,t,n,r,o,i){var a=n&I,s=Object(P.a)(e),l=s.length;if(l!=Object(P.a)(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:R.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var h=e[u=s[c]],g=t[u];if(r)var m=a?r(g,h,u,t,e,i):r(h,g,u,e,t,i);if(!(void 0===m?h===g||o(h,g,n,r,i):m)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var A=e.constructor,v=t.constructor;A!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof v&&v instanceof v)&&(f=!1)}return i.delete(e),i.delete(t),f},M=n(81),D=n(17),N=n(91),F=n(131),U=1,H="[object Arguments]",j="[object Array]",Q="[object Object]",z=Object.prototype.hasOwnProperty;var $=function baseIsEqualDeep(e,t,n,o,i,a){var s=Object(D.a)(e),l=Object(D.a)(t),u=s?j:Object(M.a)(e),d=l?j:Object(M.a)(t),f=(u=u==H?Q:u)==Q,p=(d=d==H?Q:d)==Q,h=u==d;if(h&&Object(N.a)(e)){if(!Object(N.a)(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new r.a),s||Object(F.a)(e)?c(e,t,n,o,i,a):B(e,t,u,n,o,i,a);if(!(n&U)){var g=f&&z.call(e,"__wrapped__"),m=p&&z.call(t,"__wrapped__");if(g||m){var A=g?e.value():e,v=m?t.value():t;return a||(a=new r.a),i(A,v,n,o,a)}}return!!h&&(a||(a=new r.a),L(e,t,n,o,i,a))},V=n(34);t.a=function baseIsEqual(e,t,n,r,o){return e===t||(null==e||null==t||!Object(V.a)(e)&&!Object(V.a)(t)?e!=e&&t!=t:$(e,t,n,r,baseIsEqual,o))}},function(e,t,n){"use strict";var r=n(265);var o=function baseIsNaN(e){return e!=e};var i=function strictIndexOf(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var a=function baseIndexOf(e,t,n){return t==t?i(e,t,n):Object(r.a)(e,o,n)};t.a=function arrayIncludes(e,t){return!(null==e||!e.length)&&a(e,t,0)>-1}},function(e,t,n){"use strict";var r=n(277),o=n(80);var i=function baseForOwn(e,t){return e&&Object(r.a)(e,t,o.a)},a=n(48);var s=function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!Object(a.a)(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}(i);t.a=s},function(e,t,n){"use strict";var r=function constant(e){return function(){return e}},o=n(194),i=n(83),a=o.a?function(e,t){return Object(o.a)(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i.a,s=n(254),l=Object(s.a)(a);t.a=l},function(e,t,n){"use strict";var r=n(161),o="__lodash_hash_undefined__";var i=function setCacheAdd(e){return this.__data__.set(e,o),this};var a=function setCacheHas(e){return this.__data__.has(e)};function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=i,SetCache.prototype.has=a;t.a=SetCache},function(e,t,n){"use strict";var r=n(179),o=n(21),i=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function Category(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Category),_possibleConstructorReturn(this,_getPrototypeOf(Category).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Category,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Category,[{key:"parse",value:function parse(e,t){return _get(_getPrototypeOf(Category.prototype),"parse",this).call(this,Object(i.a)(e,"Category"),t)}},{key:"initialize",value:function initialize(){}},{key:"defaults",get:function get(){return{id:null,title:null}}}]),Category}();function CategoriesCollection_typeof(e){return(CategoriesCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CategoriesCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CategoriesCollection_possibleConstructorReturn(e,t){return!t||"object"!==CategoriesCollection_typeof(t)&&"function"!=typeof t?function CategoriesCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CategoriesCollection_getPrototypeOf(e){return(CategoriesCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CategoriesCollection_setPrototypeOf(e,t){return(CategoriesCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function CategoriesCollection(){return function CategoriesCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CategoriesCollection),CategoriesCollection_possibleConstructorReturn(this,CategoriesCollection_getPrototypeOf(CategoriesCollection).apply(this,arguments))}return function CategoriesCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CategoriesCollection_setPrototypeOf(e,t)}(CategoriesCollection,r["a"]),function CategoriesCollection_createClass(e,t,n){return t&&CategoriesCollection_defineProperties(e.prototype,t),n&&CategoriesCollection_defineProperties(e,n),e}(CategoriesCollection,[{key:"initialize",value:function initialize(e){var t=this;this._type=null,this.listenTo(this,"sync",function(){t.add({id:"0",title:l("All")},{at:0})})}},{key:"model",get:function get(){return a}},{key:"url",get:function get(){return window.SENDER_ENDPOINT+"categories"+window.DS+this.type}},{key:"type",get:function get(){return this._type},set:function set(e){this._type=e}}]),CategoriesCollection}();t.a=s},function(e,t,n){"use strict";var r=n(122),o=n(241),i=Object(o.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty;t.a=function baseKeys(e){if(!Object(r.a)(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(21),o=n(13),i=n(559),a=n.n(i),s=n(560),l=n(0),c=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function SidebarView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SidebarView),_possibleConstructorReturn(this,_getPrototypeOf(SidebarView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SidebarView,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SidebarView,[{key:"initialize",value:function initialize(e){this.setTemplate(a.a),this.render(),new s.a({model:this.model,el:this.$el.find(".se-sidebar-content")}).renderContent(),this.listenTo(this.model,"change:selectedTab",this.setActiveTabClass),this.listenTo(this.model,"selectTab",this.setActiveTabClass)}},{key:"render",value:function render(){return this.$el.html(this.template(this.model.toJSON())),this}},{key:"setActiveTabClass",value:function setActiveTabClass(){this.$el.find(".se-tab-button").removeClass("active"),this.$el.find('.se-tab-button[data-id="'.concat(this.model.get("selectedTab"),'"]')).addClass("active")}},{key:"onTabClick",value:function onTabClick(e){e.stopPropagation(),e.preventDefault();var t=this.$(e.currentTarget);this.model.set("selectedTab",t.data("id"))}},{key:"openThemeSidebar",value:function openThemeSidebar(){l.a.publish(c.f.DESELECT),l.a.publish(c.k.DESTROY)}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"SectionTemplateListView "}},{key:"events",get:function get(){var e={"click .se-tab-button":"onTabClick"};return this.model.get("deselectAllOnClick")&&(e.click="openThemeSidebar"),e}}]),SidebarView}();function SidebarModule_typeof(e){return(SidebarModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SidebarModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SidebarModule_possibleConstructorReturn(e,t){return!t||"object"!==SidebarModule_typeof(t)&&"function"!=typeof t?function SidebarModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SidebarModule_getPrototypeOf(e){return(SidebarModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SidebarModule_setPrototypeOf(e,t){return(SidebarModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function SidebarModule(){return function SidebarModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SidebarModule),SidebarModule_possibleConstructorReturn(this,SidebarModule_getPrototypeOf(SidebarModule).apply(this,arguments))}return function SidebarModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SidebarModule_setPrototypeOf(e,t)}(SidebarModule,r["a"]),function SidebarModule_createClass(e,t,n){return t&&SidebarModule_defineProperties(e.prototype,t),n&&SidebarModule_defineProperties(e,n),e}(SidebarModule,[{key:"initialize",value:function initialize(){var e=this;new u({el:this.get("element"),model:this}),l.a.subscribe(c.l.TAB_CHANGE,function(t,n){e.get("title")===n.sidebar&&e.selectTab(n.index)})}},{key:"getSelectedTab",value:function getSelectedTab(){return this.get("tabs."+this.get("selectedTab"))}},{key:"selectTab",value:function selectTab(e){this.set("selectedTab",e,{silent:!0}),this.trigger("selectTab"),this.trigger("selectTabContent")}},{key:"defaults",get:function get(){return{selectedTab:0,tabs:[]}}}]),SidebarModule}();t.a=d},function(e,t,n){"use strict";var r=n(20).a.Uint8Array;t.a=r},function(e,t,n){"use strict";var r=n(69),o=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=o},function(e,t,n){(function(t){var n;e.exports=function e(t,r,o){function s(a,l){if(!r[a]){if(!t[a]){var c="function"==typeof n&&n;if(!l&&c)return n(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return s(n||e)},d,d.exports,e,t,r,o)}return r[a].exports}for(var i="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,n,r){(function(e){"use strict";var t,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(nextTick),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),t=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){nextTick(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(nextTick,0)};else{var l=new e.MessageChannel;l.port1.onmessage=nextTick,t=function(){l.port2.postMessage(0)}}var c=[];function nextTick(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}n.exports=function immediate(e){1!==c.push(e)||r||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function INTERNAL(){}var o={},i=["REJECTED"],a=["FULFILLED"],s=["PENDING"];function Promise(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==INTERNAL&&safelyResolveThenable(this,e)}function QueueItem(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function unwrap(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function getThen(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function appyThen(){t.apply(e,arguments)}}function safelyResolveThenable(e,t){var n=!1;function onError(t){n||(n=!0,o.reject(e,t))}function onSuccess(t){n||(n=!0,o.resolve(e,t))}var r=tryCatch(function tryToUnwrap(){t(onSuccess,onError)});"error"===r.status&&onError(r.value)}function tryCatch(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=Promise,Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(INTERNAL);if(this.state!==s){var r=this.state===a?e:t;unwrap(n,r,this.outcome)}else this.queue.push(new QueueItem(n,e,t));return n},QueueItem.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},QueueItem.prototype.otherCallFulfilled=function(e){unwrap(this.promise,this.onFulfilled,e)},QueueItem.prototype.callRejected=function(e){o.reject(this.promise,e)},QueueItem.prototype.otherCallRejected=function(e){unwrap(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=tryCatch(getThen,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)safelyResolveThenable(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},Promise.resolve=function resolve(e){return e instanceof this?e:o.resolve(new this(INTERNAL),e)},Promise.reject=function reject(e){var t=new this(INTERNAL);return o.reject(t,e)},Promise.all=function all(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,s=-1,l=new this(INTERNAL);++s<n;)allResolver(e[s],s);return l;function allResolver(e,s){t.resolve(e).then(function resolveFromAll(e){i[s]=e,++a!==n||r||(r=!0,o.resolve(l,i))},function(e){r||(r=!0,o.reject(l,e))})}},Promise.race=function race(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i,a=-1,s=new this(INTERNAL);++a<n;)i=e[a],t.resolve(i).then(function(e){r||(r=!0,o.resolve(s,e))},function(e){r||(r=!0,o.reject(s,e))});return s}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function getIDB(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function createBlob(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var i=Promise;function executeCallback(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function executeTwoCallbacks(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function normalizeKey(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function getCallback(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",s=void 0,l={},c=Object.prototype.toString,u="readonly",d="readwrite";function _checkBlobSupport(e){return"boolean"==typeof s?i.resolve(s):function _checkBlobSupportWithoutCaching(e){return new i(function(t){var n=e.transaction(a,d),r=createBlob([""]);n.objectStore(a).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return s=e})}function _deferReadiness(e){var t=l[e.name],n={};n.promise=new i(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function _advanceReadiness(e){var t=l[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function _rejectReadiness(e,t){var n=l[e.name],r=n.deferredOperations.pop();if(r)return r.reject(t),r.promise}function _getConnection(e,t){return new i(function(n,r){if(l[e.name]=l[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);_deferReadiness(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var s=o.open.apply(o,i);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(a)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),_advanceReadiness(e)}})}function _getOriginalConnection(e){return _getConnection(e,!1)}function _getUpgradedConnection(e){return _getConnection(e,!0)}function _isUpgradeNeeded(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function _decodeBlob(e){var t=function _binStringToArrayBuffer(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data));return createBlob([t],{type:e.type})}function _isEncodedBlob(e){return e&&e.__local_forage_encoded_blob}function _fullyReady(e){var t=this,n=t._initReady().then(function(){var e=l[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return executeTwoCallbacks(n,e,e),n}function createTransaction(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return i.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),_getUpgradedConnection(e)}).then(function(){return function _tryReconnect(e){_deferReadiness(e);for(var t=l[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,_getOriginalConnection(e).then(function(t){return e.db=t,_isUpgradeNeeded(e)?_getUpgradedConnection(e):t}).then(function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(t){throw _rejectReadiness(e,t),t})}(e).then(function(){createTransaction(e,t,n,r-1)})}).catch(n);n(o)}}var f={_driver:"asyncStorage",_initStorage:function _initStorage(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=l[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=_fullyReady);var a=[];function ignoreErrors(){return i.resolve()}for(var s=0;s<o.forages.length;s++){var c=o.forages[s];c!==t&&a.push(c._initReady().catch(ignoreErrors))}var u=o.forages.slice(0);return i.all(a).then(function(){return n.db=o.db,_getOriginalConnection(n)}).then(function(e){return n.db=e,_isUpgradeNeeded(n,t._defaultConfig.version)?_getUpgradedConnection(n):e}).then(function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function isIndexedDBValid(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function iterate(e,t){var n=this,r=new i(function(t,r){n.ready().then(function(){createTransaction(n._dbInfo,u,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.openCursor(),l=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;_isEncodedBlob(r)&&(r=_decodeBlob(r));var o=e(r,n.key,l++);void 0!==o?t(o):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return executeCallback(r,t),r},getItem:function getItem(e,t){var n=this;e=normalizeKey(e);var r=new i(function(t,r){n.ready().then(function(){createTransaction(n._dbInfo,u,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),_isEncodedBlob(e)&&(e=_decodeBlob(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return executeCallback(r,t),r},setItem:function setItem(e,t,n){var r=this;e=normalizeKey(e);var o=new i(function(n,o){var a;r.ready().then(function(){return a=r._dbInfo,"[object Blob]"===c.call(t)?_checkBlobSupport(a.db).then(function(e){return e?t:function _encodeBlob(e){return new i(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}(t)}):t}).then(function(t){createTransaction(r._dbInfo,d,function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return executeCallback(o,n),o},removeItem:function removeItem(e,t){var n=this;e=normalizeKey(e);var r=new i(function(t,r){n.ready().then(function(){createTransaction(n._dbInfo,d,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return executeCallback(r,t),r},clear:function clear(e){var t=this,n=new i(function(e,n){t.ready().then(function(){createTransaction(t._dbInfo,d,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return executeCallback(n,e),n},length:function length(e){var t=this,n=new i(function(e,n){t.ready().then(function(){createTransaction(t._dbInfo,u,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return executeCallback(n,e),n},key:function key(e,t){var n=this,r=new i(function(t,r){e<0?t(null):n.ready().then(function(){createTransaction(n._dbInfo,u,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,l=a.openCursor();l.onsuccess=function(){var n=l.result;n?0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}})}).catch(r)});return executeCallback(r,t),r},keys:function keys(e){var t=this,n=new i(function(e,n){t.ready().then(function(){createTransaction(t._dbInfo,u,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.openCursor(),s=[];a.onsuccess=function(){var t=a.result;t?(s.push(t.key),t.continue()):e(s)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return executeCallback(n,e),n},dropInstance:function dropInstance(e,t){t=getCallback.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var a=e.name===r.name&&this._dbInfo.db,s=a?i.resolve(this._dbInfo.db):_getOriginalConnection(e).then(function(t){var n=l[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t});n=e.storeName?s.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;_deferReadiness(e);var r=l[e.name],a=r.forages;t.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=n}var u=new i(function(t,r){var i=o.open(e.name,n);i.onerror=function(e){var t=i.result;t.close(),r(e)},i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}});return u.then(function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,_advanceReadiness(n._dbInfo)}}).catch(function(t){throw(_rejectReadiness(e,t)||i.resolve()).catch(function(){}),t})}}):s.then(function(t){_deferReadiness(e);var n=l[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++){var s=r[a];s._dbInfo.db=null}var c=new i(function(t,n){var r=o.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}});return c.then(function(e){n.db=e;for(var t=0;t<r.length;t++){var o=r[t];_advanceReadiness(o._dbInfo)}}).catch(function(t){throw(_rejectReadiness(e,t)||i.resolve()).catch(function(){}),t})})}else n=i.reject("Invalid arguments");return executeCallback(n,t),n}},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="~~local_forage_type~",g=/^~~local_forage_type~([^~]+)~/,m="__lfsc__:",A=m.length,v="arbf",y="blob",b="si08",w="ui08",_="uic8",E="si16",C="si32",S="ur16",T="ui32",x="fl32",O="fl64",k=A+v.length,B=Object.prototype.toString;function stringToBuffer(e){var t,n,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=p.indexOf(e[t]),r=p.indexOf(e[t+1]),o=p.indexOf(e[t+2]),i=p.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c}function bufferToString(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=p[n[t]>>2],r+=p[(3&n[t])<<4|n[t+1]>>4],r+=p[(15&n[t+1])<<2|n[t+2]>>6],r+=p[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var P={serialize:function serialize(e,t){var n="";if(e&&(n=B.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===B.call(e.buffer))){var r,o=m;e instanceof ArrayBuffer?(r=e,o+=v):(r=e.buffer,"[object Int8Array]"===n?o+=b:"[object Uint8Array]"===n?o+=w:"[object Uint8ClampedArray]"===n?o+=_:"[object Int16Array]"===n?o+=E:"[object Uint16Array]"===n?o+=S:"[object Int32Array]"===n?o+=C:"[object Uint32Array]"===n?o+=T:"[object Float32Array]"===n?o+=x:"[object Float64Array]"===n?o+=O:t(new Error("Failed to get type for BinaryArray"))),t(o+bufferToString(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=h+e.type+"~"+bufferToString(this.result);t(m+y+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function deserialize(e){if(e.substring(0,A)!==m)return JSON.parse(e);var t,n=e.substring(k),r=e.substring(A,k);if(r===y&&g.test(n)){var o=n.match(g);t=o[1],n=n.substring(o[0].length)}var i=stringToBuffer(n);switch(r){case v:return i;case y:return createBlob([i],{type:t});case b:return new Int8Array(i);case w:return new Uint8Array(i);case _:return new Uint8ClampedArray(i);case E:return new Int16Array(i);case S:return new Uint16Array(i);case C:return new Int32Array(i);case T:return new Uint32Array(i);case x:return new Float32Array(i);case O:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function tryExecuteSql(e,t,n,r,o,i){e.executeSql(n,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?i(e,a):createDbTable(e,t,function(){e.executeSql(n,r,o,i)},i)},i):i(e,a)},i)}var I={_driver:"webSQLStorage",_initStorage:function _initStorage$1(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new i(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){createDbTable(o,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=P,o},_support:function isWebSQLValid(){return"function"==typeof openDatabase}(),iterate:function iterate$1(e,t){var n=this,r=new i(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){tryExecuteSql(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var l=i.item(s),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return executeCallback(r,t),r},getItem:function getItem$1(e,t){var n=this;e=normalizeKey(e);var r=new i(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){tryExecuteSql(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return executeCallback(r,t),r},setItem:function setItem$1(e,t,n){return function _setItem(e,t,n,r){var o=this;e=normalizeKey(e);var a=new i(function(i,a){o.ready().then(function(){void 0===t&&(t=null);var s=t,l=o._dbInfo;l.serializer.serialize(t,function(t,c){c?a(c):l.db.transaction(function(n){tryExecuteSql(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(s)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(_setItem.apply(o,[e,s,n,r-1]));a(t)}})})}).catch(a)});return executeCallback(a,n),a}.apply(this,[e,t,n,1])},removeItem:function removeItem$1(e,t){var n=this;e=normalizeKey(e);var r=new i(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){tryExecuteSql(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return executeCallback(r,t),r},clear:function clear$1(e){var t=this,n=new i(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){tryExecuteSql(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return executeCallback(n,e),n},length:function length$1(e){var t=this,n=new i(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){tryExecuteSql(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return executeCallback(n,e),n},key:function key$1(e,t){var n=this,r=new i(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){tryExecuteSql(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return executeCallback(r,t),r},keys:function keys$1(e){var t=this,n=new i(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){tryExecuteSql(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return executeCallback(n,e),n},dropInstance:function dropInstance$1(e,t){t=getCallback.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return executeCallback(r=e.name?new i(function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function getAllStoreNames(e){return new i(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})},function(e,t){n(t)})},function(e){n(e)})})}(r))}).then(function(e){return new i(function(t,n){e.db.transaction(function(r){function dropTable(e){return new i(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(dropTable(e.storeNames[a]));i.all(o).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):i.reject("Invalid arguments"),t),r}};function _getKeyPrefix(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var R={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=_getKeyPrefix(e,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=t,t.serializer=P,i.resolve()):i.reject()},_support:function isLocalStorageValid(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function iterate$2(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(o),a++)))return c}}});return executeCallback(r,t),r},getItem:function getItem$2(e,t){var n=this;e=normalizeKey(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return executeCallback(r,t),r},setItem:function setItem$2(e,t,n){var r=this;e=normalizeKey(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new i(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return executeCallback(o,n),o},removeItem:function removeItem$2(e,t){var n=this;e=normalizeKey(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return executeCallback(r,t),r},clear:function clear$2(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return executeCallback(n,e),n},length:function length$2(e){var t=this.keys().then(function(e){return e.length});return executeCallback(t,e),t},key:function key$2(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return executeCallback(r,t),r},keys:function keys$2(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return executeCallback(n,e),n},dropInstance:function dropInstance$2(e,t){if(t=getCallback.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return executeCallback(r=e.name?new i(function(t){e.storeName?t(_getKeyPrefix(e,o._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):i.reject("Invalid arguments"),t),r}},L=function sameValue(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},M=function includes(e,t){for(var n=e.length,r=0;r<n;){if(L(e[r],t))return!0;r++}return!1},D=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},N={},F={},U={INDEXEDDB:f,WEBSQL:I,LOCALSTORAGE:R},H=[U.INDEXEDDB._driver,U.WEBSQL._driver,U.LOCALSTORAGE._driver],j=["dropInstance"],Q=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(j),z={description:"",driver:H.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function extend(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(D(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var $=function(){function LocalForage(e){for(var t in function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),U)if(U.hasOwnProperty(t)){var n=U[t],r=n._driver;this[t]=r,N[r]||this.defineDriver(n)}this._defaultConfig=extend({},z),this._config=extend({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return LocalForage.prototype.config=function config(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},LocalForage.prototype.defineDriver=function defineDriver(e,t,n){var r=new i(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var a=Q.concat("_initStorage"),s=0,l=a.length;s<l;s++){var c=a[s],u=!M(j,c);if((u||e[c])&&"function"!=typeof e[c])return void n(o)}!function configureMissingMethods(){for(var t=function methodNotImplementedFactory(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=i.reject(t);return executeCallback(n,arguments[arguments.length-1]),n}},n=0,r=j.length;n<r;n++){var o=j[n];e[o]||(e[o]=t(o))}}();var d=function setDriverSupport(n){N[r]&&console.info("Redefining LocalForage driver: "+r),N[r]=e,F[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}});return executeTwoCallbacks(r,t,n),r},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(e,t,n){var r=N[e]?i.resolve(N[e]):i.reject(new Error("Driver not found."));return executeTwoCallbacks(r,t,n),r},LocalForage.prototype.getSerializer=function getSerializer(e){var t=i.resolve(P);return executeTwoCallbacks(t,e),t},LocalForage.prototype.ready=function ready(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return executeTwoCallbacks(n,e,e),n},LocalForage.prototype.setDriver=function setDriver(e,t,n){var r=this;D(e)||(e=[e]);var o=this._getSupportedDrivers(e);function setDriverToConfig(){r._config.driver=r.driver()}function extendSelfWithDriver(e){return r._extend(e),setDriverToConfig(),r._ready=r._initStorage(r._config),r._ready}var a=null!==this._driverSet?this._driverSet.catch(function(){return i.resolve()}):i.resolve();return this._driverSet=a.then(function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,setDriverToConfig(),r._wrapLibraryMethodsWithReady(),r._initDriver=function initDriver(e){return function(){var t=0;return function driverPromiseLoop(){for(;t<e.length;){var n=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(n).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var o=new Error("No available storage method found.");return r._driverSet=i.reject(o),r._driverSet}()}}(o)})}).catch(function(){setDriverToConfig();var e=new Error("No available storage method found.");return r._driverSet=i.reject(e),r._driverSet}),executeTwoCallbacks(this._driverSet,t,n),this._driverSet},LocalForage.prototype.supports=function supports(e){return!!F[e]},LocalForage.prototype._extend=function _extend(e){extend(this,e)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var e=0,t=Q.length;e<t;e++)callWhenReady(this,Q[e])},LocalForage.prototype.createInstance=function createInstance(e){return new LocalForage(e)},LocalForage}(),V=new $;t.exports=V},{3:3}]},{},[4])(4)}).call(this,n(71))},function(e,t,n){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"editor-v1.8"}}).call(this,n(71))},function(e,t,n){e.exports=!n(15)&&!n(10)(function(){return 7!=Object.defineProperty(n(133)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(19),o=n(72),i=n(16);e.exports=[].copyWithin||function copyWithin(e,t){var n=r(this),a=i(n.length),s=o(e,a),l=o(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:o(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t,n){var r=n(289);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(14),o=n(9),i=n(63);e.exports=n(15)?Object.defineProperties:function defineProperties(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(31),o=n(35),i=n(106)(!1),a=n(140)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(7).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(32),o=n(19),i=n(103),a=n(16);e.exports=function(e,t,n,s,l){r(t);var c=o(e),u=i(c),d=a(c.length),f=l?d-1:0,p=l?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=p;break}if(f+=p,l?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:d>f;f+=p)f in u&&(s=t(s,u[f],f,c));return s}},function(e,t,n){"use strict";var r=n(32),o=n(8),i=n(207),a=[].slice,s={};e.exports=Function.bind||function bind(e){var t=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(14).f,o=n(62),i=n(76),a=n(37),s=n(77),l=n(107),c=n(139),u=n(201),d=n(75),f=n(15),p=n(52).fastKey,h=n(64),g=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&l(r,n,e[c],e)});return i(u.prototype,{clear:function clear(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function forEach(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function has(e){return!!m(h(this,t),e)}}),f&&r(u.prototype,"size",{get:function(){return h(this,t)[g]}}),u},def:function(e,t,n){var r,o,i=m(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[g]++,"F"!==o&&(e._i[o]=i)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t){e.exports=Math.log1p||function log1p(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(8),o=Math.floor;e.exports=function isInteger(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){"use strict";var r=n(63),o=n(109),i=n(89),a=n(19),s=n(103),l=Object.assign;e.exports=!l||n(10)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function assign(e,t){for(var n=a(e),l=arguments.length,c=1,u=o.f,d=i.f;l>c;)for(var f,p=s(arguments[c++]),h=u?r(p).concat(u(p)):r(p),g=h.length,m=0;g>m;)d.call(p,f=h[m++])&&(n[f]=p[f]);return n}:l},function(e,t,n){var r=n(63),o=n(35),i=n(89).f;e.exports=function(e){return function(t){for(var n,a=o(t),s=r(a),l=s.length,c=0,u=[];l>c;)i.call(a,n=s[c++])&&u.push(e?[n,a[n]]:a[n]);return u}}},function(e,t,n){var r=n(65),o=n(109),i=n(9),a=n(7).Reflect;e.exports=a&&a.ownKeys||function ownKeys(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(35),o=n(65).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function getOwnPropertyNames(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t){e.exports=Object.is||function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(32);e.exports.f=function(e){return new function PromiseCapability(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(9),o=n(8),i=n(216);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){n(15)&&"g"!=/./g.flags&&n(14).f(RegExp.prototype,"flags",{configurable:!0,get:n(112)})},function(e,t,n){t.f=n(12)},function(e,t,n){var r=n(7),o=n(50),i=n(51),a=n(219),s=n(14).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(16),o=n(222),i=n(43);e.exports=function(e,t,n,a){var s=String(i(e)),l=s.length,c=void 0===n?" ":String(n),u=r(t);if(u<=l||""==c)return s;var d=u-l,f=o.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,n){"use strict";var r=n(44),o=n(43);e.exports=function repeat(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(44),o=n(16);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";var r=n(76),o=n(52).getWeak,i=n(9),a=n(8),s=n(77),l=n(107),c=n(38),u=n(31),d=n(64),f=c(5),p=c(6),h=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},A=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=A(this,e);if(t)return t[1]},has:function(e){return!!A(this,e)},set:function(e,t){var n=A(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&l(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function has(e){if(!a(e))return!1;var n=o(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var r=_interopRequireDefault(n(121)),o=_interopRequireDefault(n(155)),i=_interopRequireDefault(n(682)),a=_interopRequireDefault(n(233)),s=n(156),l=n(485);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},u=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},d=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},f=t.BACKGROUND_ORIGIN=d,p=function BackgroundSize(e){switch(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BackgroundSize),e){case"contain":this.size=u.CONTAIN;break;case"cover":this.size=u.COVER;break;case"auto":this.size=u.AUTO;break;default:this.value=new o.default(e)}},h=(t.calculateBackgroundSize=function calculateBackgroundSize(e,t,n){var r=0,o=0,a=e.size;if(a[0].size===u.CONTAIN||a[0].size===u.COVER){var s=n.width/n.height,l=t.width/t.height;return s<l!=(a[0].size===u.COVER)?new i.default(n.width,n.width/l):new i.default(n.height*l,n.height)}return a[0].value&&(r=a[0].value.getAbsoluteValue(n.width)),a[0].size===u.AUTO&&a[1].size===u.AUTO?o=t.height:a[1].size===u.AUTO?o=r/t.width*t.height:a[1].value&&(o=a[1].value.getAbsoluteValue(n.height)),a[0].size===u.AUTO&&(r=o/t.height*t.width),new i.default(r,o)},t.calculateGradientBackgroundSize=function calculateGradientBackgroundSize(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,o=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new i.default(r,o)},new p("auto")),g=(t.calculateBackgroungPaintingArea=function calculateBackgroungPaintingArea(e,t){switch(t){case d.BORDER_BOX:return(0,s.calculateBorderBoxPath)(e);case d.PADDING_BOX:default:return(0,s.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function calculateBackgroungPositioningArea(e,t,n,r){var o=(0,s.calculatePaddingBox)(t,r);switch(e){case f.BORDER_BOX:return t;case f.CONTENT_BOX:var i=n[l.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),a=n[l.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),c=n[l.PADDING_SIDES.TOP].getAbsoluteValue(t.width),u=n[l.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new s.Bounds(o.left+i,o.top+c,o.width-i-a,o.height-c-u);case f.PADDING_BOX:default:return o}},t.calculateBackgroundPosition=function calculateBackgroundPosition(e,t,n){return new a.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function calculateBackgroundRepeatPath(e,t,n,r,o){switch(e.repeat){case c.REPEAT_X:return[new a.default(Math.round(o.left),Math.round(r.top+t.y)),new a.default(Math.round(o.left+o.width),Math.round(r.top+t.y)),new a.default(Math.round(o.left+o.width),Math.round(n.height+r.top+t.y)),new a.default(Math.round(o.left),Math.round(n.height+r.top+t.y))];case c.REPEAT_Y:return[new a.default(Math.round(r.left+t.x),Math.round(o.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(o.top)),new a.default(Math.round(r.left+t.x+n.width),Math.round(o.height+o.top)),new a.default(Math.round(r.left+t.x),Math.round(o.height+o.top))];case c.NO_REPEAT:return[new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new a.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new a.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new a.default(Math.round(o.left),Math.round(o.top)),new a.default(Math.round(o.left+o.width),Math.round(o.top)),new a.default(Math.round(o.left+o.width),Math.round(o.height+o.top)),new a.default(Math.round(o.left),Math.round(o.height+o.top))]}},t.parseBackground=function parseBackground(e,t){return{backgroundColor:new r.default(e.backgroundColor),backgroundImage:A(e,t),backgroundClip:g(e.backgroundClip),backgroundOrigin:m(e.backgroundOrigin)}},function parseBackgroundClip(e){switch(e){case"padding-box":return d.PADDING_BOX;case"content-box":return d.CONTENT_BOX}return d.BORDER_BOX}),m=function parseBackgroundOrigin(e){switch(e){case"padding-box":return f.PADDING_BOX;case"content-box":return f.CONTENT_BOX}return f.BORDER_BOX},A=function parseBackgroundImages(e,t){var n=b(e.backgroundImage).map(function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e}),r=e.backgroundPosition.split(","),o=e.backgroundRepeat.split(","),i=e.backgroundSize.split(",");return n.map(function(e,t){var n=(i[t]||"auto").trim().split(" ").map(v),a=(r[t]||"auto").trim().split(" ").map(y);return{source:e,repeat:function parseBackgroundRepeat(e){switch(e.trim()){case"no-repeat":return c.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return c.REPEAT_X;case"repeat-y":case"no-repeat repeat":return c.REPEAT_Y;case"repeat":return c.REPEAT}return c.REPEAT}("string"==typeof o[t]?o[t]:o[0]),size:n.length<2?[n[0],h]:[n[0],n[1]],position:a.length<2?[a[0],a[0]]:[a[0],a[1]]}})},v=function parseBackgroundSize(e){return"auto"===e?h:new p(e)},y=function parseBackgoundPosition(e){switch(e){case"bottom":case"right":return new o.default("100%");case"left":case"top":return new o.default("0%");case"auto":return new o.default("0")}return new o.default(e)},b=t.parseBackgroundImage=function parseBackgroundImage(e){var t=/^\s$/,n=[],r=[],o="",i=null,a="",s=0,l=0,c=function appendResult(){var e="";if(o){'"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&r.push(a.trim());var t=o.indexOf("-",1)+1;"-"===o.substr(0,1)&&t>0&&(e=o.substr(0,t).toLowerCase(),o=o.substr(t)),"none"!==(o=o.toLowerCase())&&n.push({prefix:e,method:o,args:r})}r=[],o=a=""};return e.split("").forEach(function(e){if(0!==s||!t.test(e)){switch(e){case'"':i?i===e&&(i=null):i=e;break;case"(":if(i)break;if(0===s)return void(s=1);l++;break;case")":if(i)break;if(1===s){if(0===l)return s=0,void c();l--}break;case",":if(i)break;if(0===s)return void c();if(1===s&&0===l&&!o.match(/^url$/i))return r.push(a.trim()),void(a="")}0===s?o+=e:a+=e}}),c(),n}},function(e,t,n){var r,o;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function sortableModule(i){"use strict";void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)}(function sortableFactory(){"use strict";if("undefined"==typeof window||!window.document)return function sortableError(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,g,m,A,v,y,b,w,_,E,C,S,T=[],x=!1,O=!1,k=!1,B=[],P=!1,I=!1,R=[],L=/\s+/g,M="Sortable"+(new Date).getTime(),D=window,N=D.document,F=D.parseInt,U=D.setTimeout,H=D.jQuery||D.Zepto,j=D.Polymer,Q={capture:!1,passive:!1},z=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),$=!!navigator.userAgent.match(/Edge/i),V=!!navigator.userAgent.match(/firefox/i),G=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),W=!!navigator.userAgent.match(/iP(ad|od|hone)/i),K=$||z?"cssFloat":"float",q="draggable"in N.createElement("div"),Y=function(){if(z)return!1;var e=N.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),X=!1,J=!1,Z=Math.abs,ee=Math.min,te=Math.max,ne=[],re=function _detectDirection(e,t){var n=_css(e),r=F(n.width)-F(n.paddingLeft)-F(n.paddingRight)-F(n.borderLeftWidth)-F(n.borderRightWidth),o=_getChild(e,0,t),i=_getChild(e,1,t),a=o&&_css(o),s=i&&_css(i),l=a&&F(a.marginLeft)+F(a.marginRight)+_getRect(o).width,c=s&&F(s.marginLeft)+F(s.marginRight)+_getRect(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[K]||i&&"none"===n[K]&&l+c>r)?"vertical":"horizontal"},oe=function _isClientInRowColumn(e,t,n,r,o){var i=_getRect(n),a="vertical"===r?i.left:i.top,s="vertical"===r?i.right:i.bottom,l="vertical"===r?e:t;return a<l&&l<s},ie=function _getParentAutoScrollElement(e,t){if(!e||!e.getBoundingClientRect)return ae();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=_css(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===N.body)return ae();if(r||t)return n;r=!0}}}while(n=n.parentNode);return ae()},ae=function _getWindowScrollingElement(){return z?N.documentElement:N.scrollingElement},se=function _scrollBy(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},le=_throttle(function(e,t,n,r){if(t.scroll){var o=n?n[M]:window,i=t.scrollSensitivity,a=t.scrollSpeed,u=e.clientX,d=e.clientY,f=ae(),p=!1;l!==n&&(ce(),s=t.scroll,c=t.scrollFn,!0===s&&(s=ie(n,!0),l=s));var h=0,g=s;do{var m,A,y,b,w,_,E,C,S,O=g,k=_getRect(O),B=k.top,P=k.bottom,I=k.left,R=k.right,L=k.width,D=k.height;if(m=O.scrollWidth,A=O.scrollHeight,y=_css(O),C=O.scrollLeft,S=O.scrollTop,O===f?(_=L<m&&("auto"===y.overflowX||"scroll"===y.overflowX||"visible"===y.overflowX),E=D<A&&("auto"===y.overflowY||"scroll"===y.overflowY||"visible"===y.overflowY)):(_=L<m&&("auto"===y.overflowX||"scroll"===y.overflowX),E=D<A&&("auto"===y.overflowY||"scroll"===y.overflowY)),b=_&&(Z(R-u)<=i&&C+L<m)-(Z(I-u)<=i&&!!C),w=E&&(Z(P-d)<=i&&S+D<A)-(Z(B-d)<=i&&!!S),!T[h])for(var N=0;N<=h;N++)T[N]||(T[N]={});T[h].vx==b&&T[h].vy==w&&T[h].el===O||(T[h].el=O,T[h].vx=b,T[h].vy=w,clearInterval(T[h].pid),!O||0==b&&0==w||(p=!0,T[h].pid=setInterval(function(){r&&0===this.layer&&(Sortable.active._emulateDragOver(!0),Sortable.active._onTouchMove(v,!0));var t=T[this.layer].vy?T[this.layer].vy*a:0,n=T[this.layer].vx?T[this.layer].vx*a:0;"function"==typeof c&&"continue"!==c.call(o,n,t,e,v,T[this.layer].el)||se(T[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&g!==f&&(g=ie(g,!1)));x=p}},30),ce=function _clearAutoScrolls(){T.forEach(function(e){clearInterval(e.pid)}),T=[]},ue=function _prepareGroup(e){function toFn(e,t){return function(n,r,o,i){var a=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==e&&(t||a))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"==typeof e)return toFn(e(n,r,o,i),t)(n,r,o,i);var s=(t?n:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var t={},n=e.group;n&&"object"==_typeof(n)||(n={name:n}),t.name=n.name,t.checkPull=toFn(n.pull,!0),t.checkPut=toFn(n.put),t.revertClone=n.revertClone,e.group=t},de=function _checkAlignment(t){e&&e.parentNode&&e.parentNode[M]&&e.parentNode[M]._computeIsAligned(t)},fe=function _isTrueParentSortable(e,t){for(var n=t;!n[M];)n=n.parentNode;return e===n},pe=function _artificalBubble(e,t,n){for(var r=e.parentNode;r&&!r[M];)r=r.parentNode;r&&r[M][n](_extend(t,{artificialBubble:!0}))},he=function _hideGhostForTarget(){!Y&&n&&_css(n,"display","none")},ge=function _unhideGhostForTarget(){!Y&&n&&_css(n,"display","")};N.addEventListener("click",function(e){if(k)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),k=!1,!1},!0);var me,Ae=function nearestEmptyInsertDetectEvent(t){if(t=t.touches?t.touches[0]:t,e){var n=function _detectNearestEmptySortable(e,t){for(var n=0;n<B.length;n++)if(!_lastChild(B[n])){var r=_getRect(B[n]),o=B[n][M].options.emptyInsertThreshold,i=e>=r.left-o&&e<=r.right+o,a=t>=r.top-o&&t<=r.bottom+o;if(i&&a)return B[n]}}(t.clientX,t.clientY);n&&n[M]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:n,rootEl:n})}};function Sortable(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=_extend({},t),e[M]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function direction(){return re(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function setData(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:F(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var r in n)!(r in t)&&(t[r]=n[r]);for(var o in ue(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&q,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_on(e,"pointerdown",this._onTapStart):(_on(e,"mousedown",this._onTapStart),_on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_on(e,"dragover",this),_on(e,"dragenter",this)),B.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function _closest(e,t,n,r){if(e){n=n||N;do{if(null!=t&&(">"===t[0]&&e.parentNode===n&&_matches(e,t.substring(1))||_matches(e,t))||r&&e===n)return e;if(e===n)break}while(e=_getParentOrHost(e))}return null}function _getParentOrHost(e){return e.host&&e!==N&&e.host.nodeType?e.host:e.parentNode}function _on(e,t,n){e.addEventListener(t,n,Q)}function _off(e,t,n){e.removeEventListener(t,n,Q)}function _toggleClass(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(L," ")}}function _css(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return N.defaultView&&N.defaultView.getComputedStyle?n=N.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function _matrix(e){var t="";do{var n=_css(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function _find(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function _dispatchEvent(e,t,n,o,i,a,s,l,c){var u,d=(e=e||t[M]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||z||$?(u=N.createEvent("Event")).initEvent(n,!0,!0):u=new CustomEvent(n,{bubbles:!0,cancelable:!0}),u.to=i||t,u.from=a||t,u.item=o||t,u.clone=r,u.oldIndex=s,u.newIndex=l,u.originalEvent=c,u.pullMode=p?p.lastPutMode:void 0,t&&t.dispatchEvent(u),d[f]&&d[f].call(e,u)}function _onMove(e,t,n,r,o,i,a,s){var l,c,u=e[M],d=u.options.onMove;return!window.CustomEvent||z||$?(l=N.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||_getRect(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function _disableDraggable(e){e.draggable=!1}function _unsilent(){X=!1}function _getChild(t,r,o){for(var i=0,a=0,s=t.children;a<s.length;){if("none"!==s[a].style.display&&s[a]!==n&&s[a]!==e&&_closest(s[a],o.draggable,t,!1)){if(i===r)return s[a];i++}a++}return null}function _lastChild(e){for(var t=e.lastElementChild;t&&(t===n||"none"===t.style.display);)t=t.previousElementSibling;return t||null}function _getInsertDirection(t){return _index(e)<_index(t)?1:-1}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function _index(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==r&&n++;return n}function _matches(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function _throttle(e,t){return function(){if(!me){var n=arguments,r=this;me=U(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),me=void 0},t)}}}function _extend(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function _clone(e){return j&&j.dom?j.dom(e).cloneNode(!0):H?H(e).clone(!0)[0]:e.cloneNode(!0)}function _nextTick(e){return U(e,0)}function _cancelNextTick(e){return clearTimeout(e)}function _getRect(e,t,n,r){if(e.getBoundingClientRect||e===D){var o,i,a,s,l,c,u;if(e!==D&&e!==ae()?(i=(o=e.getBoundingClientRect()).top,a=o.left,s=o.bottom,l=o.right,c=o.height,u=o.width):(i=0,a=0,s=window.innerHeight,l=window.innerWidth,c=window.innerHeight,u=window.innerWidth),r&&e!==D&&(n=n||e.parentNode,!z))do{if(n&&n.getBoundingClientRect&&"none"!==_css(n,"transform")){var d=n.getBoundingClientRect();i-=d.top+F(_css(n,"border-top-width")),a-=d.left+F(_css(n,"border-left-width")),s=i+o.height,l=a+o.width;break}}while(n=n.parentNode);if(t&&e!==D){var f=_matrix(n||e),p=f&&f.a,h=f&&f.d;f&&(s=(i/=h)+(c/=h),l=(a/=p)+(u/=p))}return{top:i,left:a,bottom:s,right:l,width:u,height:c}}}function _isScrolledPast(e,t){for(var n=ie(e,!0),r=_getRect(e)[t];n;){var o=_getRect(n)[t];if(!("top"===t||"left"===t?r>=o:r<=o))return n;if(n===ae())break;n=ie(n,!1)}return!1}function _getRelativeScrollOffset(e){var t=0,n=0,r=ae();if(e)do{var o=_matrix(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}return _on(N,"dragover",Ae),_on(N,"mousemove",Ae),_on(N,"touchmove",Ae),Sortable.prototype={constructor:Sortable,_computeIsAligned:function _computeIsAligned(t){var r;if(n&&!Y?(he(),r=N.elementFromPoint(t.clientX,t.clientY),ge()):r=t.target,r=_closest(r,this.options.draggable,this.el,!1),!J&&e&&e.parentNode===this.el){for(var o=this.el.children,i=0;i<o.length;i++)_closest(o[i],this.options.draggable,this.el,!1)&&o[i]!==r&&(o[i].sortableMouseAligned=oe(t.clientX,t.clientY,o[i],this._getDirection(t,null),this.options));_closest(r,this.options.draggable,this.el,!0)||(b=null),J=!0,U(function(){J=!1},30)}},_getDirection:function _getDirection(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function _onTapStart(t){if(t.cancelable){var n,r=this,o=this.el,i=this.options,s=i.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],u=(c||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,f=i.filter;if(function _saveInputCheckedState(e){ne.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&ne.push(r)}}(o),(!z||t.artificialBubble||fe(o,u))&&!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||i.disabled||d.isContentEditable))if(u=_closest(u,i.draggable,o,!1)){if(a!==u){if(n=_index(u,i.draggable),"function"==typeof f){if(f.call(this,t,u,this))return _dispatchEvent(r,d,"filter",u,o,o,n),void(s&&t.cancelable&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(e){if(e=_closest(d,e.trim(),o,!1))return _dispatchEvent(r,e,"filter",u,o,o,n),!0})))return void(s&&t.cancelable&&t.preventDefault());i.handle&&!_closest(d,i.handle,o,!1)||this._prepareDragStart(t,c,u,n)}}else z&&pe(o,t,"_onTapStart")}},_handleAutoScroll:function _handleAutoScroll(t,n){if(e&&this.options.scroll){var r=t.clientX,o=t.clientY,i=N.elementFromPoint(r,o),a=this;if(n||$||z||G){le(t,a.options,i,n);var s=ie(i,!0);!x||h&&r===g&&o===m||(h&&clearInterval(h),h=setInterval(function(){if(e){var i=ie(N.elementFromPoint(r,o),!0);i!==s&&(s=i,ce(),le(t,a.options,s,n))}},10),g=r,m=o)}else le(t,a.options,ie(i,!1),!1)}},_prepareDragStart:function _prepareDragStart(n,r,s,l){var c,d=this,p=d.el,h=d.options,g=p.ownerDocument;s&&!e&&s.parentNode===p&&(o=p,t=(e=s).parentNode,i=e.nextSibling,a=s,f=h.group,u=l,A={target:e,clientX:(r||n).clientX,clientY:(r||n).clientY},this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",c=function dragStartFn(){d._disableDelayedDragEvents(),!V&&d.nativeDraggable&&(e.draggable=!0),d._triggerDragStart(n,r),_dispatchEvent(d,o,"choose",e,o,o,u),_toggleClass(e,h.chosenClass,!0)},h.ignore.split(",").forEach(function(t){_find(e,t.trim(),_disableDraggable)}),h.supportPointer?_on(g,"pointerup",d._onDrop):(_on(g,"mouseup",d._onDrop),_on(g,"touchend",d._onDrop),_on(g,"touchcancel",d._onDrop)),V&&this.nativeDraggable&&(this.options.touchStartThreshold=4,e.draggable=!0),!h.delay||this.nativeDraggable&&($||z)?c():(_on(g,"mouseup",d._disableDelayedDrag),_on(g,"touchend",d._disableDelayedDrag),_on(g,"touchcancel",d._disableDelayedDrag),_on(g,"mousemove",d._delayedDragTouchMoveHandler),_on(g,"touchmove",d._delayedDragTouchMoveHandler),h.supportPointer&&_on(g,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=U(c,h.delay)))},_delayedDragTouchMoveHandler:function _delayedDragTouchMoveHandler(e){var t=e.touches?e.touches[0]:e;te(Z(t.clientX-this._lastX),Z(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function _disableDelayedDrag(){e&&_disableDraggable(e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function _disableDelayedDragEvents(){var e=this.el.ownerDocument;_off(e,"mouseup",this._disableDelayedDrag),_off(e,"touchend",this._disableDelayedDrag),_off(e,"touchcancel",this._disableDelayedDrag),_off(e,"mousemove",this._delayedDragTouchMoveHandler),_off(e,"touchmove",this._delayedDragTouchMoveHandler),_off(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function _triggerDragStart(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?_on(N,"pointermove",this._onTouchMove):_on(N,n?"touchmove":"mousemove",this._onTouchMove):(_on(e,"dragend",this),_on(o,"dragstart",this._onDragStart));try{N.selection?_nextTick(function(){N.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function _dragStarted(t,n){if(O=!1,o&&e){this.nativeDraggable&&(_on(N,"dragover",this._handleAutoScroll),_on(N,"dragover",de));var r=this.options;!t&&_toggleClass(e,r.dragClass,!1),_toggleClass(e,r.ghostClass,!0),_css(e,"transform",""),Sortable.active=this,t&&this._appendGhost(),_dispatchEvent(this,o,"start",e,o,o,u,void 0,n)}else this._nulling()},_emulateDragOver:function _emulateDragOver(t){if(v){if(this._lastX===v.clientX&&this._lastY===v.clientY&&!t)return;this._lastX=v.clientX,this._lastY=v.clientY,he();for(var n=N.elementFromPoint(v.clientX,v.clientY),r=n;n&&n.shadowRoot;)r=n=n.shadowRoot.elementFromPoint(v.clientX,v.clientY);if(r)do{if(r[M])if(r[M]._onDragOver({clientX:v.clientX,clientY:v.clientY,target:n,rootEl:r})&&!this.options.dragoverBubble)break;n=r}while(r=r.parentNode);e.parentNode[M]._computeIsAligned(v),ge()}},_onTouchMove:function _onTouchMove(e,t){if(A){var r=this.options,o=r.fallbackTolerance,i=r.fallbackOffset,a=e.touches?e.touches[0]:e,s=n&&_matrix(n),l=n&&s&&s.a,c=n&&s&&s.d,u=W&&C&&_getRelativeScrollOffset(C),d=(a.clientX-A.clientX+i.x)/(l||1)+(u?u[0]-R[0]:0)/(l||1),f=(a.clientY-A.clientY+i.y)/(c||1)+(u?u[1]-R[1]:0)/(c||1),p=e.touches?"translate3d("+d+"px,"+f+"px,0)":"translate("+d+"px,"+f+"px)";if(!Sortable.active&&!O){if(o&&ee(Z(a.clientX-this._lastX),Z(a.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}!t&&this._handleAutoScroll(a,!0),y=!0,v=a,_css(n,"webkitTransform",p),_css(n,"mozTransform",p),_css(n,"msTransform",p),_css(n,"transform",p),e.cancelable&&e.preventDefault()}},_appendGhost:function _appendGhost(){if(!n){var t=this.options.fallbackOnBody?N.body:o,r=_getRect(e,!0,t,!W),i=(_css(e),this.options);if(W){for(C=t;"static"===_css(C,"position")&&"none"===_css(C,"transform")&&C!==N;)C=C.parentNode;if(C!==N){var a=_getRect(C,!0);r.top-=a.top,r.left-=a.left}C!==N.body&&C!==N.documentElement?(C===N&&(C=ae()),r.top+=C.scrollTop,r.left+=C.scrollLeft):C=ae(),R=_getRelativeScrollOffset(C)}_toggleClass(n=e.cloneNode(!0),i.ghostClass,!1),_toggleClass(n,i.fallbackClass,!0),_toggleClass(n,i.dragClass,!0),_css(n,"box-sizing","border-box"),_css(n,"margin",0),_css(n,"top",r.top),_css(n,"left",r.left),_css(n,"width",r.width),_css(n,"height",r.height),_css(n,"opacity","0.8"),_css(n,"position",W?"absolute":"fixed"),_css(n,"zIndex","100000"),_css(n,"pointerEvents","none"),t.appendChild(n)}},_onDragStart:function _onDragStart(t,n){var i=this,a=t.dataTransfer,s=i.options;(r=_clone(e)).draggable=!1,r.style["will-change"]="",this._hideClone(),_toggleClass(r,i.options.chosenClass,!1),i._cloneId=_nextTick(function(){i.options.removeCloneOnHide||o.insertBefore(r,e),_dispatchEvent(i,o,"clone",e)}),!n&&_toggleClass(e,s.dragClass,!0),n?(k=!0,i._loopId=setInterval(i._emulateDragOver,50)):(_off(N,"mouseup",i._onDrop),_off(N,"touchend",i._onDrop),_off(N,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(i,a,e)),_on(N,"drop",i),_css(e,"transform","translateZ(0)")),O=!0,i._dragStartId=_nextTick(i._dragStarted.bind(i,n,t)),_on(N,"selectstart",i),G&&_css(N.body,"user-select","none")},_onDragOver:function _onDragOver(n){var r,a,s,l=this.el,c=n.target,d=this.options,h=d.group,g=Sortable.active,m=f===h,A=d.sort,v=this;if(!X&&(!z||n.rootEl||n.artificialBubble||fe(l,c))){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),y=!0,c=_closest(c,d.draggable,l,!0),_closest(n.target,null,e,!0)||c.animated)return completed(!1);if(c!==e&&(k=!1),g&&!d.disabled&&(m?A||(s=!o.contains(e)):p===this||(this.lastPutMode=f.checkPull(this,g,e,n))&&h.checkPut(this,g,e,n))){var C=this._getDirection(n,c);if(r=_getRect(e),s)return this._hideClone(),t=o,i?o.insertBefore(e,i):o.appendChild(e),completed(!0);var T=_lastChild(l);if(!T||function _ghostIsLast(e,t,n){var r=_getRect(_lastChild(n)),o="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?r.bottom:r.right,s="vertical"===t?r.left:r.top,l="vertical"===t?r.right:r.bottom;return"vertical"===t?i>l+10||i<=l&&o>a&&i>=s:o>a&&i>s||o<=a&&i>l+10}(n,C,l)&&!T.animated){if(T&&l===n.target&&(c=T),c&&(a=_getRect(c)),m?g._hideClone():g._showClone(this),!1!==_onMove(o,l,e,r,c,a,n,!!c))return l.appendChild(e),t=l,S=null,changed(),completed(!0)}else if(c&&c!==e&&c.parentNode===l){var x,O=0,B=c.sortableMouseAligned,R=e.parentNode!==l,L="vertical"===C?"top":"left",D=_isScrolledPast(c,"top")||_isScrolledPast(e,"top"),F=D?D.scrollTop:void 0;if(b!==c&&(_=null,x=_getRect(c)[L],P=!1),function _isElInRowColumn(t,n,r){var o=t===e&&S||_getRect(t),i=n===e&&S||_getRect(n),a="vertical"===r?o.left:o.top,s="vertical"===r?o.right:o.bottom,l="vertical"===r?o.width:o.height,c="vertical"===r?i.left:i.top,u="vertical"===r?i.right:i.bottom,d="vertical"===r?i.width:i.height;return a===c||s===u||a+l/2===c+d/2}(e,c,C)&&B||R||D||d.invertSwap||"insert"===_||"swap"===_?("swap"!==_&&(I=d.invertSwap||R),O=function _getSwapDirection(t,n,r,o,i,a,s){var l=_getRect(n),c="vertical"===r?t.clientY:t.clientX,u="vertical"===r?l.height:l.width,d="vertical"===r?l.top:l.left,f="vertical"===r?l.bottom:l.right,p=_getRect(e),h=!1;if(!a)if(s&&E<u*o)if(!P&&(1===w?c>d+u*i/2:c<f-u*i/2)&&(P=!0),P)h=!0;else{"vertical"===r?p.top:p.left,"vertical"===r?p.bottom:p.right;if(1===w?c<d+E:c>f-E)return-1*w}else if(c>d+u*(1-o)/2&&c<f-u*(1-o)/2)return _getInsertDirection(n);if((h=h||a)&&(c<d+u*i/2||c>f-u*i/2))return c>d+u/2?1:-1;return 0}(n,c,C,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,I,b===c),_="swap"):(O=_getInsertDirection(c),_="insert"),0===O)return completed(!1);S=null,b=c,w=O,a=_getRect(c);var H=c.nextElementSibling,j=!1,Q=_onMove(o,l,e,r,c,a,n,j=1===O);if(!1!==Q)return 1!==Q&&-1!==Q||(j=1===Q),X=!0,U(_unsilent,30),m?g._hideClone():g._showClone(this),j&&!H?l.appendChild(e):c.parentNode.insertBefore(e,j?H:c),D&&se(D,0,F-D.scrollTop),t=e.parentNode,void 0===x||I||(E=Z(x-_getRect(c)[L])),changed(),completed(!0)}if(l.contains(e))return completed(!1)}return z&&!n.rootEl&&pe(l,n,"_onDragOver"),!1}function completed(t){return t&&(m?g._hideClone():g._showClone(v),g&&(_toggleClass(e,p?p.options.ghostClass:g.options.ghostClass,!1),_toggleClass(e,d.ghostClass,!0)),p!==v&&v!==Sortable.active?p=v:v===Sortable.active&&(p=null),r&&v._animate(r,e),c&&a&&v._animate(a,c)),(c===e&&!e.animated||c===l&&!c.animated)&&(b=null),d.dragoverBubble||n.rootEl||c===N||(v._handleAutoScroll(n),e.parentNode[M]._computeIsAligned(n)),!d.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function changed(){_dispatchEvent(v,o,"change",c,l,o,u,_index(e,d.draggable),n)}},_animate:function _animate(t,n){var r=this.options.animation;if(r){var o=_getRect(n);if(n===e&&(S=o),1===t.nodeType&&(t=_getRect(t)),t.left+t.width/2!==o.left+o.width/2||t.top+t.height/2!==o.top+o.height/2){var i=_matrix(this.el),a=i&&i.a,s=i&&i.d;_css(n,"transition","none"),_css(n,"transform","translate3d("+(t.left-o.left)/(a||1)+"px,"+(t.top-o.top)/(s||1)+"px,0)"),n.offsetWidth,_css(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_css(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=U(function(){_css(n,"transition",""),_css(n,"transform",""),n.animated=!1},r)}},_offUpEvents:function _offUpEvents(){var e=this.el.ownerDocument;_off(N,"touchmove",this._onTouchMove),_off(N,"pointermove",this._onTouchMove),_off(e,"mouseup",this._onDrop),_off(e,"touchend",this._onDrop),_off(e,"pointerup",this._onDrop),_off(e,"touchcancel",this._onDrop),_off(N,"selectstart",this)},_onDrop:function _onDrop(a){var s=this.el,l=this.options;O=!1,x=!1,I=!1,P=!1,clearInterval(this._loopId),clearInterval(h),ce(),function _cancelThrottle(){clearTimeout(me),me=void 0}(),clearTimeout(this._dragStartTimer),_cancelNextTick(this._cloneId),_cancelNextTick(this._dragStartId),_off(N,"mousemove",this._onTouchMove),this.nativeDraggable&&(_off(N,"drop",this),_off(s,"dragstart",this._onDragStart),_off(N,"dragover",this._handleAutoScroll),_off(N,"dragover",de)),G&&_css(N.body,"user-select",""),this._offUpEvents(),a&&(y&&(a.cancelable&&a.preventDefault(),!l.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===t||p&&"clone"!==p.lastPutMode)&&r&&r.parentNode&&r.parentNode.removeChild(r),e&&(this.nativeDraggable&&_off(e,"dragend",this),_disableDraggable(e),e.style["will-change"]="",_toggleClass(e,p?p.options.ghostClass:this.options.ghostClass,!1),_toggleClass(e,this.options.chosenClass,!1),_dispatchEvent(this,o,"unchoose",e,t,o,u,null,a),o!==t?((d=_index(e,l.draggable))>=0&&(_dispatchEvent(null,t,"add",e,t,o,u,d,a),_dispatchEvent(this,o,"remove",e,t,o,u,d,a),_dispatchEvent(null,t,"sort",e,t,o,u,d,a),_dispatchEvent(this,o,"sort",e,t,o,u,d,a)),p&&p.save()):e.nextSibling!==i&&(d=_index(e,l.draggable))>=0&&(_dispatchEvent(this,o,"update",e,t,o,u,d,a),_dispatchEvent(this,o,"sort",e,t,o,u,d,a)),Sortable.active&&(null!=d&&-1!==d||(d=u),_dispatchEvent(this,o,"end",e,t,o,u,d,a),this.save()))),this._nulling()},_nulling:function _nulling(){o=e=t=n=i=r=a=s=l=T.length=h=g=m=A=v=y=d=u=b=w=S=p=f=Sortable.active=null,ne.forEach(function(e){e.checked=!0}),ne.length=0},handleEvent:function handleEvent(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function toArray(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)_closest(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||_generateId(e));return t},sort:function sort(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var o=n.children[r];_closest(o,this.options.draggable,n,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function save(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function closest(e,t){return _closest(e,t||this.options.draggable,this.el,!1)},option:function option(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&ue(n)},destroy:function destroy(){var e=this.el;e[M]=null,_off(e,"mousedown",this._onTapStart),_off(e,"touchstart",this._onTapStart),_off(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_off(e,"dragover",this),_off(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),B.splice(B.indexOf(this.el),1),this.el=e=null},_hideClone:function _hideClone(){r.cloneHidden||(_css(r,"display","none"),r.cloneHidden=!0,r.parentNode&&this.options.removeCloneOnHide&&r.parentNode.removeChild(r))},_showClone:function _showClone(t){"clone"===t.lastPutMode?r.cloneHidden&&(o.contains(e)&&!this.options.group.revertClone?o.insertBefore(r,e):i?o.insertBefore(r,i):o.appendChild(r),this.options.group.revertClone&&this._animate(e,r),_css(r,"display",""),r.cloneHidden=!1):this._hideClone()}},_on(N,"touchmove",function(e){(Sortable.active||O)&&e.cancelable&&e.preventDefault()}),Sortable.utils={on:_on,off:_off,css:_css,find:_find,is:function is(e,t){return!!_closest(e,t,e,!1)},extend:_extend,throttle:_throttle,closest:_closest,toggleClass:_toggleClass,clone:_clone,index:_index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:re,getChild:_getChild},Sortable.create=function(e,t){return new Sortable(e,t)},Sortable.version="1.8.4",Sortable})},function(e,t,n){"use strict";var r=n(13);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function BaseComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseComponent),_possibleConstructorReturn(this,_getPrototypeOf(BaseComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseComponent,r["a"]),BaseComponent}();t.a=o},function(e,t,n){"use strict";var r=n(3),o=n(41);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function _wrapNativeSuper(e){if(null===e||!function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)})(e)}function _construct(e,t,n){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function _construct(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var i=function(e){function SenderError(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SenderError),(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(SenderError).call(this,e))).uuid=r.a.getShortUid(),t.name=_get(_getPrototypeOf(SenderError.prototype),"name",_assertThisInitialized(t)),t.html_id=window.HTML_ID,t.severity=o.a.SEVERITY.WARNING,t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SenderError,_wrapNativeSuper(Error)),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SenderError,[{key:"toJSON",value:function toJSON(){var e=this;return Object.getOwnPropertyNames(this).reduce(function(t,n){return t[n]=e[n],t},{})}}]),SenderError}();t.a=i},function(e,t,n){"use strict";var r=n(246),o=n(170),i=n(80);t.a=function getAllKeys(e){return Object(r.a)(e,i.a,o.a)}},function(e,t,n){"use strict";(function(e){var r=n(548),o=n(18),i=n.n(o);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function Tour(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tour)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Tour,null,[{key:"initTour",value:function initTour(){return this.tour=new r.a.Tour({useModalOverlay:!0,defaultStepOptions:{scrollTo:!1}})}},{key:"addStep",value:function addStep(t){var n=this;e.forEach(t,function(e){n.tour.addStep(e.name,{text:e.text,attachTo:e.attachToAndDirection,title:e.title,beforeShowPromise:e.beforeShow,buttons:[{text:l("Skip tour"),classes:e.dontShow||"skip-tour",action:function action(){n.tour.cancel(),n.endTour()}},{text:e.CompleteTourText||l("Next step"),classes:"next-step",action:n.tour.next}]})})}},{key:"beginTour",value:function beginTour(){this.tour.start()}},{key:"endTour",value:function endTour(){return new Promise(function(e){i.a.post(window.SENDER_ENDPOINT+"html/setEditorTourCompleted",{user_id:window.USER_EDITOR_TOUR.user_id}).then(function(t){e(t)})})}}]),Tour}();t.a=a}).call(this,n(24))},function(e,t,n){"use strict";var r=n(99),o=n(48),i=n(80);var a=function createFind(e){return function(t,n,a){var s=Object(t);if(!Object(o.a)(t)){var l=Object(r.a)(n,3);t=Object(i.a)(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}(n(463).a);t.a=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(232);t.default=function Vector(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Vector),this.type=r.PATH.VECTOR,this.x=e,this.y=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(225),o=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},i=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},a=t.parseListStyleType=function parseListStyleType(e){switch(e){case"disc":return i.DISC;case"circle":return i.CIRCLE;case"square":return i.SQUARE;case"decimal":return i.DECIMAL;case"cjk-decimal":return i.CJK_DECIMAL;case"decimal-leading-zero":return i.DECIMAL_LEADING_ZERO;case"lower-roman":return i.LOWER_ROMAN;case"upper-roman":return i.UPPER_ROMAN;case"lower-greek":return i.LOWER_GREEK;case"lower-alpha":return i.LOWER_ALPHA;case"upper-alpha":return i.UPPER_ALPHA;case"arabic-indic":return i.ARABIC_INDIC;case"armenian":return i.ARMENIAN;case"bengali":return i.BENGALI;case"cambodian":return i.CAMBODIAN;case"cjk-earthly-branch":return i.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return i.CJK_HEAVENLY_STEM;case"cjk-ideographic":return i.CJK_IDEOGRAPHIC;case"devanagari":return i.DEVANAGARI;case"ethiopic-numeric":return i.ETHIOPIC_NUMERIC;case"georgian":return i.GEORGIAN;case"gujarati":return i.GUJARATI;case"gurmukhi":return i.GURMUKHI;case"hebrew":return i.HEBREW;case"hiragana":return i.HIRAGANA;case"hiragana-iroha":return i.HIRAGANA_IROHA;case"japanese-formal":return i.JAPANESE_FORMAL;case"japanese-informal":return i.JAPANESE_INFORMAL;case"kannada":return i.KANNADA;case"katakana":return i.KATAKANA;case"katakana-iroha":return i.KATAKANA_IROHA;case"khmer":return i.KHMER;case"korean-hangul-formal":return i.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return i.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return i.KOREAN_HANJA_INFORMAL;case"lao":return i.LAO;case"lower-armenian":return i.LOWER_ARMENIAN;case"malayalam":return i.MALAYALAM;case"mongolian":return i.MONGOLIAN;case"myanmar":return i.MYANMAR;case"oriya":return i.ORIYA;case"persian":return i.PERSIAN;case"simp-chinese-formal":return i.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return i.SIMP_CHINESE_INFORMAL;case"tamil":return i.TAMIL;case"telugu":return i.TELUGU;case"thai":return i.THAI;case"tibetan":return i.TIBETAN;case"trad-chinese-formal":return i.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return i.TRAD_CHINESE_INFORMAL;case"upper-armenian":return i.UPPER_ARMENIAN;case"disclosure-open":return i.DISCLOSURE_OPEN;case"disclosure-closed":return i.DISCLOSURE_CLOSED;case"none":default:return i.NONE}},s=(t.parseListStyle=function parseListStyle(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:a(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:s(e.getPropertyValue("list-style-position"))}},function parseListStylePosition(e){switch(e){case"inside":return o.INSIDE;case"outside":default:return o.OUTSIDE}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(488),i=n(490);var a=function(){function TextContainer(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextContainer),this.text=e,this.parent=t,this.bounds=n}return r(TextContainer,null,[{key:"fromTextNode",value:function fromTextNode(e,t){var n=l(e.data,t.style.textTransform);return new TextContainer(n,t,(0,i.parseTextBounds)(n,t,e))}}]),TextContainer}();t.default=a;var s=/(^|\s|:|-|\(|\))([a-z])/g,l=function transform(e,t){switch(t){case o.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case o.TEXT_TRANSFORM.CAPITALIZE:return e.replace(s,capitalize);case o.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function capitalize(e,t,n){return e.length>0?t+n.toUpperCase():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(491),o=function isGreenPixel(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},i={get SUPPORT_RANGE_BOUNDS(){var e=function testRangeBounds(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),o=Math.round(r.height);if(e.body.removeChild(n),123===o)return!0}}return!1}(document);return Object.defineProperty(i,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function testSVG(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(i,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=function testBase64(e,t){var n=new Image,r=e.createElement("canvas"),o=r.getContext("2d");return new Promise(function(e){n.src=t;var i=function onload(){try{o.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=i,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout(function(){i()},500)})}(document,e);return Object.defineProperty(i,"SUPPORT_BASE64_DRAWING",{value:function value(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function testForeignObject(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,a=t.toDataURL();i.src=a;var s=(0,r.createForeignObjectSVG)(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(s).then(function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var s=e.createElement("div");return s.style.backgroundImage="url("+a+")",s.style.height="100px",o(i)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,s)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),o(n.getImageData(0,0,100,100).data)}).catch(function(e){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(i,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=function testCORS(){return void 0!==(new Image).crossOrigin}();return Object.defineProperty(i,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=function testResponseType(){return"string"==typeof(new XMLHttpRequest).responseType}();return Object.defineProperty(i,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(i,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=i},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(167),o=n(3);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var i=function(t){function View(t){var n,r;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,View),(r=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(View).call(this))).cid=e.uniqueId("view"),r.uuid=o.a.generateUuid(),e.extend(_assertThisInitialized(r),e.pick(t,s)),r._ensureElement(),(n=r).initialize.apply(n,arguments),r}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(View,r["a"]),_createClass(View,[{key:"tagName",get:function get(){return"div"}}]),_createClass(View,[{key:"$",value:function $(e){return this.$el.find(e)}},{key:"_createElement",value:function _createElement(e){return document.createElement(e)}},{key:"delegate",value:function delegate(e,t,n){return this.$el.on("".concat(e,".delegateEvents").concat(this.cid),t,n),this}},{key:"delegateEvents",value:function delegateEvents(t){if(!(t=t||e.result(this,"events")))return this;for(var n in this.undelegateEvents(),t){var r=t[n];if(e.isFunction(r)||(r=this[r]),r){var o=n.match(a);this.delegate(o[1],o[2],e.bind(r,this))}}return this}},{key:"_ensureElement",value:function _ensureElement(){if(this.el)this.setElement(e.result(this,"el"));else{var t=e.extend({},e.result(this,"attributes"));this.id&&(t.id=e.result(this,"id")),this.className&&(t.class=e.result(this,"className")),this.setElement(this._createElement(e.result(this,"tagName"))),this._setAttributes(t)}}},{key:"initialize",value:function initialize(){}},{key:"remove",value:function remove(){return this._removeElement(),this.stopListening(),this}},{key:"_removeElement",value:function _removeElement(){this.$el.remove()}},{key:"render",value:function render(){return this}},{key:"_setAttributes",value:function _setAttributes(e){this.$el.attr(e)}},{key:"_setElement",value:function _setElement(e){this.$el=e instanceof Backbone.$?e:Backbone.$(e),this.el=this.$el[0]}},{key:"setElement",value:function setElement(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this}},{key:"undelegate",value:function undelegate(e,t,n){return this.$el.off("".concat(e,".delegateEvents").concat(this.cid),t,n),this}},{key:"undelegateEvents",value:function undelegateEvents(){return this.$el&&this.$el.off(".delegateEvents".concat(this.cid)),this}}]),View}(),a=/^(\S+)\s*(.*)$/,s=["model","collection","el","id","attributes","className","tagName","events"]}).call(this,n(24))},function(e,t,n){"use strict";t.a=function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(71))},function(e,t,n){"use strict";t.a=function overArg(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";var r=n(23);t.a=function isStrictComparable(e){return e==e&&!Object(r.a)(e)}},function(e,t,n){"use strict";t.a=function matchesStrictComparable(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){"use strict";var r=n(49),o=n(53),i=n(17),a=n(92),s=1/0,l=r.a?r.a.prototype:void 0,c=l?l.toString:void 0;t.a=function baseToString(e){if("string"==typeof e)return e;if(Object(i.a)(e))return Object(o.a)(e,baseToString)+"";if(Object(a.a)(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}},function(e,t,n){"use strict";var r=n(57),o=n(94),i=n(17),a=n(95),s=n(168),l=n(56);t.a=function hasPath(e,t,n){for(var c=-1,u=(t=Object(r.a)(t,e)).length,d=!1;++c<u;){var f=Object(l.a)(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&Object(s.a)(u)&&Object(a.a)(f,u)&&(Object(i.a)(e)||Object(o.a)(e))}},function(e,t,n){"use strict";var r=n(124),o=n(17);t.a=function baseGetAllKeys(e,t,n){var i=t(e);return Object(o.a)(e)?i:Object(r.a)(i,n(e))}},function(e,t,n){"use strict";t.a=function stubArray(){return[]}},function(e,t,n){"use strict";t.a=function baseProperty(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){"use strict";(function(e){var r=n(20),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(449)(e))},function(e,t,n){"use strict";var r=n(125),o=n(172),i=n(122);t.a=function initCloneObject(e){return"function"!=typeof e.constructor||Object(i.a)(e)?{}:Object(r.a)(Object(o.a)(e))}},function(e,t,n){"use strict";var r=n(124),o=n(172),i=n(170),a=n(247),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(r.a)(t,Object(i.a)(e)),e=Object(o.a)(e);return t}:a.a;t.a=s},function(e,t,n){"use strict";var r=n(175);t.a=function cloneTypedArray(e,t){var n=t?Object(r.a)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){"use strict";var r=n(246),o=n(251),i=n(130);t.a=function getAllKeysIn(e){return Object(r.a)(e,i.a,o.a)}},function(e,t,n){"use strict";var r=800,o=16,i=Date.now;t.a=function shortOut(e){var t=0,n=0;return function(){var a=i(),s=o-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";var r=n(126),o=Math.max;t.a=function overRest(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),Object(r.a)(e,this,c)}}},function(e,t,n){"use strict";var r=n(54),o=n(172),i=n(34),a="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);t.a=function isPlainObject(e){if(!Object(i.a)(e)||Object(r.a)(e)!=a)return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){"use strict";var r=n(123),o=n(258);t.a=function parent(e,t){return t.length<2?e:Object(r.a)(e,Object(o.a)(t,0,-1))}},function(e,t,n){"use strict";t.a=function baseSlice(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){"use strict";var r=n(85),o=n(260);t.a=function createAssigner(e){return Object(r.a)(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&Object(o.a)(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t})}},function(e,t,n){"use strict";var r=n(96),o=n(48),i=n(95),a=n(23);t.a=function isIterateeCall(e,t,n){if(!Object(a.a)(n))return!1;var s=typeof t;return!!("number"==s?Object(o.a)(n)&&Object(i.a)(t,n.length):"string"==s&&t in n)&&Object(r.a)(n[t],e)}},function(e,t,n){"use strict";var r=n(174),o=n(57),i=n(95),a=n(23),s=n(56);t.a=function baseSet(e,t,n,l){if(!Object(a.a)(e))return e;for(var c=-1,u=(t=Object(o.a)(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var p=Object(s.a)(t[c]),h=n;if(c!=d){var g=f[p];void 0===(h=l?l(g,p,f):void 0)&&(h=Object(a.a)(g)?g:Object(i.a)(t[c+1])?[]:{})}Object(r.a)(f,p,h),f=f[p]}return e}},function(e,t,n){"use strict";var r=n(177);t.a=function castArrayLikeObject(e){return Object(r.a)(e)?e:[]}},function(e,t,n){"use strict";var r=n(189),o=n(186),i=n(264),a=n(53),s=n(66),l=n(158),c=Math.min;t.a=function baseIntersection(e,t,n){for(var u=n?i.a:o.a,d=e[0].length,f=e.length,p=f,h=Array(f),g=1/0,m=[];p--;){var A=e[p];p&&t&&(A=Object(a.a)(A,Object(s.a)(t))),g=c(A.length,g),h[p]=!n&&(t||d>=120&&A.length>=120)?new r.a(p&&A):void 0}A=e[0];var v=-1,y=h[0];e:for(;++v<d&&m.length<g;){var b=A[v],w=t?t(b):b;if(b=n||0!==b?b:0,!(y?Object(l.a)(y,w):u(m,w,n))){for(p=f;--p;){var _=h[p];if(!(_?Object(l.a)(_,w):u(e[p],w,n)))continue e}y&&y.push(w),m.push(b)}}return m}},function(e,t,n){"use strict";t.a=function arrayIncludesWith(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){"use strict";t.a=function baseFindIndex(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){"use strict";var r=n(20),o=n(162),i=n(159),a=n(93),s=r.a.isFinite,l=Math.min;t.a=function createRound(e){var t=Math[e];return function(e,n){if(e=Object(i.a)(e),(n=null==n?0:l(Object(o.a)(n),292))&&s(e)){var r=(Object(a.a)(e)+"e").split("e"),c=t(r[0]+"e"+(+r[1]+n));return+((r=(Object(a.a)(c)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},function(e,t,n){"use strict";var r=n(187),o=n(48);t.a=function baseMap(e,t){var n=-1,i=Object(o.a)(e)?Array(e.length):[];return Object(r.a)(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},function(e,t,n){"use strict";var r=n(67);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function HtmlBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlBlock),_possibleConstructorReturn(this,_getPrototypeOf(HtmlBlock).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HtmlBlock,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(HtmlBlock,[{key:"initialize",value:function initialize(){this.editorLoaded=!1}},{key:"defaults",get:function get(){return{handlebars:!0,code:'<table align="center" style="padding: 10px;">\n\t<tr>\n\t\t<td>\n\t\t\t<h2>'.concat(l("Html block"),"</h2>\n\t\t</td>\n\t</tr>\n</table>"),is_modified:!1}}},{key:"aceSettings",get:function get(){return{fontSize:"16px",enableBasicAutocompletion:!0,enableSnippets:!1,mode:this.editorMode,theme:"ace/theme/monokai"}}},{key:"editorMode",get:function get(){return!0===this.get("handlebars")?"ace/mode/handlebars":"ace/mode/html"}},{key:"code",get:function get(){return this.get("code")},set:function set(e){this.set("code",e,{autosave:!0})}},{key:"contentData",get:function get(){return{Theme:window.Builder.find("Email.model.theme.attributes.data",{})}}}]),HtmlBlock}();t.a=o},function(e,t,n){"use strict";var r=n(68),o=n(283),i=n.n(o),a=n(525),s=n.n(a),c=n(526),u=n(55),d=n(0),f=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=n(671),h=function(e){function HtmlBlockView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlBlockView),_possibleConstructorReturn(this,_getPrototypeOf(HtmlBlockView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HtmlBlockView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(HtmlBlockView,[{key:"getModelAttributes",value:function getModelAttributes(){var e=_get(_getPrototypeOf(HtmlBlockView.prototype),"getModelAttributes",this).call(this);return 0===this.model.code.length&&(e.code="<h1>Your html block</h1>"),e}},{key:"render",value:function render(){if(!1===this.model.get("handlebars"))return _get(_getPrototypeOf(HtmlBlockView.prototype),"render",this).call(this);this.delegateEvents(null),this.trigger("preRender",this);try{this.el.innerHTML=i()({code:this.compiledTemplate(this.model.contentData)})}catch(e){this.el.innerHTML=i()({code:s()({errorString:e.toString().split("\n")[0],code:this.model.code||"<h1>Your html block</h1>"})})}return this.trigger("postRender",this),this}},{key:"initialize",value:function initialize(){this.setTemplate(i.a),this.compileTemplate(),this.registerHandlebarsHelpers(),this.listenToEvents()}},{key:"compileTemplate",value:function compileTemplate(){return this.compiledTemplate=p.compile(this.model.code||"<h1>Your html block</h1>"),this.compiledTemplate}},{key:"listenToEvents",value:function listenToEvents(){var e=this;this.listenTo(this.model,"change:code",function(){e.model.is_modified=!0,e.compileTemplate(),e.render()}),this.listenTo(this.model,"change:handlebars",this.render),this.listenTo(this,"selected",this.onClick),this.listenTo(this,"deselect",function(){e.model.trigger("removeEditor")}),d.a.subscribe(f.p.EDIT.ALL,function(){e.render()})}},{key:"onClick",value:function onClick(){this.model.editorLoaded||(this.model.editorLoaded=!0,new c.a({model:this.model}))}},{key:"registerHandlebarsHelpers",value:function registerHandlebarsHelpers(){p.registerHelper("ifEquals",function(e,t,n){return e===t?n.fn(this):n.inverse(this)})}},{key:"className",get:function get(){return"HtmlBlockView table-block base-block-view"}},{key:"events",get:function get(){return Object(u.a)({},_get(_getPrototypeOf(HtmlBlockView.prototype),"events",this),{click:"onClick"})}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt"},{title:l("Copy"),icon:"fa-copy",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove(),e.model.trigger("removeEditor")}}]}}}]),HtmlBlockView}();t.a=h},function(e,t,n){"use strict";(function(e,r){var o=n(68),i=n(531),a=n(0),s=n(1),c=n(740),u=n(80),d=n(11),f=n(55),p=n(470),h=n(119),g=n(3);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=["#000000","#404040","#808080","#bfbfbf","#ffffff","#661414","#b32424","#ff3333","#ff8080","#ffd1d1","#66145a","#b3249b","#ff33dd","#ff80ea","#ffd1f7","#3d1466","#6b24b3","#9933ff","#bf80ff","#e8d1ff","#142266","#243bb3","#3355ff","#8095ff","#d1d9ff","#145866","#249bb3","#33ddff","#80eaff","#d1f7ff","#14663d","#24b36b","#0fe379","#80ffbf","#d1ffe8","#666614","#b3b324","#ffff11","#fdfd94","#ffffd1","#664114","#b37224","#ff8d00","#ffc680","#ffead1"],A=["fontcolor","clips","clean_text"],v=["textdirection"],y=40,b="fadeInDown",w="fadeOut",_=["bold","italic","underline","deleted","lists","link"],E=["html"],C=["a","br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i"],S=["paddingBottom","paddingTop","paddingLeft","paddingRight","lineHeight","fontSize"],T=function(t){function BaseRedactorBlockView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseRedactorBlockView),_possibleConstructorReturn(this,_getPrototypeOf(BaseRedactorBlockView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseRedactorBlockView,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseRedactorBlockView,[{key:"onSettingChange",value:function onSettingChange(e,t,n){return Object(c.a)(Object(u.a)(n),S).length>0&&(this._focusEnd=!1),this.hasRedactor?(this.restartRedactor(),this):(this.render(),this)}},{key:"initialize",value:function initialize(){var e=this;this.listenTo(this,"deselect",this.onDeselect),this.listenTo(this.model,"change",function(){e.model.is_modified=!0,e.onSettingChange()}),this.listenTo(this,"postRender",function(){e.updateLinksColor(),e.initPlaceholder()}),a.a.subscribe(s.k.EXPERT_TOGGLE,function(){e.restartRedactor()})}},{key:"redactor",value:function redactor(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.iframeWindow).$R.apply(e,[this.selector].concat(n))}},{key:"onDeselect",value:function onDeselect(){this.$el.find(".redactor-component-active").removeClass("redactor-component-active"),this.destroyRedactor()}},{key:"createToolbar",value:function createToolbar(){this.toolbar=new i.a({model:this.model}),this.$el.prepend(this.toolbar.render().el)}},{key:"updateText",value:function updateText(){this.model.is_modified=!0,this.model.set(this.textAttribute,this.content,{silent:!0,autosave:!1})}},{key:"handleLinkInsertion",value:function handleLinkInsertion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){var t=e.getData();return t.url.includes(".")||e.setData({url:t.url}),this.updateLinksColor(),e}}},{key:"updateLinksColor",value:function updateLinksColor(){var e=this.$el.find(this.selector+" a");if(0!==e.length){var t=this.model.get("linkColor")||Object(d.a)(this.model,"currentTheme.linkColor");e.css("color",t),e.attr("data-redactor-style-cache","color:"+t+";")}}},{key:"initRedactor",value:function initRedactor(){this.createToolbar(),this.redactor(Object(f.a)({},this.internalOptions,this.redactorOptions)),this.toolbar.adjustWidth(this.iframeWindow.innerWidth)}},{key:"restartRedactor",value:function restartRedactor(){this.hasRedactor&&(this.render(),this.destroyRedactor(),this.initRedactor())}},{key:"destroyRedactor",value:function destroyRedactor(){var t=this;if(g.a.isNullOrUndef(this.toolbar))return!1;this.redactor("module.modal.close"),this.toolbar.content.animateCss(w,function(){t.toolbar.remove(),t.toolbar=null,new Promise(function(e){t.redactor("destroy"),e(t)}).then(function(){t.initPlaceholder()});var n=e(t.iframeWindow.document.body);n.find(".re-button-tooltip").remove(),n.find(".redactor-context-toolbar").remove()},y)}},{key:"initPlaceholder",value:function initPlaceholder(){var e=this,t=this.model.attributes.text.replace(/<[^>]+>/g,"");/\S/.test(t)?this._focusEnd=!1:(setTimeout(function(){e.$el.find(".redactor-editable-div").addClass("redactor-placeholder").attr("placeholder",l("Type your text...")).css("min-height","1.5em")},10),this._focusEnd=!0)}},{key:"resolvePlugins",value:function resolvePlugins(){return window.Builder.isExpertModeEnabled()?Object(p.a)(this.plugins,this.proPlugins,["close"]):Object(p.a)(this.plugins,["close"])}},{key:"resolveButtons",value:function resolveButtons(){return window.Builder.isExpertModeEnabled()?Object(p.a)(this.proButtons,this.buttons):this.buttons}},{key:"remove",value:function remove(){return this.hasRedactor&&this.destroyRedactor(),_get(_getPrototypeOf(BaseRedactorBlockView.prototype),"remove",this).call(this)}},{key:"onSelect",value:function onSelect(){var e=this.iframeWindow.frameElement.contentWindow.getSelection(),t=!1,n={start:0,end:0};if(e.rangeCount>0&&(t=e.getRangeAt(0)),t&&t.startContainer){var r=this.previousNodesLength(t.startContainer);n={start:t.startOffset+r,end:t.endOffset+r}}this.hasRedactor||(this.initRedactor(n),this.toolbar.content.animateCss(b,null,7*y),this.redactor("offset.set",n),_get(_getPrototypeOf(BaseRedactorBlockView.prototype),"onSelect",this).call(this))}},{key:"previousNodesLength",value:function previousNodesLength(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(g.a.isNullOrUndef(e.previousSibling))return g.a.isNullOrUndef(e.parentElement)?t:e.parentElement.className.includes("redactor_element")?t:this.previousNodesLength(e.parentElement,t);var n=g.a.isNullOrUndef(e.previousSibling.textContent)?t:e.previousSibling.textContent.length+t;return this.previousNodesLength(e.previousSibling,n)}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove()}}]}}},{key:"selector",get:function get(){return".redactor_element_"+this.model.uuid}},{key:"clips",get:function get(){var e=[[l("name"),"{$firstname}"],[l("Last name"),"{$lastname}"],[l("Unsubscribe link"),"[ATSISAKYMO_NUORODA]"],[l("Browser preview link"),"[BROWSER_PREVIEW]"]];return r.forEach(window.USER_CUSTOM_FIELDS,function(t){e.push([t.title,t.name])}),e}},{key:"iframeWindow",get:function get(){return window.Builder.run("Email.view.getIframeWindow")}},{key:"hasRedactor",get:function get(){return this.redactor("isStarted")||!1}},{key:"plugins",get:function get(){return A}},{key:"proPlugins",get:function get(){return v}},{key:"buttons",get:function get(){return _}},{key:"proButtons",get:function get(){return E}},{key:"colors",get:function get(){return m}},{key:"redactorOptions",get:function get(){return{}}},{key:"textAttribute",get:function get(){return"text"}},{key:"content",get:function get(){return this.$el.find(this.selector).html()}},{key:"internalOptions",get:function get(){var e=this;return{lang:window.EDITOR_LANGUAGE||"en",focusEnd:this._focusEnd,pasteBlockTags:[],pasteInlineTags:C,callbacks:{changed:Object(h.a)(this.updateText,this),link:{inserted:Object(h.a)(this.handleLinkInsertion,this)},close:{click:Object(h.a)(this.destroyRedactor,this)},pasted:Object(h.a)(this.updateLinksColor,this),uploadImage:{click:function click(){a.a.publish(s.g.OPEN,{provider:"UserImages",model:e.model,key:"src",afterSet:function afterSet(t){var n=t.attributes.originalUrl;n={file:{url:n+"",id:t.attributes.title}},e.redactor("module.image.insert",n)}})}}},placeholder:l("Type your text..."),buttons:this.resolveButtons(),fontcolors:this.colors,toolbarExternal:this.toolbar.selector,plugins:this.resolvePlugins(),clips:this.clips}}}]),BaseRedactorBlockView}();t.a=T}).call(this,n(22),n(24))},function(e,t,n){"use strict";var r=n(21),o=n(11),i=n(55),a=n(469),s=n(5),c=n(0),u=n(1);n(47);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d={Email:{BPUfontColor:"#737373",BPUfontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",BPUfontSize:12,BPUfontWeight:"normal",hidePreview:!1,hideUnsubscribe:!1,BPUtextLanguage:"English",BPUtextUnsubscribe:"If you want to unsubscribe, click here.",BPUtextPreview:"Is this email not displaying correctly? View it in your browser.",backgroundColor:"#f2f2f2",backgroundRepeat:"repeat",backgroundSize:"auto",backgroundUrl:"",width:640},Section:{align:"center",backgroundColor:"transparent",backgroundRepeat:"repeat",backgroundSize:"auto",backgroundType:"content",backgroundUrl:"",breakOnMobile:!0,columnSpacing:20,columnVerticalAlign:"top",contentBackgroundColor:"#ffffff",hideOnMobile:!1,paddingBottom:10,paddingLeft:20,paddingRight:20,paddingTop:10,borderTopRadius:0,borderBottomRadius:0,width:null,DontBrakeOnMobile:!1},Column:{hideOnMobile:!1},HeadlineBlock:{align:"center",backgroundColor:"transparent",h1Color:"#363636",fontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",h1FontSize:36,h2Color:"#363636",h2FontSize:24,h3Color:"#363636",h3FontSize:20,hStyle:"h2",hideOnMobile:!1,lineHeight:120,linkColor:"#fc8805",paddingBottom:5,paddingLeft:0,paddingRight:0,paddingTop:5},ParagraphBlock:{align:"left",backgroundColor:"transparent",color:"#737373",fontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",fontSize:14,hideOnMobile:!1,lineHeight:150,linkColor:"#fc8805",paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10},ImageBlock:{align:"center",backgroundColor:"transparent",borderRadius:0,hideOnMobile:!1,href:"",paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10,widthPercent:100,widthPixels:null},ButtonBlock:{align:"center",backgroundColor:"#fc8805",blockBackgroundColor:"transparent",borderColor:"transparent",borderRadius:5,borderStyle:"solid",borderWidth:0,buttonHeight:10,buttonSpacing:10,buttonWidth:10,color:"#ffffff",fontAlignment:"center",fontDecoration:"none",fontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",fontSize:13,fontStyle:"normal",fontWeight:"normal",fullWidth:!1,height:10,paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10,paddingY:10,width:"100%"},SocialBlock:{align:"center",backgroundColor:"transparent",hideOnMobile:!1,iconSize:96,paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10,styleType:"v7",socialSpacing:10,fontDecoration:"none",fontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",fontSize:13,fontStyle:"normal",fontWeight:"normal",fontColor:"#000000",customSize:48},SeparatorBlock:{backgroundColor:"transparent",hideOnMobile:!1,paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10,separatorBorderColor:"#bfbfbf",separatorBorderStyle:"dashed",separatorBorderWidth:1,separatorWidth:100},VideoBlock:{align:"center",alt:"",backgroundColor:"transparent",borderRadius:0,hideOnMobile:!1,href:"",paddingBottom:10,paddingLeft:0,paddingRight:0,paddingTop:10,type:"VideoBlock",videoUrl:"",widthPercent:100,widthPixels:null,videoQuality:"normal"},HtmlBlock:{}},f=function(e){function Theme(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Theme),_possibleConstructorReturn(this,_getPrototypeOf(Theme).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Theme,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Theme,[{key:"parse",value:function parse(e,t){return _get(_getPrototypeOf(Theme.prototype),"parse",this).call(this,Object(o.a)(e,"Theme"),t)}},{key:"set",value:function set(e,t,n){var r={};return r=Object(i.a)(r,d,Object(o.a)(e,"data",{})),Object(a.a)(e,"data",r),_get(_getPrototypeOf(Theme.prototype),"set",this).call(this,e,t,n)}},{key:"saveTheme",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e,t,n,r,o,a,d;return regeneratorRuntime.wrap(function _callee$(f){for(;;)switch(f.prev=f.next){case 0:return e=window.Builder.find("Email.model.theme"),t=window.Builder.find("ThemeModule.themes"),n=e.toJSON(),f.next=5,s.a.input({title:l("Save theme"),input:"text",confirmButtonText:l("Save"),html:'<div class="text-left"><label style = "font-weight: 600!important; color: #777777!important;">'.concat(l("Name"),"</label></div>"),inputValue:"",inputValidator:function inputValidator(e){return e.length<3&&l("Title must be at least 3 characters long")}});case 5:if(r=f.sent,o=r.value){f.next=9;break}return f.abrupt("return");case 9:return a=o===n.title&&!n.public,Object(i.a)(n,{id:a?n.id:null,category_id:1,public:!1,title:o}),d=new Theme(n,{validate:!0}),f.prev=12,f.next=15,d.save();case 15:t.add(d,{at:0,merge:!0}),c.a.publish(u.p.SELECTED,d.toJSON()),f.next=22;break;case 19:return f.prev=19,f.t0=f.catch(12),f.abrupt("return");case 22:s.a.toast({type:null,title:a?l("Theme updated"):l("Theme created")});case 23:case"end":return f.stop()}},_callee,null,[[12,19]])}));return function saveTheme(){return e.apply(this,arguments)}}()},{key:"defaults",get:function get(){return{id:null,category_id:null,data:d,public:null,title:null,is_modified:!1}}},{key:"urlRoot",get:function get(){return window.SENDER_ENDPOINT+"themes"}}]),Theme}();t.a=f},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"collapsed"},3:function(e,t,n,r,o){return"collapse"},5:function(e,t,n,r,o){return"show"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{};return'<div class="p-0 m-0" id="'+l(s(null!=t?t.uuid:t,t))+'_control">\n    <div class="se-accordion-title '+(null!=(i=n.unless.call(c,null!=t?t.isOpen:t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" data-toggle="'+(null!=(i=n.unless.call(c,null!=t?t.lockOpen:t,{name:"unless",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'"\n         data-target="#'+l(s(null!=t?t.uuid:t,t))+'_collapse" aria-expanded="true" aria-controls="'+l(s(null!=t?t.uuid:t,t))+'_collapse">\n        <span>\n            '+l(s(null!=t?t.title:t,t))+'\n        </span>\n    </div>\n</div>\n<div id="'+l(s(null!=t?t.uuid:t,t))+'_collapse"\n     class="se-controls-container bg-white collapse '+(null!=(i=n.if.call(c,null!=t?t.isOpen:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'"\n     aria-labelledby="'+l(s(null!=t?t.uuid:t,t))+'_control" data-parent="#'+l("function"==typeof(a=null!=(a=n.parentId||(null!=t?t.parentId:t))?a:n.helperMissing)?a.call(c,{name:"parentId",hash:{},data:o}):a)+'">\n    \x3c!--Elements--\x3e\n</div>'},useData:!0})},function(e,t,n){"use strict";var r=n(67),o=n(86),i=n(611),a=n(610),s=n(119);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function ImageBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImageBlock),_possibleConstructorReturn(this,_getPrototypeOf(ImageBlock).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ImageBlock,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ImageBlock,[{key:"updateImageWidth",value:function updateImageWidth(){var e=(Object(i.a)(this,"collection.column.view.$el.innerWidth")||0)-(this.get("paddingLeft",0)+this.get("paddingRight",0));if(0===e)return!1;var t=e;return(t=t/100*this.getAttributes("widthPercent"))<30&&(t=30),this.set("widthPixels",Object(a.a)(t),{silent:!0,autosave:!0}),!0}},{key:"eventName",get:function get(){return"IMAGE"}},{key:"name",get:function get(){return"ImageBlock"}},{key:"defaults",get:function get(){return{type:"ImageBlock",hasImage:!1,inDom:!1,col:0,pos:0,src:window.SENDER_ENDPOINT+"email-editor/static/img/noimage.jpg",alt:l("Image description"),href:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,widthPercent:null,widthPixels:null,borderRadius:null,align:null,backgroundColor:null,hideOnMobile:null,is_modified:!1}}},{key:"settingsScheme",get:function get(){return this.sectionSettings=new o.a,this.sectionSettings.section=this.section,this.settingsSchemes={model:this,customBehavior:{matchAll:!1,rules:{backgroundColor:["#ffffff","#000000"]},actions:{hide:["paddingBottom"],show:[],beforeChange:function beforeChange(){},afterChange:function afterChange(){}}},tabs:{content:{accordions:[{title:l("Image"),isOpen:!0,lockOpen:!0,controls:[{title:l("IMAGE"),isPro:!1,parts:[{type:"ImagePreviewComponent",targetModel:this,options:{bind:["src"],placeholder:SENDER_ENDPOINT+"email-editor/static/img/noimage.jpg",imageClick:Object(s.a)(this.view.openLib,this.view)}},{title:l("Image"),type:"ButtonComponent",targetModel:this,options:{title:l("Change"),className:"btn btn-secondary ml-1",bind:[""],onClick:Object(s.a)(this.view.openLib,this.view)}}]},{title:l("LINK"),isPro:!1,parts:[{title:"Url",type:"InputComponent",targetModel:this,options:{placeholder:l("Link"),bind:["href"],prependText:'<i class="fas fa-link"></i>',size:"col-6"}}]},{title:l("ALTERNATIVE TEXT"),isPro:!1,parts:[{title:"Alt",type:"InputComponent",targetModel:this,options:{bind:["alt"],prependText:'<i class="fas fa-font"></i>',placeholder:"Text when no image",size:"col-6"}}]}]}]},customize:{accordions:[{title:l("Image settings"),isOpen:!0,controls:[{title:l("CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"Border",type:"ButtonGroupComponent",targetModel:this,options:{bind:["borderRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:17,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:23,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}]}}]},{title:l("CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["borderRadius"],buttonStyle:"outline-secondary",size:"sm",min:0,max:40}}]},{title:l("ALIGNMENT"),isPro:!0,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("SIZE"),isPro:!1,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["widthPercent"],buttonStyle:"outline-secondary",size:"sm",min:1,max:100}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}},this.settingsSchemes}}]),ImageBlock}(),u=n(518),d=n.n(u),f=n(29),p=n(11);function socialBlock_typeof(e){return(socialBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function socialBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function socialBlock_possibleConstructorReturn(e,t){return!t||"object"!==socialBlock_typeof(t)&&"function"!=typeof t?function socialBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=socialBlock_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function socialBlock_getPrototypeOf(e){return(socialBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function socialBlock_setPrototypeOf(e,t){return(socialBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=[{title:"Facebook",value:"facebook"},{title:"Twitter",value:"twitter"},{title:"Instagram",value:"instagram"},{title:"Pinterest",value:"pinterest"},{title:"Youtube",value:"youtube"},{title:"Snapchat",value:"snapchat"},{title:"Whatsapp",value:"whatsapp"},{title:"LinkedIn",value:"linkedin"},{title:"Skype",value:"skype"},{title:"Custom",value:"custom"}],g=["v1","v2","v3","v4","v5","v6","v7","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17","v18","v19","v20","v21"],m=["facebook","instagram","twitter"],A=function(e){function SocialBlock(){return function socialBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocialBlock),socialBlock_possibleConstructorReturn(this,socialBlock_getPrototypeOf(SocialBlock).apply(this,arguments))}return function socialBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&socialBlock_setPrototypeOf(e,t)}(SocialBlock,r["a"]),function socialBlock_createClass(e,t,n){return t&&socialBlock_defineProperties(e.prototype,t),n&&socialBlock_defineProperties(e,n),e}(SocialBlock,[{key:"generateStyleOptions",value:function generateStyleOptions(){for(var e=[],t=this.get("iconsFolder"),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Object(f.a)(r,function(n){e.push({title:d()({style:n,width:"32px",path:t,types:m}),value:n})}),e}},{key:"initialize",value:function initialize(){var e=this;_get(socialBlock_getPrototypeOf(SocialBlock.prototype),"initialize",this).call(this),this.listenTo(this,"change:iconSize",function(t,n){e.set("customSize",n/2)})}},{key:"textSizeArray",value:function textSizeArray(){for(var textSizeArray=[],e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(f.a)(t,function(e){textSizeArray.push({title:e,value:e})}),textSizeArray}},{key:"name",get:function get(){return"SocialBlock"}},{key:"defaults",get:function get(){return{iconsFolder:window.SENDER_ENDPOINT+window.SENDER_SOCIAL_ICONS_DIR,type:"SocialBlock",SocialIcons:[{title:"Facebook",href:"https://www.facebook.com",mediaType:"facebook",textPosition:"right"},{title:"Twitter",href:"https://www.twitter.com",mediaType:"twitter",textPosition:"right"},{title:"Instagram",href:"https://www.instagram.com",mediaType:"instagram",textPosition:"right"}],iconSize:null,styleType:null,align:null,backgroundColor:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,hideOnMobile:null,socialSpacing:null,fontDecoration:null,fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,fontColor:null,customSize:null,is_modified:!1}}},{key:"settingsScheme",get:function get(){return this.sectionSettings=new o.a,this.sectionSettings.section=Object(p.a)(this,"collection.column.collection.section"),this.settingsSchemes={model:this,tabs:{content:{accordions:[{title:l("Icons"),isOpen:!0,controls:[{parts:[{type:"SortingComponent",isPro:!1,targetModel:this,options:{bind:["SocialIcons"],title:l("Link to profile"),availableIcons:h,iconsFolder:this.get("iconsFolder")}}]}]}]},customize:{accordions:[{title:l("Social"),isOpen:!0,lockOpen:!1,controls:[{title:l("ICON STYLE"),isPro:!1,parts:[{type:"DropdownComponent",targetModel:this,options:{width:"w-auto",height:"auto",selectedTitle:l("Choose..."),bind:["styleType"],mapCustomStylesToValue:"font-family",drops:this.generateStyleOptions.apply(this,g)}}]},{title:l("ICON ALIGNMENT"),parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("ICON SIZE"),isPro:!1,parts:[{title:l("ICON SIZE"),type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["iconSize"],buttonStyle:"outline-secondary",size:"sm",fontWeight:800,buttons:[{value:64,text:"S"},{value:96,text:"M"},{value:128,text:"L"}]}}]},{title:l("SPACING BETWEEN ICONS"),nonPro:!0,isPro:!1,parts:[{title:"SIZE",type:"ButtonGroupComponent",targetModel:this,options:{bind:["socialSpacing"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,text:l("NONE"),spanMargin:"0 auto",textMargin:".67em 0"},{value:10,text:l("S"),spanMargin:"0 auto",textMargin:".75em 0"},{value:20,text:l("M"),spanMargin:"0 auto",textMargin:".83em 0"},{value:30,text:l("L"),spanMargin:"0 auto",textMargin:".83em 0"}]}}]},{title:l("CUSTOM SIZE"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["customSize"],buttonStyle:"outline-secondary",min:10,max:64,units:"",syncBind:!0}}]},{title:l("SPACING BETWEEN ICONS"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["socialSpacing"],min:0,max:250,step:1}}]}]},{title:l("Typography"),id:"typography",isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",mapCustomStylesToValue:"font-family",selectedTitle:l("Choose..."),bind:["fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["fontColor"]}},{type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),bind:["fontSize"],showTick:!1,drops:this.textSizeArray(8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25)}}]},{title:l("FONT DECORATION"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontDecoration"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"none",text:"X"},{value:"underline",text:'<div align ="center" style="text-decoration:underline;">ABC</div>'},{value:"line-through",text:'<div align="center" style="text-decoration:line-through;">ABC</div>'},{value:"overline",text:'<div align="center" style="text-decoration:overline;">ABC</div>'}]}}]},{title:l("FONT WEIGHT"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontWeight"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-weight:normal;">ABC</div>'},{value:"bold",text:'<div align="center" style="font-weight: bold">ABC</div>'}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-style:normal;">ABC</div>'},{value:"italic",text:'<div align="center" style="font-style: italic">ABC</div>'}]}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}},this.settingsSchemes}}]),SocialBlock}();function separatorBlock_typeof(e){return(separatorBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function separatorBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function separatorBlock_possibleConstructorReturn(e,t){return!t||"object"!==separatorBlock_typeof(t)&&"function"!=typeof t?function separatorBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function separatorBlock_getPrototypeOf(e){return(separatorBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function separatorBlock_setPrototypeOf(e,t){return(separatorBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function SeparatorBlock(){return function separatorBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SeparatorBlock),separatorBlock_possibleConstructorReturn(this,separatorBlock_getPrototypeOf(SeparatorBlock).apply(this,arguments))}return function separatorBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&separatorBlock_setPrototypeOf(e,t)}(SeparatorBlock,r["a"]),function separatorBlock_createClass(e,t,n){return t&&separatorBlock_defineProperties(e.prototype,t),n&&separatorBlock_defineProperties(e,n),e}(SeparatorBlock,[{key:"initialize",value:function initialize(){var e=this;this.listenTo(this,"change:paddingTop",function(t,n){0===n&&"none"===e.get("separatorBorderStyle")&&e.set("separatorBorderStyle","solid")}),this.listenTo(this,"change:separatorBorderStyle",function(t,n){"none"===n&&0===e.get("paddingTop")&&e.set({paddingTop:10,paddingBottom:10})})}},{key:"eventName",get:function get(){return"SEPARATOR"}},{key:"defaults",get:function get(){return{type:"SeparatorBlock",backgroundColor:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,separatorBorderStyle:null,separatorBorderColor:null,separatorBorderWidth:null,separatorWidth:null,hideOnMobile:null,is_modified:!1}}},{key:"name",get:function get(){return"SeparatorBlock"}},{key:"settingsScheme",get:function get(){return this.sectionSettings=new o.a,this.sectionSettings.section=Object(p.a)(this,"collection.column.collection.section"),this.settingsSchemes={model:this,tabs:{content:{hideLabel:!0,accordions:[{title:l("Separator"),isOpen:!0,id:"separator",controls:[{title:l("STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["separatorBorderStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"none",icon:"ban"},{value:"solid",text:'<div style="border-bottom-style:solid; width:15px"> </div>'},{value:"dotted",text:'<div style="border-bottom-style:dotted; width:15px"> </div>'},{value:"dashed",text:'<div style="border-bottom-style:dashed; width:15px"> </div>'},{value:"double",text:'<div style="border-bottom-style:double; width:15px"> </div>'}]}}]},{title:l("COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["separatorBorderColor"]}}]},{title:l("THICKNESS"),isPro:!1,parts:[{title:"Height",type:"InputPillComponent",isPro:!1,targetModel:this,options:{bind:["separatorBorderWidth"],min:1,max:20,step:1}}]},{title:l("WIDTH"),isPro:!1,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["separatorWidth"],min:1,max:100,units:"%"}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"separator"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"separator"))}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]},customize:{hide:!0}}},this.settingsSchemes}}]),SeparatorBlock}(),y=n(519),b=n(178),w=n(521),_=n.n(w),E=n(1),C=n(0),S=n(68),T=n(184),x=n(737),O=n(55);function imageBlockView_typeof(e){return(imageBlockView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function imageBlockView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function imageBlockView_possibleConstructorReturn(e,t){return!t||"object"!==imageBlockView_typeof(t)&&"function"!=typeof t?function imageBlockView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function imageBlockView_get(e,t,n){return(imageBlockView_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function imageBlockView_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=imageBlockView_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function imageBlockView_getPrototypeOf(e){return(imageBlockView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function imageBlockView_setPrototypeOf(e,t){return(imageBlockView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function ImageBlockView(){return function imageBlockView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImageBlockView),imageBlockView_possibleConstructorReturn(this,imageBlockView_getPrototypeOf(ImageBlockView).apply(this,arguments))}return function imageBlockView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&imageBlockView_setPrototypeOf(e,t)}(ImageBlockView,S["a"]),function imageBlockView_createClass(e,t,n){return t&&imageBlockView_defineProperties(e.prototype,t),n&&imageBlockView_defineProperties(e,n),e}(ImageBlockView,[{key:"initialize",value:function initialize(e){var t=this;if(this.model.column.view.el instanceof Element){var n=Object(x.a)(this.updateImageWidthAttr.bind(this),20,{leading:!1,trailing:!0});new T.a(n).observe(this.model.column.view.el)}this.setTemplate(_.a),this.listenTo(this,"postRender",this.onPostRender),this.listenTo(this.model,"change",function(){t.model.is_modified=!0,t.render()})}},{key:"updateImageWidthAttr",value:function updateImageWidthAttr(){this.model.updateImageWidth(),this.$el.find("img").attr("width",this.model.get("widthPixels"))}},{key:"onPostRender",value:function onPostRender(){this.model.get("inDom")||this.model.get("hasImage")||(this.model.set("inDom",!0,{silent:!0}),this.openLib())}},{key:"getModelAttributes",value:function getModelAttributes(){return this.model.updateImageWidth(),imageBlockView_get(imageBlockView_getPrototypeOf(ImageBlockView.prototype),"getModelAttributes",this).call(this)}},{key:"openLib",value:function openLib(){var e=this;C.a.publish(E.g.OPEN,{provider:"UserImages",model:this.model,key:"src",beforeSet:function beforeSet(t){e.model.set("originalWidth",t.get("width"),{silent:!0})},afterSet:function afterSet(){e.model.set("hasImage",!0)}})}},{key:"events",get:function get(){return Object(O.a)(imageBlockView_get(imageBlockView_getPrototypeOf(ImageBlockView.prototype),"events",this),{dblclick:"openLib"})}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Change"),icon:"fa-search",tooltipText:"Search image",onclick:this.openLib},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove()}}]}}}]),ImageBlockView}(),B=n(522),P=n.n(B);function socialView_typeof(e){return(socialView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function socialView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function socialView_possibleConstructorReturn(e,t){return!t||"object"!==socialView_typeof(t)&&"function"!=typeof t?function socialView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function socialView_getPrototypeOf(e){return(socialView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function socialView_setPrototypeOf(e,t){return(socialView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function SocialView(){return function socialView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocialView),socialView_possibleConstructorReturn(this,socialView_getPrototypeOf(SocialView).apply(this,arguments))}return function socialView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&socialView_setPrototypeOf(e,t)}(SocialView,S["a"]),function socialView_createClass(e,t,n){return t&&socialView_defineProperties(e.prototype,t),n&&socialView_defineProperties(e,n),e}(SocialView,[{key:"initialize",value:function initialize(){var e=this;this.setTemplate(P.a),this.listenTo(this.model,"change",function(){e.model.is_modified=!0,e.render()})}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.remove();case 1:case"end":return t.stop()}},_callee)}));return function onclick(){return t.apply(this,arguments)}}()}]}}}]),SocialView}(),R=n(523),L=n.n(R);function separatorBlockView_typeof(e){return(separatorBlockView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function separatorBlockView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function separatorBlockView_possibleConstructorReturn(e,t){return!t||"object"!==separatorBlockView_typeof(t)&&"function"!=typeof t?function separatorBlockView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function separatorBlockView_getPrototypeOf(e){return(separatorBlockView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function separatorBlockView_setPrototypeOf(e,t){return(separatorBlockView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function SeparatorBlockView(){return function separatorBlockView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SeparatorBlockView),separatorBlockView_possibleConstructorReturn(this,separatorBlockView_getPrototypeOf(SeparatorBlockView).apply(this,arguments))}return function separatorBlockView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&separatorBlockView_setPrototypeOf(e,t)}(SeparatorBlockView,S["a"]),function separatorBlockView_createClass(e,t,n){return t&&separatorBlockView_defineProperties(e.prototype,t),n&&separatorBlockView_defineProperties(e,n),e}(SeparatorBlockView,[{key:"initialize",value:function initialize(e){var t=this;this.setTemplate(L.a),this.listenTo(this.model,"change",function(e){t.model.is_modified=!0,t.render()})}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove()}}]}}}]),SeparatorBlockView}(),D=n(524),N=n.n(D),F=n(18),U=n.n(F),H=n(5);n(446);function videoBlockView_typeof(e){return(videoBlockView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function videoBlockView_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function videoBlockView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function videoBlockView_possibleConstructorReturn(e,t){return!t||"object"!==videoBlockView_typeof(t)&&"function"!=typeof t?function videoBlockView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function videoBlockView_get(e,t,n){return(videoBlockView_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function videoBlockView_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=videoBlockView_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function videoBlockView_getPrototypeOf(e){return(videoBlockView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function videoBlockView_setPrototypeOf(e,t){return(videoBlockView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function VideoBlockView(){return function videoBlockView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoBlockView),videoBlockView_possibleConstructorReturn(this,videoBlockView_getPrototypeOf(VideoBlockView).apply(this,arguments))}return function videoBlockView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&videoBlockView_setPrototypeOf(e,t)}(VideoBlockView,S["a"]),function videoBlockView_createClass(e,t,n){return t&&videoBlockView_defineProperties(e.prototype,t),n&&videoBlockView_defineProperties(e,n),e}(VideoBlockView,[{key:"initialize",value:function initialize(e){var t=this;if(this.model.column.view.el instanceof Element){var n=Object(x.a)(this.updateImageWidthAttr.bind(this),20,{leading:!1,trailing:!0});new T.a(n).observe(this.model.column.view.el)}this.setTemplate(N.a),this.listenTo(this.model,"change",function(){if(t.model.is_modified=!0,t.model.changed.hasOwnProperty("href"))return!0;t.model.changed.hasOwnProperty("videoQuality")&&t.gifQuality(),t.render()}),this.listenTo(this.model,"change:href",function(){t.makeVideoAsGif()})}},{key:"makeVideoAsGif",value:function(){var e=function videoBlockView_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){videoBlockView_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){videoBlockView_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e=this;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(this.link=this.model.get("href"),""!==this.link){t.next=3;break}return t.abrupt("return",H.a.toast({type:null,title:l("Please enter video URL!")}));case 3:return this.loadingGif(),H.a.toast({type:null,title:l("Generating GIF!")}),t.next=7,new Promise(function(t){U.a.post(window.SENDER_ENDPOINT+"giphy/upload/",{url:e.link}).then(function(n){t(n),n.data.code||0===n.data.code?(H.a.toast({type:null,title:l("Failed to generate GIF image! Check link.")}),e.$el.find(".internal-content-td").css("height","auto"),e.$el.find(".videoBlock-container").removeClass("video-gif-loader"),e.model.set("src",SENDER_ENDPOINT+"email-editor/static/img/youtubePlaceholder.jpg"),e.render()):(H.a.toast({type:null,title:l("GIF generated!")}),e.$el.find(".internal-content-td").css("height","auto"),e.$el.find(".videoBlock-container").removeClass("video-gif-loader"),e.model.set("lowQuality",n.data.images.downsized_medium.url,{silent:!0}),e.model.set("midQuality",n.data.images.fixed_width.url,{silent:!0}),e.model.set("OriginalQuality",n.data.images.original.url,{silent:!0}),e.gifQuality())})});case 7:case"end":return t.stop()}},_callee,this)}));return function makeVideoAsGif(){return e.apply(this,arguments)}}()},{key:"loadingGif",value:function loadingGif(){this.$el.find(".internal-content-td").css("height","37vh"),this.$el.find(".videoBlock-container").html("").addClass("video-gif-loader")}},{key:"gifQuality",value:function gifQuality(){var e=this.model.get("videoQuality");if(null!=this.model.get("lowQuality")&&null!=this.model.get("midQuality")&&null!=this.model.get("OriginalQuality"))switch(e){case"low":this.model.set("src",this.model.get("lowQuality")),this.render();break;case"normal":this.model.set("src",this.model.get("midQuality")),this.render();break;case"original":this.model.set("src",this.model.get("OriginalQuality")),this.render();break;default:this.model.set("src",this.model.get("midQuality")),this.render()}}},{key:"getModelAttributes",value:function getModelAttributes(){return this.model.updateImageWidth(),videoBlockView_get(videoBlockView_getPrototypeOf(VideoBlockView.prototype),"getModelAttributes",this).call(this)}},{key:"updateImageWidthAttr",value:function updateImageWidthAttr(){this.model.updateImageWidth(),this.$el.find("img").attr("width",this.model.get("widthPixels"))}},{key:"hoverActions",get:function get(){var e=this;return{styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove()}}]}}}]),VideoBlockView}(),Q=n(268),z=n(269);function buttonGroupBlock_typeof(e){return(buttonGroupBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function buttonGroupBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function buttonGroupBlock_possibleConstructorReturn(e,t){return!t||"object"!==buttonGroupBlock_typeof(t)&&"function"!=typeof t?function buttonGroupBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function buttonGroupBlock_getPrototypeOf(e){return(buttonGroupBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function buttonGroupBlock_setPrototypeOf(e,t){return(buttonGroupBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function ButtonGroupBlock(){return function buttonGroupBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroupBlock),buttonGroupBlock_possibleConstructorReturn(this,buttonGroupBlock_getPrototypeOf(ButtonGroupBlock).apply(this,arguments))}return function buttonGroupBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&buttonGroupBlock_setPrototypeOf(e,t)}(ButtonGroupBlock,r["a"]),function buttonGroupBlock_createClass(e,t,n){return t&&buttonGroupBlock_defineProperties(e.prototype,t),n&&buttonGroupBlock_defineProperties(e,n),e}(ButtonGroupBlock,[{key:"textSizeArray",value:function textSizeArray(){for(var textSizeArray=[],e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(f.a)(t,function(e){textSizeArray.push({title:e,value:e})}),textSizeArray}},{key:"resetWidth",value:function resetWidth(){var e=this,t=this.get("buttons").length;Object(f.a)(this.get("buttons"),function(n,r){e.set("buttons."+r+".containerWidth",100/t,{silent:!0})})}},{key:"defaults",get:function get(){return{id:null,type:"ButtonGroupBlock",position:0,href:"https://www.sender.net",blockBackgroundColor:null,color:null,backgroundColor:null,borderRadius:null,borderStyle:null,borderColor:null,borderWidth:null,align:null,width:null,height:null,fontWeight:null,fullWidth:null,fontSize:null,fontFamily:null,fontAlignment:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,buttonSpacing:null,buttonHeight:null,buttonWidth:null,paddingY:null,leftSpacing:0,rightSpacing:0,fontDecoration:null,fontStyle:null,is_modified:!1,buttons:[{backgroundColor:null,href:"https://www.sender.net",text:l("Button text"),containerWidth:100}]}}},{key:"eventName",get:function get(){return"BUTTON"}},{key:"name",get:function get(){return"ButtonBlock"}},{key:"settingsScheme",get:function get(){return this.sectionSettings=new o.a,this.sectionSettings.section=this.section,this.settingsSchemes={model:this,tabs:{content:{accordions:[{title:l("Buttons"),isOpen:!0,lockOpen:!0,controls:[{parts:[{type:"ButtonGroupSortingComponent",isPro:!1,targetModel:this,options:{bind:["buttons"],title:l("Link to profile")}}]}]}]},customize:{accordions:[{title:l("Button Settings"),id:"buttonSettings",isOpen:!0,controls:[{title:l("DEFAULT BUTTON COLOR"),isPro:!1,parts:[{title:l("COLOR"),type:"ColorPickerComponent",targetModel:this,options:{bind:["backgroundColor"]}}]},{title:l("BUTTON ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"border radius",type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["borderRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}]}}]},{title:l("CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["borderRadius"],buttonStyle:"outline-secondary",min:0,max:40}}]},{title:l("WIDTH"),isPro:!1,parts:[{title:"Width",type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["fullWidth"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,image:SENDER_ENDPOINT+"email-editor/static/img/minWidth.svg",imgClasses:"invertImageClass"},{value:!0,image:SENDER_ENDPOINT+"email-editor/static/img/maxWidth.svg",imgClasses:"invertImageClass"}]}}]},{title:l("BUTTON WIDTH"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["paddingY"],min:5,max:50,step:1}}]},{title:l("BUTTON HEIGHT"),isPro:!1,nonPro:!0,parts:[{title:"height",type:"ButtonGroupComponent",isPro:!1,targetModel:this,options:{bind:["height"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:15,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}]}}]},{title:l("BUTTON HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["height"],min:5,max:50,step:1}}]},{title:l("BUTTON SPACING"),nonPro:!0,parts:[{title:"SIZE",type:"ButtonGroupComponent",targetModel:this,options:{bind:["buttonSpacing"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,text:l("NONE"),spanMargin:"0 auto",textMargin:".67em 0"},{value:10,text:l("S"),spanMargin:"0 auto",textMargin:".75em 0"},{value:20,text:l("M"),spanMargin:"0 auto",textMargin:".83em 0"},{value:30,text:l("L"),spanMargin:"0 auto",textMargin:".83em 0"}]}}]},{title:l("BUTTON SPACING"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["buttonSpacing"],min:0,max:20,step:1}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"buttonSettings"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"buttonSettings"))}}]}]},{title:l("Typography"),id:"typography",isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",mapCustomStylesToValue:"font-family",selectedTitle:l("Choose..."),bind:["fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["color"]}},{type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),bind:["fontSize"],showTick:!1,drops:this.textSizeArray(8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25)}}]},{title:l("FONT DECORATION"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontDecoration"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"none",text:"X"},{value:"underline",text:'<div align ="center" style="text-decoration:underline;">ABC</div>'},{value:"line-through",text:'<div align="center" style="text-decoration:line-through;">ABC</div>'},{value:"overline",text:'<div align="center" style="text-decoration:overline;">ABC</div>'}]}}]},{title:l("FONT WEIGHT"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontWeight"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-weight:normal;">ABC</div>'},{value:"bold",text:'<div align="center" style="font-weight: bold">ABC</div>'}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["fontStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-style:normal;">ABC</div>'},{value:"italic",text:'<div align="center" style="font-style: italic">ABC</div>'}]}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"typography"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",isPro:!0,bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"typography"))}}]}]},{title:l("Borders"),id:"borders",isOpen:!1,isPro:!0,controls:[{title:l("STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["borderStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"solid",text:'<div style="border-bottom-style:solid; width:15px"> </div>'},{value:"dotted",text:'<div style="border-bottom-style:dotted; width:15px"> </div>'},{value:"dashed",text:'<div style="border-bottom-style:dashed; width:15px"> </div>'},{value:"double",text:'<div style="border-bottom-style:double; width:15px"> </div>'}]}}]},{title:l("WIDTH"),isPro:!0,parts:[{type:"InputPillComponent",targetModel:this,options:{bind:["borderWidth"],min:0,max:10,step:1}}]},{title:l("COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!0,targetModel:this,options:{bind:["borderColor"]}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"borders"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"borders"))}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["blockBackgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}},this.settingsSchemes}}]),ButtonGroupBlock}(),V=n(529);function BaseRedactorBlock_typeof(e){return(BaseRedactorBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BaseRedactorBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BaseRedactorBlock_possibleConstructorReturn(e,t){return!t||"object"!==BaseRedactorBlock_typeof(t)&&"function"!=typeof t?function BaseRedactorBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BaseRedactorBlock_get(e,t,n){return(BaseRedactorBlock_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function BaseRedactorBlock_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BaseRedactorBlock_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function BaseRedactorBlock_getPrototypeOf(e){return(BaseRedactorBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BaseRedactorBlock_setPrototypeOf(e,t){return(BaseRedactorBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function BaseRedactorBlock(){return function BaseRedactorBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseRedactorBlock),BaseRedactorBlock_possibleConstructorReturn(this,BaseRedactorBlock_getPrototypeOf(BaseRedactorBlock).apply(this,arguments))}return function BaseRedactorBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BaseRedactorBlock_setPrototypeOf(e,t)}(BaseRedactorBlock,r["a"]),function BaseRedactorBlock_createClass(e,t,n){return t&&BaseRedactorBlock_defineProperties(e.prototype,t),n&&BaseRedactorBlock_defineProperties(e,n),e}(BaseRedactorBlock,[{key:"initialize",value:function initialize(){BaseRedactorBlock_get(BaseRedactorBlock_getPrototypeOf(BaseRedactorBlock.prototype),"initialize",this).call(this),this.validateVariables()}},{key:"validateVariables",value:function validateVariables(){var e=this.get("lineHeight");"string"==typeof e&&this.set("lineHeight",parseInt(e))}},{key:"settingsScheme",get:function get(){return{model:this,tabs:this.settingTabs}}},{key:"settingTabs",get:function get(){return{content:{accordions:[{title:l("Headline"),isOpen:!0,lockOpen:!1,controls:[{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("SIZE"),isPro:!1,parts:[{title:"SIZE",type:"ButtonGroupComponent",targetModel:this,options:{bind:["hStyle"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"h1",text:"H1",spanMargin:"0 auto",textMargin:".67em 0"},{value:"h2",text:"H2",spanMargin:"0 auto",textMargin:".75em 0"},{value:"h3",text:"H3",spanMargin:"0 auto",textMargin:".83em 0"}]}}]}]}]},customize:{accordions:[{title:l("Headline settings"),isOpen:!0,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",selectedTitle:l("Choose..."),bind:["fontFamily"],mapCustomStylesToValue:"font-family",showTick:!1,drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"}]}}]},{title:l("LINE HEIGHT"),isPro:!1,parts:[{title:"Line height",type:"ButtonGroupComponent",targetModel:this,options:{bind:["lineHeight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"0.1",image:SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:"1",image:SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:"1.5",image:SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:"2",image:SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}]}}]},{title:l("STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{bind:["color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{selectedTitle:l("Size"),bind:["fontSize"],buttonStyle:"outline-secondary",showTick:!1,dropdownMenuClass:"w-100",classes:"col-4",componentClass:!0,buttonClasses:"btn-sm btn-outline-secondary",drops:[{title:"24",value:24},{title:"30",value:30},{title:"36",value:36},{title:"48",value:48},{title:"60",value:60}]}}]},{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]}]}]}}}}]),BaseRedactorBlock}();function HeadlineRedactorBlock_typeof(e){return(HeadlineRedactorBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HeadlineRedactorBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HeadlineRedactorBlock_possibleConstructorReturn(e,t){return!t||"object"!==HeadlineRedactorBlock_typeof(t)&&"function"!=typeof t?function HeadlineRedactorBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HeadlineRedactorBlock_getPrototypeOf(e){return(HeadlineRedactorBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HeadlineRedactorBlock_setPrototypeOf(e,t){return(HeadlineRedactorBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function HeadlineRedactorBlock(){return function HeadlineRedactorBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadlineRedactorBlock),HeadlineRedactorBlock_possibleConstructorReturn(this,HeadlineRedactorBlock_getPrototypeOf(HeadlineRedactorBlock).apply(this,arguments))}return function HeadlineRedactorBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HeadlineRedactorBlock_setPrototypeOf(e,t)}(HeadlineRedactorBlock,G),function HeadlineRedactorBlock_createClass(e,t,n){return t&&HeadlineRedactorBlock_defineProperties(e.prototype,t),n&&HeadlineRedactorBlock_defineProperties(e,n),e}(HeadlineRedactorBlock,[{key:"defaults",get:function get(){return{col:0,pos:0,type:"HeadlineBlock",text:"",hStyle:null,h1Color:null,h1FontFamily:null,h1FontSize:null,h2Color:null,h2FontFamily:null,h2FontSize:null,h3Color:null,h3FontFamily:null,h3FontSize:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,align:null,backgroundColor:null,lineHeight:null,linkColor:null,hideOnMobile:null,placeHolderInPlace:!0,is_modified:!1}}},{key:"eventName",get:function get(){return"HEADLINE"}},{key:"name",get:function get(){return"HeadlineBlock"}},{key:"settingTabs",get:function get(){var e=this;return{selectedTab:1,content:{hide:!0,accordions:[]},customize:{hideLabel:!0,accordions:[{title:l("Headline"),isOpen:!0,id:"headline",lockOpen:!1,controls:[{title:l("SIZE"),isPro:!1,parts:[{title:"SIZE",type:"ButtonGroupComponent",targetModel:this,options:{bind:["hStyle"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"h1",text:"H1",fontSize:"20px"},{value:"h2",text:"H2",fontSize:"16px"},{value:"h3",text:"H3",fontSize:"12px"}],callback:function callback(){C.a.publish(E.k.BUILD,e.settingsScheme)}}}]},{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",selectedTitle:l("Choose..."),bind:["fontFamily"],mapCustomStylesToValue:"font-family",showTick:!1,drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:[(this.view.hStyle||"h1")+"Color"]}},{title:"Size",type:"DropdownComponent",isPro:!1,targetModel:this,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:[this.view.hStyle+"FontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:[{title:"10",value:10},{title:"12",value:12},{title:"14",value:14},{title:"16",value:16},{title:"18",value:18},{title:"20",value:20},{title:"22",value:22},{title:"24",value:24},{title:"26",value:26},{title:"28",value:28},{title:"30",value:30},{title:"36",value:36},{title:"48",value:48},{title:"60",value:60}]}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("LINK COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{bind:["linkColor"]}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this,options:{buttonStyle:"outline-secondary",size:"sm",bind:["lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}],callback:function callback(){C.a.publish(E.p.EDIT.BLOCK),C.a.publish(E.p.EDIT.BLOCK)}}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["lineHeight"],min:100,max:300,step:10,callback:function callback(){C.a.publish(E.p.EDIT.BLOCK)}}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"headline"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"headline"))}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}}}]),HeadlineRedactorBlock}(),K=n(270),q=n(533),Y=n.n(q),X=n(189),J=n(186),Z=n(264),ee=n(53),te=n(66),ne=n(158),re=200;var oe=function baseDifference(e,t,n,r){var o=-1,i=J.a,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Object(ee.a)(t,Object(te.a)(n))),r?(i=Z.a,a=!1):t.length>=re&&(i=ne.a,a=!1,t=new X.a(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l},ie=n(85),ae=n(177),se=Object(ie.a)(function(e,t){return Object(ae.a)(e)?oe(e,t):[]});function HeadlineRedactorBlockView_typeof(e){return(HeadlineRedactorBlockView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HeadlineRedactorBlockView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HeadlineRedactorBlockView_possibleConstructorReturn(e,t){return!t||"object"!==HeadlineRedactorBlockView_typeof(t)&&"function"!=typeof t?function HeadlineRedactorBlockView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HeadlineRedactorBlockView_get(e,t,n){return(HeadlineRedactorBlockView_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function HeadlineRedactorBlockView_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HeadlineRedactorBlockView_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function HeadlineRedactorBlockView_getPrototypeOf(e){return(HeadlineRedactorBlockView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HeadlineRedactorBlockView_setPrototypeOf(e,t){return(HeadlineRedactorBlockView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function HeadlineRedactorBlockView(){return function HeadlineRedactorBlockView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadlineRedactorBlockView),HeadlineRedactorBlockView_possibleConstructorReturn(this,HeadlineRedactorBlockView_getPrototypeOf(HeadlineRedactorBlockView).apply(this,arguments))}return function HeadlineRedactorBlockView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HeadlineRedactorBlockView_setPrototypeOf(e,t)}(HeadlineRedactorBlockView,K["a"]),function HeadlineRedactorBlockView_createClass(e,t,n){return t&&HeadlineRedactorBlockView_defineProperties(e.prototype,t),n&&HeadlineRedactorBlockView_defineProperties(e,n),e}(HeadlineRedactorBlockView,[{key:"initialize",value:function initialize(){HeadlineRedactorBlockView_get(HeadlineRedactorBlockView_getPrototypeOf(HeadlineRedactorBlockView.prototype),"initialize",this).call(this),this.setTemplate(Y.a)}},{key:"getModelAttributes",value:function getModelAttributes(){var e=HeadlineRedactorBlockView_get(HeadlineRedactorBlockView_getPrototypeOf(HeadlineRedactorBlockView.prototype),"getModelAttributes",this).call(this),t=this.hStyle;return Object(O.a)({},e,{color:e[t+"Color"],fontSize:e[t+"FontSize"]})}},{key:"plugins",get:function get(){return["clips","clean_text"]}},{key:"buttons",get:function get(){return se(HeadlineRedactorBlockView_get(HeadlineRedactorBlockView_getPrototypeOf(HeadlineRedactorBlockView.prototype),"buttons",this),"lists")}},{key:"redactorOptions",get:function get(){return{enterKey:!1,breakline:!0}}},{key:"hStyle",get:function get(){return this.model.get("hStyle")||this.model.getAttributes("hStyle")}}]),HeadlineRedactorBlockView}();function ParagraphRedactorBlock_typeof(e){return(ParagraphRedactorBlock_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ParagraphRedactorBlock_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ParagraphRedactorBlock_possibleConstructorReturn(e,t){return!t||"object"!==ParagraphRedactorBlock_typeof(t)&&"function"!=typeof t?function ParagraphRedactorBlock_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ParagraphRedactorBlock_getPrototypeOf(e){return(ParagraphRedactorBlock_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ParagraphRedactorBlock_setPrototypeOf(e,t){return(ParagraphRedactorBlock_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function ParagraphRedactorBlock(){return function ParagraphRedactorBlock_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParagraphRedactorBlock),ParagraphRedactorBlock_possibleConstructorReturn(this,ParagraphRedactorBlock_getPrototypeOf(ParagraphRedactorBlock).apply(this,arguments))}return function ParagraphRedactorBlock_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ParagraphRedactorBlock_setPrototypeOf(e,t)}(ParagraphRedactorBlock,G),function ParagraphRedactorBlock_createClass(e,t,n){return t&&ParagraphRedactorBlock_defineProperties(e.prototype,t),n&&ParagraphRedactorBlock_defineProperties(e,n),e}(ParagraphRedactorBlock,[{key:"defaults",get:function get(){return{col:0,pos:0,type:"ParagraphBlock",text:"",color:null,fontFamily:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,align:null,fontSize:null,backgroundColor:null,lineHeight:null,linkColor:null,hideOnMobile:null,placeHolderInPlace:!0,is_modified:!1}}},{key:"eventName",get:function get(){return"PARAGRAPH"}},{key:"name",get:function get(){return"ParagraphBlock"}},{key:"currentTheme",get:function get(){return Builder.run("Email.model.theme.get","data.ParagraphBlock",{})}},{key:"loremIpsum",get:function get(){return"Lorem ipsum dolor sit amet, pro id munere legere epicuri. Vix tollit libris an, quas noluisse ex his. In vim eros delicata, mucius quaerendum eam ne. Mei suas constituam ne, est et tale senserit, accusata consetetur eum ei. Quo at facer dolore hendrerit, mel eu suas solum, minimum argumentum neglegentur an usu."}},{key:"settingTabs",get:function get(){return{selectedTab:1,content:{hide:!0,accordions:[]},customize:{hideLabel:!0,id:"paragraph",accordions:[{title:l("Paragraph settings"),isOpen:!0,id:"paragraph",controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",selectedTitle:l("Choose..."),bind:["fontFamily"],mapCustomStylesToValue:"font-family",showTick:!1,drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["fontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:[{title:"8",value:8},{title:"9",value:9},{title:"10",value:10},{title:"11",value:11},{title:"12",value:12},{title:"13",value:13},{title:"14",value:14},{title:"15",value:15},{title:"16",value:16},{title:"17",value:17},{title:"18",value:18},{title:"19",value:19},{title:"20",value:20},{title:"21",value:21},{title:"22",value:22},{title:"23",value:23},{title:"24",value:24},{title:"25",value:25}]}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"},{value:"justify",image:window.SENDER_ENDPOINT+"email-editor/static/img/justify-align.svg"}]}}]},{title:l("LINK COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{bind:["linkColor"]}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this,options:{buttonStyle:"outline-secondary",size:"sm",bind:["lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}],callback:function callback(){C.a.publish(E.p.EDIT.BLOCK)}}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["lineHeight"],min:100,max:300,step:10,callback:function callback(){C.a.publish(E.p.EDIT.BLOCK)}}}]},{title:"",isPro:!1,parts:[{title:l("Apply to all"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Apply to all"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.applyToAll,this,Object(s.a)(this.getAccordionBindsById,this,"paragraph"))}},{title:l("Set as default"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Set as default"),className:"btn-sm btn-secondary",bind:[""],onClick:Object(s.a)(this.makeDefault,this,Object(s.a)(this.getAccordionBindsById,this,"paragraph"))}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}}}]),ParagraphRedactorBlock}(),ue=n(534),de=n.n(ue);function ParagraphRedactorBlockView_typeof(e){return(ParagraphRedactorBlockView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ParagraphRedactorBlockView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ParagraphRedactorBlockView_possibleConstructorReturn(e,t){return!t||"object"!==ParagraphRedactorBlockView_typeof(t)&&"function"!=typeof t?function ParagraphRedactorBlockView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ParagraphRedactorBlockView_get(e,t,n){return(ParagraphRedactorBlockView_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function ParagraphRedactorBlockView_superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ParagraphRedactorBlockView_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ParagraphRedactorBlockView_getPrototypeOf(e){return(ParagraphRedactorBlockView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ParagraphRedactorBlockView_setPrototypeOf(e,t){return(ParagraphRedactorBlockView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function ParagraphRedactorBlockView(){return function ParagraphRedactorBlockView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParagraphRedactorBlockView),ParagraphRedactorBlockView_possibleConstructorReturn(this,ParagraphRedactorBlockView_getPrototypeOf(ParagraphRedactorBlockView).apply(this,arguments))}return function ParagraphRedactorBlockView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ParagraphRedactorBlockView_setPrototypeOf(e,t)}(ParagraphRedactorBlockView,K["a"]),function ParagraphRedactorBlockView_createClass(e,t,n){return t&&ParagraphRedactorBlockView_defineProperties(e.prototype,t),n&&ParagraphRedactorBlockView_defineProperties(e,n),e}(ParagraphRedactorBlockView,[{key:"initialize",value:function initialize(){this.setTemplate(de.a),ParagraphRedactorBlockView_get(ParagraphRedactorBlockView_getPrototypeOf(ParagraphRedactorBlockView.prototype),"initialize",this).call(this)}}]),ParagraphRedactorBlockView}(),pe=n(535),he=n(540),ge=n(744),me=n(93),Ae=0;var ve=function uniqueId(e){var t=++Ae;return Object(me.a)(e)+t},ye=n(282);function blockCollection_typeof(e){return(blockCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function blockCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function blockCollection_possibleConstructorReturn(e,t){return!t||"object"!==blockCollection_typeof(t)&&"function"!=typeof t?function blockCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function blockCollection_getPrototypeOf(e){return(blockCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function blockCollection_setPrototypeOf(e,t){return(blockCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var be={HeadlineRedactorBlock:{title:"Headline",model:W,view:le},ParagraphRedactorBlock:{title:"Paragraph",model:ce,view:fe},ImageBlock:{title:"Image",model:c,view:k},ButtonGroup:{title:"Button",model:$,view:V.a},SocialBlock:{title:"Social",model:A,view:I},SeparatorBlock:{title:"Spacer",model:v,view:M},VideoBlock:{title:"Video",model:y.a,view:j},HtmlBlock:{title:"HTML",isPro:!0,model:Q.a,view:z.a},ProductBlock:{title:"Product Block",isPro:!1,model:pe.a,view:he.a}},we=function(e){function BlockCollection(){return function blockCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlockCollection),blockCollection_possibleConstructorReturn(this,blockCollection_getPrototypeOf(BlockCollection).apply(this,arguments))}return function blockCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&blockCollection_setPrototypeOf(e,t)}(BlockCollection,b["a"]),function blockCollection_createClass(e,t,n){return t&&blockCollection_defineProperties(e.prototype,t),n&&blockCollection_defineProperties(e,n),e}(BlockCollection,[{key:"model",value:function model(e,t){if(!Object(ge.a)(e,"type")||!Object(ge.a)(be,e.type))return console.error("Model missing type attribute"),!1;var n=new be[e.type].model(e,t);return null===n.id&&n.set("id",ve(e.type+Object(ye.a)())),n.view=new be[e.type].view({model:n}),n}},{key:"initialize",value:function initialize(){this.listenTo(this,"add",this.updatePositions),this.listenTo(this,"remove",this.updatePositions)}},{key:"updatePositions",value:function updatePositions(){var e=this,t=[];return this.each(function(n){t.push({blockId:n.id,pos:e.indexOf(n)}),n.get("pos")!==e.indexOf(n)&&n.set({pos:e.indexOf(n)},{silent:!0,autosave:!0})}),this.sort(),this}},{key:"comparator",get:function get(){return"pos"}}],[{key:"getAvailableBlocks",value:function getAvailableBlocks(){return be}}]),BlockCollection}();t.a=we},function(e,t,n){"use strict";var r=n(13),o=n(567),i=n.n(o),a=n(568),s=n.n(a),l=n(42),c=n(11),u=n(266),d=Object(u.a)("floor"),f=n(739);n(709),n(710);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function SliderComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SliderComponent),_possibleConstructorReturn(this,_getPrototypeOf(SliderComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SliderComponent,l["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SliderComponent,[{key:"initialize",value:function initialize(e){var t=this;this.options=e.options,!0===this.options.syncBind&&this.listenTo(this.model,"change:"+Object(c.a)(this,"options.bind.0"),function(e,n){t.render()})}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){var t=d(e[0]);return this.options.units&&(t+=this.options.units),t}},{key:"updateSetting",value:function updateSetting(e){var t=d(e[0]);return this.$el.find(".sets-slider-val").text(t),this.options.units&&(t+=this.options.units),this.setNewData(e),this}},{key:"render",value:function render(){var e=this;this.delegateEvents(),this.options.value=Object(f.a)(this.getModelValue()),this.$el.html(i()(this.options)),this.slider=s.a.create(this.$(".sender-slider")[0],{tooltips:[this.options.showTooltip||!1],step:this.options.step,start:[this.options.value],range:{min:this.options.min,max:this.options.max}});var t=this.$el.find("#slider-input");return t.on("input",function(){e.slider.set(t.val())}),this.slider.on("update",function(n){t.val(d(e.slider.get())),e.updateSetting(n)}),this}},{key:"className",get:function get(){return"col"}},{key:"events",get:function get(){return{"input .sender-slider":"updateSetting"}}}]),SliderComponent}(),h=n(569),g=n(571),m=n.n(g),A=n(744);function inputComponent_typeof(e){return(inputComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function inputComponent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function inputComponent_possibleConstructorReturn(e,t){return!t||"object"!==inputComponent_typeof(t)&&"function"!=typeof t?function inputComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function inputComponent_getPrototypeOf(e){return(inputComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function inputComponent_setPrototypeOf(e,t){return(inputComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function InputComponent(){return function inputComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InputComponent),inputComponent_possibleConstructorReturn(this,inputComponent_getPrototypeOf(InputComponent).apply(this,arguments))}return function inputComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&inputComponent_setPrototypeOf(e,t)}(InputComponent,l["a"]),function inputComponent_createClass(e,t,n){return t&&inputComponent_defineProperties(e.prototype,t),n&&inputComponent_defineProperties(e,n),e}(InputComponent,[{key:"initialize",value:function initialize(e){this.options=e.options}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){var t=this.$(e.currentTarget).val();return this.options.autoHttp&&t.length>0&&t.indexOf("http")<0&&(t=this.options.autoHttp+t),t}},{key:"updateSetting",value:function updateSetting(e){return this.setNewData(e),this}},{key:"render",value:function render(){var e="input";Object(A.a)(this.options,"eventType")&&(e=this.options.eventType);var t=function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e+" .sets-input","updateSetting");return this.delegateEvents(t),this.options.value||(this.options.value=this.getModelValue()),this.el.innerHTML=this.templateHbs(this.options),this}},{key:"className",get:function get(){return"col-12"}},{key:"templateHbs",get:function get(){return m.a}}]),InputComponent}(),y=n(572),b=n.n(y),w=n(29);function inputPillComponent_typeof(e){return(inputPillComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function inputPillComponent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function inputPillComponent_possibleConstructorReturn(e,t){return!t||"object"!==inputPillComponent_typeof(t)&&"function"!=typeof t?function inputPillComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function inputPillComponent_getPrototypeOf(e){return(inputPillComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function inputPillComponent_setPrototypeOf(e,t){return(inputPillComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function InputPillComponent(){return function inputPillComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InputPillComponent),inputPillComponent_possibleConstructorReturn(this,inputPillComponent_getPrototypeOf(InputPillComponent).apply(this,arguments))}return function inputPillComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&inputPillComponent_setPrototypeOf(e,t)}(InputPillComponent,l["a"]),function inputPillComponent_createClass(e,t,n){return t&&inputPillComponent_defineProperties(e.prototype,t),n&&inputPillComponent_defineProperties(e,n),e}(InputPillComponent,[{key:"initialize",value:function initialize(e){var t=this;this.options={min:0,max:80,step:5},Object(w.a)(e.options,function(n,r){!r in e.options&&(e.options[r]=t.options[r])}),this.options=e.options}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"className",value:function className(){return"col"}},{key:"getUserInputValue",value:function getUserInputValue(e){var t=Object(f.a)(this.$el.find(".pill-input-field").val());return this.$el.find(".pill-input-field").val(t),this.handleButtonStates(t),t+=this.options.units||""}},{key:"updateSetting",value:function updateSetting(e){var t=this,n=Object(f.a)(this.$el.find(".pill-input-field").val());return this.options.min>n||n>this.options.max?this:(this.$el.find(".pill-input-field").val(n),this.handleButtonStates(n),this.options.lockWith&&Object(w.a)(this.options.lockWith,function(e){t.setNewData(e,n)}),this.setNewData(e),this)}},{key:"render",value:function render(){return this.delegateEvents(null),this.options.value=Object(f.a)(this.getModelValue()),this.$el.html(b()(this.options)),this.options.wrapperClass&&this.$el.addClass(this.options.wrapperClass),this.handleButtonStates(this.options.value),this}},{key:"addStep",value:function addStep(e){var t=Object(f.a)(this.$el.find(".pill-input-field").val());return(t+=Object(f.a)(this.options.step))>this.options.max?this:(this.$el.find(".pill-input-field").val(t),this.updateSetting(e),this)}},{key:"subtractStep",value:function subtractStep(e){var t=Object(f.a)(this.$el.find(".pill-input-field").val());return(t-=Object(f.a)(this.options.step))<this.options.min?this:(this.$el.find(".pill-input-field").val(t),this.updateSetting(e),this)}},{key:"handleButtonStates",value:function handleButtonStates(e){e>this.options.min&&this.enableButton(".pill-input-subtract"),e<this.options.max&&this.enableButton(".pill-input-add"),e===this.options.min&&this.disableButton(".pill-input-subtract"),e===this.options.max&&this.disableButton(".pill-input-add")}},{key:"enableButton",value:function enableButton(e){this.$el.find(e).removeAttr("disabled")}},{key:"disableButton",value:function disableButton(e){this.$el.find(e).attr("disabled",!0)}},{key:"className",get:function get(){return"col"}},{key:"events",get:function get(){return{"input .pill-input-field":"updateSetting","click .pill-input-add":"addStep","click .pill-input-subtract":"subtractStep"}}}]),InputPillComponent}(),E=n(573),C=n.n(E),S=n(244),T=n(258);var x=function castSlice(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Object(T.a)(e,t,n)},O=n(183),k=n(260),B=n(54),P=n(34),I="[object RegExp]";var R=function baseIsRegExp(e){return Object(P.a)(e)&&Object(B.a)(e)==I},L=n(66),M=n(87),D=M.a&&M.a.isRegExp,N=D?Object(L.a)(D):R;var F=function asciiToArray(e){return e.split("")},U="[\\ud800-\\udfff]",H="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",j="\\ud83c[\\udffb-\\udfff]",Q="[^\\ud800-\\udfff]",z="(?:\\ud83c[\\udde6-\\uddff]){2}",$="[\\ud800-\\udbff][\\udc00-\\udfff]",V="(?:"+H+"|"+j+")"+"?",G="[\\ufe0e\\ufe0f]?"+V+("(?:\\u200d(?:"+[Q,z,$].join("|")+")[\\ufe0e\\ufe0f]?"+V+")*"),W="(?:"+[Q+H+"?",H,z,$,U].join("|")+")",K=RegExp(j+"(?="+j+")|"+W+G,"g");var q=function unicodeToArray(e){return e.match(K)||[]};var Y=function stringToArray(e){return Object(O.a)(e)?q(e):F(e)},X=n(93),J=4294967295;var Z=function split(e,t,n){return n&&"number"!=typeof n&&Object(k.a)(e,t,n)&&(t=n=void 0),(n=void 0===n?J:n>>>0)?(e=Object(X.a)(e))&&("string"==typeof t||null!=t&&!N(t))&&!(t=Object(S.a)(t))&&Object(O.a)(e)?x(Y(e),0,n):e.split(t,n):[]};function imagePreviewComponent_typeof(e){return(imagePreviewComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function imagePreviewComponent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function imagePreviewComponent_possibleConstructorReturn(e,t){return!t||"object"!==imagePreviewComponent_typeof(t)&&"function"!=typeof t?function imagePreviewComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=imagePreviewComponent_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function imagePreviewComponent_getPrototypeOf(e){return(imagePreviewComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function imagePreviewComponent_setPrototypeOf(e,t){return(imagePreviewComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function ImagePreviewComponent(){return function imagePreviewComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ImagePreviewComponent),imagePreviewComponent_possibleConstructorReturn(this,imagePreviewComponent_getPrototypeOf(ImagePreviewComponent).apply(this,arguments))}return function imagePreviewComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&imagePreviewComponent_setPrototypeOf(e,t)}(ImagePreviewComponent,l["a"]),function imagePreviewComponent_createClass(e,t,n){return t&&imagePreviewComponent_defineProperties(e.prototype,t),n&&imagePreviewComponent_defineProperties(e,n),e}(ImagePreviewComponent,[{key:"getUserInputValue",value:function getUserInputValue(){return this.options.placeholder||""}},{key:"getBind",value:function getBind(){return this.options.bind}},{key:"setNewData",value:function setNewData(e){e.stopPropagation(),_get(imagePreviewComponent_getPrototypeOf(ImagePreviewComponent.prototype),"setNewData",this).call(this,e),"function"==typeof this.options.onRemove&&this.options.onRemove.call(this.model),this.render()}},{key:"setImage",value:function setImage(){"function"==typeof this.options.imageClick&&this.options.imageClick.call(this.model)}},{key:"initialize",value:function initialize(e){this.options=e.options;var t=Z(this.options.bind[0],".")[0];this.listenTo(this.model,"change:".concat(t),this.render)}},{key:"render",value:function render(){return this.options.hasImage=!!this.model.get(this.options.bind[0]),this.options.image=this.model.get(this.options.bind[0])||this.options.placeholder||SENDER_ENDPOINT+"email-editor/static/img/noimage.jpg",this.delegateEvents(null),this.$el.html(C()(this.options)),this}},{key:"className",get:function get(){return Object(c.a)(this.options,"className","col-6")}},{key:"events",get:function get(){return{"click .icon-remove-image":"setNewData","click .img-thumbnail":"setImage"}}}]),ImagePreviewComponent}(),te=n(227),ne=n(574),re=n.n(ne),oe=n(285);function buttonComponent_typeof(e){return(buttonComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function buttonComponent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function buttonComponent_possibleConstructorReturn(e,t){return!t||"object"!==buttonComponent_typeof(t)&&"function"!=typeof t?function buttonComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function buttonComponent_getPrototypeOf(e){return(buttonComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function buttonComponent_setPrototypeOf(e,t){return(buttonComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function ButtonComponent(){return function buttonComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonComponent),buttonComponent_possibleConstructorReturn(this,buttonComponent_getPrototypeOf(ButtonComponent).apply(this,arguments))}return function buttonComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&buttonComponent_setPrototypeOf(e,t)}(ButtonComponent,te["a"]),function buttonComponent_createClass(e,t,n){return t&&buttonComponent_defineProperties(e.prototype,t),n&&buttonComponent_defineProperties(e,n),e}(ButtonComponent,[{key:"initialize",value:function initialize(e){this.options=e.options}},{key:"render",value:function render(){return this.delegateEvents(),this.$el.html(re()(this.options)),this}},{key:"className",get:function get(){return Object(c.a)(this.options,"className","d-flex align-items-center col justify-content-center")}},{key:"events",get:function get(){var e=this;return{"click .se-btn-component-click":function clickSeBtnComponentClick(){Object(oe.a)(e.options,"onClick")}}}}]),ButtonComponent}(),ae=n(575),se=n(577),le=n(579),ce=n(583),ue=n.n(ce),de=n(584),fe=n(588),pe=n.n(fe);function TextareaComponent_typeof(e){return(TextareaComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TextareaComponent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TextareaComponent_possibleConstructorReturn(e,t){return!t||"object"!==TextareaComponent_typeof(t)&&"function"!=typeof t?function TextareaComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TextareaComponent_getPrototypeOf(e){return(TextareaComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TextareaComponent_setPrototypeOf(e,t){return(TextareaComponent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var he=function(e){function TextareaComponent(){return function TextareaComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextareaComponent),TextareaComponent_possibleConstructorReturn(this,TextareaComponent_getPrototypeOf(TextareaComponent).apply(this,arguments))}return function TextareaComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TextareaComponent_setPrototypeOf(e,t)}(TextareaComponent,v),function TextareaComponent_createClass(e,t,n){return t&&TextareaComponent_defineProperties(e.prototype,t),n&&TextareaComponent_defineProperties(e,n),e}(TextareaComponent,[{key:"templateHbs",get:function get(){return pe.a}}]),TextareaComponent}();function SettingControlView_typeof(e){return(SettingControlView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SettingControlView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SettingControlView_possibleConstructorReturn(e,t){return!t||"object"!==SettingControlView_typeof(t)&&"function"!=typeof t?function SettingControlView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SettingControlView_getPrototypeOf(e){return(SettingControlView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SettingControlView_setPrototypeOf(e,t){return(SettingControlView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ge={SliderComponent:p,ColorPickerComponent:h.a,InputComponent:v,InputPillComponent:_,ImagePreviewComponent:ee,ButtonComponent:ie,ButtonGroupComponent:ae.a,DropdownComponent:se.a,SortingComponent:le.a,ButtonGroupSortingComponent:de.a,TextareaComponent:he},me=function(e){function SettingControlView(){return function SettingControlView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SettingControlView),SettingControlView_possibleConstructorReturn(this,SettingControlView_getPrototypeOf(SettingControlView).apply(this,arguments))}return function SettingControlView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SettingControlView_setPrototypeOf(e,t)}(SettingControlView,r["a"]),function SettingControlView_createClass(e,t,n){return t&&SettingControlView_defineProperties(e.prototype,t),n&&SettingControlView_defineProperties(e,n),e}(SettingControlView,[{key:"initialize",value:function initialize(e){this.data=Object(c.a)(e,"data"),this.componentsList=[],this.listenTo(this.model,"settings:clear",this.cleanup)}},{key:"cleanup",value:function cleanup(){return Object(w.a)(this.componentsList,function(e){e.remove()}),this.componentsList=[],this.remove(),this}},{key:"render",value:function render(){var e=this;this.$el.html(ue()(this.data));var t=[];return Object(w.a)(this.data.parts,function(n){if((!Object(c.a)(n,"isPro",!1)||Builder.isExpertModeEnabled())&&(!Object(c.a)(n,"nonPro",!1)||!Builder.isExpertModeEnabled())){var r;try{r=new ge[n.type]({model:n.targetModel,options:n.options})}catch(e){return void console.error("Could not initialize component",n)}e.componentsList.push(r),t.push(r.render().el),r=null}}),this.$el.find(".se-elements-container").html(t),t=[],this}},{key:"className",get:function get(){return"SettingControlView "}}]),SettingControlView}();t.a=me},function(e,t,n){"use strict";var r=n(101),o=n(173),i=n(96);var a=function assignMergeValue(e,t,n){(void 0===n||Object(i.a)(e[t],n))&&(void 0!==n||t in e)||Object(o.a)(e,t,n)},s=n(277),l=n(249),c=n(252),u=n(97),d=n(250),f=n(94),p=n(17),h=n(177),g=n(91),m=n(100),A=n(23),v=n(256),y=n(131);var b=function safeGet(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},w=n(84),_=n(130);var E=function toPlainObject(e){return Object(w.a)(e,Object(_.a)(e))};var C=function baseMergeDeep(e,t,n,r,o,i,s){var w=b(e,n),_=b(t,n),C=s.get(_);if(C)a(e,n,C);else{var S=i?i(w,_,n+"",e,t,s):void 0,T=void 0===S;if(T){var x=Object(p.a)(_),O=!x&&Object(g.a)(_),k=!x&&!O&&Object(y.a)(_);S=_,x||O||k?Object(p.a)(w)?S=w:Object(h.a)(w)?S=Object(u.a)(w):O?(T=!1,S=Object(l.a)(_,!0)):k?(T=!1,S=Object(c.a)(_,!0)):S=[]:Object(v.a)(_)||Object(f.a)(_)?(S=w,Object(f.a)(w)?S=E(w):Object(A.a)(w)&&!Object(m.a)(w)||(S=Object(d.a)(_))):T=!1}T&&(s.set(_,S),o(S,_,r,i,s),s.delete(_)),a(e,n,S)}};t.a=function baseMerge(e,t,n,o,i){e!==t&&Object(s.a)(t,function(s,l){if(i||(i=new r.a),Object(A.a)(s))C(e,t,l,n,baseMerge,o,i);else{var c=o?o(b(e,l),s,l+"",e,t,i):void 0;void 0===c&&(c=s),a(e,l,c)}},_.a)}},function(e,t,n){"use strict";var r=n(101),o=n(185),i=1,a=2;var s=function baseIsMatch(e,t,n,s){var l=n.length,c=l,u=!s;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){var f=(d=n[l])[0],p=e[f],h=d[1];if(u&&d[2]){if(void 0===p&&!(f in e))return!1}else{var g=new r.a;if(s)var m=s(p,h,f,e,t,g);if(!(void 0===m?Object(o.a)(h,p,i|a,s,g):m))return!1}}return!0},l=n(242),c=n(80);var u=function getMatchData(e){for(var t=Object(c.a)(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Object(l.a)(o)]}return t},d=n(243);t.a=function baseMatches(e){var t=u(e);return 1==t.length&&t[0][2]?Object(d.a)(t[0][0],t[0][1]):function(n){return n===e||s(n,e,t)}}},function(e,t,n){"use strict";var r=function createBaseFor(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();t.a=r},function(e,t,n){"use strict";var r=function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},o=n(94),i=n(17),a=n(91),s=n(95),l=n(131),c=Object.prototype.hasOwnProperty;t.a=function arrayLikeKeys(e,t){var n=Object(i.a)(e),u=!n&&Object(o.a)(e),d=!n&&!u&&Object(a.a)(e),f=!n&&!u&&!d&&Object(l.a)(e),p=n||u||d||f,h=p?r(e.length,String):[],g=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(s.a)(m,g))||h.push(m);return h}},function(e,t,n){"use strict";var r=function baseHasIn(e,t){return null!=e&&t in Object(e)},o=n(245);t.a=function hasIn(e,t){return null!=e&&Object(o.a)(e,t,r)}},function(e,t,n){"use strict";var r=n(124),o=n(49),i=n(94),a=n(17),s=o.a?o.a.isConcatSpreadable:void 0;var l=function isFlattenable(e){return Object(a.a)(e)||Object(i.a)(e)||!!(s&&e&&e[s])};t.a=function baseFlatten(e,t,n,o,i){var a=-1,s=e.length;for(n||(n=l),i||(i=[]);++a<s;){var c=e[a];t>0&&n(c)?t>1?baseFlatten(c,t-1,n,o,i):Object(r.a)(i,c):o||(i[i.length]=c)}return i}},function(e,t,n){"use strict";var r=n(54),o=n(17),i=n(34),a="[object String]";t.a=function isString(e){return"string"==typeof e||!Object(o.a)(e)&&Object(i.a)(e)&&Object(r.a)(e)==a}},function(e,t,n){"use strict";var r=n(20);t.a=function(){return r.a.Date.now()}},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a;return'<tr class="dragMe">\n    <td class="internal-top-level-td">\n        '+(null!=(i="function"==typeof(a=null!=(a=n.code||(null!=t?t.code:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"code",hash:{},data:o}):a)?i:"")+"\n    </td>\n</tr>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="button-resizer" style="width: 30px">\n<i class="fas fa-arrows-alt-h" style="margin-left:-8px;"></i>\n</div>'},useData:!0})},function(e,t,n){"use strict";var r=n(57),o=n(100),i=n(56);t.a=function result(e,t,n){var a=-1,s=(t=Object(r.a)(t,e)).length;for(s||(s=1,e=void 0);++a<s;){var l=null==e?void 0:e[Object(i.a)(t[a])];void 0===l&&(a=s,l=n),e=Object(o.a)(l)?l.call(e):l}return e}},function(e,t,n){var r=n(2);r(r.P,"Array",{copyWithin:n(198)}),n(60)("copyWithin")},function(e,t,n){e.exports=n(102)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(2),o=n(38)(4);r(r.P+r.F*!n(39)([].every,!0),"Array",{every:function every(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(8),o=n(104),i=n(12)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(2);r(r.P,"Array",{fill:n(134)}),n(60)("fill")},function(e,t,n){"use strict";var r=n(2),o=n(38)(2);r(r.P+r.F*!n(39)([].filter,!0),"Array",{filter:function filter(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(38)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function find(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(60)("find")},function(e,t,n){"use strict";var r=n(2),o=n(38)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function findIndex(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(60)(i)},function(e,t,n){"use strict";var r=n(2),o=n(295),i=n(19),a=n(16),s=n(32),l=n(199);r(r.P,"Array",{flatMap:function flatMap(e){var t,n,r=i(this);return s(e),t=a(r.length),n=l(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(60)("flatMap")},function(e,t,n){"use strict";var r=n(104),o=n(8),i=n(16),a=n(37),s=n(12)("isConcatSpreadable");e.exports=function flattenIntoArray(e,t,n,l,c,u,d,f){for(var p,h,g=c,m=0,A=!!d&&a(d,f,3);m<l;){if(m in n){if(p=A?A(n[m],m,t):n[m],h=!1,o(p)&&(h=void 0!==(h=p[s])?!!h:r(p)),h&&u>0)g=flattenIntoArray(e,t,p,i(p.length),g,u-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},function(e,t,n){"use strict";var r=n(2),o=n(38)(0),i=n(39)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function forEach(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(37),o=n(2),i=n(19),a=n(200),s=n(135),l=n(16),c=n(136),u=n(137);o(o.S+o.F*!n(105)(function(e){Array.from(e)}),"Array",{from:function from(e){var t,n,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,A=0,v=u(f);if(m&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==v||p==Array&&s(v))for(n=new p(t=l(f.length));t>A;A++)c(n,A,m?g(f[A],A):f[A]);else for(d=v.call(f),n=new p;!(o=d.next()).done;A++)c(n,A,m?a(d,g,[o.value,A],!0):o.value);return n.length=A,n}})},function(e,t,n){"use strict";var r=n(2),o=n(106)(!0);r(r.P,"Array",{includes:function includes(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(60)("includes")},function(e,t,n){"use strict";var r=n(2),o=n(106)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(39)(i)),"Array",{indexOf:function indexOf(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(104)})},function(e,t,n){"use strict";var r=n(62),o=n(58),i=n(74),a={};n(30)(a,n(12)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(2),o=n(35),i=n(44),a=n(16),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(39)(s)),"Array",{lastIndexOf:function lastIndexOf(e){if(l)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(2),o=n(38)(1);r(r.P+r.F*!n(39)([].map,!0),"Array",{map:function map(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(136);r(r.S+r.F*n(10)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(2),o=n(205);r(r.P+r.F*!n(39)([].reduce,!0),"Array",{reduce:function reduce(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(2),o=n(205);r(r.P+r.F*!n(39)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(2),o=n(38)(3);r(r.P+r.F*!n(39)([].some,!0),"Array",{some:function some(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),o=n(32),i=n(19),a=n(10),s=[].sort,l=[1,2,3];r(r.P+r.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(39)(s)),"Array",{sort:function sort(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},function(e,t,n){n(75)("Array")},function(e,t,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(2),o=n(312);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){"use strict";var r=n(10),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function toISOString(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(36);r(r.P+r.F*n(10)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(12)("toPrimitive"),o=Date.prototype;r in o||n(30)(o,r,n(315))},function(e,t,n){"use strict";var r=n(9),o=n(36);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(26)(r,"toString",function toString(){var e=i.call(this);return e==e?o.call(this):"Invalid Date"})},function(e,t,n){var r=n(2);r(r.P,"Function",{bind:n(206)})},function(e,t,n){"use strict";var r=n(8),o=n(45),i=n(12)("hasInstance"),a=Function.prototype;i in a||n(14).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(14).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(15)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(208),o=n(64);e.exports=n(108)("Map",function(e){return function Map(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function set(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(2),o=n(209),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(2),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(e,t,n){var r=n(2),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(2),o=n(144);r(r.S,"Math",{cbrt:function cbrt(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(2),o=Math.exp;r(r.S,"Math",{cosh:function cosh(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(2),o=n(145);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(2);r(r.S,"Math",{fround:n(329)})},function(e,t,n){var r=n(144),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),l=o(2,-126);e.exports=Math.fround||function fround(e){var t,n,o=Math.abs(e),c=r(e);return o<l?c*(o/l/a+1/i-1/i)*l*a:(n=(t=(1+a/i)*o)-(t-o))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(2),o=Math.abs;r(r.S,"Math",{hypot:function hypot(e,t){for(var n,r,i=0,a=0,s=arguments.length,l=0;a<s;)l<(n=o(arguments[a++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(i)}})},function(e,t,n){var r=n(2),o=Math.imul;r(r.S+r.F*n(10)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function imul(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log1p:n(209)})},function(e,t,n){var r=n(2);r(r.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{sign:n(144)})},function(e,t,n){var r=n(2),o=n(145),i=Math.exp;r(r.S+r.F*n(10)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(2),o=n(145),i=Math.exp;r(r.S,"Math",{tanh:function tanh(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(2);r(r.S,"Math",{trunc:function trunc(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(7),o=n(31),i=n(61),a=n(142),s=n(36),l=n(10),c=n(65).f,u=n(33).f,d=n(14).f,f=n(78).trim,p=r.Number,h=p,g=p.prototype,m="Number"==i(n(62)(g)),A="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=A?t.trim():f(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>o)return NaN;return parseInt(l,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function Number(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?l(function(){g.valueOf.call(n)}):"Number"!=i(n))?a(new h(v(t)),n,p):v(t)};for(var y,b=n(15)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)o(h,y=b[w])&&!o(p,y)&&d(p,y,u(h,y));p.prototype=g,g.constructor=p,n(26)(r,"Number",p)}},function(e,t,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(2),o=n(7).isFinite;r(r.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(2);r(r.S,"Number",{isInteger:n(210)})},function(e,t,n){var r=n(2);r(r.S,"Number",{isNaN:function isNaN(e){return e!=e}})},function(e,t,n){var r=n(2),o=n(210),i=Math.abs;r(r.S,"Number",{isSafeInteger:function isSafeInteger(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(2),o=n(348);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(7).parseFloat,o=n(78).trim;e.exports=1/r(n(146)+"-0")!=-1/0?function parseFloat(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(2),o=n(350);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(7).parseInt,o=n(78).trim,i=n(146),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function parseInt(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(211)})},function(e,t,n){var r=n(2);r(r.S,"Object",{create:n(62)})},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(32),a=n(14);n(15)&&r(r.P+n(110),"Object",{__defineGetter__:function __defineGetter__(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(32),a=n(14);n(15)&&r(r.P+n(110),"Object",{__defineSetter__:function __defineSetter__(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(15),"Object",{defineProperty:n(14).f})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(15),"Object",{defineProperties:n(202)})},function(e,t,n){var r=n(2),o=n(212)(!0);r(r.S,"Object",{entries:function entries(e){return o(e)}})},function(e,t,n){var r=n(8),o=n(52).onFreeze;n(40)("freeze",function(e){return function freeze(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(35),o=n(33).f;n(40)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(2),o=n(213),i=n(35),a=n(33),s=n(136);r(r.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,n,r=i(e),l=a.f,c=o(r),u={},d=0;c.length>d;)void 0!==(n=l(r,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){n(40)("getOwnPropertyNames",function(){return n(214).f})},function(e,t,n){var r=n(19),o=n(45);n(40)("getPrototypeOf",function(){return function getPrototypeOf(e){return o(r(e))}})},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(36),a=n(45),s=n(33).f;n(15)&&r(r.P+n(110),"Object",{__lookupGetter__:function __lookupGetter__(e){var t,n=o(this),r=i(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(2),o=n(19),i=n(36),a=n(45),s=n(33).f;n(15)&&r(r.P+n(110),"Object",{__lookupSetter__:function __lookupSetter__(e){var t,n=o(this),r=i(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(8),o=n(52).onFreeze;n(40)("preventExtensions",function(e){return function preventExtensions(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){"use strict";var r=n(88),o={};o[n(12)("toStringTag")]="z",o+""!="[object z]"&&n(26)(Object.prototype,"toString",function toString(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(2);r(r.S,"Object",{is:n(215)})},function(e,t,n){var r=n(8);n(40)("isFrozen",function(e){return function isFrozen(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8);n(40)("isSealed",function(e){return function isSealed(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8);n(40)("isExtensible",function(e){return function isExtensible(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(19),o=n(63);n(40)("keys",function(){return function keys(e){return o(r(e))}})},function(e,t,n){var r=n(8),o=n(52).onFreeze;n(40)("seal",function(e){return function seal(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(143).set})},function(e,t,n){var r=n(2),o=n(212)(!1);r(r.S,"Object",{values:function values(e){return o(e)}})},function(e,t,n){"use strict";var r,o,i,a,s=n(51),l=n(7),c=n(37),u=n(88),d=n(2),f=n(8),p=n(32),h=n(77),g=n(107),m=n(90),A=n(147).set,v=n(376)(),y=n(216),b=n(377),w=n(111),_=n(217),E=l.TypeError,C=l.process,S=C&&C.versions,T=S&&S.v8||"",x=l.Promise,O="process"==u(C),k=function(){},B=o=y.f,P=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(12)("species")]=function(e){e(k,k)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(o||(2==e._h&&D(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(i=I(n))?i.call(n,l,c):l(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){A.call(l,function(){var t,n,r,o=e._v,i=M(e);if(i&&(t=b(function(){O?C.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=O||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){A.call(l,function(){var t;O?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=I(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(N,r,1))}catch(e){N.call(r,e)}}):(n._v=e,n._s=1,R(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};P||(x=function Promise(e){h(this,x,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(r=function Promise(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(76)(x.prototype,{then:function then(e,t){var n=B(m(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(N,e,1)},y.f=B=function(e){return e===x||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!P,{Promise:x}),n(74)(x,"Promise"),n(75)("Promise"),a=n(50).Promise,d(d.S+d.F*!P,"Promise",{reject:function reject(e){var t=B(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function resolve(e){return _(s&&this===a?x:this,e)}}),d(d.S+d.F*!(P&&n(105)(function(e){x.all(e).catch(k)})),"Promise",{all:function all(e){var t=this,n=B(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,a=1;g(e,!1,function(e){var s=i++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function race(e){var t=this,n=B(t),r=n.reject,o=b(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(7),o=n(147).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(61)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(l&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){o.call(r,c)};else{var d=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(2),o=n(50),i=n(7),a=n(90),s=n(217);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(2),o=n(32),i=n(9),a=(n(7).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(10)(function(){a(function(){})}),"Reflect",{apply:function apply(e,t,n){var r=o(e),l=i(n);return a?a(r,t,l):s.call(r,t,l)}})},function(e,t,n){var r=n(2),o=n(62),i=n(32),a=n(9),s=n(8),l=n(10),c=n(206),u=(n(7).Reflect||{}).construct,d=l(function(){function F(){}return!(u(function(){},[],F)instanceof F)}),f=!l(function(){u(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function construct(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,p=o(s(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(14),o=n(2),i=n(9),a=n(36);o(o.S+o.F*n(10)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(2),o=n(33).f,i=n(9);r(r.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(33),o=n(45),i=n(31),a=n(2),s=n(8),l=n(9);a(a.S,"Reflect",{get:function get(e,t){var n,a,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=r.f(e,t))?i(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(a=o(e))?get(a,t,c):void 0}})},function(e,t,n){var r=n(33),o=n(2),i=n(9);o(o.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(2),o=n(45),i=n(9);r(r.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return o(i(e))}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{has:function has(e,t){return t in e}})},function(e,t,n){var r=n(2),o=n(9),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function isExtensible(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(213)})},function(e,t,n){var r=n(2),o=n(9),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function preventExtensions(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(14),o=n(33),i=n(45),a=n(31),s=n(2),l=n(58),c=n(9),u=n(8);s(s.S,"Reflect",{set:function set(e,t,n){var s,d,f=arguments.length<4?e:arguments[3],p=o.f(c(e),t);if(!p){if(u(d=i(e)))return set(d,t,n,f);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(s=o.f(f,t)){if(s.get||s.set||!1===s.writable)return!1;s.value=n,r.f(f,t,s)}else r.f(f,t,l(0,n));return!0}return void 0!==p.set&&(p.set.call(f,n),!0)}})},function(e,t,n){var r=n(2),o=n(143);o&&r(r.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(7),o=n(142),i=n(14).f,a=n(65).f,s=n(148),l=n(112),c=r.RegExp,u=c,d=c.prototype,f=/a/g,p=/a/g,h=new c(f)!==f;if(n(15)&&(!h||n(10)(function(){return p[n(12)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function RegExp(e,t){var n=this instanceof c,r=s(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new u(r&&!i?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&i?l.call(e):t),n?this:d,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),A=0;m.length>A;)g(m[A++]);d.constructor=c,c.prototype=d,n(26)(r,"RegExp",c)}n(75)("RegExp")},function(e,t,n){"use strict";var r=n(9),o=n(16),i=n(149),a=n(113);n(114)("match",1,function(e,t,n,s){return[function match(n){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,f=[],p=0;null!==(d=a(l,c));){var h=String(d[0]);f[p]=h,""===h&&(l.lastIndex=i(c,o(l.lastIndex),u)),p++}return 0===p?null:f}]})},function(e,t,n){"use strict";var r=n(151);n(2)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(9),o=n(19),i=n(16),a=n(44),s=n(149),l=n(113),c=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(114)("replace",2,function(e,t,n,h){return[function replace(r,o){var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var m=d.unicode;d.lastIndex=0}for(var A=[];;){var v=l(d,f);if(null===v)break;if(A.push(v),!g)break;""===String(v[0])&&(d.lastIndex=s(f,i(d.lastIndex),m))}for(var y,b="",w=0,_=0;_<A.length;_++){v=A[_];for(var E=String(v[0]),C=c(u(a(v.index),f.length),0),S=[],T=1;T<v.length;T++)S.push(void 0===(y=v[T])?y:String(y));var x=v.groups;if(p){var O=[E].concat(S,C,f);void 0!==x&&O.push(x);var k=String(t.apply(void 0,O))}else k=getSubstitution(E,f,C,S,x,t);C>=w&&(b+=f.slice(w,C)+k,w=C+E.length)}return b+f.slice(w)}];function getSubstitution(e,t,r,i,a,s){var l=r+e.length,c=i.length,u=p;return void 0!==a&&(a=o(a),u=f),n.call(s,u,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>c){var f=d(u/10);return 0===f?n:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):n}s=i[u-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(148),o=n(9),i=n(90),a=n(149),s=n(16),l=n(113),c=n(151),u=n(10),d=Math.min,f=[].push,p=!u(function(){RegExp(4294967295,"y")});n(114)("split",2,function(e,t,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");(i=c.call(h,o))&&!((a=h.lastIndex)>d&&(l.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&f.apply(l,i.slice(1)),s=i[0].length,d=a,l.length>=p));)h.lastIndex===i.index&&h.lastIndex++;return d===o.length?!s&&h.test("")||l.push(""):l.push(o.slice(d)),l.length>p?l.slice(0,p):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function split(n,r){var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,r):h.call(String(o),n,r)},function(e,t){var r=u(h,e,this,t,h!==n);if(r.done)return r.value;var c=o(e),f=String(this),g=i(c,RegExp),m=c.unicode,A=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),v=new g(p?c:"^(?:"+c.source+")",A),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===f.length)return null===l(v,f)?[f]:[];for(var b=0,w=0,_=[];w<f.length;){v.lastIndex=p?w:0;var E,C=l(v,p?f:f.slice(w));if(null===C||(E=d(s(v.lastIndex+(p?0:w)),f.length))===b)w=a(f,w,m);else{if(_.push(f.slice(b,w)),_.length===y)return _;for(var S=1;S<=C.length-1;S++)if(_.push(C[S]),_.length===y)return _;w=b=E}}return _.push(f.slice(b)),_}]})},function(e,t,n){"use strict";var r=n(9),o=n(215),i=n(113);n(114)("search",1,function(e,t,n,a){return[function search(n){var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var u=i(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]})},function(e,t,n){"use strict";n(218);var r=n(9),o=n(112),i=n(15),a=/./.toString,s=function(e){n(26)(RegExp.prototype,"toString",e,!0)};n(10)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function toString(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=a.name&&s(function toString(){return a.call(this)})},function(e,t,n){"use strict";var r=n(208),o=n(64);e.exports=n(108)("Set",function(e){return function Set(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(7),o=n(31),i=n(15),a=n(2),s=n(26),l=n(52).KEY,c=n(10),u=n(102),d=n(74),f=n(59),p=n(12),h=n(219),g=n(220),m=n(401),A=n(104),v=n(9),y=n(8),b=n(35),w=n(36),_=n(58),E=n(62),C=n(214),S=n(33),T=n(14),x=n(63),O=S.f,k=T.f,B=C.f,P=r.Symbol,I=r.JSON,R=I&&I.stringify,L=p("_hidden"),M=p("toPrimitive"),D={}.propertyIsEnumerable,N=u("symbol-registry"),F=u("symbols"),U=u("op-symbols"),H=Object.prototype,j="function"==typeof P,Q=r.QObject,z=!Q||!Q.prototype||!Q.prototype.findChild,$=i&&c(function(){return 7!=E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(H,t);r&&delete H[t],k(e,t,n),r&&e!==H&&k(H,t,r)}:k,V=function(e){var t=F[e]=E(P.prototype);return t._k=e,t},G=j&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},W=function defineProperty(e,t,n){return e===H&&W(U,t,n),v(e),t=w(t,!0),v(n),o(F,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=E(n,{enumerable:_(0,!1)})):(o(e,L)||k(e,L,_(1,{})),e[L][t]=!0),$(e,t,n)):k(e,t,n)},K=function defineProperties(e,t){v(e);for(var n,r=m(t=b(t)),o=0,i=r.length;i>o;)W(e,n=r[o++],t[n]);return e},q=function propertyIsEnumerable(e){var t=D.call(this,e=w(e,!0));return!(this===H&&o(F,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},Y=function getOwnPropertyDescriptor(e,t){if(e=b(e),t=w(t,!0),e!==H||!o(F,t)||o(U,t)){var n=O(e,t);return!n||!o(F,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},X=function getOwnPropertyNames(e){for(var t,n=B(b(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==L||t==l||r.push(t);return r},J=function getOwnPropertySymbols(e){for(var t,n=e===H,r=B(n?U:b(e)),i=[],a=0;r.length>a;)!o(F,t=r[a++])||n&&!o(H,t)||i.push(F[t]);return i};j||(s((P=function Symbol(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),$(this,e,_(1,n))};return i&&z&&$(H,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function toString(){return this._k}),S.f=Y,T.f=W,n(65).f=C.f=X,n(89).f=q,n(109).f=J,i&&!n(51)&&s(H,"propertyIsEnumerable",q,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=x(p.store),ne=0;te.length>ne;)g(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return o(N,e+="")?N[e]:N[e]=P(e)},keyFor:function keyFor(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!j,"Object",{create:function create(e,t){return void 0===t?E(e):K(E(e),t)},defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!j||c(function(){var e=P();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function stringify(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!G(e))return A(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,R.apply(I,r)}}),P.prototype[M]||n(30)(P.prototype,M,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(63),o=n(109),i=n(89);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){n(220)("asyncIterator")},function(e,t,n){"use strict";n(27)("anchor",function(e){return function anchor(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(27)("big",function(e){return function big(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(27)("blink",function(e){return function blink(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(27)("bold",function(e){return function bold(){return e(this,"b","","")}})},function(e,t,n){"use strict";var r=n(2),o=n(150)(!1);r(r.P,"String",{codePointAt:function codePointAt(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(2),o=n(16),i=n(152),a="".endsWith;r(r.P+r.F*n(153)("endsWith"),"String",{endsWith:function endsWith(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";n(27)("fixed",function(e){return function fixed(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(27)("fontcolor",function(e){return function fontcolor(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(27)("fontsize",function(e){return function fontsize(t){return e(this,"font","size",t)}})},function(e,t,n){var r=n(2),o=n(72),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(2),o=n(152);r(r.P+r.F*n(153)("includes"),"String",{includes:function includes(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(27)("italics",function(e){return function italics(){return e(this,"i","","")}})},function(e,t,n){"use strict";var r=n(150)(!0);n(139)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(27)("link",function(e){return function link(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(2),o=n(221),i=n(111),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function padStart(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(2),o=n(221),i=n(111),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function padEnd(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(2),o=n(35),i=n(16);r(r.S,"String",{raw:function raw(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){var r=n(2);r(r.P,"String",{repeat:n(222)})},function(e,t,n){"use strict";n(27)("small",function(e){return function small(){return e(this,"small","","")}})},function(e,t,n){"use strict";var r=n(2),o=n(16),i=n(152),a="".startsWith;r(r.P+r.F*n(153)("startsWith"),"String",{startsWith:function startsWith(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(27)("strike",function(e){return function strike(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(27)("sub",function(e){return function sub(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(27)("sup",function(e){return function sup(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(78)("trim",function(e){return function trim(){return e(this,3)}})},function(e,t,n){"use strict";n(78)("trimLeft",function(e){return function trimLeft(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(78)("trimRight",function(e){return function trimRight(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(2),o=n(115),i=n(154),a=n(9),s=n(72),l=n(16),c=n(8),u=n(7).ArrayBuffer,d=n(90),f=i.ArrayBuffer,p=i.DataView,h=o.ABV&&u.isView,g=f.prototype.slice,m=o.VIEW;r(r.G+r.W+r.F*(u!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function isView(e){return h&&h(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(10)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function slice(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),o=s(void 0===t?n:t,n),i=new(d(this,f))(l(o-r)),c=new p(this),u=new p(i),h=0;r<o;)u.setUint8(h++,c.getUint8(r++));return i}}),n(75)("ArrayBuffer")},function(e,t,n){var r=n(2);r(r.G+r.W+r.F*!n(115).ABV,{DataView:n(154).DataView})},function(e,t,n){n(46)("Int8",1,function(e){return function Int8Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint8",1,function(e){return function Uint8Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint8",1,function(e){return function Uint8ClampedArray(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(46)("Int16",2,function(e){return function Int16Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint16",2,function(e){return function Uint16Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Int32",4,function(e){return function Int32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint32",4,function(e){return function Uint32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float32",4,function(e){return function Float32Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float64",8,function(e){return function Float64Array(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r,o=n(7),i=n(38)(0),a=n(26),s=n(52),l=n(211),c=n(224),u=n(8),d=n(64),f=n(64),p=!o.ActiveXObject&&"ActiveXObject"in o,h=s.getWeak,g=Object.isExtensible,m=c.ufstore,A=function(e){return function WeakMap(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function get(e){if(u(e)){var t=h(e);return!0===t?m(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function set(e,t){return c.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(108)("WeakMap",A,v,c,!0,!0);f&&p&&(l((r=c.getConstructor(A,"WeakMap")).prototype,v),s.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];a(t,e,function(t,o){if(u(t)&&!g(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(224),o=n(64);n(108)("WeakSet",function(e){return function WeakSet(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(7),o=n(2),i=n(111),a=[].slice,s=/MSIE .\./.test(i),l=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(e,t,n){var r=n(2),o=n(147);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(138),o=n(63),i=n(26),a=n(7),s=n(30),l=n(73),c=n(12),u=c("iterator"),d=c("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),g=0;g<h.length;g++){var m,A=h[g],v=p[A],y=a[A],b=y&&y.prototype;if(b&&(b[u]||s(b,u,f),b[d]||s(b,d,A),l[A]=f,v))for(m in r)b[m]||i(b,m,r[m],!0)}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function makeInvokeMethod(e,t,n){var r=l;return function invoke(o,i){if(r===u)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return doneResult()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=maybeInvokeDelegate(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=u;var p=tryCatch(e,t,n);if("normal"===p.type){if(r=n.done?d:c,p.arg===f)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r=d,n.method="throw",n.arg=p.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var l="suspendedStart",c="suspendedYield",u="executing",d="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};p[i]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(values([])));g&&g!==n&&r.call(g,i)&&(p=g);var m=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(e){var t;this._invoke=function enqueue(n,o){function callInvokeWithMethodAndArg(){return new Promise(function(t,i){!function invoke(t,n,o,i){var a=tryCatch(e[t],e,n);if("throw"!==a.type){var s=a.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){invoke("next",e,o,i)},function(e){invoke("throw",e,o,i)}):Promise.resolve(l).then(function(e){s.value=e,o(s)},function(e){return invoke("throw",e,o,i)})}i(a.arg)}(n,o,t,i)})}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,maybeInvokeDelegate(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=tryCatch(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(r.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}return{next:doneResult}}function doneResult(){return{value:t,done:!0}}return GeneratorFunction.prototype=m.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[a]=function(){return this},e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o){var i=new AsyncIterator(wrap(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},defineIteratorMethods(m),m[s]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function next(){for(;t.length;){var n=t.pop();if(n in e)return next.value=n,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function handle(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:values(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var r=_interopRequireWildcard(n(448)),o=_interopRequireDefault(n(632)),i=_interopRequireDefault(n(116)),a=_interopRequireWildcard(n(79)),s=_interopRequireWildcard(n(633)),l=_interopRequireDefault(n(471));function create(){var e=new r.HandlebarsEnvironment;return a.extend(e,r),e.SafeString=o.default,e.Exception=i.default,e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=s,e.template=function(t){return s.template(t,e)},e}var c=create();c.create=create,l.default(c),c.default=c,t.default=c,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=HandlebarsEnvironment;var r=n(79),o=_interopRequireDefault(n(116)),i=n(621),a=n(629),s=_interopRequireDefault(n(631));t.VERSION="4.2.1";t.COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function HandlebarsEnvironment(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},i.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:s.default,log:s.default.log,registerHelper:function registerHelper(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function unregisterHelper(e){delete this.helpers[e]},registerPartial:function registerPartial(e,t){if("[object Object]"===r.toString.call(e))r.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function unregisterPartial(e){delete this.partials[e]},registerDecorator:function registerDecorator(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function unregisterDecorator(e){delete this.decorators[e]}};var l=s.default.log;t.log=l,t.createFrame=r.createFrame,t.logger=s.default},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(t){var r=n(82),o=n(650),i={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a={adapter:function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(476):void 0!==t&&(e=n(476)),e}(),transformRequest:[function transformRequest(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function transformResponse(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function forEachMethodNoData(e){a.headers[e]={}}),r.forEach(["post","put","patch"],function forEachMethodWithData(e){a.headers[e]=r.merge(i)}),e.exports=a}).call(this,n(649))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(121));var o=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},i=t.TEXT_DECORATION={NONE:null},a=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},s=function parseLine(e){switch(e){case"underline":return a.UNDERLINE;case"overline":return a.OVERLINE;case"line-through":return a.LINE_THROUGH}return a.BLINK};t.parseTextDecoration=function parseTextDecoration(e){var t=function parseTextDecorationLine(e){return"none"===e?null:e.split(" ").map(s)}(e.textDecorationLine?e.textDecorationLine:e.textDecoration);return null===t?i.NONE:{textDecorationLine:t,textDecorationColor:e.textDecorationColor?new r.default(e.textDecorationColor):null,textDecorationStyle:function parseTextDecorationStyle(e){switch(e){case"double":return o.DOUBLE;case"dotted":return o.DOTTED;case"dashed":return o.DASHED;case"wavy":return o.WAVY}return o.SOLID}(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(121));var o=t.BORDER_STYLE={NONE:0,SOLID:1},i=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},a=Object.keys(i).map(function(e){return e.toLowerCase()});t.parseBorder=function parseBorder(e){return a.map(function(t){var n=new r.default(e.getPropertyValue("border-"+t+"-color")),i=function parseBorderStyle(e){switch(e){case"none":return o.NONE}return o.SOLID}(e.getPropertyValue("border-"+t+"-style")),a=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:i,borderWidth:isNaN(a)?0:a}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toCodePoints=function toCodePoints(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t},t.fromCodePoint=function fromCodePoint(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var o=arguments.length<=n?void 0:arguments[n];o<=65535?t.push(o):(o-=65536,t.push(55296+(o>>10),o%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<r.length;i++)o[r.charCodeAt(i)]=i;t.decode=function decode(e){var t=.75*e.length,n=e.length,r=void 0,i=0,a=void 0,s=void 0,l=void 0,c=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)a=o[e.charCodeAt(r)],s=o[e.charCodeAt(r+1)],l=o[e.charCodeAt(r+2)],c=o[e.charCodeAt(r+3)],d[i++]=a<<2|s>>4,d[i++]=(15&s)<<4|l>>2,d[i++]=(3&l)<<6|63&c;return u},t.polyUint16Array=function polyUint16Array(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function polyUint32Array(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var r=n(166),o=_interopRequireDefault(n(165)),i=_interopRequireDefault(n(235)),a=n(234),s=n(492);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=["OL","UL","MENU"],c=(t.getListOwner=function getListOwner(e){var t=e.parent;if(!t)return null;do{if(-1!==l.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function inlineListItemElement(e,t,n){var s=t.style.listStyle;if(s){var l=e.ownerDocument.defaultView.getComputedStyle(e,null),c=e.ownerDocument.createElement("html2canvaswrapper");switch((0,r.copyCSSStyles)(l,c),c.style.position="absolute",c.style.bottom="auto",c.style.display="block",c.style.letterSpacing="normal",s.listStylePosition){case a.LIST_STYLE_POSITION.OUTSIDE:c.style.left="auto",c.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",c.style.textAlign="right";break;case a.LIST_STYLE_POSITION.INSIDE:c.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",c.style.right="auto",c.style.textAlign="left"}var u=void 0,d=t.style.margin[0].getAbsoluteValue(t.bounds.width),f=s.listStyleImage;if(f)if("url"===f.method){var p=e.ownerDocument.createElement("img");p.src=f.args[0],c.style.top=t.bounds.top-d+"px",c.style.width="auto",c.style.height="auto",c.appendChild(p)}else{var h=.5*parseFloat(t.style.font.fontSize);c.style.top=t.bounds.top-d+t.bounds.height-1.5*h+"px",c.style.width=h+"px",c.style.height=h+"px",c.style.backgroundImage=l.listStyleImage}else"number"==typeof t.listIndex&&(u=e.ownerDocument.createTextNode(v(t.listIndex,s.listStyleType,!0)),c.appendChild(u),c.style.top=t.bounds.top-d+"px");var g=e.ownerDocument.body;g.appendChild(c),u?(t.childNodes.push(i.default.fromTextNode(u,t)),g.removeChild(c)):t.childNodes.push(new o.default(c,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),u={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},d={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},f={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},p=function createAdditiveCounter(e,t,n,r,o,i){return e<t||e>n?v(e,o,i.length>0):r.integers.reduce(function(t,n,o){for(;e>=n;)e-=n,t+=r.values[o];return t},"")+i},h=function createCounterStyleWithSymbolResolver(e,t,n,r){var o="";do{n||e--,o=r(e)+o,e/=t}while(e*t>=t);return o},g=function createCounterStyleFromRange(e,t,n,r,o){var i=n-t+1;return(e<0?"-":"")+(h(Math.abs(e),i,r,function(e){return(0,s.fromCodePoint)(Math.floor(e%i)+t)})+o)},m=function createCounterStyleFromSymbols(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return h(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},A=function createCJKCounter(e,t,n,o,i,s){if(e<-9999||e>9999)return v(e,a.LIST_STYLE_TYPE.CJK_DECIMAL,i.length>0);var l=Math.abs(e),c=i;if(0===l)return t[0]+c;for(var u=0;l>0&&u<=4;u++){var d=l%10;0===d&&(0,r.contains)(s,1)&&""!==c?c=t[d]+c:d>1||1===d&&0===u||1===d&&1===u&&(0,r.contains)(s,2)||1===d&&1===u&&(0,r.contains)(s,4)&&e>100||1===d&&u>1&&(0,r.contains)(s,8)?c=t[d]+(u>0?n[u-1]:"")+c:1===d&&u>0&&(c=n[u-1]+c),l=Math.floor(l/10)}return(e<0?o:"")+c},v=t.createCounterText=function createCounterText(e,t,n){var r=n?". ":"",o=n?"、":"",i=n?", ":"";switch(t){case a.LIST_STYLE_TYPE.DISC:return"•";case a.LIST_STYLE_TYPE.CIRCLE:return"◦";case a.LIST_STYLE_TYPE.SQUARE:return"◾";case a.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var s=g(e,48,57,!0,r);return s.length<4?"0"+s:s;case a.LIST_STYLE_TYPE.CJK_DECIMAL:return m(e,"〇一二三四五六七八九",o);case a.LIST_STYLE_TYPE.LOWER_ROMAN:return p(e,1,3999,c,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.UPPER_ROMAN:return p(e,1,3999,c,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_GREEK:return g(e,945,969,!1,r);case a.LIST_STYLE_TYPE.LOWER_ALPHA:return g(e,97,122,!1,r);case a.LIST_STYLE_TYPE.UPPER_ALPHA:return g(e,65,90,!1,r);case a.LIST_STYLE_TYPE.ARABIC_INDIC:return g(e,1632,1641,!0,r);case a.LIST_STYLE_TYPE.ARMENIAN:case a.LIST_STYLE_TYPE.UPPER_ARMENIAN:return p(e,1,9999,u,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.LOWER_ARMENIAN:return p(e,1,9999,u,a.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case a.LIST_STYLE_TYPE.BENGALI:return g(e,2534,2543,!0,r);case a.LIST_STYLE_TYPE.CAMBODIAN:case a.LIST_STYLE_TYPE.KHMER:return g(e,6112,6121,!0,r);case a.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return m(e,"子丑寅卯辰巳午未申酉戌亥",o);case a.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return m(e,"甲乙丙丁戊己庚辛壬癸",o);case a.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case a.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return A(e,"零一二三四五六七八九","十百千萬","負",o,14);case a.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return A(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",o,15);case a.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return A(e,"零一二三四五六七八九","十百千萬","负",o,14);case a.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return A(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",o,15);case a.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return A(e,"〇一二三四五六七八九","十百千万","マイナス",o,0);case a.LIST_STYLE_TYPE.JAPANESE_FORMAL:return A(e,"零壱弐参四伍六七八九","拾百千万","マイナス",o,7);case a.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return A(e,"영일이삼사오육칠팔구","십백천만","마이너스 ",i,7);case a.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return A(e,"零一二三四五六七八九","十百千萬","마이너스 ",i,0);case a.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return A(e,"零壹貳參四五六七八九","拾百千","마이너스 ",i,7);case a.LIST_STYLE_TYPE.DEVANAGARI:return g(e,2406,2415,!0,r);case a.LIST_STYLE_TYPE.GEORGIAN:return p(e,1,19999,f,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.GUJARATI:return g(e,2790,2799,!0,r);case a.LIST_STYLE_TYPE.GURMUKHI:return g(e,2662,2671,!0,r);case a.LIST_STYLE_TYPE.HEBREW:return p(e,1,10999,d,a.LIST_STYLE_TYPE.DECIMAL,r);case a.LIST_STYLE_TYPE.HIRAGANA:return m(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case a.LIST_STYLE_TYPE.HIRAGANA_IROHA:return m(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case a.LIST_STYLE_TYPE.KANNADA:return g(e,3302,3311,!0,r);case a.LIST_STYLE_TYPE.KATAKANA:return m(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case a.LIST_STYLE_TYPE.KATAKANA_IROHA:return m(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case a.LIST_STYLE_TYPE.LAO:return g(e,3792,3801,!0,r);case a.LIST_STYLE_TYPE.MONGOLIAN:return g(e,6160,6169,!0,r);case a.LIST_STYLE_TYPE.MYANMAR:return g(e,4160,4169,!0,r);case a.LIST_STYLE_TYPE.ORIYA:return g(e,2918,2927,!0,r);case a.LIST_STYLE_TYPE.PERSIAN:return g(e,1776,1785,!0,r);case a.LIST_STYLE_TYPE.TAMIL:return g(e,3046,3055,!0,r);case a.LIST_STYLE_TYPE.TELUGU:return g(e,3174,3183,!0,r);case a.LIST_STYLE_TYPE.THAI:return g(e,3664,3673,!0,r);case a.LIST_STYLE_TYPE.TIBETAN:return g(e,3872,3881,!0,r);case a.LIST_STYLE_TYPE.DECIMAL:default:return g(e,48,57,!0,r)}}},function(e,t,n){"use strict";(function(e){var r=n(604),o=n(503),i=n(513),a=n(514),s=n(515),c=n(164),u=n(70),d=n.n(u),f=n(0),p=n(1),h=n(28),g=n(516);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m={Giphy:i.a,UserImages:s.a,Unsplash:g.a,Patterns:a.a},A=function(t){function CmContent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CmContent),_possibleConstructorReturn(this,_getPrototypeOf(CmContent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(CmContent,h["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(CmContent,[{key:"initialize",value:function initialize(e){var t=this;this.Giphy=null,this.UserImages=null,this.loadedProviders={},f.a.subscribe(p.g.IMAGE.RESIZE,function(e,n){t.getView().cropImage(n)}),this.startListening(),this.initProviders()}},{key:"startListening",value:function startListening(){var e=this;return this.listenTo(this,"_view:rendered",this.load),this.listenTo(this,"change:currentProvider",function(t,n){e.deselectAll(),e._loadCategories().then(function(t){e.set("selectedCategory",t[0].id),e.provider().instance.selectCategory(t[0].id)})}),this.listenTo(this,"change:selectedCategory",function(t,n){e.deselectAll(),e.provider().instance.setType(n),e._loadImages().then(function(){e.provider().isLoaded||(e.provider().isLoaded=!0)})}),this}},{key:"initProviders",value:function initProviders(){var t=this;return this.get("providersInitialized")?this.loadedProviders:(e.each(c.a.sidebar.menuItems,function(e){t.loadedProviders[e.provider]={instance:new m[e.provider](e.options),categories:[],isLoaded:!1},t.loadedProviders[e.provider].imageCollection=new r.a,t.loadedProviders[e.provider].imageCollection.contentModel=t}),this.set("providersInitialized",!0),this.loadedProviders)}},{key:"load",value:function load(){var e=this;if(this.provider().isLoaded)return!0;this._loadCategories().then(function(t){e.set("selectedCategory",t[0].id),e.provider().instance.selectCategory(t[0].id),e._loadImages().then(function(){e.provider().isLoaded=!0})})}},{key:"getImages",value:function getImages(){return this.provider().imageCollection.length>0?this.provider().imageCollection.where({category:this.get("selectedCategory")}):[]}},{key:"provider",value:function provider(){if(!this.get("providersInitialized"))throw new Error("No providers were found.");return this.loadedProviders[this.get("currentProvider")]}},{key:"_loadCategories",value:function _loadCategories(){var e=this;return new Promise(function(t){e.provider().instance.getCategories().then(function(n){e.provider().categories=n,e.trigger("provider:categoriesLoaded"),t(n)})})}},{key:"_loadImages",value:function _loadImages(){var e=this;return new Promise(function(t){e.provider().instance.loadImages().then(function(n){e.provider().imageCollection.reset(),e.provider().imageCollection.add(n,{silent:!0}),e.trigger("provider:imagesLoaded"),t(n)})})}},{key:"_loadMore",value:function _loadMore(){var e=this;return new Promise(function(t){e.provider().instance.loadMore().then(function(n){e.provider().imageCollection.add(n),e.trigger("provider:imagesLoaded"),t(n)})})}},{key:"getImageCollection",value:function getImageCollection(){return this.provider().imageCollection}},{key:"searchImage",value:function searchImage(e){var t=this;if(""===e)return this._loadImages(),!0;this.provider().instance.search(e).then(function(e){t.provider().imageCollection.reset(),t.provider().imageCollection.add(e,{silent:!0}),t.trigger("provider:imagesLoaded")})}},{key:"createNewFolder",value:function createNewFolder(){var e=this;return new Promise(function(t){d()({title:l("Create new folder"),html:'\n                    <div class="p-3 text-left">\n                        <label for="se-cm-folder-title">'.concat(l("Folder title"),'</label>\n                        <div class="input-group mb-3">\n                            <input id="se-cm-folder-title" type="text" class="form-control">\n                        </div>\n                    </div>\n                    '),showCancelButton:!0,confirmButtonText:l("Create"),cancelButtonText:l("Cancel"),cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,buttonsStyling:!1,animation:!1,customClass:"animated zoomIn"}).then(function(n){if(!n.value)return e;var r=document.getElementById("se-cm-folder-title").value;if(0===r.length)return!1;e.provider().instance.createFolder(r).then(function(n){t(n.data),e.set("selectedCategory",n.data),e._loadCategories()})})})}},{key:"open",value:function open(e){if(this.get("isOpened")||!e)return!0;this.initView(),this.set({bind:e}),this.set("isOpened",!0)}},{key:"close",value:function close(){if(!this.get("isOpened"))return this;this.deselectAll(),this.unset("bind"),this._destroyOldView(),this.set("isOpened",!1)}},{key:"_destroyOldView",value:function _destroyOldView(){this.getView().remove("fadeOut",null,150),this.unset("_view")}},{key:"initView",value:function initView(){return this.get("_view")&&this._destroyOldView(),this.set("_view",new o.a({model:this})),this}},{key:"getView",value:function getView(){return this.get("_view")||!1}},{key:"getSelectedImages",value:function getSelectedImages(){return this.get("selectedImages")||{}}},{key:"deleteSelected",value:function deleteSelected(){this._bulkDelete()}},{key:"deselectAll",value:function deselectAll(){this.set("selectedImages",{}),this.trigger("deselectAll")}},{key:"_bulkDelete",value:function _bulkDelete(){var t=this,n=[];e.forEach(this.getSelectedImages(),function(e){n.push(e.id)}),this.provider().instance.bulkDelete(n).then(function(e){t._loadImages().then(function(){t.deselectAll()})})}},{key:"moveSelectedImages",value:function moveSelectedImages(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],i=this.getSelectedImages();r&&(i=r),e.forEach(i,function(e){o.push(e.id)}),this.provider().instance.move(o,t).then(function(){n._loadImages().then(function(){n.deselectAll(),n.set("selectedCategory",t)})})}},{key:"selectImage",value:function selectImage(t){var n=this.getSelectedImages();return e.has(this.getSelectedImages(),t.cid)?(delete n[t.cid],t.set("selected",!1),this.set("selectedImages",n)):(n[t.cid]=t,t.set("selected",!0),this.set("selectedImages",n)),this.trigger("change:selectedImages",this,this.getSelectedImages()),t}},{key:"setImage",value:function setImage(e){var t=this.get("bind");"function"==typeof t.beforeSet&&t.beforeSet.call(t.model,e),t&&t.model.set(t.key,e.get("originalUrl")),"function"==typeof t.afterSet&&t.afterSet.call(t.model,e);var n=!!t.model.view&&t.model.view.el.querySelector("img");n&&"ImageBlock"===t.model.get("type")&&(n.onload=function(){f.a.publish(p.g.IMAGE.INSERTED,t.model)}),f.a.publish(p.g.CLOSE,this)}},{key:"defaults",get:function get(){return{currentProvider:null,hadErrors:!1,imageCollectionInstance:!1,isLoaded:!1,isLoading:!1,isOpened:!1,isUploading:!1,loadedProviders:{},moduleConfig:{},providerMethods:["load","search"],retries:0,selectedImages:{},selectedItems:[],offset:0,searchQuery:"",selectedCategory:"trending"}}}]),CmContent}();t.a=A}).call(this,n(24))},function(e,t,n){!function(e){"use strict";var t=function forin(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},n=function createObject(e){var n={};return t(e,function(t){!function defineProperty(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n}(n,t,e[t])}),n},r=function attr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},a=["svg","path"],s=function isSVGElement(e){return a.includes(e)},l=function createElement(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===(void 0===n?"undefined":o(n))&&(i=n,n=null);var a=s(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n&&(s(e)?r(a,"class",n):a.className=n),t(i,function(e,t){r(a,e,t)}),a},c=function getViewRect(e,t,n,r){var o=n[0]||e.left,i=n[1]||e.top,a=o+e.width,s=i+e.height*(r[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:a,bottom:s}};return t.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){u(l.inner,Object.assign({},e.inner)),u(l.outer,Object.assign({},e.outer))}),d(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,d(l.outer),l},u=function expandRect(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},d=function calculateRectSize(e){e.width=e.right-e.left,e.height=e.bottom-e.top},f=function isNumber(e){return"number"==typeof e},p=function easeInOutQuad(e){return e<.5?2*e*e:(4-2*e)*e-1},h={spring:function spring(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,r=void 0===t?.5:t,o=e.damping,i=void 0===o?.75:o,a=e.mass,s=void 0===a?10:a,l=null,c=null,u=0,d=!1,p=n({interpolate:function interpolate(){if(!d)return f(l)&&f(c)?void(!function thereYet(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r}(c+=u+=-(c-l)*r/s,l,u*=i)?p.onupdate(c):(c=l,u=0,d=!0,p.onupdate(c),p.oncomplete(c))):(d=!0,void(u=0))},target:{set:function setTarget(e){if(f(e)&&!f(c)&&(c=e),c===(l=e)||void 0===l)return d=!0,u=0,p.onupdate(c),void p.oncomplete(c);d=!1},get:function get(){return l}},resting:{get:function get(){return d}},onupdate:function onupdate(e){},oncomplete:function oncomplete(e){}});return p},tween:function tween(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,r=void 0===t?500:t,o=e.easing,i=void 0===o?p:o,a=e.delay,s=void 0===a?0:a,l=null,c=void 0,u=void 0,d=!0,f=!1,h=null,g=n({interpolate:function interpolate(e){d||null===h||(null===l&&(l=e),e-l<s||((c=e-l-s)<r?(u=c/r,g.onupdate((c>=0?i(f?1-u:u):0)*h)):(c=1,d=!0,u=f?0:1,g.onupdate(u*h),g.oncomplete(u*h))))},target:{get:function get(){return f?0:h},set:function set(e){if(null===h)return h=e,g.onupdate(e),void g.oncomplete(e);e<h?(h=1,f=!0):(f=!1,h=e),d=!1,l=null}},resting:{get:function get(){return d}},onupdate:function onupdate(e){},oncomplete:function oncomplete(e){}});return g}},g=function createAnimator(e,t,n){var r=e[t]&&"object"===o(e[t][n])?e[t][n]:e[t]||e,i="string"==typeof r?r:r.type,a="object"===(void 0===r?"undefined":o(r))?Object.assign({},r):{};return h[i]?h[i](a):null},m=function addGetSet(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach(function(t){e.forEach(function(e){var i=e,a=function getter(){return n[e]},s=function setter(t){return n[e]=t};"object"===(void 0===e?"undefined":o(e))&&(i=e.key,a=e.getter||a,s=e.setter||s),t[i]&&!r||(t[i]={get:a,set:s})})})},A=function isEmpty(e){return null==e},v=function isDefined(e){return!A(e)},y={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0},b=function propsHaveChanged(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},w=function applyStyles(e,t){var n=t.opacity,r=t.translateX,o=t.translateY,i=t.scaleX,a=t.scaleY,s=t.rotateX,l=t.rotateY,c=t.rotateZ,u=t.height,d=[],f=[];(v(r)||v(o))&&d.push("translate3d("+(r||0)+"px, "+(o||0)+"px, 0)"),(v(i)||v(a))&&d.push("scale3d("+(v(i)?i:1)+", "+(v(a)?a:1)+", 1)"),(v(c)||v(l)||v(s))&&d.push("rotate3d("+(s||0)+", "+(l||0)+", "+(c||0)+", 360deg)"),d.length&&f.push("transform:"+d.join(" ")),v(n)&&(f.push("opacity:"+n),0===n&&f.push("visibility:hidden"),n<1&&f.push("pointer-events:none;")),v(u)&&f.push("height:"+u+"px");var p=e.getAttribute("style")||"",h=f.join(";");h.length===p.length&&h===p||e.setAttribute("style",h)},_={styles:function styles(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=e.view,a=Object.assign({},n),s={};m(t,[r,o],n);var l=function getRect(){return i.rect?c(i.rect,i.childViews,function getOffset(){return[n.translateX||0,n.translateY||0]}(),function getScale(){return[n.scaleX||0,n.scaleY||0]}()):null};return r.rect={get:l},o.rect={get:l},t.forEach(function(e){n[e]=void 0===a[e]?y[e]:a[e]}),{write:function write(){if(b(s,n))return w(i.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function destroy(){}}},listeners:function listeners(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),r=[],o=function addEvent(e){return function(t,n){e.addEventListener(t,n)}}(n.element),i=function removeEvent(e){return function(t,n){e.removeEventListener(t,n)}}(n.element);return t.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},t.off=function(e,t){r.splice(r.findIndex(function(n){return n.type===e&&n.fn===t}),1),i(e,t)},{write:function write(){return!0},destroy:function destroy(){r.forEach(function(e){i(e.type,e.fn)})}}},animations:function animations(e){var n=e.mixinConfig,r=e.viewProps,o=e.viewInternalAPI,i=e.viewExternalAPI,a=Object.assign({},r),animations=[];return t(n,function(e,t){var n=g(t);if(n){n.onupdate=function(t){r[e]=t},n.target=a[e];var s={key:e,setter:function setter(e){n.target!==e&&(n.target=e)},getter:function getter(){return r[e]}};m([s],[o,i],r,!0),animations.push(n)}}),{write:function write(e){var t=!0;return animations.forEach(function(n){n.interpolate(e),n.resting||(t=!1)}),t},destroy:function destroy(){}}},apis:function apis(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;m(t,r,n)}},E=function updateRect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},C=function createView(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,r=void 0===t?"div":t,o=e.name,i=void 0===o?null:o,a=e.attributes,s=void 0===a?{}:a,u=e.read,d=void 0===u?function(){}:u,f=e.write,p=void 0===f?function(){}:f,h=e.create,g=void 0===h?function(){}:h,m=e.destroy,A=void 0===m?function(){}:m,v=e.filterFrameActionsForChild,y=void 0===v?function(e,t){return t}:v,b=e.didCreateView,w=void 0===b?function(){}:b,C=e.ignoreRect,S=void 0!==C&&C,T=e.mixins,x=void 0===T?[]:T;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=l(r,"filepond--"+i,s),a=window.getComputedStyle(o,null),u=E(),f=null,h=[],m=[],v={},b={},C=[p],T=[d],O=[A],k=function getElement(){return o},B=function getChildViews(){return[].concat(h)},P=function getRect(){return f||(f=c(u,h,[0,0],[1,1]))},I={element:{get:k},style:{get:function getStyle(){return a}},childViews:{get:B}},R=Object.assign({},I,{rect:{get:P},ref:{get:function getReference(){return v}},is:function is(e){return i===e},appendChild:function appendChild(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}}(o),createChildView:function createChildView(e){return function(t,n){return t(e,n)}}(e),appendChildView:function appendChildView(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}}(0,h),removeChildView:function removeChildView(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}}(o,h),registerWriter:function registerWriter(e){return C.push(e)},registerReader:function registerReader(e){return T.push(e)},dispatch:e.dispatch,query:e.query}),L={element:{get:k},childViews:{get:B},rect:{get:P},isRectIgnored:function isRectIgnored(){return S},_read:function _read(){f=null,h.forEach(function(e){return e._read()}),E(u,o,a),T.forEach(function(e){return e({root:D,props:t,rect:u})})},_write:function _write(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0===n.length;return C.forEach(function(o){!1===o({props:t,root:D,actions:n,timestamp:e})&&(r=!1)}),m.forEach(function(t){!1===t.write(e)&&(r=!1)}),h.filter(function(e){return!!e.element.parentNode}).forEach(function(t){t._write(e,y(t,n))||(r=!1)}),h.filter(function(e){return!e.element.parentNode}).forEach(function(t,o){D.appendChild(t.element,o),t._read(),t._write(e,y(t,n)),r=!1}),r},_destroy:function _destroy(){m.forEach(function(e){return e.destroy()}),O.forEach(function(e){return e({root:D})}),h.forEach(function(e){return e._destroy()})}},M=Object.assign({},I,{rect:{get:function get(){return u}}});Object.keys(x).sort(function(e,t){return"styles"===e?1:"styles"===t?-1:0}).forEach(function(e){var r=_[e]({mixinConfig:x[e],viewProps:t,viewState:b,viewInternalAPI:R,viewExternalAPI:L,view:n(M)});r&&m.push(r)});var D=n(R);g({root:D,props:t});var N=o.children.length;return h.forEach(function(e,t){D.appendChild(e.element,N+t)}),w(D),n(L)}},S=function createRoute(e){return function(t){var n=t.root,r=t.props,o=t.actions,i=void 0===o?[]:o;i.filter(function(t){return e[t.type]}).forEach(function(t){return e[t.type]({root:n,props:r,action:t.data})})}},T=function insertBefore(e,t){return t.parentNode.insertBefore(e,t)},x=function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},O=function isArray(e){return Array.isArray(e)},k=function trim(e){return e.trim()},B=function toString(e){return""+e},P=function isBoolean(e){return"boolean"==typeof e},I=function toBoolean(e){return P(e)?e:"true"===e},R=function isString(e){return"string"==typeof e},L=function toNumber(e){return f(e)?e:R(e)?B(e).replace(/[a-z]+/gi,""):0},M=function toInt(e){return parseInt(L(e),10)},D=function isInt(e){return f(e)&&isFinite(e)&&Math.floor(e)===e},N=function toBytes(e){if(D(e))return e;var t=B(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*M(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*M(t)):M(t)},F=function isFunction(e){return"function"==typeof e},U={process:"POST",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},H=function createAction(e,t,n,r){if(null===t)return null;if("function"==typeof t)return t;var o={url:"GET"===n?"?"+e+"=":"",method:n,headers:{},withCredentials:!1,timeout:r,onload:null,onerror:null};if(R(t))return o.url=t,o;if(Object.assign(o,t),R(o.headers)){var i=o.headers.split(/:(.+)/);o.headers={header:i[0],value:i[1]}}return o.withCredentials=I(o.withCredentials),o},j=function isObject(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e},Q=function getType(e){return O(e)?"array":function isNull(e){return null===e}(e)?"null":D(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function isAPI(e){return j(e)&&R(e.url)&&j(e.process)&&j(e.revert)&&j(e.restore)&&j(e.fetch)}(e)?"api":void 0===e?"undefined":o(e)},z={array:function toArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return A(e)?[]:O(e)?e:B(e).split(t).map(k).filter(function(e){return e.length})},boolean:I,int:function int(e){return"bytes"===Q(e)?N(e):M(e)},float:function toFloat(e){return parseFloat(L(e))},bytes:N,string:function string(e){return F(e)?e:B(e)},serverapi:function toServerAPI(e){return function createServerAPI(e){var n={};return n.url=R(e)?e:e.url||"",n.timeout=e.timeout?parseInt(e.timeout,10):7e3,t(U,function(t){n[t]=H(t,e[t],U[t],n.timeout)}),n}(e)},object:function object(e){try{return JSON.parse(function replaceSingleQuotes(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')}(e))}catch(e){return null}},function:function _function(e){return function toFunctionReference(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t}(e)}},$=function getValueByType(e,t,n){if(e===t)return e;var r=Q(e);if(r!==n){var o=function convertTo(e,t){return z[t](e)}(e,n);if(r=Q(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},V=function createOptions(e){var r={};return t(e,function(t){var n=e[t];r[t]=function createOption(e,t){var n=e;return{get:function get(){return n},set:function set(r){n=$(r,e,t)}}}(n[0],n[1])}),n(r)},G=function fromCamels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(t)},W={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},K=function getUniqueId(){return Math.random().toString(36).substr(2,9)},q=function forEachDelayed(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:75;return e.map(function(e,r){return new Promise(function(o,i){setTimeout(function(){t(e),o()},n*r)})})},Y=function arrayRemove(e,t){return e.splice(t,1)},X=function on(){var e=[],t=function off(t,n){Y(e,e.findIndex(function(e){return e.event===t&&(e.cb===n||!n)}))};return{fire:function fire(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];setTimeout(function(){e.filter(function(e){return e.event===t}).map(function(e){return e.cb}).forEach(function(e){e.apply(void 0,r)})},0)},on:function on(t,n){e.push({event:t,cb:n})},onOnce:function onOnce(n,r){e.push({event:n,cb:function cb(){t(n,r),r.apply(void 0,arguments)}})},off:t}},J=function copyObjectPropertiesToObject(e,t,n){Object.getOwnPropertyNames(e).filter(function(e){return!n.includes(e)}).forEach(function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})},Z=["fire","process","revert","load","on","off","onOnce","retryLoad"],ee=function createItemAPI(e){var t={};return J(e,t,Z),t},te=function nextTick(e){setTimeout(e,16)},ne=function getNonNumeric(e){return/[^0-9]+/.exec(e)},re=function getDecimalSeparator(){return ne(1.1.toLocaleString())[0]},oe={BOOLEAN:"boolean",INT:"int",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ie=[],ae=function applyFilterChain(e,t,n){return new Promise(function(r,o){var i=ie.filter(function(t){return t.key===e}).map(function(e){return e.cb});if(0!==i.length){var a=i.shift();i.reduce(function(e,t){return e.then(function(e){return t(e,n)})},a(t,n)).then(function(e){return r(e)}).catch(function(e){return o(e)})}else r(t)})},se=function applyFilters(e,t,n){return ie.filter(function(t){return t.key===e}).map(function(e){return e.cb(t,n)})},le=function addFilter(e,t){return ie.push({key:e,cb:t})},ce=function getOptions(){return Object.assign({},ue)},ue={id:[null,oe.STRING],name:["filepond",oe.STRING],className:[null,oe.STRING],required:[!1,oe.BOOLEAN],captureMethod:[null,oe.STRING],allowDrop:[!0,oe.BOOLEAN],allowBrowse:[!0,oe.BOOLEAN],allowPaste:[!0,oe.BOOLEAN],allowMultiple:[!1,oe.BOOLEAN],allowReplace:[!0,oe.BOOLEAN],allowRevert:[!0,oe.BOOLEAN],maxFiles:[null,oe.INT],dropOnPage:[!1,oe.BOOLEAN],dropOnElement:[!0,oe.BOOLEAN],dropValidation:[!1,oe.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],oe.ARRAY],instantUpload:[!0,oe.BOOLEAN],server:[null,oe.SERVER_API],labelDecimalSeparator:[re(),oe.STRING],labelThousandsSeparator:[function getThousandsSeparator(){var e=re(),t=1e3.toLocaleString(),n=1e3.toString();return t!==n?ne(t)[0]:"."===e?",":"."}(),oe.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',oe.STRING],labelFileWaitingForSize:["Waiting for size",oe.STRING],labelFileSizeNotAvailable:["Size not available",oe.STRING],labelFileCountSingular:["file in list",oe.STRING],labelFileCountPlural:["files in list",oe.STRING],labelFileLoading:["Loading",oe.STRING],labelFileAdded:["Added",oe.STRING],labelFileRemoved:["Removed",oe.STRING],labelFileLoadError:["Error during load",oe.STRING],labelFileProcessing:["Uploading",oe.STRING],labelFileProcessingComplete:["Upload complete",oe.STRING],labelFileProcessingAborted:["Upload cancelled",oe.STRING],labelFileProcessingError:["Error during upload",oe.STRING],labelTapToCancel:["tap to cancel",oe.STRING],labelTapToRetry:["tap to retry",oe.STRING],labelTapToUndo:["tap to undo",oe.STRING],labelButtonRemoveItem:["Remove",oe.STRING],labelButtonAbortItemLoad:["Abort",oe.STRING],labelButtonRetryItemLoad:["Retry",oe.STRING],labelButtonAbortItemProcessing:["Cancel",oe.STRING],labelButtonUndoItemProcessing:["Undo",oe.STRING],labelButtonRetryItemProcessing:["Retry",oe.STRING],labelButtonProcessItem:["Upload",oe.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',oe.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',oe.STRING],oninit:[null,oe.FUNCTION],onwarning:[null,oe.FUNCTION],onerror:[null,oe.FUNCTION],onaddfilestart:[null,oe.FUNCTION],onaddfileprogress:[null,oe.FUNCTION],onaddfile:[null,oe.FUNCTION],onprocessfilestart:[null,oe.FUNCTION],onprocessfileprogress:[null,oe.FUNCTION],onprocessfileabort:[null,oe.FUNCTION],onprocessfilerevert:[null,oe.FUNCTION],onprocessfile:[null,oe.FUNCTION],onremovefile:[null,oe.FUNCTION],beforeRemoveFile:[null,oe.FUNCTION],files:[[],oe.ARRAY]},de=function getItemByQuery(e,t){return A(t)?e[0]||null:D(t)?e[t]||null:("object"===(void 0===t?"undefined":o(t))&&(t=t.id),e.find(function(e){return e.id===t})||null)},fe=function queries(e){return{GET_ITEM:function GET_ITEM(t){return de(e.items,t)},GET_ITEMS:function GET_ITEMS(t){return[].concat(i(e.items))},GET_ITEM_NAME:function GET_ITEM_NAME(t){var n=de(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function GET_ITEM_SIZE(t){var n=de(e.items,t);return n?n.fileSize:null},GET_TOTAL_ITEMS:function GET_TOTAL_ITEMS(){return e.items.length},IS_ASYNC:function IS_ASYNC(){return j(e.options.server)&&(j(e.options.server.process)||F(e.options.server.process))}}},pe=function insertItem(e,t,n){return A(t)?null:void 0===n?(e.push(t),t):(n=function limit(e,t,n){return Math.max(Math.min(n,e),t)}(n,0,e.length),function arrayInsert(e,t,n){e.splice(t,0,n)}(e,n,t),t)},he=function isBase64DataURI(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},ge=function getFilenameFromURL(e){return e.split("/").pop().split("?").shift()},me=function getExtensionFromFilename(e){return e.split(".").pop()},Ae=function leftPad(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},ve=function getDateString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+Ae(e.getMonth()+1,"00")+"-"+Ae(e.getDate(),"00")+"_"+Ae(e.getHours(),"00")+"-"+Ae(e.getMinutes(),"00")+"-"+Ae(e.getSeconds(),"00")},ye=function getFileFromBlob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,R(t)||(t=ve()),t&&null===r&&me(t)?o.name=t:(r=r||function guesstimateExtension(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""}(o.type),o.name=t+(r?"."+r:"")),o},be=function createBlob(e,t){var n=function getBlobBuilder(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder}();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},we=function getMimeTypeFromBase64DataURI(e){return(/^data:(.+);/.exec(e)||[])[1]||null},_e=function getBlobFromBase64DataURI(e){var t=we(e),n=function getByteStringFromBase64DataURI(e){return atob(function getBase64DataFromBase64DataURI(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(e);return function getBlobFromByteStringWithMimeType(e,t){for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return be(n,t)}(n,t)},Ee=function getFilenameFromHeaders(e){var t=e.split("\n"),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.match(/filename="(.+)"/);if(l&&l[1])return l[1]}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null},Ce=function createFileLoader(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function loadURL(n){e?(t.timestamp=Date.now(),t.request=e(n,function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=ye(e,ge(n))),r.fire("load",e instanceof Blob?e:e.body)},function(e){r.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)},function(e,n,o){o&&(t.size=o),t.duration=Date.now()-t.timestamp,e?(t.progress=n/o,r.fire("progress",t.progress)):t.progress=null},function(){r.fire("abort")},function(e){r.fire("meta",{size:t.size,filename:Ee("string"==typeof e?e:e.headers)})})):r.fire("error",{type:"error",body:"Can't load URL",code:400})},r=Object.assign({},X(),{setSource:function setSource(e){return t.source=e},getProgress:function getProgress(){return t.progress},abort:function abort(){t.request&&t.request.abort()},load:function load(){var e=t.source;r.fire("init",e),e instanceof File?r.fire("load",e):e instanceof Blob?r.fire("load",ye(e,e.name)):he(e)?r.fire("load",function getFileFromBase64DataURI(e,t,n){return ye(_e(e),t,null,n)}(e)):n(e)}});return r},Se=function sendRequest(e,t,n){var r={onheaders:function onheaders(){},onprogress:function onprogress(){},onload:function onload(){},ontimeout:function ontimeout(){},onerror:function onerror(){},onabort:function onabort(){},abort:function abort(){a=!0,l.abort()}},o=null,i=!1,a=!1,s=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),/GET/i.test(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var l=new XMLHttpRequest,c=/GET/i.test(n.method)?l:l.upload;return c.onprogress=function(e){clearTimeout(o),a||i||r.onprogress(e.lengthComputable,e.loaded,e.total)},l.onreadystatechange=function(){l.readyState<2||4===l.readyState&&0===l.status||(clearTimeout(o),s||(s=!0,r.onheaders(l)))},l.onload=function(){l.status>=200&&l.status<300?r.onload(l):r.onerror(l)},l.onerror=function(){r.onerror(l)},l.onabort=function(){i||(a=!0,r.onabort())},D(n.timeout)&&(o=setTimeout(function(){i=!0,r.ontimeout(l),r.abort()},n.timeout)),l.open(n.method,t,!0),Object.keys(n.headers).forEach(function(e){l.setRequestHeader(e,n.headers[e])}),n.responseType&&(l.responseType=n.responseType),n.withCredentials&&(l.withCredentials=!0),l.send(e),r},Te=function createResponse(e,t,n,r){return{type:e,code:t,body:n,headers:r}},xe=function createTimeoutResponse(e){return function(t){e(Te("error",0,"Timeout",t.getAllResponseHeaders()))}},Oe=function createFetchFunction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];if("function"==typeof t)return t;if(!t||!R(t.url))return null;var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a,s,l,c){var u=Se(o,e+t.url,Object.assign({},t,{responseType:"blob"}));return u.onload=function(e){var t=e.getAllResponseHeaders(),r=Ee(t)||ge(o);i(Te("load",e.status,ye(n(e.response),r),t))},u.onerror=function(e){a(Te("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},u.onheaders=function(e){c(Te("headers",e.status,null,e.getAllResponseHeaders()))},u.ontimeout=xe(a),u.onprogress=s,u.onabort=l,u}},ke=function getRandomNumber(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Be=function createFileProcessor(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function abort(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort(),t.complete=!0,r.fire("abort",t.response?t.response.body:null))},r=Object.assign({},X(),{process:function process(n,o){var i=function progressFn(){0!==t.duration&&null!==t.progress&&r.fire("progress",r.getProgress())},a=function completeFn(){t.complete=!0,r.fire("load",t.response.body)};r.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=function createPerceivedPerformanceUpdater(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,i=Date.now();return function tick(){var a=Date.now()-i,s=ke(n,r);a+s>t&&(s=a+s-t);var l=a/t;l>=1?e(1):(e(l),o=setTimeout(tick,s))}(),{clear:function clear(){clearTimeout(o)}}}(function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,i(),t.response&&1===t.perceivedProgress&&!t.complete&&a()},ke(750,1500)),t.request=e(n,o,function(e){t.response=j(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,1===t.perceivedProgress&&a()},function(e){t.perceivedPerformanceUpdater.clear(),r.fire("error",j(e)?e:{type:"error",code:0,body:""+e})},function(e,n,r){t.duration=Date.now()-t.timestamp,t.progress=e?n/r:null,i()},function(){t.perceivedPerformanceUpdater.clear(),r.fire("abort")})},abort:n,getProgress:function getProgress(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},getDuration:function getDuration(){return Math.min(t.duration,t.perceivedDuration)},reset:function reset(){n(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null}});return r},Pe=function getFilenameWithoutExtension(e){return e.substr(0,e.lastIndexOf("."))||e},Ie={INIT:1,IDLE:2,PROCESSING:3,PROCESSING_PAUSED:4,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,LOADING:7,LOAD_ERROR:8},Re={INPUT:1,LIMBO:2,LOCAL:3},Le=function createItem(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=K(),i={source:null,file:r,serverFileReference:t,status:t?Ie.PROCESSING_COMPLETE:Ie.INIT,activeLoader:null,activeProcessor:null},a={},s=function setStatus(e){return i.status=e},l=Object.assign({id:{get:function get(){return o}},origin:{get:function get(){return e}},serverId:{get:function get(){return i.serverFileReference}},status:{get:function get(){return i.status}},filename:{get:function get(){return i.file.name}},filenameWithoutExtension:{get:function get(){return Pe(i.file.name)}},fileExtension:{get:function getFileExtension(){return me(i.file.name)}},fileType:{get:function getFileType(){return i.file.type}},fileSize:{get:function getFileSize(){return i.file.size}},file:{get:function getFile(){return i.file}},source:{get:function get(){return i.source}},getMetadata:function getMetadata(e){return e?a[e]:Object.assign({},a)},setMetadata:function setMetadata(e,t){return a[e]=t},abortLoad:function abortLoad(){i.activeLoader&&i.activeLoader.abort()},retryLoad:function retryLoad(){i.activeLoader&&i.activeLoader.load()},abortProcessing:function abortProcessing(){i.activeProcessor&&i.activeProcessor.abort()},load:function load(t,n,r){i.source=t,i.file?l.fire("load-skip"):(i.file=function createFileStub(e){var t=[e.name,e.size,e.type];return e instanceof Blob||he(e)?t[0]=e.name||ve():he(e)?(t[1]=e.length,t[2]=we(e)):R(e)&&(t[0]=ge(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}}(t),n.on("init",function(){l.fire("load-init")}),n.on("meta",function(e){i.file.size=e.size,i.file.filename=e.filename,l.fire("load-meta")}),n.on("progress",function(e){s(Ie.LOADING),l.fire("load-progress",e)}),n.on("error",function(e){s(Ie.LOAD_ERROR),l.fire("load-request-error",e)}),n.on("abort",function(){s(Ie.INIT),l.fire("load-abort")}),n.on("load",function(t){i.activeLoader=null;var n=function success(t){i.file=t,e===Re.LIMBO&&i.serverFileReference?s(Ie.PROCESSING_COMPLETE):s(Ie.IDLE),l.fire("load")};i.serverFileReference?n(t):r(t,n,function error(e){i.file=t,l.fire("load-meta"),s(Ie.LOAD_ERROR),l.fire("load-file-error",e)})}),n.setSource(t),i.activeLoader=n,n.load())},process:function process(e,t){i.file instanceof Blob?(e.on("load",function(e){i.activeProcessor=null,i.serverFileReference=e,s(Ie.PROCESSING_COMPLETE),l.fire("process-complete",e)}),e.on("start",function(){l.fire("process-start")}),e.on("error",function(e){i.activeProcessor=null,s(Ie.PROCESSING_ERROR),l.fire("process-error",e)}),e.on("abort",function(e){i.activeProcessor=null,i.serverFileReference=e,s(Ie.IDLE),l.fire("process-abort")}),e.on("progress",function(e){s(Ie.PROCESSING),l.fire("process-progress",e)}),t(i.file,function success(t){e.process(t,Object.assign({},a))},function error(e){}),i.activeProcessor=e):l.on("load",function(){process(e,t)})},revert:function revert(e){null!==i.serverFileReference&&(e(i.serverFileReference,function(){i.serverFileReference=null},function(e){}),s(Ie.IDLE),l.fire("process-revert"))}},X());return n(l)},Me=function getItemById(e,t){var n=function getItemIndexByQuery(e,t){return A(t)?0:R(t)?e.findIndex(function(e){return e.id===t}):-1}(e,t);if(!(n<0))return e[n]||null},De=function fetchLocal(e,t,n,r,o,i){var a=Se(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),o=Ee(r)||ge(e);t(Te("load",n.status,ye(n.response,o),r))},a.onerror=function(e){n(Te("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){i(Te("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=xe(n),a.onprogress=r,a.onabort=o,a},Ne=function getDomainFromURL(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]},Fe=function isFile(e){return e instanceof File||e instanceof Blob&&e.name},Ue=function dynamicLabel(e){return function(){return F(e)?e.apply(void 0,arguments):e}},He=function getItemByQueryFromState(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,o=n.success,i=void 0===o?function(){}:o,a=n.failure,s=void 0===a?function(){}:a,l=de(e.items,r);l?t(l,i,s):s({error:Te("error",0,"Item not found"),file:null})}},je=function actions(e,n,r){return{ABORT_ALL:function ABORT_ALL(){n("GET_ITEMS").forEach(function(e){e.abortLoad(),e.abortProcessing()})},DID_SET_FILES:function DID_SET_FILES(t){var n=t.value,o=void 0===n?[]:n,a=o.map(function(e){return{source:e.source?e.source:e,options:e.options}});[].concat(i(r.items)).forEach(function(t){a.find(function(e){return e.source===t.source})||e("REMOVE_ITEM",{query:t})}),a.forEach(function(t,n){[].concat(i(r.items)).find(function(e){return e.source===t.source})||e("ADD_ITEM",Object.assign({},t,{interactionMethod:W.NONE,index:n}))})},ADD_ITEM:function ADD_ITEM(t){var o=t.source,i=t.index,a=t.interactionMethod,s=t.success,l=void 0===s?function(){}:s,c=t.failure,u=void 0===c?function(){}:c,d=t.options,f=void 0===d?{}:d;if(A(o))u({error:Te("error",0,"No source"),file:null});else if(!Fe(o)||!r.options.ignoredFiles.includes(o.name.toLowerCase())){if(!function hasRoomForItem(e){var t=e.items.length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n}(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){var p=Te("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:o,error:p}),void u({error:p,file:null})}var h=r.items[0];h.status===Ie.PROCESSING_COMPLETE&&e("REVERT_ITEM_PROCESSING",{query:h.id}),e("REMOVE_ITEM",{query:h.id})}var g="local"===f.type?Re.LOCAL:"limbo"===f.type?Re.LIMBO:Re.INPUT,m=Le(g,g===Re.INPUT?null:o,f.file);Object.keys(f.metadata||{}).forEach(function(e){m.setMetadata(e,f.metadata[e])}),pe(r.items,m,i);var v=m.id;m.on("load-init",function(){e("DID_START_ITEM_LOAD",{id:v})}),m.on("load-meta",function(){e("DID_UPDATE_ITEM_META",{id:v})}),m.on("load-progress",function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:v,progress:t})}),m.on("load-request-error",function(t){var n=Ue(r.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:v,error:t,status:{main:n,sub:t.code+" ("+t.body+")"}}),void u({error:t,file:ee(m)});e("DID_THROW_ITEM_LOAD_ERROR",{id:v,error:t,status:{main:n,sub:r.options.labelTapToRetry}})}),m.on("load-file-error",function(t){e("DID_THROW_ITEM_INVALID",Object.assign({},t,{id:v}))}),m.on("load-abort",function(){e("REMOVE_ITEM",{query:v})}),m.on("load-skip",function(){e("COMPLETE_LOAD_ITEM",{query:v,item:m,data:{source:o,success:l}})}),m.on("load",function(){ae("DID_LOAD_ITEM",m,{query:n}).then(function(){ae("SHOULD_PREPARE_OUTPUT",!1,{item:m,query:n}).then(function(t){var n={source:o,success:l};t?e("REQUEST_PREPARE_LOAD_ITEM",{query:v,item:m,data:n},!0):e("COMPLETE_LOAD_ITEM",{query:v,item:m,data:n})})})}),m.on("process-start",function(){e("DID_START_ITEM_PROCESSING",{id:v})}),m.on("process-progress",function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:v,progress:t})}),m.on("process-error",function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:v,error:t,status:{main:Ue(r.options.labelFileProcessingError)(t),sub:r.options.labelTapToRetry}})}),m.on("process-abort",function(t){e("REVERT_ITEM_PROCESSING",{query:v}),r.options.instantUpload?e("REMOVE_ITEM",{query:v}):e("DID_ABORT_ITEM_PROCESSING",{id:v})}),m.on("process-complete",function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:v,error:null,serverFileReference:t})}),m.on("process-revert",function(){r.options.instantUpload||f.file?e("REMOVE_ITEM",{query:v}):e("DID_REVERT_ITEM_PROCESSING",{id:v})}),e("DID_ADD_ITEM",{id:v,index:i,interactionMethod:a});var y=r.options.server||{},b=y.url,w=y.load,_=y.restore,E=y.fetch;m.load(o,Ce(g===Re.INPUT?R(o)&&function isExternalURL(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Ne(location.href)!==Ne(e)}(o)?Oe(b,E):De:Oe(b,g===Re.LIMBO?_:w)),function(e,t,r){ae("LOAD_FILE",e,{query:n}).then(t).catch(r)})}},REQUEST_PREPARE_LOAD_ITEM:function REQUEST_PREPARE_LOAD_ITEM(t){var r=t.item,o=t.data;ae("PREPARE_OUTPUT",r.file,{query:n,item:r}).then(function(t){ae("COMPLETE_PREPARE_OUTPUT",t,{query:n,item:r}).then(function(t){e("COMPLETE_LOAD_ITEM",{item:r,data:o})})})},COMPLETE_LOAD_ITEM:function COMPLETE_LOAD_ITEM(t){var o=t.item,i=t.data,a=i.success,s=i.source;e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===Re.INPUT?null:s}),a(ee(o)),o.origin!==Re.LOCAL?o.origin!==Re.LIMBO?n("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:o.id}):e("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:s}):e("DID_LOAD_LOCAL_ITEM",{id:o.id})},RETRY_ITEM_LOAD:He(r,function(e){e.retryLoad()}),REQUEST_ITEM_PROCESSING:He(r,function(t){var n=t.id;e("DID_REQUEST_ITEM_PROCESSING",{id:n}),e("PROCESS_ITEM",{query:t},!0)}),PROCESS_ITEM:He(r,function(e,t,o){e.onOnce("process-complete",function(){t(ee(e))}),e.onOnce("process-error",function(t){o({error:t,file:ee(e)})}),e.process(Be(function createProcessorFunction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2];return"function"==typeof t?function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r))}:t&&R(t.url)?function(r,o,i,a,s,l){if(r){var c=new FormData;c.append(n,r,r.name),j(o)&&c.append(n,JSON.stringify(o));var u=t.onload||function(e){return e},d=t.onerror||function(e){return null},f=Se(c,e+t.url,t);return f.onload=function(e){i(Te("load",e.status,u(e.response),e.getAllResponseHeaders()))},f.onerror=function(e){a(Te("error",e.status,d(e.response)||e.statusText,e.getAllResponseHeaders()))},f.ontimeout=xe(a),f.onprogress=s,f.onabort=l,f}}:null}(r.options.server.url,r.options.server.process,r.options.name)),function(t,r,o){ae("PREPARE_OUTPUT",t,{query:n,item:e}).then(r).catch(o)})}),RETRY_ITEM_PROCESSING:He(r,function(t){e("REQUEST_ITEM_PROCESSING",{query:t})}),REQUEST_REMOVE_ITEM:He(r,function(t){var r=function handleRemove(n){n&&e("REMOVE_ITEM",{query:t})},o=n("GET_BEFORE_REMOVE_FILE");if(!o)return r(!0);var i=o(ee(t));return null==i?r(!0):"boolean"==typeof i?r(i):void("function"==typeof i.then&&i.then(r))}),REMOVE_ITEM:He(r,function(t,n){var r=t.id;e("DID_REMOVE_ITEM",{id:r,item:t}),e("SPLICE_ITEM",{id:r,item:t}),n(ee(t))}),SPLICE_ITEM:function SPLICE_ITEM(e){var t=e.id;return function removeItem(e,t){var n=e.findIndex(function(e){return e===t});return function removeIndex(e,t){e.splice(t,1)}(e,n),t}(r.items,Me(r.items,t))},ABORT_ITEM_LOAD:He(r,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:He(r,function(e){e.abortProcessing()}),REVERT_ITEM_PROCESSING:He(r,function(e){e.revert(function createRevertFunction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];if("function"==typeof t)return t;if(!t||!R(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a){var s=Se(o,e+t.url,t);return s.onload=function(e){i(Te("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){a(Te("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=xe(a),s}}(r.options.server.url,r.options.server.revert))}),SET_OPTIONS:function SET_OPTIONS(n){var r=n.options;t(r,function(t,n){e("SET_"+G(t,"_").toUpperCase(),{value:n})})}}},Qe=function createElement(e){return document.createElement(e)},ze=function formatFilename(e){return decodeURI(e)},$e=function text(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Ve=function polarToCartesian(e,t,n,r){var o=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},Ge=function percentageArc(e,t,n,r,o){var i=1;return o>r&&o-r<=.5&&(i=0),r>o&&r-o>=.5&&(i=0),function describeArc(e,t,n,r,o,i){var a=Ve(e,t,n,o),s=Ve(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,i,0,s.x,s.y].join(" ")}(e,t,n,360*Math.min(.9999,r),360*Math.min(.9999,o),i)},We=C({tag:"div",name:"progress-indicator",ignoreRect:!0,create:function create(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var r=l("svg");t.ref.path=l("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(t.ref.path),t.ref.svg=r,t.appendChild(r)},write:function write(e){var t=e.root,n=e.props;if(0!==n.opacity){var o=parseInt(r(t.ref.path,"stroke-width"),10),i=.5*t.rect.element.width,a=0,s=0;n.spin?(a=0,s=.5):(a=0,s=n.progress);var l=Ge(i,i,i-o,a,s);r(t.ref.path,"d",l),r(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Ke=C({tag:"button",attributes:{type:"button"},ignoreRect:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function create(e){var t=e.root,n=e.props;t.element.title=n.label,t.element.innerHTML=n.icon||"",n.disabled=!1},write:function write(e){var t=e.root,n=e.props;0!==n.opacity||n.disabled?n.opacity>0&&n.disabled&&(n.disabled=!1,t.element.removeAttribute("disabled")):(n.disabled=!0,r(t.element,"disabled","disabled"))}}),qe=function toNaturalFileSize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(e=Math.round(Math.abs(e)))<1e3?e+" bytes":e<Xe?Math.floor(e/Ye)+" KB":e<Je?Ze(e/Xe,1,t)+" MB":Ze(e/Je,2,t)+" GB"},Ye=1e3,Xe=1e6,Je=1e9,Ze=function removeDecimalsWhenZero(e,t,n){return e.toFixed(t).split(".").filter(function(e){return"0"!==e}).join(n)},et=function updateFile(e){var t=e.root,n=e.props;$e(t.ref.fileSize,qe(t.query("GET_ITEM_SIZE",n.id))),$e(t.ref.fileName,ze(t.query("GET_ITEM_NAME",n.id)))},tt=function updateFileSizeOnError(e){var t=e.root,n=e.props;D(t.query("GET_ITEM_SIZE",n.id))||$e(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},nt=C({name:"file-info",ignoreRect:!0,write:S({DID_LOAD_ITEM:et,DID_UPDATE_ITEM_META:et,DID_THROW_ITEM_LOAD_ERROR:tt,DID_THROW_ITEM_INVALID:tt}),didCreateView:function didCreateView(e){se("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function create(e){var t=e.root,n=e.props,o=Qe("span");o.className="filepond--file-info-main",r(o,"aria-hidden","true"),t.appendChild(o),t.ref.fileName=o;var i=Qe("span");i.className="filepond--file-info-sub",t.appendChild(i),t.ref.fileSize=i,$e(i,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),$e(o,ze(t.query("GET_ITEM_NAME",n.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),rt=function toPercentage(e){return Math.round(100*e)},ot=function didSetItemLoadProgress(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+rt(n.progress)+"%";$e(t.ref.main,r),$e(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},it=function clear(e){var t=e.root;$e(t.ref.main,""),$e(t.ref.sub,"")},at=function error(e){var t=e.root,n=e.action;$e(t.ref.main,n.status.main),$e(t.ref.sub,n.status.sub)},st=C({name:"file-status",ignoreRect:!0,write:S({DID_LOAD_ITEM:it,DID_REVERT_ITEM_PROCESSING:it,DID_REQUEST_ITEM_PROCESSING:function didRequestItemProcessing(e){var t=e.root;$e(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),$e(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function didAbortItemProcessing(e){var t=e.root;$e(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),$e(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function didCompleteItemProcessing(e){var t=e.root;$e(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),$e(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function didSetItemProcessProgress(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+rt(n.progress)+"%";$e(t.ref.main,r),$e(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:ot,DID_THROW_ITEM_LOAD_ERROR:at,DID_THROW_ITEM_INVALID:at,DID_THROW_ITEM_PROCESSING_ERROR:at}),didCreateView:function didCreateView(e){se("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function create(e){var t=e.root,n=Qe("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var r=Qe("span");r.className="filepond--file-status-sub",t.appendChild(r),t.ref.sub=r,ot({root:t,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),lt={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing"}},ct=[];t(lt,function(e){ct.push(e)});var ut=function calculateFileInfoOffset(e){return e.ref.buttonRemoveItem.rect.element.width+e.ref.buttonRemoveItem.rect.element.left},dt=function calculateFileVerticalCenterOffset(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},ft=function calculateFileHorizontalCenterOffset(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},pt={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0},processProgressIndicator:{opacity:0},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ht={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ut},status:{translateX:ut}},gt={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},mt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ut},status:{translateX:ut,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ut},status:{opacity:1}},DID_LOAD_ITEM:ht,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ut},status:{translateX:ut}},DID_START_ITEM_PROCESSING:gt,DID_REQUEST_ITEM_PROCESSING:gt,DID_UPDATE_ITEM_PROCESS_PROGRESS:gt,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ut}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ut},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ht},At=C({create:function create(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),vt=S({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_REQUEST_ITEM_PROCESSING:function DID_REQUEST_ITEM_PROCESSING(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function DID_START_ITEM_LOAD(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function DID_UPDATE_ITEM_LOAD_PROGRESS(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function DID_UPDATE_ITEM_PROCESS_PROGRESS(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),yt=C({create:function create(e){var n=e.root,r=e.props,o=n.query("GET_ALLOW_REVERT"),i=n.query("GET_INSTANT_UPLOAD"),a=n.query("IS_ASYNC"),s=a?ct.concat():ct.filter(function(e){return!/Process/.test(e)});if(a&&!o){s.splice(-1,1);var l=mt.DID_COMPLETE_ITEM_PROCESSING;l.info.translateX=ft,l.info.translateY=dt,l.status.translateY=dt,l.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i&&o&&(lt.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",lt.RevertItemProcessing.icon="GET_ICON_REMOVE"),t(lt,function(e,t){var o=n.createChildView(Ke,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});s.includes(e)&&n.appendChildView(o),o.element.classList.add(t.className),o.on("click",function(){n.dispatch(t.action,{query:r.id})}),n.ref["button"+e]=o}),n.ref.info=n.appendChildView(n.createChildView(nt,{id:r.id})),n.ref.status=n.appendChildView(n.createChildView(st,{id:r.id})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(At)),n.ref.loadProgressIndicator=n.appendChildView(n.createChildView(We,{opacity:0})),n.ref.loadProgressIndicator.element.classList.add("filepond--load-indicator"),n.ref.processProgressIndicator=n.appendChildView(n.createChildView(We,{opacity:0})),n.ref.processProgressIndicator.element.classList.add("filepond--process-indicator")},write:function write(e){var n=e.root,r=e.actions,o=e.props;vt({root:n,actions:r,props:o});var a=[].concat(i(r)).filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return mt[e.type]});if(a&&(!a||a.type!==o.currentStyle)){o.currentStyle=a.type;var s=mt[o.currentStyle];t(pt,function(e,r){var o=n.ref[e];t(r,function(t,r){var i=s[e]&&void 0!==s[e][t]?s[e][t]:r;o[t]="function"==typeof i?i(n):i})})}},didCreateView:function didCreateView(e){se("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),bt=C({create:function create(e){var t=e.root,n=e.props;t.ref.fileName=Qe("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(yt,{id:n.id}));var r=Qe("input");r.type="hidden",r.name=t.query("GET_NAME"),t.ref.data=r,t.appendChild(r)},write:S({DID_LOAD_ITEM:function didLoadItem(e){var t=e.root,n=e.action,r=e.props;t.ref.data.value=n.serverFileReference,$e(t.ref.fileName,ze(t.query("GET_ITEM_NAME",r.id)))},DID_REMOVE_ITEM:function didRemoveItem(e){var t=e.root;t.ref.data.removeAttribute("value")},DID_COMPLETE_ITEM_PROCESSING:function didCompleteItemProcessing(e){var t=e.root,n=e.action;t.ref.data.value=n.serverFileReference},DID_REVERT_ITEM_PROCESSING:function didRevertItemProcessing(e){var t=e.root;t.ref.data.removeAttribute("value")}}),didCreateView:function didCreateView(e){se("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),wt={type:"spring",damping:.6,mass:7},_t=function createSection(e,t,n){var r=C({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins}),o=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(o)},Et=C({name:"panel",write:function write(e){var t=e.root,n=e.props;if(n.height){t.element.dataset.scalable=!P(n.scalable)||n.scalable;var r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,i=Math.max(r.height+o.height,n.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(i-r.height-o.height)/100,t.ref.bottom.translateY=i-o.height}},create:function create(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:wt},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:wt},styles:["translateY"]}}].forEach(function(e){_t(t,e,n.name)}),t.element.classList.add("filepond--"+n.name)},ignoreRect:!0,mixins:{apis:["height","scalable"]}}),Ct={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_START_ITEM_PROCESSING:"busy",DID_REQUEST_ITEM_PROCESSING:"busy",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},St=C({create:function create(e){var t=e.root,n=e.props;t.ref.controls=t.appendChildView(t.createChildView(bt,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(Et,{name:"item-panel"})),t.ref.panel.height=0,n.markedForRemoval=!1},write:function write(e){var t=e.root,n=e.actions,r=e.props;t.ref.panel.height=t.ref.controls.rect.inner.height,t.height=t.ref.controls.rect.inner.height;var o=[].concat(i(n)).filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Ct[e.type]});!o||o&&o.type===r.currentState||(r.currentState=o.type,t.element.dataset.filepondItemState=Ct[r.currentState]||"")},tag:"li",name:"item",mixins:{apis:["id","markedForRemoval"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Tt=S({DID_ADD_ITEM:function addItemView(e){var t=e.root,n=e.action,r=n.id,o=n.index,i=n.interactionMethod,a={opacity:0};i===W.NONE&&(a.translateY=null),i===W.DROP&&(a.scaleX=.8,a.scaleY=.8,a.translateY=null),i===W.BROWSE&&(a.translateY=-30),i===W.API&&(a.translateX=-100,a.translateY=null),t.appendChildView(t.createChildView(St,Object.assign({id:r},a)),o)},DID_REMOVE_ITEM:function removeItemView(e){var t=e.root,n=e.action,r=n.id,o=t.childViews.find(function(e){return e.id===r});o&&(o.scaleX=.9,o.scaleY=.9,o.opacity=0,o.markedForRemoval=!0)}}),xt=C({create:function create(e){var t=e.root;r(t.element,"role","list")},write:function write(e){var t=e.root,n=e.props,r=e.actions;Tt({root:t,props:n,actions:r});var o=!0,i=0;return t.childViews.filter(function(e){return e.rect.outer.height}).forEach(function(e,t){var r=e.rect;e.translateX=0,e.translateY=i+(n.dragIndex>-1?function dragTranslation(e,t,n){return e-1===t?n/6:e===t?n/2:e+1===t?-n/2:e+2===t?-n/6:0}(t,n.dragIndex,10):0),e.markedForRemoval||(e.scaleX=1,e.scaleY=1,e.opacity=1),i+=r.outer.height}),t.childViews.filter(function(e){return e.markedForRemoval&&0===e.opacity}).forEach(function(e){t.removeChildView(e),o=!1}),o},tag:"ul",name:"list",filterFrameActionsForChild:function filterSetItemActions(e,t){return t.filter(function(t){return!t.data||!t.data.id||e.id===t.data.id})},mixins:{apis:["dragIndex"]}}),Ot=function getItemIndexByPosition(e,t){for(var n=0,r=e.childViews,o=r.length;n<o;n++){var i=r[n],a=i.rect.outer,s=a.top+.5*a.height;if(t.top<s)return n}return o},kt=S({DID_DRAG:function storeDragCoordinates(e){var t=e.root,n=e.props,r=e.action;n.dragCoordinates={left:r.position.scopeLeft,top:r.position.scopeTop-t.rect.outer.top+t.rect.element.scrollTop}},DID_END_DRAG:function clearDragCoordinates(e){var t=e.props;t.dragCoordinates=null}}),Bt=C({create:function create(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(xt)),n.dragCoordinates=null,n.overflowing=!1},write:function write(e){var t=e.root,n=e.props,r=e.actions;if(kt({root:t,props:n,actions:r}),t.ref.list.dragIndex=n.dragCoordinates?Ot(t.ref.list,n.dragCoordinates):-1,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var o=Math.round(n.overflow);o!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow"],styles:["height","translateY"]}}),Pt=function attrToggle(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n?r(e,t,o):e.removeAttribute(t)},It=function updateRequiredStatus(e){var t=e.root;t.query("GET_TOTAL_ITEMS")>0?Pt(t.element,"required",!1):t.query("GET_REQUIRED")&&Pt(t.element,"required",!0)},Rt=C({tag:"input",name:"browser",ignoreRect:!0,attributes:{type:"file"},create:function create(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,r(t.element,"aria-controls","filepond--assistant-"+n.id),r(t.element,"aria-labelledby","filepond--drop-label-"+n.id),t.element.addEventListener("change",function(){if(t.element.value){var e=[].concat(i(t.element.files));setTimeout(function(){n.onload(e),function resetFileInput(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=Qe("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}}(t.element)},250)}})},write:S({DID_ADD_ITEM:It,DID_REMOVE_ITEM:It,DID_SET_ALLOW_BROWSE:function toggleAllowBrowse(e){var t=e.root,n=e.action;Pt(t.element,"disabled",!n.value)},DID_SET_ALLOW_MULTIPLE:function toggleAllowMultiple(e){var t=e.root,n=e.action;Pt(t.element,"multiple",n.value)},DID_SET_ACCEPTED_FILE_TYPES:function setAcceptedFileTypes(e){var t=e.root,n=e.action;Pt(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},DID_SET_CAPTURE_METHOD:function setCaptureMethod(e){var t=e.root,n=e.action;Pt(t.element,"capture",!!n.value,!0===n.value?"":n.value)},DID_SET_REQUIRED:function toggleRequired(e){var t=e.root,n=e.action;n.value?0===t.query("GET_TOTAL_ITEMS")&&Pt(t.element,"required",!0):Pt(t.element,"required",!1)}})}),Lt={ENTER:13,SPACE:32},Mt=C({name:"drop-label",create:function create(e){var t=e.root,n=e.props,o=Qe("label");r(o,"for","filepond--browser-"+n.id),r(o,"id","filepond--drop-label-"+n.id),r(o,"aria-hidden","true"),o.addEventListener("keydown",function(e){e.keyCode!==Lt.ENTER&&e.keyCode!==Lt.SPACE||(e.preventDefault(),t.ref.label.click())}),t.appendChild(o),t.ref.label=o},write:S({DID_SET_LABEL_IDLE:function DID_SET_LABEL_IDLE(e){var t=e.root,n=e.action,o=e.props;o.caption=function updateLabelValue(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&r(n,"tabindex","0"),t}(t.ref.label,n.value)}}),mixins:{apis:["caption"],styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Dt=C({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Nt=S({DID_DRAG:function moveBlob(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):function addBlob(e){var t=e.root,n=.5*t.rect.element.width,r=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(Dt,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))}({root:t})},DID_DROP:function explodeBlob(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function hideBlob(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Ft=C({ignoreRect:!0,name:"drip",write:function write(e){var t=e.root,n=e.props,r=e.actions;Nt({root:t,props:n,actions:r});var o=t.ref.blob;0===r.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)}}),Ut=function requestDataTransferItems(e){return new Promise(function(t,n){var r=Wt(e);r.length?t(r):Ht(e).then(t)})},Ht=function getFiles(e){return new Promise(function(t,n){var r=(e.items?[].concat(i(e.items)):[]).filter(function(e){return jt(e)}).map(function(e){return Qt(e)});r.length?Promise.all(r).then(function(e){var n=[];e.forEach(function(e){n.push.apply(n,i(e))}),t(n.filter(function(e){return e}))}):t(e.files?[].concat(i(e.files)):[])})},jt=function isFileSystemItem(e){if(Vt(e)){var t=Gt(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},Qt=function getFilesFromItem(e){return new Promise(function(t,n){$t(e)?zt(Gt(e)).then(t):t([e.getAsFile()])})},zt=function getFilesInDirectory(e){return new Promise(function(t,n){var r=[],o=0;!function readEntries(e){e.createReader().readEntries(function(e){e.forEach(function(e){e.isDirectory?readEntries(e):(o++,e.file(function(e){r.push(e),o===r.length&&t(r)}))})})}(e)})},$t=function isDirectoryEntry(e){return Vt(e)&&(Gt(e)||{}).isDirectory},Vt=function isEntry(e){return"webkitGetAsEntry"in e},Gt=function getAsEntry(e){return e.webkitGetAsEntry()},Wt=function getLinks(e){var t=[];try{if((t=qt(e)).length)return t;t=Kt(e)}catch(e){}return t},Kt=function getLinksFromTransferURLData(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},qt=function getLinksFromTransferMetaData(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Yt=[],Xt=function eventPosition(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},Jt=function getDragNDropObserver(e){var t=Yt.find(function(t){return t.element===e});if(t)return t;var n=Zt(e);return Yt.push(n),n},Zt=function createDragNDropObserver(e){var n=[],r={dragenter:rn,dragover:an,dragleave:ln,drop:sn},o={};t(r,function(t,r){o[t]=r(e,n),e.addEventListener(t,o[t],!1)});var i={element:e,addListener:function addListener(a){return n.push(a),function(){n.splice(n.indexOf(a),1),0===n.length&&(Yt.splice(Yt.indexOf(i),1),t(r,function(t){e.removeEventListener(t,o[t],!1)}))}}};return i},en=function isEventTarget(e,t){var n=function getRootNode(e){return"getRootNode"in e?e.getRootNode():document}(t),r=function elementFromPoint(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)}(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},tn=null,nn=function setDropEffect(e,t){try{e.dropEffect=t}catch(e){}},rn=function dragenter(e,t){return function(e){e.preventDefault(),tn=e.target,t.forEach(function(t){var n=t.element,r=t.onenter;en(e,n)&&(t.state="enter",r(Xt(e)))})}},an=function dragover(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Ut(n).then(function(r){var o=!1;t.some(function(t){var i=t.filterElement,a=t.element,s=t.onenter,l=t.onexit,c=t.ondrag,u=t.allowdrop;nn(n,"copy");var d=u(r);if(d)if(en(e,a)){if(o=!0,null===t.state)return t.state="enter",void s(Xt(e));if(t.state="over",i&&!d)return void nn(n,"none");c(Xt(e))}else i&&!o&&nn(n,"none"),t.state&&(t.state=null,l(Xt(e)));else nn(n,"none")})})}},sn=function drop(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Ut(n).then(function(n){t.forEach(function(t){var r=t.filterElement,o=t.element,i=t.ondrop,a=t.onexit,s=t.allowdrop;t.state=null;var l=s(n);l?r&&!en(e,o)||i(Xt(e),n):a(Xt(e))})})}},ln=function dragleave(e,t){return function(e){tn===e.target&&t.forEach(function(t){var n=t.onexit;t.state=null,n(Xt(e))})}},cn=function createHopper(e,t,n){e.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,o=n.requiresDropOnElement,i=function createDragNDropClient(e,t,n){var r=Jt(t),o={element:e,filterElement:n,state:null,ondrop:function ondrop(){},onenter:function onenter(){},ondrag:function ondrag(){},onexit:function onexit(){},onload:function onload(){},allowdrop:function allowdrop(){}};return o.destroy=r.addListener(o),o}(e,r?document.documentElement:e,o),a="",s="";i.allowdrop=function(e){return t(e)},i.ondrop=function(e,n){t(n)?(s="drag-drop",l.onload(n,e)):l.ondragend(e)},i.ondrag=function(e){l.ondrag(e)},i.onenter=function(e){s="drag-over",l.ondragstart(e)},i.onexit=function(e){s="drag-exit",l.ondragend(e)};var l={updateHopperState:function updateHopperState(){a!==s&&(e.dataset.hopperState=s,a=s)},onload:function onload(){},ondragstart:function ondragstart(){},ondrag:function ondrag(){},ondragend:function ondragend(){},destroy:function destroy(){i.destroy()}};return l},un=!1,dn=[],fn=function handlePaste(e){Ut(e.clipboardData).then(function(e){e.length&&dn.forEach(function(t){return t(e)})})},pn=function createPaster(){var e=function cb(e){t.onload(e)},t={destroy:function destroy(){!function unlisten(e){Y(dn,dn.indexOf(e)),0===dn.length&&(document.removeEventListener("paste",fn),un=!1)}(e)},onload:function onload(){}};return function listen(e){dn.includes(e)||(dn.push(e),un||(un=!0,document.addEventListener("paste",fn)))}(e),t},hn=null,gn=null,mn=[],An=function assist(e,t){e.element.textContent=t},vn=function listModified(e,t,n){var r=e.query("GET_TOTAL_ITEMS");An(e,n+" "+t+", "+r+" "+(1===r?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(gn),gn=setTimeout(function(){!function clear(e){e.element.textContent=""}(e)},1500)},yn=function isUsingFilePond(e){return e.element.parentNode.contains(document.activeElement)},bn=function itemProcessedUndo(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id),o=r.filename,i=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");An(t,o+" "+i)},wn=function itemError(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id),o=r.filename;An(t,n.status.main+" "+o+" "+n.status.sub)},_n=C({create:function create(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,r(t.element,"role","status"),r(t.element,"aria-live","polite"),r(t.element,"aria-relevant","additions")},ignoreRect:!0,write:S({DID_LOAD_ITEM:function itemAdded(e){var t=e.root,n=e.action;if(yn(t)){t.element.textContent="";var r=t.query("GET_ITEM",n.id);mn.push(r.filename),clearTimeout(hn),hn=setTimeout(function(){vn(t,mn.join(", "),t.query("GET_LABEL_FILE_ADDED")),mn.length=0},750)}},DID_REMOVE_ITEM:function itemRemoved(e){var t=e.root,n=e.action;if(yn(t)){var r=n.item;vn(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function itemProcessed(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id),o=r.filename,i=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");An(t,o+" "+i)},DID_ABORT_ITEM_PROCESSING:bn,DID_REVERT_ITEM_PROCESSING:bn,DID_THROW_ITEM_LOAD_ERROR:wn,DID_THROW_ITEM_INVALID:wn,DID_THROW_ITEM_PROCESSING_ERROR:wn}),tag:"span",name:"assistant"}),En=function calculateChildrenVisualHeight(e){return e.reduce(function(e,t){var n=t.rect.outer.bottom;return n>e&&(e=n),e},0)},Cn=function calculateRootBoundingBoxHeight(e,t){if(t.boxBounding)return t.boxBounding;var n=e.ref.measureHeight||null,r=parseInt(e.style.maxHeight,10)||null,o=0===n?null:n;return t.boxBounding={cappedHeight:r,fixedHeight:o},e.element.removeChild(e.ref.measure),e.ref.measure=null,t.boxBounding},Sn=function calculateChildrenBoundingBoxHeight(e){return e.reduce(function(e,t){return e+t.rect.inner.bottom+t.rect.element.marginBottom},0)},Tn=function exceedsMaxFiles(e,t){var n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),i=e.query("GET_MAX_FILES"),a=t.length;if(!r&&a>1)return!0;var s=D(i=r?i:n?i:1);return!!(s&&o+a>i)},xn=S({DID_SET_ALLOW_BROWSE:function toggleAllowBrowse(e){var t=e.root,n=e.props,r=e.action;r.value?t.ref.browser=t.appendChildView(t.createChildView(Rt,Object.assign({},n,{onload:function onload(e){if(Tn(t,e))return!1;q(e,function(e){t.dispatch("ADD_ITEM",{interactionMethod:W.BROWSE,source:e,index:0})})}})),0):t.ref.browser&&t.removeChildView(t.ref.browser)},DID_SET_ALLOW_DROP:function toggleAllowDrop(e){var t=e.root,n=(e.props,e.action);if(n.value&&!t.ref.hopper){var r=cn(t.element,function(e){if(Tn(t,e))return!1;var n=t.query("GET_DROP_VALIDATION");return!n||e.every(function(e){return se("ALLOW_HOPPER_ITEM",e,{query:t.query}).every(function(e){return!0===e})})},{catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});r.onload=function(e,n){var r=t.ref.list.childViews[0],o=Ot(r,{left:n.scopeLeft,top:n.scopeTop-t.ref.list.rect.outer.top+t.ref.list.element.scrollTop});q(e,function(e){t.dispatch("ADD_ITEM",{interactionMethod:W.DROP,source:e,index:o})}),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},r.ondrag=function debounce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),o=null;return function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];clearTimeout(o);var l=Date.now()-r,c=function fn(){r=Date.now(),e.apply(void 0,a)};l<t?n||(o=setTimeout(c,t-l)):c()}}(function(e){t.dispatch("DID_DRAG",{position:e})}),r.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=r,t.ref.drip=t.appendChildView(t.createChildView(Ft))}else!n.value&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},DID_SET_ALLOW_PASTE:function toggleAllowPaste(e){var t=e.root,n=e.action;n.value?(t.ref.paster=pn(),t.ref.paster.onload=function(e){q(e,function(e){t.dispatch("ADD_ITEM",{interactionMethod:W.PASTE,source:e,index:0})})}):t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)}}),On=C({name:"root",read:function read(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:function create(e){var t=e.root,n=e.props,r=t.query("GET_ID");r&&(t.element.id=r);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").forEach(function(e){t.element.classList.add(e)}),t.ref.label=t.appendChildView(t.createChildView(Mt,Object.assign({},n,{translateY:null}))),t.ref.list=t.appendChildView(t.createChildView(Bt,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Et,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(_n,Object.assign({},n))),t.ref.measure=Qe("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure)},write:function write(e){var t=e.root,n=e.props,r=e.actions;xn({root:t,props:n,actions:r});var o=t.ref,a=o.hopper,s=o.label,l=o.list,c=o.panel,u=t.query("GET_ALLOW_MULTIPLE"),d=t.query("GET_TOTAL_ITEMS"),f=t.query("GET_MAX_FILES"),p=u?d===f:1===d,h=[].concat(i(l.childViews[0].childViews)),g=[l],m=r.find(function(e){return"DID_ADD_ITEM"===e.type});if(p&&m){var A=m.data.interactionMethod;s.opacity=0,u?s.translateY=-s.rect.element.height:A===W.API?s.translateX=40:s.translateY=A===W.BROWSE?40:-40}else p||(s.opacity=1,s.translateY=t.rect.element.paddingTop,s.translateX=0,g.push(s),h.push(s));if(a&&a.updateHopperState(),s.caption){l.translateY=u?s.rect.outer.bottom:t.rect.element.paddingTop;var v=Cn(t,n),y=Sn(h),b=En(g),w=d>0?.5*t.rect.element.paddingTop:0;if(v.fixedHeight){c.scalable=!1,c.height=v.fixedHeight+t.rect.element.paddingTop;var _=v.fixedHeight-l.rect.outer.top;l.overflow=y>c.height?_:null}else if(v.cappedHeight){c.scalable=!0;var E=Math.min(v.cappedHeight,y);t.height=E+w+t.rect.element.paddingTop;var C=E+w;c.height=Math.min(v.cappedHeight,b+w);var S=E-l.rect.outer.top-t.rect.element.paddingTop;l.overflow=y>C?S:null}else c.scalable=!0,t.height=y+w+t.rect.element.paddingTop,c.height=b+w}},destroy:function destroy(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy()},mixins:{styles:["height"]}}),kn=function createApp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null,a=ce(),s=function createStore(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=[],i=[],a=function dispatch(e,t,n){n?i.push({type:e,data:t}):(u[e]&&u[e](t),o.push({type:e,data:t}))},s=function query(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return c[e]?(t=c)[e].apply(t,r):null},l={getState:function getState(){return Object.assign({},r)},processActionQueue:function processActionQueue(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:function processDispatchQueue(){var e=[].concat(i);i.length=0,e.forEach(function(e){var t=e.type,n=e.data;a(t,n)})},dispatch:a,query:s},c={};t.forEach(function(e){c=Object.assign({},e(r),c)});var u={};return n.forEach(function(e){u=Object.assign({},e(a,s,r),u)}),l}(function createInitialState(e){return{items:[],options:V(e)}}(a),[fe,function createOptionQueries(e){return function(n){var r={};return t(e,function(e){r["GET_"+G(e,"_").toUpperCase()]=function(t){return n.options[e]}}),r}}(a)],[je,function createOptionActions(e){return function(n,r,o){var i={};return t(e,function(e){var t=G(e,"_").toUpperCase();i["SET_"+t]=function(r){try{o.options[e]=r.value}catch(e){}n("DID_SET_"+t,{value:o.options[e]})}}),i}}(a)]);s.dispatch("SET_OPTIONS",{options:e});var l=On(s,{id:K()}),c=!1,u=!1,d={_read:function _read(){c||(l._read(),u=l.rect.element.hidden)},_write:function _write(e){if(!u){var t=s.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});c&&!t.length||(g(t),(c=l._write(e,t))&&s.processDispatchQueue())}}},p=function createEvent(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.source)n.file=t.source;else if(t.item||t.id){var r=t.item?t.item:s.query("GET_ITEM",t.id);n.file=r?ee(r):null}return/progress/.test(e)&&(n.progress=t.progress),n}},h={DID_DESTROY:p("destroy"),DID_INIT:p("init"),DID_THROW_MAX_FILES:p("warning"),DID_START_ITEM_LOAD:p("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:p("addfileprogress"),DID_LOAD_ITEM:p("addfile"),DID_THROW_ITEM_INVALID:[p("error"),p("addfile")],DID_THROW_ITEM_LOAD_ERROR:[p("error"),p("addfile")],DID_START_ITEM_PROCESSING:p("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:p("processfileprogress"),DID_ABORT_ITEM_PROCESSING:p("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:p("processfile"),DID_REVERT_ITEM_PROCESSING:p("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[p("error"),p("processfile")],SPLICE_ITEM:p("removefile")},g=function routeActionsToEvents(e){e.length&&e.forEach(function(e){if(h[e.type]){var t=h[e.type];(Array.isArray(t)?t:[t]).forEach(function(t){setTimeout(function(){!function exposeEvent(e){var t=Object.assign({pond:b},e);delete t.type,l.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter(function(e){return!r.includes(e)}).forEach(function(t){return n.push(e[t])}),b.fire.apply(b,[e.type].concat(n));var o=s.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)}(t(e.data))},0)})}})},m=function addFile(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){s.dispatch("ADD_ITEM",{interactionMethod:W.API,source:e,index:t.index,success:n,failure:r,options:t})})},A=function removeFile(e){return s.dispatch("REMOVE_ITEM",{query:e}),null===s.query("GET_ITEM",e)},v=function getFiles(){return s.query("GET_ITEMS")},y=function processFile(e){return new Promise(function(t,n){s.dispatch("PROCESS_ITEM",{query:e,success:function success(e){te(function(){t(e)})},failure:function failure(e){te(function(){n(e)})}})})},b=Object.assign({},X(),d,function createOptionAPI(e,n){var r={};return t(n,function(t){r[t]={get:function get(){return e.getState().options[t]},set:function set(n){e.dispatch("SET_"+G(t,"_").toUpperCase(),{value:n})}}}),r}(s,a),{setOptions:function setOptions(e){return s.dispatch("SET_OPTIONS",{options:e})},addFile:m,addFiles:function addFiles(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(function(e,n){var r=[],a={};if(O(t[0]))r.push.apply(r,i(t[0])),Object.assign(a,t[1]||{});else{var s=t[t.length-1];"object"!==(void 0===s?"undefined":o(s))||s instanceof Blob||Object.assign(a,t.pop()),r.push.apply(r,t)}var l=[],c=q(r,function(e){l.push(m(e,a))});Promise.all(c).then(function(){Promise.all(l).then(function(t){e(t)})})})},getFile:function getFile(e){return s.query("GET_ITEM",e)},processFile:y,removeFile:A,getFiles:v,processFiles:function processFiles(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t;return r.length?Promise.all(r.map(y)):Promise.all(v().map(y))},removeFiles:function removeFiles(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t,o=v();return r.length?r.map(function(e){return f(e)?o[e]?o[e].id:null:e}).filter(function(e){return e}).map(A):Promise.all(o.map(A))},browse:function browse(){var e=l.element.querySelector("input[type=file]");e&&e.click()},destroy:function destroy(){b.fire("destroy",l.element),s.dispatch("ABORT_ALL"),l._destroy(),s.dispatch("DID_DESTROY")},insertBefore:function insertBefore$$1(e){return T(l.element,e)},insertAfter:function insertAfter$$1(e){return x(l.element,e)},appendTo:function appendTo(e){return e.appendChild(l.element)},replaceElement:function replaceElement(e){T(l.element,e),e.parentNode.removeChild(e),r=e},restoreElement:function restoreElement(){r&&(x(r,l.element),l.element.parentNode.removeChild(l.element),r=null)},isAttachedTo:function isAttachedTo(e){return l.element===e||r===e},element:{get:function get$$1(){return l.element}}});return s.dispatch("DID_INIT"),n(b)},Bn=function createAppObject(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};t(ce(),function(e,t){n[e]=t[0]});var r=kn(Object.assign({},n,e));return r},Pn=function attributeNameToPropertyName(e){return function toCamels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),function(e){return e.charAt(1).toUpperCase()})}(e.replace(/^data-/,""))},In=function getAttributesAsObject(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[].concat(i(e.attributes)).reduce(function(t,n){var o=r(e,n.name);return t[Pn(n.name)]=o===n.name||o,t},{});return function mapObject(e,n){t(n,function(n,r){t(e,function(t,o){var i=new RegExp(n),a=i.test(t);if(a&&(delete e[t],!1!==r))if(R(r))e[r]=o;else{var s=r.group;j(r)&&!e[s]&&(e[s]={}),e[s][function lowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.slice(1)}(t.replace(i,""))]=o}}),r.mapping&&mapObject(e[r.group],r.mapping)})}(o,n),o},Rn=function createApp(){return function isNode(e){return e instanceof HTMLElement}(arguments.length<=0?void 0:arguments[0])?function createAppAtElement(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};se("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},t),o=In("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(o).forEach(function(e){j(o[e])?(j(r[e])||(r[e]={}),Object.assign(r[e],o[e])):r[e]=o[e]}),r.files=(t.files||[]).concat([].concat(i(e.querySelectorAll("input:not([type=file])"))).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var a=Bn(r);return e.files&&[].concat(i(e.files)).forEach(function(e){a.addFile(e)}),a.replaceElement(e),a}.apply(void 0,arguments):Bn.apply(void 0,arguments)},Ln=["fire","_read","_write"],Mn=function createAppAPI(e){var t={};return J(e,t,Ln),t},Dn=function replaceInString(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,function(e,n){return t[n]})},Nn=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Fn=["css","csv","html","txt"],Un={zip:"zip|compressed",epub:"application/epub+zip"},Hn=function guesstimateMimeType(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Nn.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Fn.includes(e)?"text/"+e:Un[e]||null},jn=function createWorker(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return URL.revokeObjectURL(n),{transfer:function transfer(e,t){},post:function post(e,t,n){var o=K();r.onmessage=function(e){e.data.id===o&&t(e.data.message)},r.postMessage({id:o,message:e},n)},terminate:function terminate(){r.terminate()}}},Qn=function loadImage(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e})},zn=function renameFile(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},$n=function copyFile(e){return zn(e,e.name)},Vn=[],Gn=function createAppPlugin(e){if(!Vn.includes(e)){Vn.push(e);var n=e({addFilter:le,utils:{Type:oe,forin:t,isString:R,isFile:Fe,toNaturalFileSize:qe,replaceInString:Dn,getExtensionFromFilename:me,getFilenameWithoutExtension:Pe,guesstimateMimeType:Hn,getFileFromBlob:ye,getFilenameFromURL:ge,createRoute:S,createWorker:jn,createView:C,loadImage:Qn,copyFile:$n,renameFile:zn,applyFilterChain:ae,createBlob:be}});!function extendDefaultOptions(e){Object.assign(ue,e)}(n.options)}},Wn={apps:[]},Kn="undefined"!=typeof window&&void 0!==window.document;if(Kn){!function createPainter(e){var t=1e3/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60),n=null;!function tick(r){window.requestAnimationFrame(tick),n||(n=r);var o=r-n;o<=t||(n=r-o%t,e(r))}(performance.now())}(function createUpdater(e,t,n){return function(r){e.forEach(function(e){return e[t]()}),e.forEach(function(e){return e[n](r)})}}(Wn.apps,"_read","_write"),60);var qn=function dispatch(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:rr,create:Zn,destroy:er,parse:tr,find:nr,registerPlugin:or,setOptions:ar}})),document.removeEventListener("DOMContentLoaded",dispatch)};"loading"!==document.readyState?setTimeout(function(){return qn()},0):document.addEventListener("DOMContentLoaded",qn)}var Yn=function updateOptionTypes(){return t(ce(),function(e,t){Jn[e]=t[1]})},Xn=Object.assign({},Ie),Jn={};Yn();var Zn=function create(){var e=Rn.apply(void 0,arguments);return e.on("destroy",er),Wn.apps.push(e),Mn(e)},er=function destroy(e){var t=Wn.apps.findIndex(function(t){return t.isAttachedTo(e)});if(t>=0){var n=Wn.apps.splice(t,1)[0];return n.restoreElement(),!0}return!1},tr=function parse(e){var t=[].concat(i(e.querySelectorAll(".filepond"))),n=t.filter(function(e){return!Wn.apps.find(function(t){return t.isAttachedTo(e)})});return n.map(function(e){return Zn(e)})},nr=function find(e){var t=Wn.apps.find(function(t){return t.isAttachedTo(e)});return t?Mn(t):null},rr=function supported(){return!!Kn&&!(function isOperaMini(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)}()||!function hasVisibility(){return"visibilityState"in document}()||!function hasPromises(){return"Promise"in window}()||!function hasBlobSlice(){return"slice"in Blob.prototype}()||!function hasCreateObjectURL(){return"URL"in window&&"createObjectURL"in window.URL}()||!function hasTiming(){return"performance"in window}())},or=function registerPlugin(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(Gn),Yn()},ir=function getOptions$$1(){var e={};return t(ce(),function(t,n){e[t]=n[0]}),e},ar=function setOptions$$1(e){return j(e)&&(Wn.apps.forEach(function(t){t.setOptions(e)}),function setOptions(e){t(e,function(e,t){ue[e]&&(ue[e][0]=$(t,ue[e][0],ue[e][1]))})}(e)),ir()};e.FileStatus=Xn,e.OptionTypes=Jn,e.create=Zn,e.destroy=er,e.parse=tr,e.find=nr,e.supported=rr,e.registerPlugin=or,e.getOptions=ir,e.setOptions=ar,e.FileOrigin=Re,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="mx-auto p-4 m-4 text-center">\n    <div class="loader"></div>\n</div>'},useData:!0})},function(t,n,r){"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(e){return typeof e}:function _typeof2(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * Doka 6.5.1
 * Copyright 2019 PQINA Inc - All Rights Reserved
 * Please visit https://pqina.nl/doka/ for further information
 */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(n,"a",function(){return _i});var o=function insertBefore(e,t){return t.parentNode.insertBefore(e,t)},a=function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},f=function isObject(e){return"object"===_typeof(e)&&null!==e},p=function forin(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},h=function createObject(e){var t={};return p(e,function(n){!function defineProperty(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,n):e[t]=n}(t,n,e[n])}),t},g=function attr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},A=["svg","path"],v=function isSVGElement(e){return A.includes(e)},y=function createElement(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===_typeof(t)&&(n=t,t=null);var r=v(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t&&(v(e)?g(r,"class",t):r.className=t),p(n,function(e,t){g(r,e,t)}),r},w=function appendChild(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},E=function getViewRect(e,t,n,r){var o=n[0]||e.left,i=n[1]||e.top,a=o+e.width,s=i+e.height*(r[1]||1),l={element:_objectSpread({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:a,bottom:s}};return t.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){C(l.inner,_objectSpread({},e.inner)),C(l.outer,_objectSpread({},e.outer))}),S(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,S(l.outer),l},C=function expandRect(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},S=function calculateRectSize(e){e.width=e.right-e.left,e.height=e.bottom-e.top},T=function isNumber(e){return"number"==typeof e},x=function spring(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,i=e.mass,a=void 0===i?10:i,s=e.delay,l=void 0===s?0:s,c=null,u=null,d=0,f=!1,p=null,g=h({interpolate:function interpolate(e){if(null===p&&(p=e),!(e-l<p||f)){if(!T(c)||!T(u))return f=!0,void(d=0);!function thereYet(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r}(u+=d+=-(u-c)*n/a,c,d*=o)?g.onupdate(u):(u=c,d=0,f=!0,g.onupdate(u),g.oncomplete(u))}},target:{set:function set(e){if(T(e)&&!T(u)&&(u=e,p=null),null===c&&(c=e,u=e,p=null),f&&(p=null),u===(c=e)||void 0===c)return f=!0,d=0,p=null,g.onupdate(u),void g.oncomplete(u);f=!1},get:function get(){return c}},resting:{get:function get(){return f}},onupdate:function onupdate(){},oncomplete:function oncomplete(){},position:{get:function get(){return u}}});return g},O=function easeInOutQuad(e){return e<.5?2*e*e:(4-2*e)*e-1},k={spring:x,tween:function tween(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,o=void 0===r?500:r,i=n.easing,a=void 0===i?O:i,s=n.delay,l=void 0===s?0:s,c=null,u=!0,d=!1,f=null,p=h({interpolate:function interpolate(n){u||null===f||(null===c&&(c=n),n-c<l||((e=n-c-l)<o?(t=e/o,p.onupdate((e>=0?a(d?1-t:t):0)*f)):(e=1,t=d?0:1,p.onupdate(t*f),p.oncomplete(t*f),u=!0)))},target:{get:function get(){return d?0:f},set:function set(e){if(null===f)return f=e,p.onupdate(e),void p.oncomplete(e);e<f?(f=1,d=!0):(d=!1,f=e),u=!1,c=null}},resting:{get:function get(){return u}},onupdate:function onupdate(){},oncomplete:function oncomplete(){}});return p}},B=function addGetSet(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach(function(t){e.forEach(function(e){var i=e,s=function o(){return n[e]},l=function a(t){return n[e]=t};"object"===_typeof(e)&&(i=e.key,s=e.getter||s,l=e.setter||l),t[i]&&!r||(t[i]={get:s,set:l})})})},I=function addEvent(e){return function(t,n){e.addEventListener(t,n)}},R=function removeEvent(e){return function(t,n){e.removeEventListener(t,n)}},M={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},D=function propsHaveChanged(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},N=function applyStyles(e,t){var n=t.opacity,r=t.perspective,o=t.translateX,i=t.translateY,a=t.scaleX,s=t.scaleY,l=t.rotateX,c=t.rotateY,u=t.rotateZ,d=t.originX,f=t.originY,p=t.width,h=t.height,g="",m="";null==d&&null==f||(m+="transform-origin: ".concat(d||0,"px ").concat(f||0,"px;")),null!=r&&(g+="perspective(".concat(r,"px) ")),null==o&&null==i||(g+="translate3d(".concat(o||0,"px, ").concat(i||0,"px, 0) ")),null==a&&null==s||(g+="scale3d(".concat(null!=a?a:1,", ").concat(null!=s?s:1,", 1) ")),null!=u&&(g+="rotateZ(".concat(u,"rad) ")),null!=l&&(g+="rotateX(".concat(l,"rad) ")),null!=c&&(g+="rotateY(".concat(c,"rad) ")),""!=g&&(m+="transform:".concat(g,";")),null!=n&&(m+="opacity:".concat(n,";"),n<1&&(m+="pointer-events:none;"),0===n&&"BUTTON"===e.nodeName&&(m+="visibility:hidden;")),null!=p&&(m+="width:".concat(p,"px;")),null!=h&&(m+="height:".concat(h,"px;"));var A=e.elementCurrentStyle||"";m.length===A.length&&m===A||(e.style.cssText=m,e.elementCurrentStyle=m)},F={styles:function styles(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=e.view,a=_objectSpread({},n),s={};B(t,[r,o],n);var c=function l(){return i.rect?E(i.rect,i.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return r.rect={get:c},o.rect={get:c},t.forEach(function(e){n[e]=void 0===a[e]?M[e]:a[e]}),{write:function write(){if(D(s,n))return N(i.element,n),Object.assign(s,_objectSpread({},n)),!0},destroy:function destroy(){}}},listeners:function listeners(e){var t=e.viewExternalAPI,n=e.view,r=[],o=I(n.element),i=R(n.element);return t.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},t.off=function(e,t){r.splice(r.findIndex(function(n){return n.type===e&&n.fn===t}),1),i(e,t)},{write:function write(){return!0},destroy:function destroy(){r.forEach(function(e){i(e.type,e.fn)})}}},animations:function animations(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=_objectSpread({},n),a=[];return p(t,function(e,t){var s=function createAnimator(e,t,n){var r=e[t]&&"object"===_typeof(e[t][n])?e[t][n]:e[t]||e,o="string"==typeof r?r:r.type,i="object"===_typeof(r)?_objectSpread({},r):{};return k[o]?k[o](i):null}(t);s&&(s.onupdate=function(t){n[e]=t},s.target=i[e],B([{key:e,setter:function setter(e){s.target!==e&&(s.target=e)},getter:function getter(){return n[e]}}],[r,o],n,!0),a.push(s))}),{write:function write(e){var t=!0;return a.forEach(function(n){n.resting||(t=!1),n.interpolate(e)}),t},destroy:function destroy(){}}},apis:function apis(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;B(t,r,n)}},U=function updateRect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent&&"fixed"!==n.position,e},H="undefined"!=typeof window&&void 0!==window.document,j=function isBrowser(){return H},Q="children"in(j()?y("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},z=function createView(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,i=e.attributes,a=void 0===i?{}:i,s=e.read,l=void 0===s?function(){}:s,c=e.write,u=void 0===c?function(){}:c,d=e.create,f=void 0===d?function(){}:d,p=e.destroy,g=void 0===p?function(){}:p,m=e.filterFrameActionsForChild,A=void 0===m?function(e,t){return t}:m,v=e.didCreateView,b=void 0===v?function(){}:v,_=e.didWriteView,C=void 0===_?function(){}:_,S=e.shouldUpdateChildViews,T=void 0===S?function(){return!0}:S,x=e.ignoreRect,O=void 0!==x&&x,k=e.ignoreRectUpdate,B=void 0!==k&&k,P=e.mixins,I=void 0===P?[]:P;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=y(n,o?"doka--".concat(o):null,a),i=window.getComputedStyle(r,null),s=U(),c=null,d=!1,p=[],m=[],v={},_={},k=[u],P=[l],R=[g],L=function S(){return r},D=function x(){return[].concat(p)},N=function b(){return c||(c=E(s,p,[0,0],[1,1]))},H=function M(){return r.layoutCalculated=!1},j={element:{get:L},style:{get:function get(){return i}},childViews:{get:D}},z=_objectSpread({},j,{rect:{get:N},ref:{get:function get(){return v}},is:function is(e){return o===e},appendChild:w(r),createChildView:function(e){return function(t,n){return t(e,n)}}(e),linkView:function linkView(e){return p.push(e),e},unlinkView:function unlinkView(e){p.splice(p.indexOf(e),1)},appendChildView:function appendChildView(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}}(0,p),removeChildView:function removeChildView(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}}(r,p),registerWriter:function registerWriter(e){return k.push(e)},registerReader:function registerReader(e){return P.push(e)},registerDestroyer:function registerDestroyer(e){return R.push(e)},invalidateLayout:H,dispatch:e.dispatch,query:e.query}),$={element:{get:L},childViews:{get:D},rect:{get:N},resting:{get:function get(){return d}},isRectIgnored:function isRectIgnored(){return O},invalidateLayout:H,_read:function _read(){c=null,T({root:G,props:t})&&p.forEach(function(e){return e._read()}),!(B&&s.width&&s.height)&&U(s,r,i);var e={root:G,props:t,rect:s};P.forEach(function(t){return t(e)})},_write:function _write(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0===n.length;return k.forEach(function(o){!1===o({props:t,root:G,actions:n,timestamp:e})&&(r=!1)}),m.forEach(function(t){!1===t.write(e)&&(r=!1)}),T({props:t,root:G,actions:n,timestamp:e})&&(p.filter(function(e){return!!e.element.parentNode}).forEach(function(t){t._write(e,A(t,n))||(r=!1)}),p.forEach(function(t,o){t.element.parentNode||(G.appendChild(t.element,o),t._read(),t._write(e,A(t,n)),r=!1)})),d=r,C({props:t,root:G,actions:n,timestamp:e}),r},_destroy:function _destroy(){m.forEach(function(e){return e.destroy()}),R.forEach(function(e){e({root:G})}),p.forEach(function(e){return e._destroy()})}},V=_objectSpread({},j,{rect:{get:function get(){return s}}});Object.keys(I).sort(function(e,t){return"styles"===e?1:"styles"===t?-1:0}).forEach(function(e){var n=F[e]({mixinConfig:I[e],viewProps:t,viewState:_,viewInternalAPI:z,viewExternalAPI:$,view:h(V)});n&&m.push(n)});var G=h(z);f({root:G,props:t});var W=Q(r)||0;return p.forEach(function(e,t){G.appendChild(e.element,W+t)}),b(G),h($)}},$=function createRoute(e,t){return function(n){var r=n.root,o=n.props,i=n.actions,a=void 0===i?[]:i,s=n.timestamp;if(a.filter(function(t){return e[t.type]}).forEach(function(t){return e[t.type]({root:r,props:o,action:t.data,timestamp:s})}),t)return t({root:r,props:o,actions:a,timestamp:s})}},V=function isArray(e){return Array.isArray(e)},G=function isEmpty(e){return null==e},W=function trim(e){return e.trim()},K=function toString(e){return""+e},q=function isBoolean(e){return"boolean"==typeof e},Y=function isString(e){return"string"==typeof e},X=function toNumber(e){return T(e)?e:Y(e)?K(e).replace(/[a-z]+/gi,""):0},J=function toInt(e){return parseInt(X(e),10)},Z=function isInt(e){return T(e)&&isFinite(e)&&Math.floor(e)===e},ee=function toBytes(e){if(Z(e))return e;var t=K(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*J(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*J(t)):J(t)},te=function getType(e){return V(e)?"array":function isNull(e){return null===e}(e)?"null":Z(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":_typeof(e)},ne={array:function toArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return G(e)?[]:V(e)?e:K(e).split(t).map(W).filter(function(e){return e.length})},boolean:function toBoolean(e){return q(e)?e:"true"===e},int:function int(e){return"bytes"===te(e)?ee(e):J(e)},float:function toFloat(e){return parseFloat(X(e))},bytes:ee,string:function string(e){return function isFunction(e){return"function"==typeof e}(e)?e:K(e)},object:function object(e){try{return JSON.parse(function replaceSingleQuotes(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')}(e))}catch(t){return e}},file:function file(e){return e},function:function _function(e){return function toFunctionReference(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t}(e)}},re=function getValueByType(e,t,n){if(e===t)return e;var r=te(e);if(r!==n){var o=function convertTo(e,t){return ne[t](e)}(e,n);if(r=te(o),null===o)throw'Trying to assign value with incorrect type, allowed type: "'.concat(n,'"');e=o}return e},oe=function createOptions(e){var t={};return p(e,function(n){var r=Y(e[n])?e[n]:n,o=e[r];t[n]=r===n?function createOption(e,t){var n=e;return{enumerable:!0,get:function get(){return n},set:function set(r){n=re(r,e,t)}}}(o[0],o[1]):t[r]}),h(t)},ie=function resetState(e){e.file=null,e.activeView=null,e.markup=[],e.markupToolValues={},e.rootRect={x:0,y:0,left:0,top:0,width:0,height:0},e.stage=null,e.stageOffset=null,e.image=null,e.zoomTimeoutId=null,e.instantUpdate=!1,e.filePromise=null,e.fileLoader=null,e.instructions={size:null,crop:null,filter:null,color:null},e.filter=null,e.filterName=null,e.filterValue=null,e.colorValues={},e.colorMatrices={},e.size={width:!1,height:!1,aspectRatioLocked:!0,aspectRatioPrevious:!1},e.crop={rectangle:null,transforms:null,rotation:null,flip:null,aspectRatio:null,isRotating:!1,isDirty:!1,limitToImageBounds:!0,draft:{rectangle:null,transforms:null}}},ae=function fromCamels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(t)},se=function getUniqueId(){return Math.random().toString(36).substr(2,9)},le=function on(){var e=[],n=function t(n,r){!function arrayRemove(e,t){e.splice(t,1)}(e,e.findIndex(function(e){return e.event===n&&(e.cb===r||!r)}))};return{fire:function fire(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.filter(function(e){return e.event===t}).map(function(e){return e.cb}).forEach(function(e){setTimeout(function(){e.apply(void 0,r)},0)})},on:function on(t,n){e.push({event:t,cb:n})},onOnce:function onOnce(t,r){e.push({event:t,cb:function cb(){n(t,r),r.apply(void 0,arguments)}})},off:n}},ce="boolean",ue="int",de="number",fe="string",pe="array",he="object",ge="function",me=null,Ae=function isIOS(){return null===me&&(me=(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),me},ve=function getOptions(){return _objectSpread({},be)},ye=function setOption(e,t){e=function correctDeprecatedOption(e){return Y(be[e])?be[e]:e}(e),be[e][0]=re(t,be[e][0],be[e][1])},be={id:[null,fe],className:[null,fe],src:[null,"file"],storageName:["doka",fe],maxImagePreviewWidth:[1500,ue],maxImagePreviewHeight:[1500,ue],imagePreviewScaleMode:["stage",fe],allowPreviewFitToView:[!0,ce],allowButtonCancel:[!0,ce],allowButtonConfirm:[!0,ce],allowDropFiles:[!1,ce],allowBrowseFiles:[!0,ce],allowAutoClose:[!0,ce],allowAutoDestroy:[!1,ce],utils:[["crop","filter","color","markup"],pe],util:[null,fe],initialState:[null,he],outputData:[!1,ce],outputFile:[!0,ce],outputCorrectImageExifOrientation:[!0,ce],outputStripImageHead:[!0,ce],outputType:[null,fe],outputQuality:[null,ue],outputFit:["cover",fe],outputUpscale:[!0,ce],outputWidth:[null,ue],outputHeight:[null,ue],outputCanvasBackgroundColor:[null,fe],outputCanvasMemoryLimit:[j()&&Ae()?16777216:null,ue],outputCanvasSyncTarget:[null,he],size:[null,he],sizeMin:[{width:1,height:1},he],sizeMax:[{width:9999,height:9999},he],filter:[null,he],filters:[{original:{label:"Original",matrix:function matrix(){return null}},chrome:{label:"Chrome",matrix:function matrix(){return[1.398,-.316,.065,-.273,.201,-.051,1.278,-.08,-.273,.201,-.051,.119,1.151,-.29,.215,0,0,0,1,0]}},fade:{label:"Fade",matrix:function matrix(){return[1.073,-.015,.092,-.115,-.017,.107,.859,.184,-.115,-.017,.015,.077,1.104,-.115,-.017,0,0,0,1,0]}},mono:{label:"Mono",matrix:function matrix(){return[.212,.715,.114,0,0,.212,.715,.114,0,0,.212,.715,.114,0,0,0,0,0,1,0]}},noir:{label:"Noir",matrix:function matrix(){return[.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,0,0,0,1,0]}}},he],crop:[null,he],cropShowSize:[!1,ce],cropZoomTimeout:[null,ue],cropMask:[null,ge],cropMaskInset:[0,ue],cropAllowResizeRect:[!0,ce],cropAllowImageTurnLeft:[!0,ce],cropAllowImageTurnRight:[!1,ce],cropAllowImageFlipHorizontal:[!0,ce],cropAllowImageFlipVertical:[!0,ce],cropAllowToggleLimit:[!1,ce],cropLimitToImageBounds:[!0,ce],cropAllowInstructionZoom:[!1,ce],cropAllowRotate:[!0,ce],cropResizeMatchImageAspectRatio:[!1,ce],cropResizeKeyCodes:[[18,91,92,93],pe],cropResizeScrollRectOnly:[!1,ce],cropAspectRatio:[null,fe],cropAspectRatioOptions:[null,pe],cropMinImageWidth:[1,ue],cropMinImageHeight:[1,ue],colorBrightness:[0,de],colorBrightnessRange:[[-.25,.25],pe],colorContrast:[1,de],colorContrastRange:[[.5,1.5],pe],colorExposure:[1,de],colorExposureRange:[[.5,1.5],pe],colorSaturation:[1,de],colorSaturationRange:[[0,2],pe],markup:[null,pe],markupUtil:["select",fe],markupFilter:[function(){return!0},ge],markupAllowAddMarkup:[!0,ce],markupAllowCustomColor:[!0,ce],markupDrawDistance:[4,de],markupColor:["#000",fe],markupColorOptions:[[["White","#fff","#f6f6f6"],["Silver","#9e9e9e"],["Black","#000","#333"],["Red","#f44336"],["Orange","#ff9800"],["Yellow","#ffeb3b"],["Green","#4caf50"],["Blue","#2196f3"],["Violet","#3f51b5"],["Purple","#9c27b0"]],pe],markupFontSize:[.1,de],markupFontSizeOptions:[[["XL",.15],["L",.125],["M",.1],["S",.075],["XS",.05]],pe],markupFontFamily:["Helvetica, Arial, Verdana",fe],markupFontFamilyOptions:[[["Serif","Palatino, 'Times New Roman', serif"],["Sans Serif","Helvetica, Arial, Verdana"],["Monospaced","Monaco, 'Lucida Console', monospaced"]],pe],markupShapeStyle:[[.015,null],pe],markupShapeStyleOptions:[[["Fill",0,null,0],["Outline thick",.025,null,4],["Outline default",.015,null,2],["Outline thin",.005,null,1],["Outline dashed",.005,[.01],1]],pe],markupLineStyle:[[.015,null],pe],markupLineStyleOptions:[[["Thick",.025,null,4],["Default",.015,null,2],["Thin",.005,null,1],["Dashed",.005,[.01],1]],pe],markupLineDecoration:[["arrow-end"],pe],markupLineDecorationOptions:[[["None",[]],["Single arrow",["arrow-end"]],["Double arrow",["arrow-begin","arrow-end"]]],pe],beforeCreateBlob:[null,ge],afterCreateBlob:[null,ge],afterCreateOutput:[null,ge],onconfirm:[null,ge],oncancel:[null,ge],onclose:[null,ge],onloadstart:[null,ge],onload:[null,ge],onloaderror:[null,ge],onupdate:[null,ge],oninit:[null,ge],ondestroy:[null,ge],labelButtonReset:["Reset",fe],labelButtonCancel:["Cancel",fe],labelButtonConfirm:["Done",fe],labelButtonUtilCrop:["Crop",fe],labelButtonUtilResize:["Resize",fe],labelButtonUtilFilter:["Filter",fe],labelButtonUtilColor:["Colors",fe],labelButtonUtilMarkup:["Markup",fe],labelStatusMissingWebGL:["WebGL is required but is disabled on your browser",fe],labelStatusAwaitingImage:["Waiting for image…",fe],labelStatusLoadImageError:["Error loading image…",fe],labelStatusLoadingImage:["Loading image…",fe],labelStatusProcessingImage:["Processing image…",fe],labelColorBrightness:["Brightness",fe],labelColorContrast:["Contrast",fe],labelColorExposure:["Exposure",fe],labelColorSaturation:["Saturation",fe],labelMarkupTypeRectangle:["Square",fe],labelMarkupTypeEllipse:["Circle",fe],labelMarkupTypeText:["Text",fe],labelMarkupTypeLine:["Arrow",fe],labelMarkupSelectFontSize:["Size",fe],labelMarkupSelectFontFamily:["Font",fe],labelMarkupSelectLineDecoration:["Decoration",fe],labelMarkupSelectLineStyle:["Style",fe],labelMarkupSelectShapeStyle:["Style",fe],labelMarkupRemoveShape:["Remove",fe],labelMarkupToolSelect:["Select",fe],labelMarkupToolDraw:["Draw",fe],labelMarkupToolLine:["Arrow",fe],labelMarkupToolText:["Text",fe],labelMarkupToolRect:["Square",fe],labelMarkupToolEllipse:["Circle",fe],labelResizeWidth:["Width",fe],labelResizeHeight:["Height",fe],labelResizeApplyChanges:["Apply",fe],labelCropInstructionZoom:["Zoom in and out with your scroll wheel or touchpad.",fe],labelButtonCropZoom:["Zoom",fe],labelButtonCropRotateLeft:["Rotate left",fe],labelButtonCropRotateRight:["Rotate right",fe],labelButtonCropRotateCenter:["Center rotation",fe],labelButtonCropFlipHorizontal:["Flip horizontal",fe],labelButtonCropFlipVertical:["Flip vertical",fe],labelButtonCropAspectRatio:["Aspect ratio",fe],labelButtonCropToggleLimit:["Crop selection",fe],labelButtonCropToggleLimitEnable:["Limited to image",fe],labelButtonCropToggleLimitDisable:["Select outside image",fe],pointerEventsPolyfillScope:["root",fe],styleCropCorner:["circle",fe],styleFullscreenSafeArea:[j()&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"bottom":"none",fe],styleLayoutMode:[null,fe]},we=function limit(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(n,Math.max(t,e))},_e=function roundFloat(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return parseFloat(e.toFixed(t))},Ee=function roundVector(e,t){return{x:_e(e.x,t),y:_e(e.y,t)}},Ce=function vectorSubtract(e,t){return ke(e.x-t.x,e.y-t.y)},Se=function vectorDistanceSquared(e,t){return function vectorDot(e,t){return e.x*t.x+e.y*t.y}(Ce(e,t),Ce(e,t))},Te=function vectorDistance(e,t){return Math.sqrt(Se(e,t))},xe=function vectorLimit(e,t){return ke(we(e.x,t.x,t.x+t.width),we(e.y,t.y,t.y+t.height))},Oe=function vectorRotate(e,t,n){var r=Math.cos(t),o=Math.sin(t),i=ke(e.x-n.x,e.y-n.y);return ke(n.x+r*i.x-o*i.y,n.y+o*i.x+r*i.y)},ke=function createVector(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},Be=function rectEqualsRect(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},Pe=function rectTranslate(e,t){return Fe(e.x+t.x,e.y+t.y,e.width,e.height)},Ie={translate:Pe,rotate:function rectRotate(e,t,n){var r=function rotateRectCorners(e,t,n){return 0===t?{tl:e.tl,tr:e.tr,br:e.br,bl:e.bl}:{tl:Oe(e.tl,t,n),tr:Oe(e.tr,t,n),br:Oe(e.br,t,n),bl:Oe(e.bl,t,n)}}(Ne(e),t,n),o=r.tl,i=r.tr,a=r.br,s=r.bl,l=Math.min(o.x,i.x,a.x,s.x),c=Math.min(o.y,i.y,a.y,s.y),u=Math.max(o.x,i.x,a.x,s.x),d=Math.max(o.y,i.y,a.y,s.y);return Fe(l,c,u-l,d-c)},scale:function rectScale(e,t,n){return Fe(t*(e.x-n.x)+n.x,t*(e.y-n.y)+n.y,t*e.width,t*e.height)}},Re=function rectClone(e){return Fe(e.x,e.y,e.width,e.height)},Le=function rectBounds(e){return{top:e.y,right:e.x+e.width,bottom:e.y+e.height,left:e.x}},Me=function rectFromBounds(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{x:o,y:t,width:n-o,height:r-t}},De=function rectCenter(e){return ke(e.x+.5*e.width,e.y+.5*e.height)},Ne=function rectCorners(e){return{tl:{x:e.x,y:e.y},tr:{x:e.x+e.width,y:e.y},br:{x:e.x+e.width,y:e.y+e.height},bl:{x:e.x,y:e.y+e.height}}},Fe=function createRect(e,t,n,r){return{x:e,y:t,width:n,height:r}},Ue=function getNumericAspectRatioFromString(e){if(G(e))return e;if(/:/.test(e)){var t=e.split(":"),n=t[0];return t[1]/n}return parseFloat(e)},He=function getCenteredCropRect(e,t){var n=e.width,r=n*t;return r>e.height&&(n=(r=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-r),width:n,height:r}},je=function calculateCanvasSize(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.height/e.width,o=t,i=1,a=r;a>o&&(i=(a=o)/r);var s=Math.max(1/i,o/a),l=e.width/(n*s*i);return{width:l,height:l*t}},Qe=function createVector$1(e,t){return{x:e,y:t}},ze=function vectorSubtract$1(e,t){return Qe(e.x-t.x,e.y-t.y)},$e=function vectorDistance$1(e,t){return Math.sqrt(function vectorDistanceSquared$1(e,t){return function vectorDot$1(e,t){return e.x*t.x+e.y*t.y}(ze(e,t),ze(e,t))}(e,t))},Ve=function getOffsetPointOnEdge(e,t){var n=e,r=t,o=1.5707963267948966-t,i=Math.sin(1.5707963267948966),a=Math.sin(r),s=Math.sin(o),l=Math.cos(o),c=n/i;return Qe(l*(c*a),l*(c*s))},Ge=function getImageRectZoomFactor(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},o=r.x>.5?1-r.x:r.x,i=r.y>.5?1-r.y:r.y,a=2*o*e.width,s=2*i*e.height,l=function getRotatedRectSize(e,t){var n=e.width,r=e.height,o=Ve(n,t),i=Ve(r,t),a=Qe(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),s=Qe(e.x+e.width+Math.abs(i.y),e.y+Math.abs(i.x)),l=Qe(e.x-Math.abs(i.y),e.y+e.height-Math.abs(i.x));return{width:$e(a,s),height:$e(a,l)}}(t,n);return Math.max(l.width/a,l.height/s)},We=function getAxisAlignedImageRect(e,t){var n=t.origin,r=t.translation;return function rectTransform(e,t,n){return t.reduce(function(e,t){return(0,Ie[t[0]])(e,t[1],n)},e)}(e,[["scale",t.scale],["translate",r]],n)},Ke=function getOffsetPointOnEdge$1(e,t){var n=e,r=t,o=1.5707963267948966-t,i=Math.sin(1.5707963267948966),a=Math.sin(r),s=Math.sin(o),l=Math.cos(o),c=n/i;return ke(l*(c*a),l*(c*s))},qe=function getAxisAlignedCropRect(e,t,n,r){var o={x:e.x+t.x,y:e.y+t.y},i=function getRotatedRectCorners(e,t){var n=e.width,r=e.height,o=t%(Math.PI/2),i=Ke(n,o),a=Ke(r,o),s=Ne(e);return{tl:ke(s.tl.x+Math.abs(i.x),s.tl.y-Math.abs(i.y)),tr:ke(s.tr.x+Math.abs(a.y),s.tr.y+Math.abs(a.x)),br:ke(s.br.x-Math.abs(i.x),s.br.y+Math.abs(i.y)),bl:ke(s.bl.x-Math.abs(a.y),s.bl.y-Math.abs(a.x))}}(r,n),a=Oe(i.tl,-n,o),s=Oe(i.tr,-n,o),l=Oe(i.br,-n,o);return Fe(Math.min(a.x,s.x,l.x),Math.min(a.y,s.y,l.y),Math.max(a.x,s.x,l.x)-Math.min(a.x,s.x,l.x),Math.max(a.y,s.y,l.y)-Math.min(a.y,s.y,l.y))},Ye=function getCropFromView(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.origin,i=n.translation,a=We(e,n),s=2*Math.PI+n.rotation%(2*Math.PI),l=qe(o,i,s,t),c=De(l),u=t.height/t.width,d={x:(c.x-a.x)/a.width,y:(c.y-a.y)/a.height},f=d.y>.5?1-d.y:d.y,p=2*(d.x>.5?1-d.x:d.x)*a.width,h=2*f*a.height;return{center:d,zoom:r?Math.min(p/l.width,h/l.height):Math.min(a.width/l.width,a.height/l.height),rotation:n.rotation,aspectRatio:u,scaleToFit:r}},Xe=function getCropFromStateRounded(e,t){var n=Je(e,t);return{center:{x:_e(n.center.x),y:_e(n.center.y)},rotation:_e(n.rotation),zoom:_e(n.zoom),aspectRatio:_e(n.aspectRatio),flip:_objectSpread({},t.flip),scaleToFit:n.scaleToFit}},Je=function getCropFromState(e,t){var n=Ye(e,t.rectangle,t.transforms,t.limitToImageBounds);return{center:{x:n.center.x,y:n.center.y},rotation:n.rotation,zoom:n.zoom,aspectRatio:n.aspectRatio,flip:_objectSpread({},t.flip),scaleToFit:n.scaleToFit}},Ze=function limitSize(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=e.width,a=e.height;return i||a?(i=i&&we(i,t.width,n.width),a=a&&we(a,t.height,n.height),r?(a?i?"width"===o?a=i/r:"height"===o?i=a*r:(a*r<t.width?a=(i=t.width)/r:i/r<t.height&&(i=(a=t.height)*r),a*r>n.width?a=(i=n.width)/r:i/r>n.height&&(i=(a=n.height)*r)):a=we(a*r,t.width,n.width)/r:i=we(i/r,t.height,n.height)*r,{width:i,height:a}):{width:i,height:a}):{width:i,height:a}},et=function toRGBColorArray(e){var t;if(/^#/.test(e)){if(4===e.length){var n=e.split("");e="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]}var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}else/^rgb/.test(e)&&((t=e.match(/\d+/g).map(function(e){return parseInt(e,10)})).length=3);return t},tt=[],nt=function getColorMatrixFromMatrices(e){var t=[];return p(e,function(e,n){return t.push(n)}),t.length?t.reduce(function(e,t){return function dotColorMatrix(e,t){var n=new Array(20);return n[0]=e[0]*t[0]+e[1]*t[5]+e[2]*t[10]+e[3]*t[15],n[1]=e[0]*t[1]+e[1]*t[6]+e[2]*t[11]+e[3]*t[16],n[2]=e[0]*t[2]+e[1]*t[7]+e[2]*t[12]+e[3]*t[17],n[3]=e[0]*t[3]+e[1]*t[8]+e[2]*t[13]+e[3]*t[18],n[4]=e[0]*t[4]+e[1]*t[9]+e[2]*t[14]+e[3]*t[19]+e[4],n[5]=e[5]*t[0]+e[6]*t[5]+e[7]*t[10]+e[8]*t[15],n[6]=e[5]*t[1]+e[6]*t[6]+e[7]*t[11]+e[8]*t[16],n[7]=e[5]*t[2]+e[6]*t[7]+e[7]*t[12]+e[8]*t[17],n[8]=e[5]*t[3]+e[6]*t[8]+e[7]*t[13]+e[8]*t[18],n[9]=e[5]*t[4]+e[6]*t[9]+e[7]*t[14]+e[8]*t[19]+e[9],n[10]=e[10]*t[0]+e[11]*t[5]+e[12]*t[10]+e[13]*t[15],n[11]=e[10]*t[1]+e[11]*t[6]+e[12]*t[11]+e[13]*t[16],n[12]=e[10]*t[2]+e[11]*t[7]+e[12]*t[12]+e[13]*t[17],n[13]=e[10]*t[3]+e[11]*t[8]+e[12]*t[13]+e[13]*t[18],n[14]=e[10]*t[4]+e[11]*t[9]+e[12]*t[14]+e[13]*t[19]+e[14],n[15]=e[15]*t[0]+e[16]*t[5]+e[17]*t[10]+e[18]*t[15],n[16]=e[15]*t[1]+e[16]*t[6]+e[17]*t[11]+e[18]*t[16],n[17]=e[15]*t[2]+e[16]*t[7]+e[17]*t[12]+e[18]*t[17],n[18]=e[15]*t[3]+e[16]*t[8]+e[17]*t[13]+e[18]*t[18],n[19]=e[15]*t[4]+e[16]*t[9]+e[17]*t[14]+e[18]*t[19]+e[19],n}(_toConsumableArray(e),t)},t.shift()):[]},rt=function getImageScalar(e){return e.crop.draft.transforms?e.crop.draft.transforms.scale:e.crop.transforms.scale},ot=function getMinCropSize(e){var t=e.image.width/e.image.naturalWidth,n=rt(e);return{width:e.options.cropMinImageWidth*n*t,height:e.options.cropMinImageHeight*n*t}},it=function getMaxCropSize(e){var t=rt(e);return{width:e.image.width*t,height:e.image.height*t}},at=function getAspectRatioOptions(e){return e.options.cropAspectRatioOptions?e.options.cropAspectRatioOptions.map(function(e){var t={aspectRatio:null,width:null,height:null};return"number"==typeof e.value&&(t.aspectRatio=e.value),"string"==typeof e.value&&(t.aspectRatio=Ue(e.value)),"object"===_typeof(e.value)&&null!==e.value&&(t.width=e.value.width,t.height=e.value.height,t.aspectRatio=t.height/t.width),{label:e.label,value:t}}):null},st=function getImageStageRect(e){var t=e.image.naturalWidth,n=e.image.naturalHeight,r=n/t;return e.stage.width<t&&(n=r*(t=e.stage.width)),e.stage.height<n&&(t=(n=e.stage.height)/r),Fe(.5*e.stage.width-.5*t,.5*e.stage.height-.5*n,t,n)},lt=function queries(e){return{ALLOW_MANUAL_RESIZE:function ALLOW_MANUAL_RESIZE(){return e.options.utils.includes("resize")},GET_SIZE:function GET_SIZE(){return!1!==e.size.width&&!1!==e.size.height?{width:e.size.width,height:e.size.height}:{width:null,height:null}},GET_SIZE_INPUT:function GET_SIZE_INPUT(){return{width:e.size.width,height:e.size.height}},GET_SIZE_ASPECT_RATIO_LOCK:function GET_SIZE_ASPECT_RATIO_LOCK(){return e.size.aspectRatioLocked},IS_ACTIVE_VIEW:function IS_ACTIVE_VIEW(t){return e.activeView===t},GET_ACTIVE_VIEW:function GET_ACTIVE_VIEW(){return e.activeView},GET_STYLES:function GET_STYLES(){return Object.keys(e.options).filter(function(e){return/^style/.test(e)}).map(function(t){return{name:t,value:e.options[t]}})},GET_FILE:function GET_FILE(){return e.file},GET_IMAGE:function GET_IMAGE(){return e.image},GET_STAGE:function GET_STAGE(){return _objectSpread({},e.stage,e.stageOffset)},GET_STAGE_RECT:function GET_STAGE_RECT(t){var n,r=e.options.imagePreviewScaleMode;return(n="crop"===r?t?function getCropStageRect(e,t){t.aspectRatio||(t.aspectRatio=e.image.height/e.image.width);var n=dt(e.image,t,t.scaleToFit),r=n.width/n.height;return e.stage.width<n.width&&(n.width=e.stage.width,n.height=n.width/r),e.stage.height<n.height&&(n.height=e.stage.height,n.width=n.height*r),Fe(.5*e.stage.width-.5*n.width,.5*e.stage.height-.5*n.height,n.width,n.height)}(e,t):st(e):"image"===r?st(e):_objectSpread({},e.stage)).fits=n.width<e.stage.width&&n.height<e.stage.height,n.mode=r,n},GET_IMAGE_STAGE_RECT:function GET_IMAGE_STAGE_RECT(){return st(e)},GET_ROOT:function GET_ROOT(){return e.rootRect},GET_ROOT_SIZE:function GET_ROOT_SIZE(){return{width:e.rootRect.width,height:e.rootRect.height}},GET_MIN_IMAGE_SIZE:function GET_MIN_IMAGE_SIZE(){return{width:e.options.cropMinImageWidth,height:e.options.cropMinImageHeight}},GET_IMAGE_PREVIEW_SCALE_FACTOR:function GET_IMAGE_PREVIEW_SCALE_FACTOR(){return e.image.width/e.image.naturalWidth},GET_MIN_PREVIEW_IMAGE_SIZE:function GET_MIN_PREVIEW_IMAGE_SIZE(){var t=e.image.width/e.image.naturalWidth;return{width:e.options.cropMinImageWidth*t,height:e.options.cropMinImageHeight*t}},GET_MIN_CROP_SIZE:function GET_MIN_CROP_SIZE(){return ot(e)},GET_MAX_CROP_SIZE:function GET_MAX_CROP_SIZE(){return it(e)},GET_MIN_PIXEL_CROP_SIZE:function GET_MIN_PIXEL_CROP_SIZE(){var t=e.crop.transforms.scale,n=ot(e);return{width:n.width/t,height:n.height/t}},GET_MAX_PIXEL_CROP_SIZE:function GET_MAX_PIXEL_CROP_SIZE(){var t=e.crop.transforms.scale,n=it(e);return{width:n.width/t,height:n.height/t}},GET_CROP_ASPECT_RATIO_OPTIONS:function GET_CROP_ASPECT_RATIO_OPTIONS(){return at(e)},GET_ACTIVE_CROP_ASPECT_RATIO:function GET_ACTIVE_CROP_ASPECT_RATIO(){var t=e.crop.aspectRatio;return Y(t)?Ue(t):t},GET_CROP_ASPECT_RATIO:function GET_CROP_ASPECT_RATIO(){var t=Y(e.options.cropAspectRatio)?Ue(e.options.cropAspectRatio):e.options.cropAspectRatio,n=at(e);return!n||n&&!n.length?t:n.find(function(e){return e.value.aspectRatio===t})?t:n[0].value.aspectRatio},GET_CROP_RECTANGLE_ASPECT_RATIO:function GET_CROP_RECTANGLE_ASPECT_RATIO(){var t=e.crop,n=t.rectangle,r=t.aspectRatio;return n?n.width/n.height:r},GET_CROP:function GET_CROP(t,n){var r=tt[t];if(r&&r.ts===n)return r;var o=pt(e);return o&&(o.ts=n,tt[t]=o),o},GET_COLOR_MATRIX:function GET_COLOR_MATRIX(){return nt(e.colorMatrices)},GET_COLOR_VALUES:function GET_COLOR_VALUES(){return _objectSpread({exposure:e.options.colorExposure,brightness:e.options.colorBrightness,contrast:e.options.colorContrast,saturation:e.options.colorSaturation},e.colorValues)},GET_MARKUP_TOOL_VALUES:function GET_MARKUP_TOOL_VALUES(){return _objectSpread({color:e.options.markupColor,fontFamily:e.options.markupFontFamily,fontSize:e.options.markupFontSize,shapeStyle:e.options.markupShapeStyle,lineStyle:e.options.markupLineStyle,lineDecoration:e.options.markupLineDecoration},e.markupToolValues)},GET_PREVIEW_IMAGE_DATA:function GET_PREVIEW_IMAGE_DATA(){return e.file.preview},GET_THUMB_IMAGE_DATA:function GET_THUMB_IMAGE_DATA(){return e.file.thumb},GET_FILTER:function GET_FILTER(){return e.filter},GET_UID:function GET_UID(){return e.uid},GET_MARKUP_BY_ID:function GET_MARKUP_BY_ID(t){return e.markup.find(function(e){return e[1].id===t})},GET_BACKGROUND_COLOR:function GET_BACKGROUND_COLOR(){var t=e.options.outputCanvasBackgroundColor;if(!t)return ut;if(ct[t])return ct[t];var n=et(t);return ct[t]=n.concat(1),ct[t]}}},ct={},ut=[0,0,0,0],dt=function getCurrentCropSize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.zoom,o=t.rotation,i=t.center,a=t.aspectRatio,s=je(e,a,r),l={x:.5*s.width,y:.5*s.height},c={x:0,y:0,width:s.width,height:s.height,center:l},u=r*Ge(e,He(c,a),o,n?i:{x:.5,y:.5});return{widthFloat:s.width/u,heightFloat:s.height/u,width:Math.round(s.width/u),height:Math.round(s.height/u)}},ft=function canZoom(e,t){var n=De(t);return!function vectorEqual(e,t){return _e(e.x)===_e(t.x)&&_e(e.y)===_e(t.y)}(De(e),n)},pt=function getCropView(e){if(!e.stage||!e.image)return null;var t=e.crop.draft.rectangle||{free:e.crop.rectangle,limited:e.crop.rectangle},n=e.crop.draft.transforms||e.crop.transforms,r=n.origin,o=n.translation,i=n.scale,a=n.interaction,s=e.crop.rotation,l=e.crop.flip,c=!(!e.crop.draft.rectangle&&!e.crop.draft.transforms),u=c||e.instantUpdate,d=ft(t.limited,e.stage),f=e.crop.isDirty||c,h=e.crop.isRotating,g=void 0===e.crop.limitToImageBounds||e.crop.limitToImageBounds,m={width:e.image.naturalWidth,height:e.image.naturalHeight},A=nt(e.colorMatrices),v=Je(e.image,{rectangle:t.limited,transforms:{origin:r,translation:o,scale:i,rotation:s.main+s.sub},flip:l,limitToImageBounds:e.crop.limitToImageBounds}),y={props:v,crop:dt(m,v,e.crop.limitToImageBounds),image:function getCurrentImageSize(e,t){var n=function getOutputSizeWidth(e){return!1===e.size.width?function getWidth(e){return e.options.size?e.options.size.width:null}(e):e.size.width}(e),r=function getOutputSizeHeight(e){return!1===e.size.height?function getHeight(e){return e.options.size?e.options.size.height:null}(e):e.size.height}(e),o=t.width/t.height;return Ze({width:n,height:r},e.options.sizeMin,e.options.sizeMax,o)}(e,t.limited)},b=y.image,w=y.crop,_=w.width,E=w.height,C=w.widthFloat/w.heightFloat;b.width&&b.height?(_=b.width,E=b.height):b.width&&!b.height?(_=b.width,E=b.width/C):b.height&&!b.width&&(E=b.height,_=b.height*C),y.currentWidth=Math.round(_),y.currentHeight=Math.round(E);var S={x:0,y:0},T=0,x=0;if(u&&a){if(a.translation){var O=a.translation.x-o.x,k=a.translation.y-o.y;S.x=100*Math.sign(O)*Math.log10(1+Math.abs(O)/100),S.y=100*Math.sign(k)*Math.log10(1+Math.abs(k)/100)}if(a.scale){var B=a.scale-i;T=.25*Math.sign(B)*Math.log10(1+Math.abs(B)/.25)}if(a.rotation){var P=a.rotation-(s.main+s.sub);x=.05*Math.sign(P)*Math.log10(1+Math.abs(P)/.05)}}var I={},R=t.free,L=Le(R),M=Le(t.limited);return p(L,function(e){var t=L[e]-M[e];I[e]=M[e]+5*Math.sign(t)*Math.log10(1+Math.abs(t)/5)}),{canRecenter:d,canReset:f,isDraft:u,isRotating:h,isLimitedToImageBounds:g,cropRect:{x:I.left,y:I.top,width:I.right-I.left,height:I.bottom-I.top},origin:r,translation:o,translationBand:S,scale:i,scaleBand:T,rotation:s,rotationBand:x,flip:l,interaction:a,cropStatus:y,colorMatrix:A,markup:e.markup}},ht={1:function _(){return[1,0,0,1,0,0]},2:function _(e){return[-1,0,0,1,e,0]},3:function _(e,t){return[-1,0,0,-1,e,t]},4:function _(e,t){return[1,0,0,-1,0,t]},5:function _(){return[0,1,1,0,0,0]},6:function _(e,t){return[0,1,-1,0,t,0]},7:function _(e,t){return[0,-1,-1,0,t,e]},8:function _(e){return[0,-1,1,0,0,e]}},gt=function getImageOrientationMatrix(e,t,n){return-1===n&&(n=1),ht[n](e,t)},mt=function canvasRelease(e){e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},At=function isFlipped(e){return e&&(e.horizontal||e.vertical)},vt=function imageToImageData(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.canvasMemoryLimit,i=r.background,a=void 0===i?null:i,s=n.zoom||1,l=function getBitmap(e,t,n){if(t<=1&&!At(n))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;var r=document.createElement("canvas"),o=e.naturalWidth,i=e.naturalHeight,a=t>=5&&t<=8;a?(r.width=i,r.height=o):(r.width=o,r.height=i);var s=r.getContext("2d");if(t&&s.transform.apply(s,gt(o,i,t)),At(n)){var l=[1,0,0,1,0,0];(!a&&n.horizontal||a&n.vertical)&&(l[0]=-1,l[4]=o),(!a&&n.vertical||a&&n.horizontal)&&(l[3]=-1,l[5]=i),s.transform.apply(s,l)}return s.drawImage(e,0,0,o,i),r}(e,t,n.flip),c={width:l.width,height:l.height},u=n.aspectRatio||c.height/c.width,d=je(c,u,s);if(o){var f=d.width*d.height;if(f>o){var p=Math.sqrt(o)/Math.sqrt(f);c.width=Math.floor(c.width*p),c.height=Math.floor(c.height*p),d=je(c,u,s)}}var h=document.createElement("canvas"),g={x:.5*d.width,y:.5*d.height},m={x:0,y:0,width:d.width,height:d.height,center:g},A=void 0===n.scaleToFit||n.scaleToFit,v=s*Ge(c,He(m,u),n.rotation,A?n.center:{x:.5,y:.5});h.width=Math.round(d.width/v),h.height=Math.round(d.height/v),g.x/=v,g.y/=v;var y=g.x-c.width*(n.center?n.center.x:.5),b=g.y-c.height*(n.center?n.center.y:.5),w=h.getContext("2d");a&&(w.fillStyle=a,w.fillRect(0,0,h.width,h.height)),w.translate(g.x,g.y),w.rotate(n.rotation||0),w.drawImage(l,y-g.x,b-g.y,c.width,c.height);var _=w.getImageData(0,0,h.width,h.height);return mt(h),_};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function value(e,t,n){var r=this.toDataURL(t,n).split(",")[1];setTimeout(function(){for(var n=atob(r),o=n.length,i=new Uint8Array(o),a=0;a<o;a++)i[a]=n.charCodeAt(a);e(new Blob([i],{type:t||"image/png"}))})}}));var yt,bt=function vectorMultiply$1(e,t){return Ct(e.x*t,e.y*t)},wt=function vectorAdd$1(e,t){return Ct(e.x+t.x,e.y+t.y)},_t=function vectorNormalize$1(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:Ct(e.x/t,e.y/t)},Et=function vectorRotate$1(e,t,n){var r=Math.cos(t),o=Math.sin(t),i=Ct(e.x-n.x,e.y-n.y);return Ct(n.x+r*i.x-o*i.y,n.y+o*i.x+r*i.y)},Ct=function createVector$2(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},St=function getMarkupValue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(r?t[r]:Math.min(t.width,t.height)):void 0},Tt=function getMarkupStyles(e,t,n){var r=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",i=e.borderColor||e.lineColor||"transparent",a=St(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map(function(e){return St(e,t,n)}).join(","),stroke:i,fill:o,opacity:e.opacity||1}},xt=function isDefined(e){return null!=e},Ot=function getMarkupRect(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=St(e.x,t,n,"width")||St(e.left,t,n,"width"),o=St(e.y,t,n,"height")||St(e.top,t,n,"height"),i=St(e.width,t,n,"width"),a=St(e.height,t,n,"height"),s=St(e.right,t,n,"width"),l=St(e.bottom,t,n,"height");return xt(o)||(o=xt(a)&&xt(l)?t.height-a-l:l),xt(r)||(r=xt(i)&&xt(s)?t.width-i-s:s),xt(i)||(i=xt(r)&&xt(s)?t.width-r-s:0),xt(a)||(a=xt(o)&&xt(l)?t.height-o-l:0),{x:r||0,y:o||0,width:i||0,height:a||0}},kt=function pointsToPathShape(e){return e.map(function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)}).join(" ")},Bt=function setAttributes(e,t){return Object.keys(t).forEach(function(n){return e.setAttribute(n,t[n])})},Pt=function svg(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&Bt(n,t),n},It={contain:"xMidYMid meet",cover:"xMidYMid slice"},Rt={left:"start",center:"middle",right:"end"},Lt=function createShape(e){return function(t){return Pt(e,{id:t.id})}},Mt={image:function createImage(e){var t=Pt("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:Lt("rect"),ellipse:Lt("ellipse"),text:Lt("text"),path:Lt("path"),line:function createLine(e){var t=Pt("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Pt("line");t.appendChild(n);var r=Pt("path");t.appendChild(r);var o=Pt("path");return t.appendChild(o),t}},Dt={rect:function updateRect$1(e){return Bt(e,_objectSpread({},e.rect,e.styles))},ellipse:function updateEllipse(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,r=.5*e.rect.width,o=.5*e.rect.height;return Bt(e,_objectSpread({cx:t,cy:n,rx:r,ry:o},e.styles))},image:function updateImage(e,t){Bt(e,_objectSpread({},e.rect,e.styles,{preserveAspectRatio:It[t.fit]||"none"}))},text:function updateText(e,t,n,r){var o=St(t.fontSize,n,r),i=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",s=Rt[t.textAlign]||"start";Bt(e,_objectSpread({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":o,"font-family":i,"text-anchor":s})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function updatePath(e,t,n,r){Bt(e,_objectSpread({},e.styles,{fill:"none",d:kt(t.points.map(function(e){return{x:St(e.x,n,r,"width"),y:St(e.y,n,r,"height")}}))}))},line:function updateLine(e,t,n,r){Bt(e,_objectSpread({},e.rect,e.styles,{fill:"none"}));var o=e.childNodes[0],i=e.childNodes[1],a=e.childNodes[2],s=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Bt(o,{x1:s.x,y1:s.y,x2:l.x,y2:l.y}),t.lineDecoration){i.style.display="none",a.style.display="none";var c=_t({x:l.x-s.x,y:l.y-s.y}),u=St(.05,n,r);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var d=bt(c,u),f=wt(s,d),p=Et(s,2,f),h=Et(s,-2,f);Bt(i,{style:"display:block;",d:"M".concat(p.x,",").concat(p.y," L").concat(s.x,",").concat(s.y," L").concat(h.x,",").concat(h.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var g=bt(c,-u),m=wt(l,g),A=Et(l,2,m),v=Et(l,-2,m);Bt(a,{style:"display:block;",d:"M".concat(A.x,",").concat(A.y," L").concat(l.x,",").concat(l.y," L").concat(v.x,",").concat(v.y)})}}}},Nt=function createMarkupByType(e,t){return Mt[e](t)},Ft=function updateMarkupByType(e,t,n,r,o){"path"!==t&&(e.rect=Ot(n,r,o)),e.styles=Tt(n,r,o),Dt[t](e,n,r,o)},Ut=function sortMarkupByZIndex(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},Ht=function TransformWorker(){var e={resize:function resize(e,t){var n=t.mode,r=void 0===n?"contain":n,i=t.upscale,a=void 0!==i&&i,s=t.width,u=t.height,d=t.matrix;if(d=!d||c(d)?null:d,!s&&!u)return l(e,d);if(null===s?s=u:null===u&&(u=s),"force"!==r){var f=s/e.width,p=u/e.height,h=1;if("cover"===r?h=Math.max(f,p):"contain"===r&&(h=Math.min(f,p)),h>1&&!1===a)return l(e,d);s=e.width*h,u=e.height*h}for(var g=e.width,m=e.height,A=Math.round(s),v=Math.round(u),y=e.data,b=new Uint8ClampedArray(A*v*4),w=g/A,_=m/v,E=Math.ceil(.5*w),C=Math.ceil(.5*_),S=0;S<v;S++)for(var T=0;T<A;T++){for(var x=4*(T+S*A),O=0,k=0,B=0,P=0,I=0,R=0,L=0,M=(S+.5)*_,D=Math.floor(S*_);D<(S+1)*_;D++)for(var N=Math.abs(M-(D+.5))/C,F=(T+.5)*w,U=N*N,H=Math.floor(T*w);H<(T+1)*w;H++){var j=Math.abs(F-(H+.5))/E,Q=Math.sqrt(U+j*j);if(Q>=-1&&Q<=1&&(O=2*Q*Q*Q-3*Q*Q+1)>0){var z=y[3+(j=4*(H+D*g))];L+=O*z,B+=O,z<255&&(O=O*z/250),P+=O*y[j],I+=O*y[j+1],R+=O*y[j+2],k+=O}}b[x]=P/k,b[x+1]=I/k,b[x+2]=R/k,b[x+3]=L/B,d&&o(x,b,d)}return{data:b,width:A,height:v}},filter:l},n=function t(n,r){var o=n.transforms,i=null;if(o.forEach(function(e){"filter"===e.type&&(i=e)}),i){var a=null;o.forEach(function(e){"resize"===e.type&&(a=e)}),a&&(a.data.matrix=i.data,o=o.filter(function(e){return"filter"!==e.type}))}r(function(t,n){return t.forEach(function(t){n=e[t.type](n,t.data)}),n}(o,n.imageData))};self.onmessage=function(e){n(e.data.message,function(t){self.postMessage({id:e.data.id,message:t},[t.data.buffer])})};var r=1,i=1,a=1;function o(e,t,n){var o=t[e]/255,s=t[e+1]/255,l=t[e+2]/255,c=t[e+3]/255,u=o*n[0]+s*n[1]+l*n[2]+c*n[3]+n[4],d=o*n[5]+s*n[6]+l*n[7]+c*n[8]+n[9],f=o*n[10]+s*n[11]+l*n[12]+c*n[13]+n[14],p=o*n[15]+s*n[16]+l*n[17]+c*n[18]+n[19],h=Math.max(0,u*p)+r*(1-p),g=Math.max(0,d*p)+i*(1-p),m=Math.max(0,f*p)+a*(1-p);t[e]=255*Math.max(0,Math.min(1,h)),t[e+1]=255*Math.max(0,Math.min(1,g)),t[e+2]=255*Math.max(0,Math.min(1,m))}var s=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function c(e){return self.JSON.stringify(e||[])===s}function l(e,t){if(!t||c(t))return e;for(var n=e.data,o=n.length,s=t[0],l=t[1],u=t[2],d=t[3],f=t[4],p=t[5],h=t[6],g=t[7],m=t[8],A=t[9],v=t[10],y=t[11],b=t[12],w=t[13],_=t[14],E=t[15],C=t[16],S=t[17],T=t[18],x=t[19],O=0,k=0,B=0,P=0,I=0,R=0,L=0,M=0,D=0,N=0,F=0,U=0;O<o;O+=4)R=(k=n[O]/255)*s+(B=n[O+1]/255)*l+(P=n[O+2]/255)*u+(I=n[O+3]/255)*d+f,L=k*p+B*h+P*g+I*m+A,M=k*v+B*y+P*b+I*w+_,D=k*E+B*C+P*S+I*T+x,N=Math.max(0,R*D)+r*(1-D),F=Math.max(0,L*D)+i*(1-D),U=Math.max(0,M*D)+a*(1-D),n[O]=255*Math.max(0,Math.min(1,N)),n[O+1]=255*Math.max(0,Math.min(1,F)),n[O+2]=255*Math.max(0,Math.min(1,U));return e}},jt=function correctOrientation(e,t){if(1165519206===e.getUint32(t+4,!1)){t+=4;var n=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,n);var r=e.getUint16(t,n);t+=2;for(var o=0;o<r;o++)if(274===e.getUint16(t+12*o,n))return e.setUint16(t+12*o+8,1,n),!0;return!1}},Qt=function getImageHead(e){return new Promise(function(t){var n=new FileReader;n.onload=function(){return t(function readData(e){var t=new DataView(e);if(65496!==t.getUint16(0))return null;for(var n,r,o=2,i=!1;o<t.byteLength&&(n=t.getUint16(o,!1),r=t.getUint16(o+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(i||(i=jt(t,o)),!(o+r>t.byteLength));)o+=r;return e.slice(0,o)}(n.result)||null)},n.readAsArrayBuffer(e.slice(0,262144))})},zt=function createBlob(e,t){var n=function getBlobBuilder(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder}();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},$t=function createWorker(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n),o=[];return{transfer:function transfer(){},post:function post(e,t,n){var i=function getUniqueId$1(){return Math.random().toString(36).substr(2,9)}();o[i]=t,r.onmessage=function(e){var t=o[e.data.id];t&&(t(e.data.message),delete o[e.data.id])},r.postMessage({id:i,message:e},n)},terminate:function terminate(){r.terminate(),URL.revokeObjectURL(n)}}},Vt=function canvasApplyMarkup(e,t){return new Promise(function(n){var r={width:e.width,height:e.height},o=e.getContext("2d");(function chain(e){return e.reduce(function(e,t){return e.then(function(e){return t().then(Array.prototype.concat.bind(e))})},Promise.resolve([]))})(t.sort(Ut).map(function(e){return function(){return new Promise(function(t){Kt[e[0]](o,r,e[1],t)&&t()})}})).then(function(){return n(e)})})},Gt=function applyMarkupStyles(e,t){e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},Wt=function drawMarkupStyles(e){e.fill(),e.stroke(),e.globalAlpha=1},Kt={rect:function drawRect(e,t,n){var r=Ot(n,t),o=Tt(n,t);return Gt(e,o),e.rect(r.x,r.y,r.width,r.height),Wt(e),!0},ellipse:function drawEllipse(e,t,n){var r=Ot(n,t),o=Tt(n,t);Gt(e,o);var i=r.x,a=r.y,s=r.width,l=r.height,c=s/2*.5522848,u=l/2*.5522848,d=i+s,f=a+l,p=i+s/2,h=a+l/2;return e.moveTo(i,h),e.bezierCurveTo(i,h-u,p-c,a,p,a),e.bezierCurveTo(p+c,a,d,h-u,d,h),e.bezierCurveTo(d,h+u,p+c,f,p,f),e.bezierCurveTo(p-c,f,i,h+u,i,h),Wt(e),!0},image:function drawImage(e,t,n,r){var o=Ot(n,t),i=Tt(n,t);Gt(e,i);var a=new Image;a.onload=function(){if("cover"===n.fit){var t=o.width/o.height,i=t>1?a.width:a.height*t,s=t>1?a.width/t:a.height,l=.5*a.width-.5*i,c=.5*a.height-.5*s;e.drawImage(a,l,c,i,s,o.x,o.y,o.width,o.height)}else if("contain"===n.fit){var u=Math.min(o.width/a.width,o.height/a.height),d=u*a.width,f=u*a.height,p=o.x+.5*o.width-.5*d,h=o.y+.5*o.height-.5*f;e.drawImage(a,0,0,a.width,a.height,p,h,d,f)}else e.drawImage(a,0,0,a.width,a.height,o.x,o.y,o.width,o.height);Wt(e),r()},a.src=n.src},text:function drawText(e,t,n){var r=Ot(n,t),o=Tt(n,t);Gt(e,o);var i=St(n.fontSize,t),a=n.fontFamily||"sans-serif",s=n.fontWeight||"normal",l=n.textAlign||"left";return e.font="".concat(s," ").concat(i,"px ").concat(a),e.textAlign=l,e.fillText(n.text,r.x,r.y),Wt(e),!0},line:function drawLine(e,t,n){var r=Ot(n,t),o=Tt(n,t);Gt(e,o),e.beginPath();var i={x:r.x,y:r.y},a={x:r.x+r.width,y:r.y+r.height};e.moveTo(i.x,i.y),e.lineTo(a.x,a.y);var s=_t({x:a.x-i.x,y:a.y-i.y}),l=.04*Math.min(t.width,t.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var c=bt(s,l),u=wt(i,c),d=Et(i,2,u),f=Et(i,-2,u);e.moveTo(d.x,d.y),e.lineTo(i.x,i.y),e.lineTo(f.x,f.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var p=bt(s,-l),h=wt(a,p),g=Et(a,2,h),m=Et(a,-2,h);e.moveTo(g.x,g.y),e.lineTo(a.x,a.y),e.lineTo(m.x,m.y)}return Wt(e),!0},path:function drawPath(e,t,n){var r=Tt(n,t);Gt(e,r),e.beginPath();var o=n.points.map(function(e){return{x:St(e.x,t,1,"width"),y:St(e.y,t,1,"height")}});e.moveTo(o[0].x,o[0].y);for(var i=o.length,a=1;a<i;a++)e.lineTo(o[a].x,o[a].y);return Wt(e),!0}},qt=function transformImage(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,o){if(!e||!function isImage(e){return/^image/.test(e.type)}(e))return o({status:"not an image file",file:e});var i=n.stripImageHead,a=n.beforeCreateBlob,s=n.afterCreateBlob,l=n.canvasMemoryLimit,c=t.crop,u=t.size,d=t.filter,f=t.markup,p=t.output,h=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,g=p&&p.quality,m=null===g?null:g/100,A=p&&p.type||null,v=p&&p.background||null,y=[];!u||"number"!=typeof u.width&&"number"!=typeof u.height||y.push({type:"resize",data:u}),d&&20===d.length&&y.push({type:"filter",data:d});var b=function T(e){var t=s?s(e):e;Promise.resolve(t).then(r)},w=function _(t,n){var r=function imageDataToCanvas(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t}(t),s=f.length?Vt(r,f):r;Promise.resolve(s).then(function(t){(function canvasToBlob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(r){var o=n?n(e):e;Promise.resolve(o).then(function(e){e.toBlob(r,t.type,t.quality)})})})(t,n,a).then(function(n){if(mt(t),i)return b(n);Qt(e).then(function(e){null!==e&&(n=new Blob([e,n.slice(20)],{type:n.type})),b(n)})}).catch(o)})};if(/svg/.test(e.type)&&null===A)return function cropSVG(e,t,n,r){return new Promise(function(o){var i=r.background,a=void 0===i?null:i,s=new FileReader;s.onloadend=function(){var e=s.result,r=document.createElement("div");r.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",r.innerHTML=e;var i=r.querySelector("svg");document.body.appendChild(r);var l=i.getBBox();r.parentNode.removeChild(r);var c=r.querySelector("title"),u=i.getAttribute("viewBox")||"",d=i.getAttribute("width")||"",f=i.getAttribute("height")||"",p=parseFloat(d)||null,h=parseFloat(f)||null,g=(d.match(/[a-z]+/)||[])[0]||"",m=(f.match(/[a-z]+/)||[])[0]||"",A=u.split(" ").map(parseFloat),v=A.length?{x:A[0],y:A[1],width:A[2],height:A[3]}:l,y=null!=p?p:v.width,b=null!=h?h:v.height;i.style.overflow="visible",i.setAttribute("width",y),i.setAttribute("height",b);var w="";if(n&&n.length){var _={width:y,height:b};w=n.sort(Ut).reduce(function(e,t){var n=Nt(t[0],t[1]);return Ft(n,t[0],t[1],_),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),e+"\n"+n.outerHTML+"\n"},""),w="\n\n<g>".concat(w.replace(/&nbsp;/g," "),"</g>\n\n")}var E=t.aspectRatio||b/y,C=y,S=C*E,T=void 0===t.scaleToFit||t.scaleToFit,x=Ge({width:y,height:b},He({width:C,height:S},E),t.rotation,T?t.center:{x:.5,y:.5}),O=t.zoom*x,k=t.rotation*(180/Math.PI),B={x:.5*C,y:.5*S},P={x:B.x-y*t.center.x,y:B.y-b*t.center.y},I=["rotate(".concat(k," ").concat(B.x," ").concat(B.y,")"),"translate(".concat(B.x," ").concat(B.y,")"),"scale(".concat(O,")"),"translate(".concat(-B.x," ").concat(-B.y,")"),"translate(".concat(P.x," ").concat(P.y,")")],R=["scale(".concat(t.flip.horizontal?-1:1," ").concat(t.flip.vertical?-1:1,")"),"translate(".concat(t.flip.horizontal?-y:0," ").concat(t.flip.vertical?-b:0,")")],L='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(C).concat(g,'" height="').concat(S).concat(m,'" \nviewBox="0 0 ').concat(C," ").concat(S,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(c?c.textContent:"",'</title>\n<g transform="').concat(I.join(" "),'">\n<g transform="').concat(R.join(" "),'">\n').concat(i.outerHTML).concat(w,"\n</g>\n</g>\n</svg>");o(L)},s.readAsText(e)})}(e,c,f,{background:v}).then(function(e){r(zt(e,"image/svg+xml"))});var E=URL.createObjectURL(e);(function loadImage(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e})})(E).then(function(t){URL.revokeObjectURL(E);var n=vt(t,h,c,{canvasMemoryLimit:l,background:v}),r={quality:m,type:A||e.type};if(!y.length)return w(n,r);var o=$t(Ht);o.post({transforms:y,imageData:n},function(e){w(function objectToImageData(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t}(e),r),o.terminate()},[n.data.buffer])}).catch(o)})},Yt=function readExif(e,t){if(1165519206!==e.getUint32(t+=2,!1))return-1;var n=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,n);var r=e.getUint16(t,n);t+=2;for(var o=0;o<r;o++)if(274===e.getUint16(t+12*o,n))return e.getUint16(t+12*o+8,n)},Xt=function getImageOrientation(e){return new Promise(function(t){var n=new FileReader;n.onload=function(){return t(function readData$1(e){var t=new DataView(e);if(65496!=t.getUint16(0,!1))return null;for(var n,r=t.byteLength,o=2;o<r;){if(t.getUint16(o+2,!1)<=8)return-1;if(n=t.getUint16(o,!1),o+=2,65505===n)return Yt(t,o);if(65280!=(65280&n))return null;o+=t.getUint16(o,!1)}}(n.result)||-1)},n.readAsArrayBuffer(e.slice(0,262144))})},Jt=1,Zt=2,en=function getImageTransformsFromCrop(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.center,i=e.zoom,a=e.aspectRatio,s=De(t),l={x:s.x-n.width*o.x,y:s.y-n.height*o.y},c=2*Math.PI+e.rotation%(2*Math.PI),u=i*Ge(n,He(t,a||n.height/n.width),c,r?o:{x:.5,y:.5});return{origin:{x:o.x*n.width,y:o.y*n.height},translation:l,scale:u,rotation:e.rotation}},tn=function copyImageTransforms(e){return{origin:_objectSpread({},e.origin),translation:_objectSpread({},e.translation),rotation:e.rotation,scale:e.scale}},nn=function limitImageTransformsToCropRect(e,t,n,r){var o=n.translation,i=n.scale,a=n.rotation,s=n.origin,l={origin:_objectSpread({},s),translation:_objectSpread({},o),scale:i,rotation:2*Math.PI+a%(2*Math.PI)},c=e.height/e.width,u=qe(s,o,l.rotation,t),d=De(u),f=Le(u),p=We(e,n),h=De(p),g={x:p.x,y:p.y},m={x:h.x,y:h.y},A=d.x,v=d.y,y={x:g.x,y:g.y,width:p.width,height:p.height};if(!function rectFitsInRect(e,t){var n=Le(e),r=Le(t);return n.left>=r.left&&n.top>=r.top&&n.bottom<=r.bottom&&n.right<=r.right}(u,p))if("moving"===r){y.y>u.y?y.y=u.y:y.y+y.height<f.bottom&&(y.y=f.bottom-y.height),y.x>u.x?y.x=u.x:y.x+y.width<f.right&&(y.x=f.right-y.width);var b=We(e,_objectSpread({},n,{scale:l.scale})),w=De(b);m.x=w.x,m.y=w.y,g.x=b.x,g.y=b.y,y.x=m.x-.5*y.width,y.y=m.y-.5*y.height,y.y>u.y?y.y=u.y:y.y+y.height<f.bottom&&(y.y=f.bottom-y.height),y.x>u.x?y.x=u.x:y.x+y.width<f.right&&(y.x=f.right-y.width);var _={x:y.x-g.x,y:y.y-g.y},E={x:_.x*Math.cos(l.rotation)-_.y*Math.sin(l.rotation),y:_.x*Math.sin(l.rotation)+_.y*Math.cos(l.rotation)};l.translation.x+=E.x,l.translation.y+=E.y}else if("resizing"===r){p.width<u.width&&(y.width=u.width,y.height=y.width*c,y.height<u.height&&(y.height=u.height,y.width=y.height/c)),p.height<u.height&&(y.height=u.height,y.width=y.height/c,y.width<u.width&&(y.width=u.width,y.height=y.width*c)),y.x=m.x-.5*y.width,y.y=m.y-.5*y.height,y.y>u.y?y.y=u.y:y.y+y.height<f.bottom&&(y.y=f.bottom-y.height),y.x>u.x?y.x=u.x:y.x+y.width<f.right&&(y.x=f.right-y.width),l.scale=Ge(e,t,l.rotation,{x:(A-y.x)/y.width,y:(v-y.y)/y.height});var C=We(e,_objectSpread({},n,{scale:l.scale})),S=De(C);m.x=S.x,m.y=S.y,g.x=C.x,g.y=C.y,y.x=m.x-.5*y.width,y.y=m.y-.5*y.height,y.y>u.y?y.y=u.y:y.y+y.height<f.bottom&&(y.y=f.bottom-y.height),y.x>u.x?y.x=u.x:y.x+y.width<f.right&&(y.x=f.right-y.width);var T={x:y.x-g.x,y:y.y-g.y},x={x:T.x*Math.cos(l.rotation)-T.y*Math.sin(l.rotation),y:T.x*Math.sin(l.rotation)+T.y*Math.cos(l.rotation)};l.translation.x+=x.x,l.translation.y+=x.y}else if("rotating"===r){var O=!1;if(y.y>u.y){var k=y.y-u.y;y.y=u.y,y.height+=2*k,O=!0}if(y.y+y.height<f.bottom){var B=f.bottom-(y.y+y.height);y.y=f.bottom-y.height,y.height+=2*B,O=!0}if(y.x>u.x){var P=y.x-u.x;y.x=u.x,y.width+=2*P,O=!0}if(y.x+y.width<f.right){var I=f.right-(y.x+y.width);y.x=f.right-y.width,y.width+=2*I,O=!0}O&&(l.scale=Ge(e,t,l.rotation,{x:(A-p.x)/p.width,y:(v-p.y)/p.height}))}return _objectSpread({},l,{rotation:n.rotation})},rn={n:function n(e){return{x:e.x+.5*e.width,y:e.y}},e:function e(t){return{x:t.x+t.width,y:t.y+.5*t.height}},s:function s(e){return{x:e.x+.5*e.width,y:e.y+e.height}},w:function w(e){return{x:e.x,y:e.y+.5*e.height}}},on=function getEdgeCenterCoordinates(e,t){return rn[e](t)},an=function getImageTransformsFromRect(e,t,n){var r=n.origin,o=n.translation,i=2*Math.PI+n.rotation%(2*Math.PI),a=We(e,n),s={x:r.x+o.x,y:r.y+o.y},l=qe(r,o,i,t),c=Le(l),u=Le(a),d=a;if(c.top<u.top||c.right>u.right||c.bottom>u.bottom||c.left<u.left){var f=_objectSpread({},u);if(c.top<=f.top){var p=f.bottom-f.top,h=f.right-f.left,g=Math.max(1,l.height/p),m=p*g,A=h*g-h;f.bottom=c.top+m,f.top=c.top,f.left-=.5*A,f.right+=.5*A}if(c.bottom>=f.bottom){var v=f.bottom-f.top,y=f.right-f.left,b=Math.max(1,l.height/v),w=v*b,_=y*b-y;f.bottom=c.bottom,f.top=c.bottom-w,f.left-=.5*_,f.right+=.5*_}if(c.left<=f.left){var E=f.bottom-f.top,C=f.right-f.left,S=Math.max(1,l.width/C),T=C*S,x=E*S-E;f.right=c.left+T,f.left=c.left,f.top-=.5*x,f.bottom+=.5*x}if(c.right>=f.right){var O=f.bottom-f.top,k=f.right-f.left,B=Math.max(1,l.width/k),P=k*B,I=O*B-O;f.right=c.right,f.left=c.right-P,f.top-=.5*I,f.bottom+=.5*I}d=Fe(f.left,f.top,f.right-f.left,f.bottom-f.top)}var R=Ne(d),L=De(d),M=Oe(R.tl,i,s),D=Oe(R.br,i,s),N=M.x+.5*(D.x-M.x),F=M.y+.5*(D.y-M.y),U=Pe(d,{x:N-L.x,y:F-L.y}),H=Pe(l,{x:N-L.x,y:F-L.y}),j=De(H),Q={x:U.x,y:U.y},z=U.width,$=U.height,V=(j.x-Q.x)/z,G=(j.y-Q.y)/$,W=z/e.width,K={x:V*e.width,y:G*e.height},q=1-W,Y=K.x*q,X=K.y*q,J={x:Q.x+z*V,y:Q.y+$*G},Z=Oe(Q,i,{x:Q.x+.5*z,y:Q.y+.5*$}),ee=Oe(Q,i,J),te=Z.x-ee.x,ne=Z.y-ee.y;return{origin:K,translation:{x:Q.x-Y+te,y:Q.y-X+ne},scale:W,rotation:n.rotation}},sn={nw:function nw(e){return{x:e.x,y:e.y}},ne:function ne(e){return{x:e.x+e.width,y:e.y}},se:function se(e){return{x:e.x+e.width,y:e.y+e.height}},sw:function sw(e){return{x:e.x,y:e.y+e.height}}},ln=function getCornerCoordinates(e,t){return sn[e](t)},cn=Math.PI/2,un=Math.PI/4,dn=function splitRotation(e){var t=_e(un),n=_e(cn),r=e/n,o=Math.floor(r)*n,i=e-o;return i>t&&(i-=n,o+=n),{main:o,sub:i}},fn=function scaleImageSize(e,t){var n={width:e.width,height:e.height};if(e.width>t.width||e.height>t.height){var r=e.height/e.width,o=t.width/e.width,i=t.height/e.height;o<i?(n.width=e.width*o,n.height=n.width*r):(n.height=e.height*i,n.width=n.height/r)}return n},pn=function leftPad(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},hn=function getDateString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear(),"-").concat(pn(e.getMonth()+1,"00"),"-").concat(pn(e.getDate(),"00"),"_").concat(pn(e.getHours(),"00"),"-").concat(pn(e.getMinutes(),"00"),"-").concat(pn(e.getSeconds(),"00"))},gn=function getBaseCropInstructions(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e("GET_CROP_ASPECT_RATIO"),i={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null};n?Object.assign(i,n):t.options.crop?Object.assign(i,t.options.crop):i.aspectRatio=o;var a=r.width,s=r.height;if(a&&s)i.aspectRatio=s/a;else if(t.instructions.size){var l=t.instructions.size,c=l.width,u=l.height;c&&u&&(i.aspectRatio=u/c)}return i},mn=function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)},An={jpeg:"jpg","svg+xml":"svg"},vn=function isColorMatrix(e){return Array.isArray(e)&&20===e.length},yn=["x","y","left","top","right","bottom","width","height"],bn=function prepareMarkup(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],o=!1!==r.allowSelect,i=!1!==r.allowMove,a=!1!==r.allowResize,s=!1!==r.allowInput,l=!1!==r.allowDestroy,c=void 0===r.allowEdit||r.allowEdit;(!0===r.allowResize||!0===r.allowMove||!0===r.allowInput||r.allowEdit)&&(o=!0),!1===r.allowMove&&(a=!1),!0===r.allowResize&&(i=!0);var u=r.points?{}:yn.reduce(function(e,t){return e[t]=function toOptionalFraction(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e}(r[t]),e},{});return r.points&&(a=!1),[n,_objectSpread({zIndex:0,id:function getUniqueId$2(){return Math.random().toString(36).substr(2,9)}()},r,u,{isDestroyed:!1,isSelected:!1,isDirty:!0,allowDestroy:l,allowSelect:o,allowMove:i,allowResize:a,allowInput:s,allowEdit:c})]},wn={contrast:function contrast(e){return[e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0]},exposure:function exposure(e){return[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0]},brightness:function brightness(e){return[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0]},saturation:function saturation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0]}},_n=Math.PI/2,En=function getOutputSize(e){var t={upscale:e("GET_OUTPUT_UPSCALE"),mode:e("GET_OUTPUT_FIT"),width:e("GET_OUTPUT_WIDTH"),height:e("GET_OUTPUT_HEIGHT")},n=e("GET_SIZE_INPUT");if(e("ALLOW_MANUAL_RESIZE")&&(n.width||n.height)){var r=n.width,o=n.height,i=e("GET_CROP_RECTANGLE_ASPECT_RATIO");r&&!o?o=r/i:o&&!r&&(r=o*i),t.width=r,t.height=o,t.upscale=!0,t.mode="force"}return t},Cn=function prepareOutput(e,t,n){return new Promise(function(r,o){var i={data:null,file:null},a=Xe(t.image,t.crop),s=En(n),l={crop:a,image:_objectSpread({},function getPreparedImageSize(e,t){var n=t("GET_CROP",t("GET_UID"),Date.now()),r={width:n.cropStatus.currentWidth,height:n.cropStatus.currentHeight},o=e.mode,i=e.width,a=e.height,s=e.upscale;if(!i&&!a)return r;if(null===i?i=a:null===a&&(a=i),"force"!==o){var l=i/r.width,c=a/r.height,u=1;if("cover"===o?u=Math.max(l,c):"contain"===o&&(u=Math.min(l,c)),u>1&&!1===s)return r;i=r.width*u,a=r.height*u}return{width:Math.round(i),height:Math.round(a)}}(s,n),{orientation:t.file.orientation}),size:s,output:{type:n("GET_OUTPUT_TYPE"),quality:n("GET_OUTPUT_QUALITY"),background:t.options.outputCanvasBackgroundColor},filter:t.colorMatrices.filter?{id:t.filterName,value:t.filterValue,matrix:t.colorMatrices.filter}:null,color:Object.keys(t.colorValues).length?Object.keys(t.colorValues).reduce(function(e,n){return e[n]={value:t.colorValues[n],matrix:t.colorMatrices[n].map(function(e){return _e(e,5)})},e},{}):null,markup:function cleanMarkupForExport(e){return e.map(function(e){var t=_objectSpread({},e[1]);return Object.keys(t).forEach(function(e){void 0===t[e]&&delete t[e]}),delete t.isDestroyed,delete t.isSelected,delete t.isDirty,[e[0],t]})}(function getActiveMarkupFromState(e){return e.markup.filter(function(e){return!e[1].isDestroyed})}(t).map(function(e){return[e[0],_objectSpread({},e[1])]})),colorMatrix:n("GET_COLOR_MATRIX")};if(e.data&&(i.data=l),e.file){var c={beforeCreateBlob:n("GET_BEFORE_CREATE_BLOB"),afterCreateBlob:n("GET_AFTER_CREATE_BLOB"),stripImageHead:n("GET_OUTPUT_STRIP_IMAGE_HEAD"),canvasMemoryLimit:n("GET_OUTPUT_CANVAS_MEMORY_LIMIT")},u=t.file.data,d=_objectSpread({},l,{filter:l.colorMatrix,markup:l.markup});qt(u,d,c).then(function(e){i.file=function getFileFromBlob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,Y(t)||(t=hn()),t&&null===r&&function getExtensionFromFilename(e){return e.split(".").pop()}(t)?o.name=t:(r=r||function guesstimateExtension(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""}(o.type),o.name=t+(r?"."+r:"")),o}(e,function renameFileToMatchMimeType(e,t){var n=function getFilenameWithoutExtension(e){return e.substr(0,e.lastIndexOf("."))||e}(e),r=t.split("/")[1],o=An[r]||r;return"".concat(n,".").concat(o)}(u.name,function getValidOutputMimeType(e){return/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg"}(e.type))),r(i)}).catch(o)}else r(i)})},Sn=function resetRotationScale(e){e.crop.draft.rotateMinScale=null},Tn=function rotate(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function storeRotationScale(e){e.crop.draft.rotateMinScale||(e.crop.draft.rotateMinScale=e.crop.transforms.scale)}(e);var i=_objectSpread({},e.crop.transforms,{scale:e.crop.draft.rotateMinScale});e.crop.draft.transforms=Ln(e.image,e.crop.rectangle,i,t.main+t.sub,n,e.crop.draft.transforms?e.crop.draft.transforms.rotation:e.crop.rotation.main+e.crop.rotation.sub,r,o),e.crop.rotation=dn(e.crop.draft.transforms.rotation)},xn=function reset(e,t,n){if(null!==e.stage){Pn(e),e.size.width=!!e.instructions.size&&e.instructions.size.width,e.size.height=!!e.instructions.size&&e.instructions.size.height,e.size.aspectRatioLocked=!0,e.size.aspectRatioPrevious=!1;var r=void 0===e.instructions.crop.scaleToFit?void 0===e.crop.limitToImageBounds?e.options.cropLimitToImageBounds:e.crop.limitToImageBounds:e.instructions.crop.scaleToFit,o=t("GET_STAGE_RECT",e.instructions.crop);e.crop.rectangle=He(o.fits?o:e.stage,e.instructions.crop.aspectRatio||e.image.aspectRatio),e.crop.draft.rectangle=null,"stage"!==o.mode&&o.fits&&(e.crop.rectangle.x=o.x,e.crop.rectangle.y=o.y),e.crop.transforms=en(e.instructions.crop,o,e.image,r),e.crop.draft.transforms=null,e.crop.rotation=dn(e.instructions.crop.rotation),e.crop.flip=_objectSpread({},e.instructions.crop.flip);var i=t("GET_CROP_ASPECT_RATIO_OPTIONS")||[],a=i.map(function(e){return e.value.aspectRatio}).find(function(t){return t===e.instructions.crop.aspectRatio}),s=i.find(function(e){return null===e.value.aspectRatio});a?e.crop.aspectRatio=a:s&&i.length?e.crop.aspectRatio=null:e.crop.aspectRatio=t("GET_CROP_ASPECT_RATIO"),e.crop.isDirty=!1,e.instructions.markup&&n("MARKUP_SET_VALUE",{value:e.instructions.markup.map(bn).sort(Ut)}),n("CROP_SET_LIMIT",{value:r,silent:!0}),Object.keys(e.instructions.color).forEach(function(t){return n("COLOR_SET_VALUE",{key:t,value:e.instructions.color[t]})}),n("FILTER_SET_VALUE",{value:e.instructions.filter}),Sn(e)}},On=function recenter(e,t){if(e.stage){Pn(e);var n=e.crop.rectangle,r=n.height/n.width,o=e.crop.aspectRatio;if(null!==o&&_e(r,3)!==_e(o,3)){var i=t("GET_MIN_CROP_SIZE");i.width=_e(i.width),i.height=_e(i.height);var a=Math.min(n.width,n.height);Math.min(a*o,a/o)<Math.max(i.width,i.height)&&(e.crop.rectangle=function getTargetRect(e,t,n){var r=Re(e);return r.width=Math.min(r.height,r.width),r.height=r.width,r.height=r.width*t,r.height<n.height&&(r.height=n.height,r.width=r.height/t),r.width<n.width&&(r.width=n.width,r.height=r.width*t),r}(_objectSpread({},e.crop.rectangle),o,i),e.crop.draft.transforms=an(e.image,e.crop.rectangle,e.crop.transforms))}var s=e.crop.draft.transforms||e.crop.transforms,l=Ye(e.image,e.crop.rectangle,s,e.crop.limitToImageBounds);e.crop.aspectRatio&&(l.aspectRatio=e.crop.aspectRatio);var c=t("GET_STAGE_RECT",l);e.crop.transforms=en(l,c,e.image,l.scaleToFit),e.crop.draft.transforms=null;var u=e.crop.aspectRatio||e.crop.rectangle.height/e.crop.rectangle.width;e.crop.rectangle=He(c,u),e.crop.draft.rectangle=null,"stage"!==c.mode&&(e.crop.rectangle.x+=c.x,e.crop.rectangle.y+=c.y),Sn(e)}},kn=function startCenterTimeout(e,t,n){var r=t("GET_CROP_ZOOM_TIMEOUT");r&&(clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=setTimeout(function(){n("CROP_ZOOM")},r))},Bn=function resetCenterTimeout(e,t,n){Pn(e),kn(e,t,n)},Pn=function clearCenterTimeout(e){clearTimeout(e.zoomTimeoutId)},In=function copyConfirmed(e){e.crop.draft.transforms=tn(e.crop.transforms),e.crop.draft.rectangle={limited:Re(e.crop.rectangle),free:Re(e.crop.rectangle)},Pn(e)},Rn=function getMinScale(e,t){return Math.min(e.width/t.width,e.height/t.height)},Ln=function getRotateTransforms(e,t,n,r,o,i,a,s){var l=_objectSpread({},tn(n),{rotation:r}),c=s?nn(e,t,l,"rotating"):l,u=Rn(t,o);return _e(c.scale,5)>_e(u,5)?(a&&(i+=2*a),_objectSpread({},tn(n),{rotation:i,interaction:{rotation:c.rotation}})):(c.scale=Math.min(u,c.scale),c.interaction={rotation:c.rotation},c)},Mn=function getResizeTransforms(e,t,n,r,o,i){var a=Math.max(1e-10,r),s=_objectSpread({},tn(n),{scale:a}),l=i?nn(e,t,s,"resizing"):s,c=Rn(t,o);return l.scale=Math.min(c,l.scale),l.interaction={scale:a},l},Dn=function confirmImageDraft(e){e.crop.draft.rectangle=null,e.crop.transforms=e.crop.draft.transforms||e.crop.transforms,e.crop.transforms.interaction=null,e.crop.draft.transforms=null,e.crop.transforms=_objectSpread({},e.crop.transforms,function getTransformOrigin(e,t,n){var r=n.origin,o=n.translation,i=n.scale,a=2*Math.PI+n.rotation%(2*Math.PI),s={x:r.x+o.x,y:r.y+o.y},l=qe(r,o,a,t),c=We(e,n),u=Ne(c),d=De(c),f=Oe(u.tl,a,s),p=Oe(u.br,a,s),h=f.x+.5*(p.x-f.x),g=f.y+.5*(p.y-f.y),m=Pe(c,{x:h-d.x,y:g-d.y}),A=Pe(l,{x:h-d.x,y:g-d.y}),v=De(A),y={x:m.x,y:m.y},b=m.width,w=m.height,_=(v.x-y.x)/b,E=(v.y-y.y)/w,C={x:_*e.width,y:E*e.height},S=1-i,T=C.x*S,x=C.y*S,O={x:y.x+b*_,y:y.y+w*E},k=Oe(y,a,{x:y.x+.5*b,y:y.y+.5*w}),B=Oe(y,a,O),P=k.x-B.x,I=k.y-B.y;return{origin:Ee(C),translation:Ee({x:y.x-T+P,y:y.y-x+I})}}(e.image,e.crop.rectangle,e.crop.transforms)),e.crop.isRotating=!1,e.crop.isDirty=!0},Nn=function getResponseHeaderSilent(e,t){return e.getAllResponseHeaders().indexOf(t)>=0?e.getResponseHeader(t):null},Fn=function loadImageFromURL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.progress,r=void 0===n?function(e){}:n,o=t.load,i=void 0===o?function(e,t){}:o,a=t.error,s=void 0===a?function(){}:a,l=new XMLHttpRequest;l.onprogress=function(e){return r(e.lengthComputable?e.loaded/e.total:null)},l.onerror=function(){return s(l)},l.onload=function(){var e=l.response;if(!e)return s(l);var t=l.getResponseHeader("Content-Type"),n=Nn(l,"Content-Disposition"),r=n?function getFilenameFromHeader(e){if(!e)return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return t.length?decodeURI(t[t.length-1]):null}(n):null,o=Nn(l,"Content-Doka"),a=null;if(o)try{a=JSON.parse(o)}catch(e){}!e.type.length&&t&&(function _readOnlyError(e){throw new Error('"'+e+'" is read-only')}("blob"),e=e.slice(0,e.size,t)),r&&(e.name=r),i(e,a)},l.open("GET",e),l.responseType="blob",l.send()},Un=function shouldAbortImageLoad(e){return!1===e.file},Hn=function actions(e,t,n){return _objectSpread({SET_UID:function SET_UID(e){var t=e.id;n.uid=t},AWAIT_IMAGE:function AWAIT_IMAGE(){n.file||(n.noImageTimeout=setTimeout(function(){e("AWAITING_IMAGE")},250))},REQUEST_REMOVE_IMAGE:function REQUEST_REMOVE_IMAGE(){e("UNLOAD_IMAGE"),n.file=!1,n.noImageTimeout=setTimeout(function(){e("AWAITING_IMAGE")},500)},DID_UNLOAD_IMAGE:function DID_UNLOAD_IMAGE(){e("ABORT_IMAGE")},REQUEST_ABORT_IMAGE:function REQUEST_ABORT_IMAGE(t){e("UNLOAD_IMAGE"),n.file=!1,n.queuedFile=t},DID_SET_SRC:function DID_SET_SRC(t){t.value!==t.prevValue&&(clearTimeout(n.noImageTimeout),e("REQUEST_LOAD_IMAGE",{source:t.value}))},ABORT_IMAGE:function ABORT_IMAGE(){if(n.file=null,n.queuedFile){var t=n.queuedFile;n.queuedFile=null,e("REQUEST_LOAD_IMAGE",t)}},REQUEST_LOAD_IMAGE:function REQUEST_LOAD_IMAGE(t){var r=t.source,o=t.success,i=void 0===o?function(){}:o,a=t.failure,s=void 0===a?function(e){}:a,l=t.options,c=t.resolveOnConfirm,u=void 0!==c&&c;if(clearTimeout(n.noImageTimeout),!r)return s("no-image-source");null===n.file?(ie(n),n.file={uid:se()},e("DID_REQUEST_LOAD_IMAGE",{source:r}),function loadImage$1(e,t){var n=t.progress;return new Promise(function(t,r){if(Y(e))Fn(e,{progress:/^data:/.test(e)?function(){}:n,error:r,load:function load(e,n){return t({file:e,fileInstructions:n})}});else if(e instanceof Blob)t({file:e});else{if("IMG"===e.nodeName){var o=function i(e){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight,n.getContext("2d").drawImage(e,0,0),n.toBlob(function(e){return t({file:e})})};return e.complete?void o(e):void(e.onload=function(){return o(e)})}"CANVAS"!==e.nodeName?r(e):e.toBlob(function(e){return t({file:e})})}})}(r,{progress:function progress(t){return null!==t&&e("DID_MAKE_PROGRESS",{progress:t})}}).then(function(t){var r=t.file,o=t.fileInstructions;if(!l&&o){var a=o.crop,c=o.filter,d=o.colorMatrix,f=o.color,p=o.markup,h=o.size;l={crop:a,filter:c?c.id||c.matrix:d,color:f,markup:p,size:h}}if(Un(n))return e("ABORT_IMAGE");r.name||(r.name=hn()),n.file.orientation=-1,n.file.data=r,e("LOAD_IMAGE",{success:i,failure:s,options:l,resolveOnConfirm:u},!0),e("KICK")}).catch(function(t){if(Un(n))return e("ABORT_IMAGE");e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_LOAD_ERROR",data:t}}),s(t)})):e("REQUEST_ABORT_IMAGE",{source:r,success:i,failure:s,options:l,resolveOnConfirm:u})},LOAD_IMAGE:function LOAD_IMAGE(r){var o=r.success,i=r.failure,a=r.options,s=void 0===a?{}:a,l=r.resolveOnConfirm;if(Un(n))return e("ABORT_IMAGE");var c=n.file.data;Promise.all([function getImageSize(e){return new Promise(function(t,n){var r=new Image;r.src=URL.createObjectURL(e),r.onerror=function(e){clearInterval(o),n(e)};var o=setInterval(function(){r.naturalWidth&&r.naturalHeight&&(clearInterval(o),URL.revokeObjectURL(r.src),t({width:r.naturalWidth,height:r.naturalHeight}))},1)})}(c),Xt(c)]).then(function(r){var a=_slicedToArray(r,2),c=a[0],u=a[1];if(Un(n))return e("ABORT_IMAGE");if(n.file.orientation=t("GET_OUTPUT_CORRECT_IMAGE_EXIF_ORIENTATION")?u:-1,n.file.orientation>-1){var d=c.width,f=c.height;u>=5&&u<=8&&(c.width=f,c.height=d)}var p=t("GET_MIN_IMAGE_SIZE");if(c.width<p.width||c.height<p.height)return e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_MIN_SIZE_VALIDATION_ERROR",data:{size:c,minImageSize:p}}}),ie(n),void i();var h=fn(c,{width:t("GET_MAX_IMAGE_PREVIEW_WIDTH"),height:t("GET_MAX_IMAGE_PREVIEW_HEIGHT")});if(n.image={x:0,y:0,width:h.width,height:h.height,naturalWidth:c.width,naturalHeight:c.height,aspectRatio:c.height/c.width},t("ALLOW_MANUAL_RESIZE")&&s.size&&(n.size.width=s.size.width,n.size.height=s.size.height,n.size.aspectRatioLocked=!0,n.size.aspectRatioPrevious=!1,n.instructions.size={width:s.size.width,height:s.size.height}),n.instructions.crop=gn(t,n,s.crop?_objectSpread({},s.crop):null,n.size),n.crop.limitToImageBounds=n.options.cropLimitToImageBounds,!1===n.instructions.crop.scaleToFit&&(n.crop.limitToImageBounds=n.instructions.crop.scaleToFit),void 0===s.filter)n.instructions.filter=n.options.filter;else{var g=s.filter;n.instructions.filter=null===g?g:g.id||g.matrix||g}var m=n.options.markup||[];n.instructions.markup=m.concat(s.markup||[]),n.instructions.color=Object.keys(wn).reduce(function(e,t){return e[t]=s.color&&void 0!==s.color[t]?"number"==typeof s.color[t]?s.color[t]:s.color[t].value:n.options["color".concat(mn(t))],e},{}),e("DID_LOAD_IMAGE",{image:_objectSpread({size:n.file.data.size,name:n.file.data.name,type:n.file.data.type,orientation:u},c)}),n.filePromise={resolveOnConfirm:l,success:o,failure:i}}).catch(function(t){if(Un(n))return e("ABORT_IMAGE");e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_UNKNOWN_ERROR",data:t}}),ie(n),i()})},CHANGE_VIEW:function CHANGE_VIEW(t){var r=t.id;n.activeView=r,e("SHOW_VIEW",{id:r})},UPDATE_ROOT_RECT:function UPDATE_ROOT_RECT(e){var t=e.rect;n.rootRect=t},DID_RESIZE_STAGE:function DID_RESIZE_STAGE(r){var o=r.size,i=r.offset,a=r.animate,s=null===n.stage;if(n.stage=Fe(0,0,o.width,o.height),n.stageOffset=ke(i.x,i.y),!t("GET_ALLOW_PREVIEW_FIT_TO_VIEW")){var l=t("GET_IMAGE_STAGE_RECT");n.stage=Fe(0,0,l.width,l.height),n.stageOffset=ke(n.stageOffset.x+l.x,n.stageOffset.y+l.y)}if(s){if(xn(n,t,e),!n.filePromise.resolveOnConfirm){var c=Xe(n.image,n.crop),u=En(t);n.filePromise.success({crop:c,image:{orientation:n.file.orientation},size:u,output:{type:t("GET_OUTPUT_TYPE"),quality:t("GET_OUTPUT_QUALITY")}})}}else n.instantUpdate=!a,On(n,t),setTimeout(function(){n.instantUpdate=!1},16)},RESIZE_SET_OUTPUT_SIZE_ASPECT_RATIO_LOCK:function RESIZE_SET_OUTPUT_SIZE_ASPECT_RATIO_LOCK(e){var t=e.value;n.size.aspectRatioLocked=t},RESIZE_SET_OUTPUT_SIZE:function RESIZE_SET_OUTPUT_SIZE(r){var o=r.width,i=r.height,a=Ze({width:o=o||null,height:i=i||null},t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),t("GET_CROP_RECTANGLE_ASPECT_RATIO"));if(n.size.width=a.width?Math.round(a.width):null,n.size.height=a.height?Math.round(a.height):null,o&&i){var s=i/o;if(s===n.crop.aspectRatio)return;!1===n.size.aspectRatioPrevious&&(n.size.aspectRatioPrevious=n.crop.aspectRatio),e("CROP_SET_ASPECT_RATIO",{value:s})}else!1!==n.size.aspectRatioPrevious&&(e("CROP_SET_ASPECT_RATIO",{value:n.size.aspectRatioPrevious}),n.size.aspectRatioPrevious=!1)},CROP_SET_ASPECT_RATIO:function CROP_SET_ASPECT_RATIO(e){var r=e.value;if(Pn(n),n.crop.aspectRatio=Y(r)?Ue(r):r,n.crop.aspectRatio&&On(n,t),n.crop.isDirty=!0,n.size.width&&n.size.height)if(n.crop.aspectRatio){var o=n.size.width*n.crop.aspectRatio,i=we(o,t("GET_SIZE_MIN").height,t("GET_SIZE_MAX").height);n.size.height=i,n.size.width=i/n.crop.aspectRatio}else n.size.height=null},DID_SET_CROP_ASPECT_RATIO:function DID_SET_CROP_ASPECT_RATIO(t){var n=t.value,r=t.prevValue;Ue(n)!==Ue(r)&&e("CROP_SET_ASPECT_RATIO",{value:n})},CROP_ZOOM:function CROP_ZOOM(){n.stage&&(Pn(n),On(n,t))},DID_SET_CROP_LIMIT_TO_IMAGE_BOUNDS:function DID_SET_CROP_LIMIT_TO_IMAGE_BOUNDS(t){var r=t.value,o=t.prevValue;n.crop.limitToImageBounds=r,!1===o&&r&&e("CROP_ENABLED_LIMIT_TO_IMAGE_BOUNDS")},CROP_ENABLED_LIMIT_TO_IMAGE_BOUNDS:function CROP_ENABLED_LIMIT_TO_IMAGE_BOUNDS(){var e=n.stage,r=n.image,o=n.crop.rectangle.height/n.crop.rectangle.width,i=He(e,o);n.crop.rectangle=i,n.crop.transforms=nn(r,n.crop.rectangle,n.crop.transforms,"moving"),n.crop.transforms=nn(r,n.crop.rectangle,n.crop.transforms,"resizing"),n.crop.transforms=nn(r,n.crop.rectangle,n.crop.transforms,"rotating"),n.crop.draft.rectangle=null,n.crop.draft.transforms=null,On(n,t)},CROP_SET_LIMIT:function CROP_SET_LIMIT(t){var r=t.value,o=t.silent,i=void 0!==o&&o,a=n.crop.limitToImageBounds!==r;n.crop.limitToImageBounds=r,a&&!i&&(n.crop.isDirty=!0),a&&r&&e("CROP_ENABLED_LIMIT_TO_IMAGE_BOUNDS")},CROP_IMAGE_RESIZE_GRAB:function CROP_IMAGE_RESIZE_GRAB(){In(n),Pn(n)},CROP_IMAGE_ROTATE_GRAB:function CROP_IMAGE_ROTATE_GRAB(){In(n),Pn(n),n.crop.isRotating=!0},CROP_RECT_DRAG_GRAB:function CROP_RECT_DRAG_GRAB(){In(n),Pn(n)},CROP_RECT_DRAG_RELEASE:function CROP_RECT_DRAG_RELEASE(){(function confirmCropDraft(e){e.crop.rectangle=e.crop.draft.rectangle.limited,e.crop.draft.rectangle=null,Dn(e),Sn(e)})(n),kn(n,t,e)},CROP_RECT_EDGE_DRAG:function CROP_RECT_EDGE_DRAG(e){var r=e.offset,o=e.origin,i=e.anchor,a=n.image,s=n.stage,l=/n|s/.test(o)?Zt:Jt,c=on(o,n.crop.rectangle),u=on(i,n.crop.rectangle),d=xe({x:c.x+(l===Jt?r.x:0),y:c.y+(l===Zt?r.y:0)},s),f=t("GET_MIN_CROP_SIZE"),p=t("GET_MAX_CROP_SIZE");f.width=_e(f.width),f.height=_e(f.height);var h=Rn(n.crop.rectangle,t("GET_MIN_PREVIEW_IMAGE_SIZE"))/(n.crop.draft.transforms.scale||n.crop.transforms.scale);p.width=_e(p.width*h),p.height=_e(p.height*h);var g={x:Math.sign(c.x-u.x),y:Math.sign(c.y-u.y)};n.crop.draft.rectangle=function getEdgeTargetRect(e,t,n,r,o,i,a,s,l){var c=i.left,u=i.right,d=i.top,f=i.bottom,p=u-c,h=f-d,g=o.left,m=o.right,A=o.top,v=o.bottom;if(n===Zt){if(A=e.y>0?r.y:Math.min(r.y,Math.max(t.y,d)),v=e.y>0?Math.max(r.y,Math.min(t.y,f)):r.y,a){var y=(v-A)/a;g=r.x-.5*y,m=r.x+.5*y}}else if(g=e.x>0?r.x:Math.min(r.x,Math.max(t.x,c)),m=e.x>0?Math.max(r.x,Math.min(t.x,u)):r.x,a){var b=(m-g)*a;A=r.y-.5*b,v=r.y+.5*b}var w,_,E,C,S=s.width,T=s.height;if(n===Zt?(w=r.x-.5*S,_=r.x+.5*S,e.y<0?(E=r.y-T,C=r.y):e.y>0&&(E=r.y,C=r.y+T)):(E=r.y-.5*T,C=r.y+.5*T,e.x<0?(w=r.x-S,_=r.x):e.x>0&&(w=r.x,_=r.x+S)),a)if(n===Zt){var x=Math.min((v-A)/a,p),O=x*a;g<c&&(m=(g=c)+x),m>u&&(g=(m=u)-x),r.x=g+.5*x,e.y<0?A=r.y-O:e.y>0&&(v=r.y+O)}else{var k=Math.min((m-g)*a,h),B=k/a;A<d&&(v=(A=d)+k),v>f&&(A=(v=f)-k),r.y=A+.5*k,e.x<0?g=r.x-B:e.x>0&&(m=r.x+B)}var I=Me({top:A,right:m,bottom:v,left:g}),R=function L(){var t=S*a;n===Jt?(A=r.y-.5*t,v=r.y+.5*t):e.y<0?(v=r.y,A=v-t):e.y>0&&(A=r.y,v=A+t)},M=function P(){var t=T/a;n===Zt?(g=r.x-.5*t,m=r.x+.5*t):e.x<0?(m=r.x,g=m-t):e.x>0&&(g=r.x,m=g+t)};m<_&&(m=_,g=_-S,a&&R()),g>w&&(g=w,m=w+S,a&&R()),A>E&&(A=E,v=E+T,a&&M()),v<C&&(v=C,A=C-T,a&&M());var D=l.width,N=l.height;if(a&&(a<1?D=N/a:N=D*a),m-g>D&&(e.x<0?g=r.x-D:m=r.x+D),v-A>N&&(e.y<0?A=r.y-N:v=r.y+N),m-g==0&&(e.x>0?m=r.x+2:g=r.x-2),v-A==0&&(e.y>0?v=r.y+2:A=r.y-2),Math.round(g)<c||Math.round(m)>u||Math.round(A)<d||Math.round(v)>f){var F=f-d,U=u-c;if(g<c){g=c;var H=Math.min(m-g,U);m=g+H}if(m>u){m=u;var j=Math.min(m-g,U);g=m-j}if(A<d){A=d;var Q=Math.min(v-A,F);v=A+Q}if(v>f){v=f;var z=Math.min(v-A,F);A=v-z}I=Me({top:A,right:m,bottom:v,left:g})}return{free:I,limited:Me({top:A,right:m,bottom:v,left:g})}}(g,d,l,u,Le(n.crop.rectangle),Le(s),n.crop.aspectRatio,f,p),n.crop.limitToImageBounds&&(n.crop.draft.transforms=an(a,n.crop.draft.rectangle.limited,n.crop.transforms))},CROP_RECT_CORNER_DRAG:function CROP_RECT_CORNER_DRAG(e){var r=e.offset,o=e.origin,i=e.anchor,a=n.image,s=n.stage,l=ln(o,n.crop.rectangle),c=ln(i,n.crop.rectangle),u={x:l.x+r.x,y:l.y+r.y},d=t("GET_MIN_CROP_SIZE"),f=t("GET_MAX_CROP_SIZE");d.width=_e(d.width),d.height=_e(d.height);var p=Rn(n.crop.rectangle,t("GET_MIN_PREVIEW_IMAGE_SIZE"))/(n.crop.draft.transforms.scale||n.crop.transforms.scale);f.width=_e(f.width*p),f.height=_e(f.height*p);var h={x:Math.sign(l.x-c.x),y:Math.sign(l.y-c.y)};n.crop.draft.rectangle=function getCornerTargetRect(e,t,n,r,o,i,a){var s=Le(r),l=s.left,c=s.right,u=s.top,d=s.bottom,f=xe({x:t.x,y:t.y},r),p=e.x>0?n.x:Math.min(f.x,n.x),h=e.x>0?Math.max(n.x,f.x):n.x,g=e.y>0?n.y:Math.min(f.y,n.y),m=e.y>0?Math.max(n.y,f.y):n.y;if(o){var A=f.x-n.x;e.x>0?h=Math.max(n.x,n.x+e.x*A):p=Math.min(n.x,n.x-e.x*A),e.y>0?m=Math.max(n.y,n.y+e.x*A*o):g=Math.min(n.y,n.y-e.x*A*o)}var v=Me({top:g,right:h,bottom:m,left:p});if(Me({top:g,right:h,bottom:m,left:p}),i.width&&i.height){var y=i.width,b=i.height;o&&(1===o?b=y=Math.max(y,b):y<b?y=b/o:y>b?b=y*o:y=b/o),h-p<y&&(e.x>0?h=n.x+y:p=n.x-y),m-g<b&&(e.y>0?m=n.y+b:g=n.y-b);var w=a.width,_=a.height;o&&(o<1?w=_/o:_=w*o),h-p>w&&(e.x<0?p=n.x-w:h=n.x+w),m-g>_&&(e.y<0?g=n.y-_:m=n.y+_)}if(h-p==0&&(e.x>0?h=n.x+2:p=n.x-2),m-g==0&&(e.y>0?m=n.y+2:g=n.y-2),Math.round(p)<l||Math.round(h)>c||Math.round(g)<u||Math.round(m)>d){var E=d-u,C=c-l;if(p<l){p=l;var S=Math.min(h-p,C);h=p+S,o&&(e.y>0&&(m=n.y+S*o),e.y<0&&(g=n.y-S*o))}if(h>c){h=c;var T=Math.min(h-p,C);p=h-T,o&&(e.y>0&&(m=n.y+T*o),e.y<0&&(g=n.y-T*o))}if(g<u){g=u;var x=Math.min(m-g,E);m=g+x,o&&(e.x>0&&(h=n.x+x/o),e.x<0&&(p=n.x-x/o))}if(m>d){m=d;var O=Math.min(m-g,E);g=m-O,o&&(e.x>0&&(h=n.x+O/o),e.x<0&&(p=n.x-O/o))}v=Me({top:g,right:h,bottom:m,left:p})}return{free:v,limited:Me({top:g,right:h,bottom:m,left:p})}}(h,u,c,s,n.crop.aspectRatio,d,f),n.crop.limitToImageBounds&&(n.crop.draft.transforms=an(a,n.crop.draft.rectangle.limited,n.crop.transforms))},CROP_IMAGE_DRAG_GRAB:function CROP_IMAGE_DRAG_GRAB(){return In(n)||Pn(n)},CROP_IMAGE_DRAG_RELEASE:function CROP_IMAGE_DRAG_RELEASE(){Dn(n),Sn(n),kn(n,t,e)},CROP_IMAGE_ROTATE_RELEASE:function CROP_IMAGE_ROTATE_RELEASE(){Dn(n),kn(n,t,e)},CROP_IMAGE_DRAG:function CROP_IMAGE_DRAG(e){var t=e.value;Pn(n),n.crop.draft.transforms=function getTranslateTransforms(e,t,n,r,o){var i={x:n.translation.x+r.x,y:n.translation.y+r.y},a=_objectSpread({},tn(n),{translation:i}),s=o?nn(e,t,a,"moving"):a;return s.interaction={translation:i},s}(n.image,n.crop.rectangle,n.crop.transforms,t,n.crop.limitToImageBounds)},CROP_IMAGE_RESIZE_RELEASE:function CROP_IMAGE_RESIZE_RELEASE(){t("GET_CROP_RESIZE_MATCH_IMAGE_ASPECT_RATIO")&&function correctCropRectangleByResize(e,t){var n=_e(e.crop.draft.transforms.scale,5);if(!(_e(e.crop.draft.targetSize,5)<n))return!1;if(null!==e.crop.aspectRatio)return!1;if(!1===e.crop.limitToImageBounds)return!1;if(0!==_e(e.crop.rotation.sub,5))return!1;var r=_e(e.crop.rotation.main/_n,5)%2!=0?e.image.width/e.image.height:e.image.height/e.image.width;if(r===e.crop.rectangle.height/e.crop.rectangle.width)return!1;var o=e.stage.x+.5*e.stage.width,i=e.stage.y+.5*e.stage.height,a=e.crop.rectangle.x+.5*e.crop.rectangle.width,s=e.crop.rectangle.y+.5*e.crop.rectangle.height;if(a!==o||s!==i)return!1;var l=t("GET_STAGE_RECT");e.crop.rectangle=He(l,r),"stage"!==l.mode&&(e.crop.rectangle.x+=l.x,e.crop.rectangle.y+=l.y),e.crop.transforms=en({center:{x:.5,y:.5},rotation:e.crop.transforms.rotation,zoom:1,aspectRatio:r},l,e.image,!0),e.crop.draft.transforms=null}(n,t),Dn(n),Sn(n),kn(n,t,e)},CROP_IMAGE_RESIZE:function CROP_IMAGE_RESIZE(e){var r=e.value;Pn(n);var o=n.crop.transforms;n.crop.draft.targetSize=o.scale+o.scale*r,n.crop.draft.transforms=Mn(n.image,n.crop.rectangle,o,n.crop.draft.targetSize,t("GET_MIN_PREVIEW_IMAGE_SIZE"),n.crop.limitToImageBounds)},CROP_IMAGE_RESIZE_MULTIPLY:function CROP_IMAGE_RESIZE_MULTIPLY(e){var r=e.value;Pn(n);var o=n.crop.transforms;n.crop.draft.targetSize=o.scale*r,n.crop.draft.transforms=Mn(n.image,n.crop.rectangle,o,n.crop.draft.targetSize,t("GET_MIN_PREVIEW_IMAGE_SIZE"),n.crop.limitToImageBounds)},CROP_IMAGE_RESIZE_AMOUNT:function CROP_IMAGE_RESIZE_AMOUNT(e){var r=e.value;Pn(n);var o=n.crop.transforms;n.crop.draft.targetSize=(n.crop.draft.transforms?n.crop.draft.transforms.scale:o.scale)+r,n.crop.draft.transforms=Mn(n.image,n.crop.rectangle,o,n.crop.draft.targetSize,t("GET_MIN_PREVIEW_IMAGE_SIZE"),n.crop.limitToImageBounds)},CROP_IMAGE_ROTATE:function CROP_IMAGE_ROTATE(e){var r=e.value;Pn(n),n.crop.isRotating=!0,Tn(n,{main:n.crop.rotation.main,sub:r},t("GET_MIN_PREVIEW_IMAGE_SIZE"),!1,n.crop.limitToImageBounds)},CROP_IMAGE_ROTATE_ADJUST:function CROP_IMAGE_ROTATE_ADJUST(e){var r=e.value;Pn(n),Tn(n,{main:n.crop.rotation.main,sub:Math.min(Math.PI/4,Math.max(-Math.PI/4,n.crop.rotation.sub+r))},t("GET_MIN_PREVIEW_IMAGE_SIZE"),!1,n.crop.limitToImageBounds),Dn(n)},CROP_IMAGE_ROTATE_CENTER:function CROP_IMAGE_ROTATE_CENTER(){Pn(n),Tn(n,{main:n.crop.rotation.main,sub:0},t("GET_MIN_PREVIEW_IMAGE_SIZE"),!1,n.crop.limitToImageBounds),Dn(n)},CROP_IMAGE_ROTATE_LEFT:function CROP_IMAGE_ROTATE_LEFT(){Bn(n,t,e),Tn(n,{main:n.crop.rotation.main-_n,sub:n.crop.rotation.sub},t("GET_MIN_PREVIEW_IMAGE_SIZE"),-_n,n.crop.limitToImageBounds),Dn(n),t("GET_CROP_FORCE_LETTERBOX")&&e("CROP_UPDATE_LETTERBOX")},CROP_IMAGE_ROTATE_RIGHT:function CROP_IMAGE_ROTATE_RIGHT(){Bn(n,t,e),Tn(n,{main:n.crop.rotation.main+_n,sub:n.crop.rotation.sub},t("GET_MIN_PREVIEW_IMAGE_SIZE"),_n,n.crop.limitToImageBounds),Dn(n),t("GET_CROP_FORCE_LETTERBOX")&&e("CROP_UPDATE_LETTERBOX")},CROP_IMAGE_FLIP_HORIZONTAL:function CROP_IMAGE_FLIP_HORIZONTAL(){Bn(n,t,e),0===_e(n.crop.rotation.main%Math.PI/2,5)?n.crop.flip.horizontal=!n.crop.flip.horizontal:n.crop.flip.vertical=!n.crop.flip.vertical,n.crop.isDirty=!0},CROP_IMAGE_FLIP_VERTICAL:function CROP_IMAGE_FLIP_VERTICAL(){Bn(n,t,e),0===_e(n.crop.rotation.main%Math.PI/2,5)?n.crop.flip.vertical=!n.crop.flip.vertical:n.crop.flip.horizontal=!n.crop.flip.horizontal,n.crop.isDirty=!0},DID_RECEIVE_IMAGE_DATA:function DID_RECEIVE_IMAGE_DATA(e){var t=e.previewData,r=e.thumbData;n.file.preview=t,n.file.thumb=r},MARKUP_SET_VALUE:function MARKUP_SET_VALUE(e){var t=e.value;n.markup=t||[]},MARKUP_ADD_DEFAULT:function MARKUP_ADD_DEFAULT(n){var r=n.value,o=function i(){return-.5+Math.random()},i=.25*t("GET_CROP_RECTANGLE_ASPECT_RATIO"),s=function a(){return{width:.25,height:i,x:.5+.5*o()-.125,y:.5+.5*o()-.5*i}},c=function c(e){return t("GET_MARKUP_TOOL_VALUES")[e]},u=function l(){var e=c("shapeStyle"),t=c("color");return{backgroundColor:e[0]||e[1]?null:t,borderWidth:e[0],borderStyle:e[1]?e[1]:null,borderColor:t}},d={rect:function rect(){return _objectSpread({},s(),u())},ellipse:function ellipse(){return _objectSpread({},s(),u())},text:function text(){return{x:.5+.5*o()-.1,y:.5+.5*o(),width:0,height:0,fontColor:c("color"),fontSize:c("fontSize"),fontFamily:c("fontFamily"),text:"Text"}},line:function line(){var e=c("lineStyle");return _objectSpread({},s(),{lineColor:c("color"),lineWidth:e[0],lineStyle:e[1]?e[1]:null,lineDecoration:c("lineDecoration")})}}[r]();e("MARKUP_ADD",[r,d])},MARKUP_ADD:function MARKUP_ADD(r){n.markup.forEach(function(e){return e[1].isSelected=!1}),n.markup=n.markup.filter(function(e){return!e[1].isDestroyed});var o=bn(r);n.markup.push(o),n.markup.sort(Ut),"draw"!==t("GET_MARKUP_UTIL")&&e("MARKUP_SELECT",{id:o[1].id}),n.crop.isDirty=!0},MARKUP_SELECT:function MARKUP_SELECT(e){var t=e.id;n.markup.forEach(function(e){e[1].isSelected=e[1].id===t,e[1].isDirty=!0})},MARKUP_ELEMENT_DRAG:function MARKUP_ELEMENT_DRAG(e){var t=e.id,r=e.origin,o=e.offset,i=e.size,a=n.markup.find(function(e){return e[1].id===t});if(a){var s=a[1],l=r.x/i.width,c=r.y/i.height,u=r.width/i.width,d=r.height/i.height,f=o.x/i.width,p=o.y/i.height;s.x=l+f,s.y=c+p,s.width=u,s.height=d,s.left=void 0,s.top=void 0,s.right=void 0,s.bottom=void 0,s.isDirty=!0,n.crop.isDirty=!0}},MARKUP_ELEMENT_RESIZE:function MARKUP_ELEMENT_RESIZE(e){var t=e.id,r=e.corner,o=e.origin,i=e.offset,a=e.size,s=n.markup.find(function(e){return e[1].id===t});if(s){var l=_slicedToArray(s,2),c=l[0],u=l[1],d=(o.x+i.x)/a.width,f=(o.y+i.y)/a.height;if(/n/.test(r))if("line"===c)u.height=u.height-(f-u.y),u.y=f;else{var p=u.y+u.height;f>p&&(f=p),u.height=u.height-(f-u.y),u.y=f}if(/w/.test(r))if("line"===c)u.width=u.width-(d-u.x),u.x=d;else{var h=u.x+u.width;d>h&&(d=h),u.width=u.width-(d-u.x),u.x=d}/s/.test(r)&&(u.height="line"===c?f-u.y:Math.max(0,f-u.y)),/e/.test(r)&&(u.width="line"===c?d-u.x:Math.max(0,d-u.x)),u.left=void 0,u.top=void 0,u.right=void 0,u.bottom=void 0,u.isDirty=!0,n.crop.isDirty=!0}},MARKUP_DELETE:function MARKUP_DELETE(t){var r=t.id,o=n.markup.find(function(e){return e[1].id===r});if(o){var i=o[1];i.allowDestroy&&(i.isDestroyed=!0,i.isSelected=!1,i.isDirty=!0);for(var a=null,s=n.markup.length;s>0;){s--;var l=n.markup[s][1];if(!l.isDestroyed&&l.allowDestroy){a=l.id;break}}e("MARKUP_SELECT",{id:a})}},MARKUP_UPDATE:function MARKUP_UPDATE(e){var t=e.style,r=e.value;n.markupToolValues[t]=r,n.markup.map(function(e){return e[1]}).filter(function(e){return e.isSelected}).forEach(function(e){if("color"===t)e[function getColorProperty(e){return e.borderWidth?"borderColor":e.lineWidth?"lineColor":e.fontColor?"fontColor":e.backgroundColor?"backgroundColor":void 0}(e)]=r;else if("shapeStyle"===t){var n=function getColor(e){var t=e.fontColor,n=e.backgroundColor,r=e.lineColor,o=e.borderColor;return t||n||r||o}(e);e.borderWidth=r[0],e.borderStyle=r[1],e.backgroundColor=r[0]||r[1]?null:n}else"lineStyle"===t?(e.lineWidth=r[0],e.lineStyle=r[1]):e[t]=r;e.isDirty=!0}),n.crop.isDirty=!0}},["color","shapeStyle","lineStyle","textDecoration","fontSize","fontFamily"].reduce(function(t,r){var o=r.split(/(?=[A-Z])/).join("_").toUpperCase(),i=mn(r);return t["SET_MARKUP_"+o]=function(t){var o=t.value;o!==t.prevValue&&(n.options["markup".concat(i)]=o,e("MARKUP_UPDATE",{style:r,value:o}))},t},{}),{DID_SET_CROP:function DID_SET_CROP(t){var n=t.value;n!==t.prevValue&&e("SET_DATA",{crop:n})},COLOR_SET_COLOR_VALUE:function COLOR_SET_COLOR_VALUE(t){var r=t.key,o=t.value;n.crop.isDirty=!0,e("COLOR_SET_VALUE",{key:r,value:o})},COLOR_SET_VALUE:function COLOR_SET_VALUE(t){var r=t.key,o=t.value;n.colorValues[r]=o,e("SET_COLOR_MATRIX",{key:r,matrix:wn[r](o)})}},Object.keys(wn).reduce(function(r,o){var i=o.toUpperCase(),a=mn(o);return r["SET_COLOR_".concat(i)]=function(r){var s=r.value;if(s!==r.prevValue){var l=_slicedToArray(t("GET_COLOR_".concat(i,"_RANGE")),2),c=l[0],u=l[1],d=we(s,c,u);n.options["color".concat(a)]=d,n.instructions.color||(n.instructions.color={}),n.instructions.color[o]=d,e("COLOR_SET_VALUE",{key:o,value:d})}},r},{}),{SET_COLOR_MATRIX:function SET_COLOR_MATRIX(t){var r=t.key,o=t.matrix;o?n.colorMatrices[r]=_toConsumableArray(o):delete n.colorMatrices[r],e("DID_SET_COLOR_MATRIX",{key:r,matrix:o})},FILTER_SET_FILTER:function FILTER_SET_FILTER(t){var r=t.value;n.crop.isDirty=!0,e("FILTER_SET_VALUE",{value:r})},FILTER_SET_VALUE:function FILTER_SET_VALUE(r){var o=r.value,i=vn(o)?o:null;if(Y(o)){var a=t("GET_FILTERS");p(a,function(e,t){e===o&&(i=t.matrix())})}n.filter=o,n.filterName=Y(o)?o:null,e("SET_COLOR_MATRIX",{key:"filter",matrix:i})},DID_SET_UTIL:function DID_SET_UTIL(t){var r=t.value;t.prevValue,-1!==n.options.utils.indexOf(r)&&e("CHANGE_VIEW",{id:r})},DID_SET_FILTER:function DID_SET_FILTER(t){var n=t.value;n!==t.prevValue&&(e("FILTER_SET_VALUE",{value:n}),e("SET_DATA",{filter:n}))},DID_SET_SIZE:function DID_SET_SIZE(t){var n=t.value;n!==t.prevValue&&e("SET_DATA",{size:n})},DID_SET_MARKUP_UTIL:function DID_SET_MARKUP_UTIL(t){var n=t.value;n!==t.prevValue&&n&&(/^(draw|line|text|rect|ellipse)$/.test(n)||(n="select"),e("SWITCH_MARKUP_UTIL",{util:n}))},DID_SET_MARKUP:function DID_SET_MARKUP(t){var n=t.value,r=t.prevValue;n!==r&&JSON.stringify(n)===JSON.stringify(r)||(e("MARKUP_SET_VALUE",{value:n}),e("SET_DATA",{markup:n}))},SET_DATA:function SET_DATA(r){if(r.size&&t("ALLOW_MANUAL_RESIZE")){var o=_objectSpread({width:null,height:null},r.size),i=Ze(o,t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),null);n.instructions.size=_objectSpread({},i),e("RESIZE_SET_OUTPUT_SIZE",i)}r.filter&&(n.instructions.filter=r.filter?r.filter.id||r.filter.matrix:r.colorMatrix),n.instructions.markup=r.markup||[],n.instructions.markup.forEach(function(e){e[1].isDirty=!0}),n.instructions.color=Object.keys(wn).reduce(function(e,t){var o=void 0===r.color||void 0===r.color[t],i=n.options["color".concat(mn(t))];return e[t]=o?i:T(r.color[t])?r.color[t]:r.color[t].value,e},{}),r.crop&&(n.instructions.crop=gn(t,n,r.crop,n.size),n.crop.limitToImageBounds=n.options.cropLimitToImageBounds,!1===n.instructions.crop.scaleToFit&&(n.crop.limitToImageBounds=n.instructions.crop.scaleToFit),e("EDIT_RESET"))},DID_SET_INITIAL_STATE:function DID_SET_INITIAL_STATE(e){var r=e.value||{},o=r.crop,i=r.filter,a=r.color,s=r.size,l=void 0===s?{}:s,c=r.markup,u=void 0===c?[]:c,d=_objectSpread({width:null,height:null},l),f=Ze(d,t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),null);n.instructions.size=_objectSpread({},f),n.instructions.crop=gn(t,n,o),n.crop.limitToImageBounds=n.options.cropLimitToImageBounds,!1===n.instructions.crop.scaleToFit&&(n.crop.limitToImageBounds=n.instructions.crop.scaleToFit),n.instructions.filter=i||null,n.instructions.color=Object.keys(wn).reduce(function(e,t){return e[t]=void 0===a||void 0===a[t]?n.options["color".concat(mn(t))]:a[t],e},{}),n.instructions.markup=u,n.crop.isDirty=!0},GET_DATA:function GET_DATA(r){var o=r.success,i=r.failure,a=r.file,s=r.data;if(!n.file)return i("no-image-source");if(!n.stage)return i("image-not-fully-loaded");var l={file:q(a)?a:t("GET_OUTPUT_FILE"),data:q(s)?s:t("GET_OUTPUT_DATA"),success:o,failure:i};e(l.file?"REQUEST_PREPARE_OUTPUT":"PREPARE_OUTPUT",l)},REQUEST_PREPARE_OUTPUT:function REQUEST_PREPARE_OUTPUT(t){var n=t.file,r=t.data,o=t.success,i=t.failure;e("PREPARE_OUTPUT",{file:n,data:r,success:o,failure:i},!0),e("DID_REQUEST_PREPARE_OUTPUT")},PREPARE_OUTPUT:function PREPARE_OUTPUT(r){var o=r.file,i=r.data,a=r.success,l=void 0===a?function(){}:a,c=r.failure,u=void 0===c?function(){}:c;if(Un(n))return e("ABORT_IMAGE");var d=function s(t){if(e("DID_PREPARE_OUTPUT"),Un(n))return e("ABORT_IMAGE");l(t)};Cn({file:o,data:i},n,t).then(function(t){var r=n.options.afterCreateOutput,o=r?r(t,function(t,n){return e("DID_REQUEST_POSTPROCESS_OUTPUT",{label:t,progress:n}),function(t){e("DID_MAKE_PROGRESS",{progress:t})}}):t;Promise.resolve(o).then(d).catch(function(t){e("DID_REQUEST_POSTPROCESS_OUTPUT_ERROR",{error:t})})}).catch(function(t){if(Un(n))return e("ABORT_IMAGE");u(t)})},EDIT_RESET:function EDIT_RESET(){Pn(n),xn(n,t,e)},EDIT_CONFIRM:function EDIT_CONFIRM(){if(n.file&&n.stage){Pn(n),e("CROP_ZOOM");var r={file:t("GET_OUTPUT_FILE"),data:t("GET_OUTPUT_DATA"),success:function success(t){n.filePromise.resolveOnConfirm&&n.filePromise.success(t),e("DID_CONFIRM",{output:t})},failure:console.error};e(r.file?"REQUEST_PREPARE_OUTPUT":"PREPARE_OUTPUT",r)}},EDIT_CANCEL:function EDIT_CANCEL(){n.filePromise&&n.filePromise.success(null),e("DID_CANCEL")},EDIT_CLOSE:function EDIT_CLOSE(){Pn(n)},EDIT_DESTROY:function EDIT_DESTROY(){ie(n)},SET_OPTIONS:function SET_OPTIONS(t){var n=t.options;p(n,function(t,n){e("SET_".concat(ae(t,"_").toUpperCase()),{value:n})})}})},jn=function createIcon(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return'<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 ').concat(t," ").concat(t,'" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">').concat(e,"</svg>")},Qn=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"button",mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:250}},apis:["id"],listeners:!0},tag:"button",create:function create(e){var t=e.root,n=e.props;t.element.innerHTML="".concat(n.icon||"","<span>").concat(n.label,"</span>"),t.element.setAttribute("type",n.type||"button"),n.name&&n.name.split(" ").forEach(function(e){t.element.className+=" doka--button-".concat(e)}),t.ref.handleClick=function(){"string"==typeof n.action?t.dispatch(n.action):n.action()},t.element.addEventListener("click",t.ref.handleClick),t.ref.handlePointer=function(e){return e.stopPropagation()},t.element.addEventListener("pointerdown",t.ref.handlePointer),n.create&&n.create({root:t,props:n})},destroy:function destroy(e){var t=e.root;t.element.removeEventListener("pointerdown",t.ref.handlePointer),t.element.removeEventListener("click",t.ref.handleClick)}}),zn=z({name:"status-progress",tag:"svg",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{apis:["progress"],animations:{progress:{type:"spring",stiffness:.25,damping:.25,mass:2.5}}},create:function create(e){var t=e.root,n=e.props;t.element.setAttribute("data-value",0),t.element.setAttribute("width",24),t.element.setAttribute("height",24),t.element.setAttribute("viewBox","0 0 20 20");var r=t.ref.circle=document.createElementNS("http://www.w3.org/2000/svg","circle"),o={r:5,cx:10,cy:10,fill:"none",stroke:"currentColor","stroke-width":10,transform:"rotate(-90) translate(-20)"};t.element.appendChild(r),Object.keys(o).forEach(function(e){r.setAttribute(e,o[e])}),t.ref.updateStroke=function(e){t.ref.circle.setAttribute("stroke-dasharray","".concat(31.42*Math.min(1,e)," 31.42"))},"number"==typeof n.progress?(t.progress=n.progress,t.element.setAttribute("data-value",Math.max(n.progress,.001)),t.ref.updateStroke(t.progress)):t.progress=0},write:$({DID_MAKE_PROGRESS:function DID_MAKE_PROGRESS(e){var t=e.root,n=e.action;t.progress=n.progress,t.element.setAttribute("data-value",Math.max(n.progress,.001))}},function(e){var t=e.root;t.ref.updateStroke(t.progress)})}),$n=z({name:"status-bubble-inner",create:function create(e){var t=e.root,n=e.props;n.onClose?t.appendChildView(t.createChildView(Qn,{label:"Close",name:"icon-only status-bubble-close",icon:jn('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"/></g>'),action:n.onClose})):t.ref.progressIndicator=t.appendChildView(t.createChildView(zn,{progress:n.progress})),t.appendChildView(t.createChildView(function textNode(e){return z({ignoreRect:!0,tag:e,create:function create(e){var t=e.root,n=e.props;t.element.textContent=n.text}})}("p"),{text:n.label}))}}),Vn=z({name:"status-bubble",mixins:{styles:["opacity","translateY"],apis:["markedForRemoval"],animations:{opacity:{type:"tween",duration:500},translateY:{type:"spring",mass:20}}},create:function create(e){var t=e.root,n=e.props;return t.appendChildView(t.createChildView($n,n))}}),Gn=function hideBusyIndicators(e){e.element.dataset.viewStatus="idle",Wn(e)},Wn=function hideBusyIndicatorsAnimated(e){e.ref.busyIndicators.forEach(function(e){e.translateY=-10,e.opacity=0,e.markedForRemoval=!0})},Kn=function showBusyIndicator(e,t,n,r){e.element.dataset.viewStatus="busy";var o=qn(e,t,n,r);Wn(e),e.ref.busyIndicators.push(o),o.markedForRemoval=!1,o.translateY=0,o.opacity=1},qn=function addBusyIndicator(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e.appendChildView(e.createChildView(Vn,{translateY:20,opacity:0,label:t,onClose:n,progress:r}))},Yn=z({name:"edit-status",ignoreRect:!0,create:function create(e){var t=e.root;t.ref.busyIndicators=[],t.element.setAttribute("tabindex",-1)},write:$({MISSING_WEBGL:function MISSING_WEBGL(e){var t=e.root,n=/fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE"));Kn(t,t.query("GET_LABEL_STATUS_MISSING_WEB_G_L"),n?function(){t.dispatch("EDIT_CANCEL")}:null)},AWAITING_IMAGE:function AWAITING_IMAGE(e){var t=e.root;Kn(t,t.query("GET_LABEL_STATUS_AWAITING_IMAGE"))},DID_PRESENT_IMAGE:function DID_PRESENT_IMAGE(e){var t=e.root;Gn(t)},DID_LOAD_IMAGE_ERROR:function DID_LOAD_IMAGE_ERROR(e){var t=e.root,n=e.action,r=/fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE")),o=t.query("GET_LABEL_STATUS_LOAD_IMAGE_ERROR"),i="function"==typeof o?o(n.error):o;Kn(t,i,r?function(){t.dispatch("EDIT_CANCEL")}:null)},DID_REQUEST_LOAD_IMAGE:function DID_REQUEST_LOAD_IMAGE(e){var t=e.root;Kn(t,t.query("GET_LABEL_STATUS_LOADING_IMAGE"))},DID_REQUEST_PREPARE_OUTPUT:function DID_REQUEST_PREPARE_OUTPUT(e){var t=e.root;Kn(t,t.query("GET_LABEL_STATUS_PROCESSING_IMAGE"))},DID_REQUEST_POSTPROCESS_OUTPUT:function DID_REQUEST_POSTPROCESS_OUTPUT(e){var t=e.root,n=e.action;Kn(t,n.label,null,n.progress)},DID_REQUEST_POSTPROCESS_OUTPUT_ERROR:function DID_REQUEST_POSTPROCESS_OUTPUT_ERROR(e){var t=e.root,n=e.action.error;Kn(t,n,function(){return t.dispatch("DID_PREPARE_OUTPUT")})},DID_PREPARE_OUTPUT:function DID_PREPARE_OUTPUT(e){var t=e.root;Gn(t)}}),didWriteView:function didWriteView(e){var t=e.root;t.ref.busyIndicators=t.ref.busyIndicators.filter(function(e){return!e.markedForRemoval||0!==e.opacity||(t.removeChildView(e),!1)})}}),Xn={down:"pointerdown",move:"pointermove",up:"pointerup"},Jn=function createPointerRegistry(){var e=[],n=function t(n){return e.findIndex(function(e){return e.pointerId===n.pointerId})};return{update:function update(t){var r=n(t);r<0||(e[r]=t)},multiple:function multiple(){return e.length>1},count:function count(){return e.length},active:function active(){return e.concat()},push:function push(t){n(t)>=0||e.push(t)},pop:function pop(t){var r=n(t);r<0||e.splice(r,1)}}},Zn=function addEvent$1(e,t,n,r){return e.addEventListener(Xn[t],n,r)},er=function removeEvent$1(e,t,n){return e.removeEventListener(Xn[t],n)},tr=function contains(e,t){"contains"in e&&e.contains(t);var n=t;do{if(n===e)return!0}while(n=n.parentNode);return!1},nr=function createDragger(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stopPropagation:!0,cancelOnMultiple:!1},a={x:0,y:0},c={enabled:!0,origin:null,cancel:!1,cancelled:!1,pointers:Jn()},f=null,p=function l(e,t){t&&(f||h(e,t),cancelAnimationFrame(f),f=requestAnimationFrame(function(){h(e,t),f=null}))},h=function u(e,t){return t.apply(null,[e,function(e){return{x:e.pageX-a.x,y:e.pageY-a.y}}(e)])},g=function s(e){var r=0===c.pointers.count();r&&(c.active=!1,c.cancel=!1,c.cancelled=!1),(t===e.target||tr(t,e.target))&&(r?e.isPrimary&&(c.pointers.push(e),Zn(document.documentElement,"up",A),e.preventDefault(),i.stopPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()),c.active=!0,a.x=e.pageX,a.y=e.pageY,Zn(document.documentElement,"move",m),n(e)):i.cancelOnMultiple&&(c.cancel=!0))},m=function d(e){e.isPrimary&&(c.cancelled||(e.preventDefault(),i.stopPropagation&&e.stopPropagation(),p(e,r),c.cancel&&(c.cancelled=!0,p(e,o))))},A=function e(t){c.pointers.pop(t),0===c.pointers.count()&&(er(document.documentElement,"move",m),er(document.documentElement,"up",e)),c.active&&(c.cancelled||(t.preventDefault(),i.stopPropagation&&t.stopPropagation(),p(t,r),p(t,o)))};return Zn(document.documentElement,"down",g),{enable:function enable(){c.enabled||Zn(document.documentElement,"down",g),c.enabled=!0},disable:function disable(){c.enabled&&er(document.documentElement,"down",g),c.enabled=!1},destroy:function destroy(){er(document.documentElement,"up",A),er(document.documentElement,"move",m),er(document.documentElement,"down",g)}}},rr={type:"spring",stiffness:.4,damping:.65,mass:7},or=function activateMarkupUtil(e,t,n){if(/^(line|text|ellipse|rect)$/.test(n))e.dispatch("MARKUP_ADD_DEFAULT",{value:n}),e.dispatch("SET_MARKUP_UTIL",{value:"select"});else if("draw"===n&&!e.ref.drawInput){var r=e.ref,o=r.drawState,i=r.viewSize,a=0,s=0,l={},c=e.query("GET_MARKUP_DRAW_DISTANCE");e.ref.drawInput=nr(e.element,function(n){var r=e.query("GET_MARKUP_TOOL_VALUES"),c=r.lineStyle[0],u=r.lineStyle[1];o.lineColor=r.color,o.lineWidth=c,o.lineStyle=u;var d=e.query("GET_ROOT"),f=void 0!==n.offsetX?n.offsetX:n.pageX-d.x-t.stageOffsetX-window.pageXOffset,p=void 0!==n.offsetY?n.offsetY:n.pageY-d.y-t.stageOffsetY-window.pageYOffset;a=f-e.markupX,s=p-e.markupY,l.x=0,l.y=0,o.points.push({x:a/i.width,y:s/i.height})},function(t,n){if(e.dispatch("KICK"),c){var r=Te(n,l);if(r>c){var u=function vectorAngleBetween(e,t){var n=Ce(e,t);return Math.atan2(n.y,n.x)}(l,n)+Math.PI/2,d=c-r;l.x+=Math.sin(u)*d,l.y-=Math.cos(u)*d,o.points.push({x:(a+l.x)/i.width,y:(s+l.y)/i.height})}}else o.points.push({x:(a+n.x)/i.width,y:(s+n.y)/i.height})},function(t,n){o.points.length>1&&e.dispatch("MARKUP_ADD",["path",_objectSpread({},o)]),o.points=[]})}"draw"!==n&&e.ref.drawInput&&(e.ref.drawInput.destroy(),e.ref.drawInput=null)},ir=function setAttributes$1(e,t){return Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})},ar=function svg$1(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&ir(n,t),n},sr=["nw","se"],lr=["nw","n","ne","w","e","sw","s","se"],cr={nw:"nwse",n:"ns",ne:"nesw",w:"ew",e:"ew",sw:"nesw",s:"ns",se:"nwse"},ur={nw:function nw(e){return{x:e.x,y:e.y}},n:function n(e){return{x:e.x+.5*e.width,y:e.y}},ne:function ne(e){return{x:e.x+e.width,y:e.y}},w:function w(e){return{x:e.x,y:e.y+.5*e.height}},e:function e(t){return{x:t.x+t.width,y:t.y+.5*t.height}},sw:function sw(e){return{x:e.x,y:e.y+e.height}},s:function s(e){return{x:e.x+.5*e.width,y:e.y+e.height}},se:function se(e){return{x:e.x+e.width,y:e.y+e.height}}},dr=z({tag:"div",name:"image-markup",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:"spring",markupX:rr,markupY:rr,markupWidth:rr,markupHeight:rr},listeners:!0,apis:["toolsReference","onSelect","onDrag","markupX","markupY","markupWidth","markupHeight","allowInteraction","stageOffsetX","stageOffsetY"]},create:function create(e){var t=e.root,n=e.props,r=n.onSelect,o=void 0===r?function(){}:r,i=n.onUpdate,a=void 0===i?function(){}:i,s=ar("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"});t.ref.canvas=s;var l=t.query("GET_ROOT_SIZE");s.setAttribute("width",l.width),s.setAttribute("height",l.height);var c=document.createElement("input");ir(c,{type:"text",autocomplete:"off",autocapitalize:"off"}),c.addEventListener("keydown",function(e){e.stopPropagation(),13===e.keyCode||9===e.keyCode?(e.target.blur(),u()):8!==e.keyCode||t.ref.input.value.length||t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})}),t.ref.input=c,t.ref.elements=[],t.ref.viewSize={width:0,height:0,scale:0},t.ref.resetSelected=function(){return t.ref.selected={id:null,type:null,settings:{}},t.ref.selected},t.ref.resetSelected();var u=function d(){t.ref.resetSelected(),o(null)};t.ref.handleDeselect=function(e){var r;t.query("IS_ACTIVE_VIEW","markup")&&t.ref.selected.id&&e.target!==t.ref.removeButton.element&&(r=e.target,t.ref.selected.id!==function s(e){return e.id?e:e.parentNode}(r).id&&(function(e){return tr(t.ref.manipulatorGroup,e)||e===t.ref.input}(e.target)||n.isMarkupUtil(e.target)||u()))},Zn(document.body,"down",t.ref.handleDeselect),t.ref.handleTextInput=function(){return a("text",t.ref.input.value)},t.ref.input.addEventListener("input",t.ref.handleTextInput),t.ref.handleAttemptDelete=function(e){t.query("IS_ACTIVE_VIEW","markup")&&(!t.ref.selected.id||8!==e.keyCode&&46!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})))},document.body.addEventListener("keydown",t.ref.handleAttemptDelete);var f=ar("g"),p=ar("g",{class:"doka--shape-group"});f.appendChild(p),t.ref.shapeGroup=p;var h=ar("g",{fill:"none",class:"doka--manipulator-group"}),g=ar("rect",{x:0,y:0,width:0,height:0,fill:"none"}),m=ar("path");h.appendChild(m),h.appendChild(g),t.ref.manipulatorPath=m,t.ref.manipulatorRect=g,t.ref.manipulators=[];for(var A=0;A<10;A++){var v=ar("circle",{r:6,"stroke-width":2,style:"display:none"});h.appendChild(v),t.ref.manipulators.push(v)}f.appendChild(h),t.ref.manipulatorGroup=h,s.appendChild(f),t.ref.shapeOffsetGroup=f,t.ref.removeButton=t.appendChildView(t.createChildView(Qn,{label:t.query("GET_LABEL_MARKUP_REMOVE_SHAPE"),name:"destroy-shape",action:function action(){t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})}})),t.query("IS_ACTIVE_VIEW","markup")&&(t.element.dataset.active=!0),t.ref.drawInput=null,t.ref.drawState={lineColor:null,lineWidth:null,lineStyle:null,points:[]};var b=ar("path",{fill:"none",class:"doka--draw-path"});t.ref.drawPath=b,s.appendChild(b);var w=y("div","doka--image-markup-clip");w.appendChild(c),w.appendChild(s),t.ref.clip=w,t.element.appendChild(w),"draw"===t.query("GET_MARKUP_UTIL")&&or(t,n,"draw")},destroy:function destroy(e){var t=e.root;t.ref.elements.concat(t.ref.manipulators).forEach(function(e){e.dragger&&e.dragger.destroy()}),t.ref.input.removeEventListener("input",t.ref.handleTextInput),document.body.removeEventListener("keydown",t.ref.handleAttemptDelete),er(document.body,"down",t.ref.handleDeselect)},read:function read(e){var t=e.root;if(!t.rect.element.hidden)for(var n in t.ref.elements){var r=t.ref.elements[n];if(r&&"text"===r.nodeName&&r.parentNode){var o=r.getBBox();r.bbox={x:o.x,y:o.y,width:o.width,height:o.height}}}},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.props;"markup"===e.action.id?t.element.dataset.active=!0:(t.element.dataset.active=!1,n.onSelect(null))},MARKUP_SET_VALUE:function MARKUP_SET_VALUE(e){var t=e.root;p(t.ref.elements,function(e,t){t&&t.dragger&&t.dragger.destroy()}),t.ref.elements=[],t.ref.shapeGroup.innerHTML=""},UPDATE_ROOT_RECT:function UPDATE_ROOT_RECT(e){var t=e.root,n=e.action,r=t.ref.canvas;r.setAttribute("width",n.rect.width),r.setAttribute("height",n.rect.height),t.ref.previousScale=null},SWITCH_MARKUP_UTIL:function SWITCH_MARKUP_UTIL(e){var t=e.root,n=e.action,r=e.props,o=n.util;or(t,r,o)}},function(e){var t=e.root,n=e.props,r=e.timestamp;if(!(t.opacity<=0)){var o=t.query("GET_CROP",n.id,r);if(o){var i=t.query("GET_MARKUP_UTIL");t.element.dataset.util=i||"";var a=o.markup,s=o.cropStatus,l=n.onSelect,c=n.onDrag,u=t.ref,d=u.clip,f=u.manipulatorGroup,p=u.drawPath,h=u.viewSize,g=u.shapeOffsetGroup,m=u.manipulators,A=u.manipulatorPath,v=u.manipulatorRect,y=u.removeButton,b=u.drawState,w=t.query("GET_OUTPUT_WIDTH"),_=t.query("GET_OUTPUT_HEIGHT"),E=s.image,C=s.crop,S=C.width,T=C.height,x=C.widthFloat/C.heightFloat;if(w||_){var O=t.query("GET_OUTPUT_FIT");w&&!_&&(_=w),_&&!w&&(w=_);var k,B=w/S,P=_/T;"force"===O?(S=w,T=_):("cover"===O?k=Math.max(B,P):"contain"===O&&(k=Math.min(B,P)),S*=k,T*=k)}else E.width&&E.height?(S=E.width,T=E.height):E.width&&!E.height?(S=E.width,T=E.width/x):E.height&&!E.width&&(T=E.height,S=E.height*x);var I=b.points.length,R=_e(t.markupX,3),L=_e(t.markupY,3),M=_e(t.markupWidth,3),D=_e(t.markupHeight,3),N=_e(Math.min(t.markupWidth/S,t.markupHeight/T),4);if(h.width=M,h.height=D,h.scale=N,pr(t,{drawLength:I,markupX:R,markupY:L,scale:N,markup:a,currentWidth:S,currentHeight:T})){var F=R,U=t.rect.element.width-R-M,H=L,j=t.rect.element.height-L-D,Q="inset(".concat(H,"px ").concat(U,"px ").concat(j,"px ").concat(F,"px)");if(d.style.clipPath=Q,d.style.webkitClipPath=Q,g.setAttribute("transform","translate(".concat(R," ").concat(L,")")),t.ref.previousDrawLength=I,t.ref.previousX=R,t.ref.previousY=L,t.ref.previousScale=N,t.ref.previousCurrentHeight=T,t.ref.previousCurrentWidth=S,t.ref.previousMarkupLength=a.length,!(h.width<1||h.height<1)){var z,$=a.find(function(e){return e[1].isSelected}),V=$&&t.ref.selected.id!==$[1].id||t.ref.selected.id&&!$;if(z=$?t.ref.selected={id:$[1].id,type:$[0],settings:$[1]}:t.ref.resetSelected(),b.points.length){var G=Tt(b,h,N);return G.d=kt(b.points.map(function(e){return{x:R+e.x*h.width,y:L+e.y*h.height}})),void ir(p,G)}p.removeAttribute("d"),t.ref.input.hidden="text"!==t.ref.selected.type,y.element.dataset.active=null!==t.ref.selected.id,A.setAttribute("style","opacity:0"),v.setAttribute("style","opacity:0"),m.forEach(function(e){return e.setAttribute("style","opacity:0;pointer-events:none;")});var W=t.query("GET_MARKUP_FILTER");a.filter(W).sort(Ut).forEach(function(e,r){var o=_slicedToArray(e,2),i=o[0],a=o[1],s=a.id,u=a.isDestroyed,d=a.isDirty,p=a.isSelected,g=a.allowSelect,b=a.allowMove,w=a.allowResize,_=a.allowInput;if(u){var E=t.ref.elements[s];E&&(E.dragger&&E.dragger.destroy(),t.ref.elements[s]=null,E.parentNode.removeChild(E))}else{var C,S,T,x=t.ref.elements[s];if(x||(x=Nt(i,a),t.ref.elements[s]=x,g?(x.dragger=nr(x,function(){S=Date.now(),C=_objectSpread({},x.rect),(T=s===t.ref.selected.id)||l(s)},function(e,t){b&&c(s,C,t,h,N)},function(e,n){if(_&&"text"===i&&T){var r=Se({x:0,y:0},n),o=Date.now()-S;if(!(r>10||o>750)){t.ref.input.focus();var a=t.markupX+x.bbox.x,s=x.bbox.width,l=(e.offsetX-a)/s,c=Math.round(t.ref.input.value.length*l);t.ref.input.setSelectionRange(c,c)}}}),x.dragger.disable()):x.setAttribute("style","pointer-events:none;")),x.dragger&&(n.allowInteraction?x.dragger.enable():x.dragger.disable()),r!==x.index){x.index=r;var O=t.ref.shapeGroup;O.insertBefore(x,O.childNodes[r+1])}if(d&&Ft(x,i,a,h,N),p){var k=y.rect.element.width,B=y.rect.element.height,P=t.markupX-.5*k,I=t.markupY-B-15,R="text"===i?x.bbox:x.rect,L=!1,M=function getColor$1(e){var t=e.fontColor,n=e.backgroundColor,r=e.lineColor,o=e.borderColor;return t||n||r||o}(a);if(M){var D=et(M);L=(.2126*D[0]+.7152*D[1]+.0722*D[2])/255>.65,f.setAttribute("is-bright-color",L)}"line"===i?(P+=R.x,I+=R.y,ir(A,{d:"M ".concat(R.x," ").concat(R.y," L ").concat(R.x+R.width," ").concat(R.y+R.height),style:"opacity:1"})):"path"===i?(P+=(R={x:a.points[0].x*h.width,y:a.points[0].y*h.height,width:0,height:0}).x,I+=R.y,ir(A,{d:kt(a.points.map(function(e){return{x:e.x*h.width,y:e.y*h.height}})),style:"opacity:1"})):R&&(P+=R.x+.5*R.width,I+=R.y,ir(v,{x:R.x-("text"===i?5:0),y:R.y,width:R.width+("text"===i?10:0),height:R.height,style:"opacity:1"}));var F=t.markupY+10,U=t.markupY+t.markupHeight-10,H=t.markupX+10,j=t.markupX+t.markupWidth-10;if(I<F?I=F:I+B>U&&(I=U-B),P<H?P=H:P+k>j&&(P=j-k),R||(y.element.dataset.active="false"),y.element.setAttribute("style","transform: translate3d(".concat(P,"px, ").concat(I,"px, 0)")),"text"===i&&R){var Q=R.width+65,z=t.markupWidth-R.x,$="\n                        width: ".concat(Math.min(Q,z),"px;\n                        height: ").concat(R.height,"px;\n                        color: ").concat(x.getAttribute("fill"),";\n                        font-family: ").concat(x.getAttribute("font-family"),";\n                        font-size: ").concat(x.getAttribute("font-size").replace(/px/,""),"px;\n                        font-weight: ").concat(x.getAttribute("font-weight")||"normal",";\n                    ");Ae()?$+="\n                            left: ".concat(Math.round(t.markupX+R.x),"px;\n                            top: ").concat(Math.round(t.markupY+R.y),"px;\n                        "):$+="\n                            transform: translate3d(".concat(Math.round(t.markupX+R.x),"px,").concat(Math.round(t.markupY+R.y),"px,0);\n                        "),t.ref.input.setAttribute("style",$),x.setAttribute("fill","none")}if("text"===i)return;if(!w)return;var V="line"===i?sr:lr;m.forEach(function(e,t){var n=V[t];if(n){var r="line"===i?"move":"".concat(cr[n],"-resize"),o=ur[n](x.rect);ir(e,{cx:o.x,cy:o.y,style:"opacity:1;cursor:".concat(r)})}})}a.isDirty=!1}}),V&&(gr(t),"text"===z.type?t.ref.input.value=z.settings.text:t.ref.selected.id&&hr(t,n.onResize))}}}}})}),fr=function markAllAsDirty(e){return e.forEach(function(e){return e[1].isDirty=!0})},pr=function stateHasChanged(e,t){var n=t.drawLength,r=t.markup,o=t.markupX,i=t.markupY,a=t.currentWidth,s=t.currentHeight,l=t.scale;return!(n===e.ref.previousDrawLength&&(o!==e.ref.previousX?(fr(r),0):i!==e.ref.previousY?(fr(r),0):l!==e.ref.previousScale?(fr(r),0):s!==e.ref.previousCurrentHeight?(fr(r),0):a!==e.ref.previousCurrentWidth?(fr(r),0):r.length===e.ref.previousMarkupLength&&!r.find(function(e){return e[1].isDirty})))},hr=function setupElementControls(e,t){var n=e.ref.selected.id,r="g"===e.ref.elements[n].nodeName?sr:lr;e.ref.manipulators.forEach(function(o,i){var a=r[i];if(a){var s=null;o.dragger=nr(o,function(){s={x:parseFloat(g(o,"cx")),y:parseFloat(g(o,"cy"))}},function(r,o){t(n,a,s,o,e.ref.viewSize)},null,{stopPropagation:!0})}})},gr=function destroyElementControls(e){e.ref.manipulators.forEach(function(e){e.dragger&&(e.dragger.destroy(),e.dragger=null)})},mr={38:"up",40:"down",37:"left",39:"right",189:"minus",187:"plus",72:"h",76:"l",81:"q",82:"r",84:"t",86:"v",90:"z",219:"left_bracket",221:"right_bracket"},Ar=function createKeyboard(e,t,n,r,o){var i=null,a=!0,s={enabled:!0},c=function l(e){var o=mr[e.keyCode]||e.keyCode;n[o]&&(e.stopPropagation(),a&&(i=t(o),a=!1),n[o](i),r(i))},d=function u(e){var t=mr[e.keyCode]||e.keyCode;n[t]&&(e.stopPropagation(),o(i),a=!0)};return e.addEventListener("keydown",c),e.addEventListener("keyup",d),{enable:function enable(){s.enabled||(e.addEventListener("keydown",c),e.addEventListener("keyup",d)),s.enabled=!0},disable:function disable(){s.enabled&&(e.removeEventListener("keydown",c),e.removeEventListener("keyup",d)),s.enabled=!1},destroy:function destroy(){e.removeEventListener("keydown",c),e.removeEventListener("keyup",d)}}},vr=function createPreviewImage(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0;t=Math.round(t),n=Math.round(n);var i=o||document.createElement("canvas"),a=i.getContext("2d");return r>=5&&r<=8?(i.width=n,i.height=t):(i.width=t,i.height=n),a.save(),-1!==r&&a.transform.apply(a,gt(t,n,r)),a.drawImage(e,0,0,t,n),a.restore(),i},yr=function BitmapWorker(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then(function(t){self.postMessage({id:e.data.id,message:t},[t])})}},br=function compileShader(e,t,n){var r=e.createShader(n);return e.shaderSource(r,t),e.compileShader(r),r},wr=function createProgram(e,t,n){var r=e.createProgram();return e.attachShader(r,br(e,t,e.VERTEX_SHADER)),e.attachShader(r,br(e,n,e.FRAGMENT_SHADER)),e.linkProgram(r),r},_r=function create(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},Er=function perspective(e,t,n,r,o){var i=1/Math.tan(t/2),a=1/(r-o);e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,e[10]=(o+r)*a,e[14]=2*o*r*a},Cr=function translate(e,t){var n=t[0],r=t[1],o=t[2];e[12]=e[0]*n+e[4]*r+e[8]*o+e[12],e[13]=e[1]*n+e[5]*r+e[9]*o+e[13],e[14]=e[2]*n+e[6]*r+e[10]*o+e[14],e[15]=e[3]*n+e[7]*r+e[11]*o+e[15]},Sr=function scale(e,t){var n=t[0],r=t[1],o=t[2];e[0]=e[0]*n,e[1]=e[1]*n,e[2]=e[2]*n,e[3]=e[3]*n,e[4]=e[4]*r,e[5]=e[5]*r,e[6]=e[6]*r,e[7]=e[7]*r,e[8]=e[8]*o,e[9]=e[9]*o,e[10]=e[10]*o,e[11]=e[11]*o},Tr=function rotateX(e,t){var n=Math.sin(t),r=Math.cos(t),o=e[4],i=e[5],a=e[6],s=e[7],l=e[8],c=e[9],u=e[10],d=e[11];e[4]=o*r+l*n,e[5]=i*r+c*n,e[6]=a*r+u*n,e[7]=s*r+d*n,e[8]=l*r-o*n,e[9]=c*r-i*n,e[10]=u*r-a*n,e[11]=d*r-s*n},xr=function rotateY(e,t){var n=Math.sin(t),r=Math.cos(t),o=e[0],i=e[1],a=e[2],s=e[3],l=e[8],c=e[9],u=e[10],d=e[11];e[0]=o*r-l*n,e[1]=i*r-c*n,e[2]=a*r-u*n,e[3]=s*r-d*n,e[8]=o*n+l*r,e[9]=i*n+c*r,e[10]=a*n+u*r,e[11]=s*n+d*r},Or=function rotateZ(e,t){var n=Math.sin(t),r=Math.cos(t),o=e[0],i=e[1],a=e[2],s=e[3],l=e[4],c=e[5],u=e[6],d=e[7];e[0]=o*r+l*n,e[1]=i*r+c*n,e[2]=a*r+u*n,e[3]=s*r+d*n,e[4]=l*r-o*n,e[5]=c*r-i*n,e[6]=u*r-a*n,e[7]=d*r-s*n},kr="\nattribute vec4 aPosition;\nvoid main() {\n\tgl_Position = aPosition;\n}\n",Br=function setup(e,t,n){var r={width:0,height:0},o={x:0,y:0},i=null,a=function degToRad(e){return e*Math.PI/180}(30),s=Math.tan(a/2),l={antialias:!1,alpha:!1},c=e.getContext("webgl",l)||e.getContext("experimental-webgl",l);if(!c)return null;c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA);var u=wr(c,kr,"\nprecision mediump float;\n\nuniform vec2 uViewportSize;\nuniform vec3 uColorStart;\nuniform vec3 uColorEnd;\nuniform vec2 uOverlayLeftTop;\nuniform vec2 uOverlayRightBottom;\nuniform vec4 uColorCanvasBackground;\n\nvoid main() {\n\n\tfloat x = gl_FragCoord.x;\n\tfloat y = gl_FragCoord.y;\n\n\tvec2 center = vec2(.5, .5);\n\tvec2 st = vec2(x / uViewportSize.x, y / uViewportSize.y);\n\tfloat mixValue = distance(st, center) * 1.5; // expand outside view (same as doka--root::after)\n\tvec3 color = mix(uColorStart, uColorEnd, mixValue);\n\n\tif (uColorCanvasBackground[3] == 1.0) {\n\n\t\tfloat innerLeft = uOverlayLeftTop.x;\n\t\tfloat innerRight = uOverlayRightBottom.x;\n\t\tfloat innerTop = uOverlayRightBottom.y;\n\t\tfloat innerBottom = uOverlayLeftTop.y;\n\n\t\tif (x < innerLeft || x > innerRight || y < innerTop || y > innerBottom) {\n\t\t\tgl_FragColor = vec4(color, 1.0);\n\t\t\treturn;\n\t\t}\n\n\t\tgl_FragColor = uColorCanvasBackground;\n\t\treturn;\n\t}\n\t\n\tgl_FragColor = vec4(color, 1.0);\n}\n"),d=c.getUniformLocation(u,"uColorStart"),f=c.getUniformLocation(u,"uColorEnd"),p=c.getUniformLocation(u,"uViewportSize"),h=c.getAttribLocation(u,"aPosition"),g=c.getUniformLocation(u,"uOverlayLeftTop"),m=c.getUniformLocation(u,"uOverlayRightBottom"),A=c.getUniformLocation(u,"uColorCanvasBackground"),v=c.createBuffer(),y=new Float32Array([1,-1,1,1,-1,-1,-1,1]);c.bindBuffer(c.ARRAY_BUFFER,v),c.bufferData(c.ARRAY_BUFFER,y,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var b=wr(c,kr,"\nprecision mediump float;\n\nuniform vec2 uOverlayLeftTop;\nuniform vec2 uOverlayRightBottom;\nuniform vec4 uOutlineColor;\nuniform float uOutlineWidth;\n\nvoid main() {\n\n\tfloat x = gl_FragCoord.x;\n\tfloat y = gl_FragCoord.y;\n\n\tfloat innerLeft = uOverlayLeftTop.x;\n\tfloat innerRight = uOverlayRightBottom.x;\n\tfloat innerTop = uOverlayRightBottom.y;\n\tfloat innerBottom = uOverlayLeftTop.y;\n\n\tfloat outerLeft = innerLeft - uOutlineWidth;\n\tfloat outerRight = innerRight + uOutlineWidth;\n\tfloat outerTop = innerTop - uOutlineWidth;\n\tfloat outerBottom = innerBottom + uOutlineWidth;\n\t\n\tif (x < outerLeft || x >= outerRight || y < outerTop || y >= outerBottom) {\n\t\tdiscard;\n\t}\n\n\tif (x < innerLeft || x >= innerRight || y < innerTop || y >= innerBottom) {\n\t\tgl_FragColor = uOutlineColor;\n\t}\n}\n"),w=c.getAttribLocation(b,"aPosition"),_=c.getUniformLocation(b,"uOutlineWidth"),E=c.getUniformLocation(b,"uOutlineColor"),C=c.getUniformLocation(b,"uOverlayLeftTop"),S=c.getUniformLocation(b,"uOverlayRightBottom"),T=c.createBuffer(),x=new Float32Array([1,-1,1,1,-1,-1,-1,1]);c.bindBuffer(c.ARRAY_BUFFER,T),c.bufferData(c.ARRAY_BUFFER,x,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var O=wr(c,"\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uMatrix;\n\n// send to fragment shader\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\n\nvoid main () {\n    vPosition = uMatrix * aPosition;\n    gl_Position = vPosition;\n    vTexCoord = aTexCoord;\n}\n","\nprecision mediump float;\n\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\n\nuniform float uColorOpacity;\nuniform mat4 uColorMatrix;\nuniform vec4 uColorOffset;\n\nuniform vec4 uOverlayColor;\nuniform vec2 uOverlayLeftTop;\nuniform vec2 uOverlayRightBottom;\n\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\n\nvoid main () {\n\n    vec3 cB = vec3(1.0);\n\n\tvec4 cF = texture2D(uTexture, vTexCoord);\n\t\n\tvec4 cM = (cF * uColorMatrix) + uColorOffset;\n\n    float r = max(0.0, cM.r * cM.a) + (cB.r * (1.0 - cM.a));\n    float g = max(0.0, cM.g * cM.a) + (cB.g * (1.0 - cM.a));\n    float b = max(0.0, cM.b * cM.a) + (cB.b * (1.0 - cM.a));\n\n\tvec4 color = vec4(r, g, b, cF.a);\n\t\n\t// test if falls within\n    if ((gl_FragCoord.x < uOverlayLeftTop.x || gl_FragCoord.x > uOverlayRightBottom.x) || \n        (gl_FragCoord.y > uOverlayLeftTop.y || gl_FragCoord.y < uOverlayRightBottom.y)) {\n\t\tcolor *= uOverlayColor;\n\t}\n\t\n    gl_FragColor = color * uColorOpacity;\n}\n");c.useProgram(O);var k=c.getUniformLocation(O,"uMatrix"),B=c.getUniformLocation(O,"uTexture"),P=c.getUniformLocation(O,"uTextureSize"),I=c.getUniformLocation(O,"uOverlayColor"),R=c.getUniformLocation(O,"uOverlayLeftTop"),L=c.getUniformLocation(O,"uOverlayRightBottom"),M=c.getUniformLocation(O,"uColorOpacity"),D=c.getUniformLocation(O,"uColorOffset"),N=c.getUniformLocation(O,"uColorMatrix"),F=c.getAttribLocation(O,"aPosition"),U=c.getAttribLocation(O,"aTexCoord"),H=function createTexture(e,t,n,r,o){var i=e.createTexture();e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.uniform1i(t,r),e.uniform2f(n,o.width,o.height);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o)}catch(t){e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o.width,o.height,0,e.RGBA,e.UNSIGNED_BYTE,null)}return i}(c,B,P,0,t),j=t.width*n,Q=t.height*n,z=-.5*j,$=.5*Q,V=.5*j,G=-.5*Q,W=new Float32Array([z,$,z,G,V,$,V,G]),K=new Float32Array([0,0,0,1,1,0,1,1]),q=W.length/2,Y=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,Y),c.bufferData(c.ARRAY_BUFFER,W,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var X=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,X),c.bufferData(c.ARRAY_BUFFER,K,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var J=0,Z=0,ee={release:function release(){e.width=1,e.height=1},resize:function resize(t,a){e.width=t*n,e.height=a*n,e.style.width="".concat(t,"px"),e.style.height="".concat(a,"px"),r.width=t*n,r.height=a*n,o.x=.5*r.width,o.y=.5*r.height,i=r.width/r.height,c.viewport(0,0,c.canvas.width,c.canvas.height)},update:function update(e,l,y,x,B,P,j,Q,z,$,V,G,W,K,te,ne,re,oe,ie){var ae=V?V.height*n:r.height;J=t.width*n,Z=t.height*n,e*=n,l*=n,y*=n,x*=n;var se=Z/2/s*(r.height/ae)*-1;se/=-s*se*2/r.height;var le=.5*J,ce=.5*Z;e-=le,l-=ce;var ue=Q,de=-(o.x-le)+y,fe=o.y-ce-x,pe=_r();Er(pe,a,i,1,2*-se),Cr(pe,[de,fe,se]),Cr(pe,[e,-l,0]),Sr(pe,[ue,ue,ue]),Or(pe,-j),Cr(pe,[-e,l,0]),xr(pe,P),Tr(pe,B),c.clearColor(K[0],K[1],K[2],1),c.clear(c.COLOR_BUFFER_BIT);var he=G.x*n,ge=G.y*n,me=G.width*n,Ae=G.height*n,ve=he,ye=ve+me,be=r.height-ge,we=r.height-(ge+Ae);c.useProgram(u),c.uniform3fv(d,te),c.uniform3fv(f,ne),c.uniform4fv(A,ie.map(function(e,t){return t<3?e/255:e})),c.uniform2f(p,r.width,r.height),c.uniform2f(g,ve,be),c.uniform2f(m,ye,we),c.bindBuffer(c.ARRAY_BUFFER,v),c.vertexAttribPointer(h,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(h),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.useProgram(O),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindTexture(c.TEXTURE_2D,H),c.bindBuffer(c.ARRAY_BUFFER,Y),c.vertexAttribPointer(F,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(F),c.bindBuffer(c.ARRAY_BUFFER,X),c.vertexAttribPointer(U,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(U),c.uniformMatrix4fv(k,!1,pe),c.uniform2f(R,ve,be),c.uniform2f(L,ye,we),c.uniform4fv(I,W),c.uniform1f(M,$),c.uniform4f(D,z[4],z[9],z[14],z[19]),c.uniformMatrix4fv(N,!1,[].concat(_toConsumableArray(z.slice(0,4)),_toConsumableArray(z.slice(5,9)),_toConsumableArray(z.slice(10,14)),_toConsumableArray(z.slice(15,19)))),c.drawArrays(c.TRIANGLE_STRIP,0,q),c.useProgram(b),c.uniform1f(_,re),c.uniform4fv(E,oe),c.uniform2f(C,ve,be),c.uniform2f(S,ye,we),c.bindBuffer(c.ARRAY_BUFFER,T),c.vertexAttribPointer(w,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(w),c.drawArrays(c.TRIANGLE_STRIP,0,4),ee.onupdate(c)},onupdate:function onupdate(){}};return ee},Pr=function createSpringRect(e){var t=0,n={},r=x(e),o=x(e),i=x(e),a=x(e);return r.onupdate=function(e){return n.x=e},r.oncomplete=function(){return t++},o.onupdate=function(e){return n.y=e},o.oncomplete=function(){return t++},i.onupdate=function(e){return n.width=e},i.oncomplete=function(){return t++},a.onupdate=function(e){return n.height=e},a.oncomplete=function(){return t++},{interpolate:function interpolate(e){r.interpolate(e),o.interpolate(e),i.interpolate(e),a.interpolate(e)},setTarget:function setTarget(e){t=0,r.target=e?e.x:null,o.target=e?e.y:null,i.target=e?e.width:null,a.target=e?e.height:null},getRect:function getRect(){return n},isStable:function isStable(){return 4===t}}},Ir=function createSpringColor(e){var t=0,n={},r=x(e),o=x(e),i=x(e);return r.onupdate=function(e){return n.r=e},r.oncomplete=function(){return t++},o.onupdate=function(e){return n.g=e},o.oncomplete=function(){return t++},i.onupdate=function(e){return n.b=e},i.oncomplete=function(){return t++},{interpolate:function interpolate(e){r.interpolate(e),o.interpolate(e),i.interpolate(e)},setTarget:function setTarget(e){t=0,r.target=e?e[0]:null,o.target=e?e[1]:null,i.target=e?e[2]:null},getColor:function getColor(){return[n.r,n.g,n.b]},isStable:function isStable(){return 3===t}}},Rr={stiffness:.25,damping:.25,mass:2.5},Lr=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Mr=z({name:"image-gl",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{apis:["top","left","width","height","xOrigin","yOrigin","xTranslation","yTranslation","xRotation","yRotation","zRotation","scale","overlay","stage","colorMatrix","colorOpacity","overlayOpacity","outlineWidth","isDraft"],animations:{xTranslation:rr,yTranslation:rr,xOrigin:rr,yOrigin:rr,scale:rr,xRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},yRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},zRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},colorOpacity:{type:"tween",delay:150,duration:750},overlayOpacity:"spring",introScale:{type:"spring",stiffness:.25,damping:.75,mass:15},outlineWidth:rr}},create:function create(e){var t=e.root;t.ref.canvas=document.createElement("canvas"),t.ref.canvas.width=0,t.ref.canvas.height=0,t.appendChild(t.ref.canvas),t.ref.gl=null,t.introScale=1,t.ref.isPreview="preview"===t.query("GET_STYLE_LAYOUT_MODE"),t.ref.shouldZoom=!t.ref.isPreview,t.ref.didZoom=!1,t.ref.backgroundColor=null,t.ref.backgroundColorSpring=Ir(Rr),t.ref.backgroundColorCenter=null,t.ref.backgroundColorCenterSpring=Ir(Rr),t.ref.overlaySpring=Pr(rr),t.ref.stageSpring=Pr(rr),t.ref.outlineSpring=x(rr),t.ref.colorMatrixSpring=[],t.ref.colorMatrixStable=!0,t.ref.colorMatrixStableCount=0,t.ref.colorMatrixPositions=[];for(var n=0;n<20;n++)!function(){var e=n,r=x(Rr);r.target=Lr[e],r.onupdate=function(n){t.ref.colorMatrixPositions[e]=n},r.oncomplete=function(){t.ref.colorMatrixStableCount++},t.ref.colorMatrixSpring[e]=r}();t.ref.dragger=nr(t.element,function(){t.dispatch("CROP_IMAGE_DRAG_GRAB")},function(e,n){t.dispatch("CROP_IMAGE_DRAG",{value:n})},function(){t.dispatch("CROP_IMAGE_DRAG_RELEASE")},{cancelOnMultiple:!0});var o=0,i=0;t.ref.keyboard=Ar(t.element,function(){return o=0,i=0,{x:0,y:0}},{up:function up(e){e.y-=20},down:function down(e){e.y+=20},left:function left(e){e.x-=20},right:function right(e){e.x+=20},plus:function plus(){o+=.1,t.dispatch("CROP_IMAGE_RESIZE_AMOUNT",{value:o}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")},minus:function minus(){o-=.1,t.dispatch("CROP_IMAGE_RESIZE_AMOUNT",{value:o}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")},left_bracket:function left_bracket(){i-=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:i})},right_bracket:function right_bracket(){i+=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:i})},h:function h(){t.dispatch("CROP_IMAGE_FLIP_HORIZONTAL")},l:function l(){t.dispatch("CROP_IMAGE_ROTATE_LEFT")},q:function q(){t.dispatch("CROP_RESET")},r:function r(){t.dispatch("CROP_IMAGE_ROTATE_RIGHT")},v:function v(){t.dispatch("CROP_IMAGE_FLIP_VERTICAL")},z:function z(){t.dispatch("CROP_ZOOM")}},function(e){e&&t.dispatch("CROP_IMAGE_DRAG",{value:e})},function(e){e&&t.dispatch("CROP_IMAGE_DRAG_RELEASE")});var a=t.query("GET_FILE"),s=URL.createObjectURL(a.data),u=function c(e){var n=fn(e,{width:t.query("GET_MAX_IMAGE_PREVIEW_WIDTH"),height:t.query("GET_MAX_IMAGE_PREVIEW_HEIGHT")}),r=vr(e,n.width,n.height,a.orientation),o=Math.max(1,.75*window.devicePixelRatio),i=r.height/r.width,c=96*o,s=vr(r,i>1?c:c/i,i>1?c*i:c),l=r.getContext("2d").getImageData(0,0,r.width,r.height),u=s.getContext("2d").getImageData(0,0,s.width,s.height);mt(r),mt(s),t.ref.gl=Br(t.ref.canvas,l,o);var d=t.query("GET_OUTPUT_CANVAS_SYNC_TARGET");d&&(t.ref.gl.onupdate=function(){var e=t.ref.overlaySpring.getRect();d.getContext("2d").drawImage(t.ref.canvas,e.x*o,e.y*o,e.width*o,e.height*o,0,0,d.width,d.height)}),t.ref.gl?(t.dispatch("DID_RECEIVE_IMAGE_DATA",{previewData:l,thumbData:u}),t.dispatch("DID_PRESENT_IMAGE")):t.dispatch("MISSING_WEBGL")},d=function l(){(function loadImage$2(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e})})(s).then(u)};if(function canCreateImageBitmap(e){var t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((t?parseInt(t[1]):null)<=58)&&"createImageBitmap"in window&&function isBitmap(e){return/^image/.test(e.type)&&!/svg/.test(e.type)}(e)}(a.data)){var f=$t(yr);f.post({file:a.data},function(e){f.terminate(),e?u(e):d()})}else d();t.ref.canvasStyle=getComputedStyle(t.ref.canvas),t.ref.previousBackgroundColor,t.ref.previousLeft,t.ref.previousTop,t.ref.previousWidth,t.ref.previousHeight,t.element.dataset.showInteractionIndicator=!1,t.ref.handleFocus=function(e){9===e.keyCode&&(t.element.dataset.showInteractionIndicator=!0)},t.ref.handleBlur=function(e){t.element.dataset.showInteractionIndicator=!1},I(t.element)("keyup",t.ref.handleFocus),I(t.element)("blur",t.ref.handleBlur)},destroy:function destroy(e){var t=e.root;t.ref.gl&&(t.ref.gl.release(),t.ref.gl=null),t.ref.dragger.destroy(),R(t.element)("keyup",t.ref.handleFocus),R(t.element)("blur",t.ref.handleBlur)},read:function read(e){var t=e.root,n=t.ref.canvasStyle.backgroundColor,r=t.ref.canvasStyle.color;if("transparent"!==r&&""!==r||(r=null),"transparent"!==n&&""!==n||(n=null),n&&n!==t.ref.previousBackgroundColor){var o=et(n).map(function(e){return e/255}),i=(o[0]+o[1]+o[2])/3;t.ref.backgroundColor=o,t.ref.backgroundColorCenter=o.map(function(e){return i>.5?e-.15:e+.15}),t.ref.previousBackgroundColor=n}r&&r!==t.ref.previousOutlineColor&&(t.ref.outlineColor=et(r).map(function(e){return e/255}).concat(1),t.ref.previousOutlineColor=r)},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root;"crop"===e.action.id?(t.ref.dragger.enable(),t.element.setAttribute("tabindex","0")):(t.ref.dragger.disable(),t.element.removeAttribute("tabindex"))}},function(e){var t=e.root,n=e.props,r=(e.actions,e.timestamp);if(t.ref.gl&&n.width&&n.height){var o=t.ref,i=o.gl,a=o.previousWidth,s=o.previousHeight,l=o.shouldZoom,c=o.stageSpring,u=o.overlaySpring,d=o.backgroundColorSpring,f=o.backgroundColorCenterSpring;n.width===a&&n.height===s||(t.ref.gl.resize(n.width,n.height),t.ref.previousWidth=n.width,t.ref.previousHeight=n.height),n.left===t.ref.previousLeft&&n.top===t.ref.previousTop||(t.ref.canvas.style.transform="translate(".concat(-n.left,"px, ").concat(-n.top,"px)"),t.ref.previousLeft=n.left,t.ref.previousTop=n.top),l&&!t.ref.didZoom&&(t.introScale=null,t.introScale=1.15,t.introScale=1,t.ref.didZoom=!0),d.setTarget(t.ref.backgroundColor),d.interpolate(r);var p=d.isStable();f.setTarget(t.ref.backgroundColorCenter),f.interpolate(r);var h=f.isStable();t.ref.colorMatrixStableCount=0;var g=n.colorMatrix||Lr,m=t.ref.colorMatrixSpring.map(function(e,n){return e.target=g[n],e.interpolate(r),t.ref.colorMatrixPositions[n]}),A=20===t.ref.colorMatrixStableCount;n.isDraft&&u.setTarget(null),u.setTarget(n.overlay),u.interpolate(r);var v=u.isStable();n.isDraft&&c.setTarget(null),c.setTarget(n.stage),c.interpolate(r);var y=c.isStable();return i.update(t.xOrigin,t.yOrigin,t.xTranslation+n.left,t.yTranslation+n.top,t.xRotation,t.yRotation,t.zRotation,t.scale*t.introScale,m,t.ref.isPreview?1:t.colorOpacity,c.getRect(),u.getRect(),[1,1,1,1-t.overlayOpacity],d.getColor(),f.getColor(),d.getColor(),t.outlineWidth,t.ref.outlineColor,t.query("GET_BACKGROUND_COLOR")),v&&y&&A&&p&&h}})}),Dr=z({name:"image",ignoreRect:!0,mixins:{apis:["offsetTop"]},create:function create(e){var t=e.root,n=e.props;t.ref.imageGL=t.appendChildView(t.createChildView(Mr)),/markup/.test(t.query("GET_UTILS"))&&(t.ref.markup=t.appendChildView(t.createChildView(dr,{id:n.id,opacity:0,onSelect:function onSelect(e){t.dispatch("MARKUP_SELECT",{id:e})},onDrag:function onDrag(e,n,r,o,i){t.dispatch("MARKUP_ELEMENT_DRAG",{id:e,origin:n,offset:r,size:o,scale:i})},onResize:function onResize(e,n,r,o,i){t.dispatch("MARKUP_ELEMENT_RESIZE",{id:e,corner:n,origin:r,offset:o,size:i})},onUpdate:function onUpdate(e,n){t.dispatch("MARKUP_UPDATE",{style:e,value:n})},isMarkupUtil:function isMarkupUtil(e){var t=e;do{if("doka--markup-tools"===t.className)return!0}while(t=t.parentNode);return!1}}))),t.ref.isModal=/modal/.test(t.query("GET_STYLE_LAYOUT_MODE"))},write:$({DID_PRESENT_IMAGE:function DID_PRESENT_IMAGE(e){e.root.ref.imageGL.colorOpacity=1}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.ref.imageGL,i=t.ref.markup,a=t.query("GET_CROP",n.id,r);if(a){var s=a.isDraft,l=a.cropRect,c=a.cropStatus,u=a.origin,d=a.translation,f=a.translationBand,p=a.scale,h=a.scaleBand,g=a.rotation,m=a.rotationBand,A=a.flip,v=a.colorMatrix,y=t.query("GET_ROOT"),b=t.query("GET_STAGE"),w=b.x,_=b.y;s&&(o.scale=null,o.zRotation=null,o.xTranslation=null,o.yTranslation=null,o.xOrigin=null,o.yOrigin=null),o.colorMatrix=v;var E=t.query("IS_ACTIVE_VIEW","crop"),C=t.query("IS_ACTIVE_VIEW","markup"),S=E?.75:.95,T=_objectSpread({},l),x=1,O=E?1:5;if(t.query("IS_ACTIVE_VIEW","resize")){var k=c.image.width,B=c.image.height;x=null===k&&null===B?c.crop.width/l.width:null===k?B/l.height:k/l.width,x/=window.devicePixelRatio;var P=l.width*x,I=l.height*x;T.x=T.x+(.5*l.width-.5*P),T.y=T.y+(.5*l.height-.5*I),T.width=P,T.height=I}var R=t.ref.isModal?0:y.left,L=t.ref.isModal?0:y.top,M=t.ref.isModal?0:y.width-t.rect.element.width,D=t.ref.isModal?0:y.height-t.rect.element.height-n.offsetTop,N=(p+h)*x;o.isDraft=s,o.overlayOpacity=S,o.xOrigin=u.x,o.yOrigin=u.y,o.xTranslation=d.x+f.x+w,o.yTranslation=d.y+f.y+_,o.left=R,o.top=L+n.offsetTop,o.width=t.rect.element.width+M,o.height=t.rect.element.height+D+n.offsetTop,o.scale=N,o.xRotation=A.vertical?Math.PI:0,o.yRotation=A.horizontal?Math.PI:0,o.zRotation=g.main+g.sub+m,o.stage={x:b.x+R,y:b.y+L+n.offsetTop,width:b.width,height:b.height},o.overlay={x:T.x+w+R,y:T.y+_+L+n.offsetTop,width:T.width,height:T.height},o.outlineWidth=O,i&&(s&&(i.translateX=null,i.translateY=null,i.markupX=null,i.markupY=null,i.markupWidth=null,i.markupHeight=null),i.opacity=E?.3:1,i.stageOffsetX=w,i.stageOffsetY=_,i.markupX=T.x+w,i.markupY=T.y+_,i.markupWidth=T.width,i.markupHeight=T.height,i.allowInteraction=C)}})}),Nr=function createGroup(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"group",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["opacity"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return z({ignoreRect:!0,name:e,mixins:{styles:["opacity"].concat(_toConsumableArray(t)),animations:_objectSpread({opacity:{type:"spring",stiffness:.25,damping:.5,mass:5}},n)},create:function create(e){var t=e.root,n=e.props;(n.controls||[]).map(function(e){var n=t.createChildView(e.view,e);e.didCreateView&&e.didCreateView(n),t.appendChildView(n)}),n.element&&t.element.appendChild(n.element)}})},Fr=z({ignoreRect:!0,tag:"div",name:"dropdown-list",mixins:{styles:["translateY","opacity"],apis:["selectedValue","options","onSelect"],animations:{translateY:"spring",opacity:{type:"tween",duration:250}}},create:function create(e){var t=e.root,n=e.props;t.element.setAttribute("role","list"),t.ref.handleClick=function(){return n.action&&n.action()},t.element.addEventListener("click",t.ref.handleClick),t.ref.activeOptions=null,t.ref.activeSelectedValue},write:function write(e){var t=e.root,n=e.props;if(n.options!==t.ref.activeOptions&&(t.ref.activeOptions=n.options,t.childViews.forEach(function(e){return t.removeChildView(e)}),n.options.map(function(e){var r=t.createChildView(Qn,_objectSpread({},e,{action:function action(){return n.onSelect(e.value)}}));return t.appendChildView(r)})),n.selectedValue!==t.ref.activeSelectedValue){t.ref.activeSelectedValue=n.selectedValue;var r=n.options.findIndex(function(e){return"object"===_typeof(e.value)&&n.selectedValue?JSON.stringify(e.value)===JSON.stringify(n.selectedValue):e.value===n.selectedValue});t.childViews.forEach(function(e,t){e.element.setAttribute("aria-selected",t===r)})}},destroy:function destroy(e){var t=e.root;t.element.removeEventListener("click",t.ref.handleClick)}}),Ur=z({ignoreRect:!0,tag:"div",name:"dropdown",mixins:{styles:["opacity"],animations:{opacity:"spring"},apis:["direction","selectedValue","options","onSelect"]},create:function create(e){var t=e.root,r=e.props;t.ref.open=!1;var o=function n(e){t.ref.open=e,t.dispatch("KICK")};t.ref.button=t.appendChildView(t.createChildView(Qn,_objectSpread({},r,{action:function action(){o(!t.ref.open)}}))),t.ref.list=t.appendChildView(t.createChildView(Fr,_objectSpread({},r,{opacity:0,action:function action(){o(!1)}}))),t.ref.handleBodyClick=function(e){t.element.contains(e.target)||o(!1)},t.element.addEventListener("focusin",function(e){e.target!==t.ref.button.element&&o(!0)}),t.element.addEventListener("focusout",function(e){t.element.contains(e.relatedTarget)||o(!1)}),document.body.addEventListener("click",t.ref.handleBodyClick)},destroy:function destroy(e){var t=e.root;document.body.removeEventListener("click",t.ref.handleBodyClick)},write:function write(e){var t=e.root,n=e.props;if(t.ref.list.opacity=t.ref.open?1:0,t.ref.list.selectedValue=n.selectedValue,t.ref.list.options=n.options,"up"===n.direction){var r=t.ref.list.rect.element.height;t.ref.list.translateY=(t.ref.open?-(r+5):-r)-t.rect.element.height}else t.ref.list.translateY=t.ref.open?0:-5}}),Hr=z({name:"crop-rotator-line",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{styles:["translateX"],animations:{translateX:"spring"}},create:function create(e){for(var t=e.root,n='<svg viewBox="-90 -5 180 10" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">',r=0;r<=180;r+=2){var o=r*(176/180)-90+2,i=r%10==0?.5:.2;n+='<circle fill="currentColor" cx="'.concat(o,'" cy="').concat(0,'" r="').concat(i,'"/>'),r%10==0&&(n+='<text fill="currentColor" x="'.concat(o+(o<0?-2.25:0===o?-.75:-1.5),'" y="').concat(3.5,'">').concat(-90+r,"&deg;</text>"))}n+="</svg>",t.element.innerHTML=n}}),jr=z({name:"crop-rotator",ignoreRect:!0,mixins:{styles:["opacity","translateY"],animations:{opacity:{type:"spring",damping:.5,mass:5},translateY:"spring"},apis:["rotation","animate","setAllowInteraction"]},create:function create(e){var t=e.root,n=e.props;t.element.setAttribute("tabindex",0);var r=document.createElement("button");r.innerHTML="<span>".concat(t.query("GET_LABEL_BUTTON_CROP_ROTATE_CENTER"),"</span>"),r.className="doka--crop-rotator-center",r.addEventListener("click",function(){t.dispatch("CROP_IMAGE_ROTATE_CENTER")}),t.appendChild(r);var o=null;t.appendChildView(t.createChildView(function createDiv(e,t){return z({name:e,ignoreRect:!0,create:t})}("crop-rotator-line-mask",function(e){var t=e.root,n=e.props;o=t.appendChildView(t.createChildView(Hr,{translateX:Math.round(312*n.rotation)}))}),n)),t.ref.line=o;var i=document.createElement("div");i.className="doka--crop-rotator-bar",t.appendChild(i);var a=Math.PI/4,s=0;t.ref.dragger=nr(i,function(){s=o.translateX/312,t.dispatch("CROP_IMAGE_ROTATE_GRAB")},function(e,n){var r=n.x/t.rect.element.width*(Math.PI/2),o=we(s+r,-a,a);t.dispatch("CROP_IMAGE_ROTATE",{value:-o})},function(){t.dispatch("CROP_IMAGE_ROTATE_RELEASE")},{stopPropagation:!0}),n.setAllowInteraction=function(e){e?t.ref.dragger.enable():t.ref.dragger.disable()},t.ref.keyboard=Ar(t.element,function(){s=0},{left:function left(){s+=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:s})},right:function right(){s-=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:s})}},function(){},function(){}),t.ref.prevRotation},destroy:function destroy(e){var t=e.root;t.ref.dragger.destroy(),t.ref.keyboard.destroy()},write:function write(e){var t=e.root,n=e.props,r=e.timestamp,o=n.animate,i=n.rotation;if(t.ref.prevRotation!==i){t.ref.prevRotation=i,o||0===i||(t.ref.line.translateX=null);var a=0,s=t.query("GET_CROP",n.id,r);if(s&&s.interaction&&s.interaction.rotation){var l=dn(s.interaction.rotation).sub-i;a=.025*Math.sign(l)*Math.log10(1+Math.abs(l)/.025)}t.ref.line.translateX=Math.round(312*(-i-a))}}}),Qr=["nw","ne","se","sw"],zr=["n","e","s","w"],$r=j()&&1===window.devicePixelRatio?function(e){return Math.round(e)}:function(e){return e},Vr=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-rect-focal-line",mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{translateX:"spring",translateY:"spring",scaleX:"spring",scaleY:"spring",opacity:"spring"}}}),Gr=function createEdge(e){return z({ignoreRect:!0,ignoreRectUpdate:!0,tag:"div",name:"crop-rect-edge-".concat(e),mixins:{styles:["translateX","translateY","scaleX","scaleY"],apis:["setAllowInteraction"]},create:function create(t){var n=t.root,r=t.props;n.element.classList.add("doka--crop-rect-edge"),n.element.setAttribute("tabindex",0),n.element.setAttribute("role","button");var o=e,i=function getOppositeEdge(e){return zr[(zr.indexOf(e)+2)%zr.length]}(e);n.ref.dragger=nr(n.element,function(){n.dispatch("CROP_RECT_DRAG_GRAB")},function(e,t){return n.dispatch("CROP_RECT_EDGE_DRAG",{offset:t,origin:o,anchor:i})},function(){return n.dispatch("CROP_RECT_DRAG_RELEASE")},{stopPropagation:!0,cancelOnMultiple:!0}),r.setAllowInteraction=function(e){e?n.ref.dragger.enable():n.ref.dragger.disable()},n.ref.keyboard=Ar(n.element,function(){return{x:0,y:0}},{up:function up(e){e.y-=20},down:function down(e){e.y+=20},left:function left(e){e.x-=20},right:function right(e){e.x+=20}},function(e){n.dispatch("CROP_RECT_DRAG_GRAB"),n.dispatch("CROP_RECT_EDGE_DRAG",{offset:e,origin:o,anchor:i})},function(){n.dispatch("CROP_RECT_DRAG_RELEASE")})},destroy:function destroy(e){var t=e.root;t.ref.keyboard.destroy(),t.ref.dragger.destroy()}})},Wr=function createCorner(e,t,n){return z({ignoreRect:!0,ignoreRectUpdate:!0,tag:"div",name:"crop-rect-corner-".concat(e),mixins:{styles:["translateX","translateY","scaleX","scaleY"],animations:{translateX:rr,translateY:rr,scaleX:{type:"spring",delay:n},scaleY:{type:"spring",delay:n},opacity:{type:"spring",delay:t}},apis:["setAllowInteraction"]},create:function create(t){var n=t.root,r=t.props;n.element.classList.add("doka--crop-rect-corner"),n.element.setAttribute("role","button"),n.element.setAttribute("tabindex",-1);var o=e,i=function getOppositeCorner(e){return Qr[(Qr.indexOf(e)+2)%Qr.length]}(e);n.ref.dragger=nr(n.element,function(){n.dispatch("CROP_RECT_DRAG_GRAB")},function(e,t){n.dispatch("CROP_RECT_CORNER_DRAG",{offset:t,origin:o,anchor:i})},function(){n.dispatch("CROP_RECT_DRAG_RELEASE")},{stopPropagation:!0,cancelOnMultiple:!0}),r.setAllowInteraction=function(e){e?n.ref.dragger.enable():n.ref.dragger.disable()}},destroy:function destroy(e){e.root.ref.dragger.destroy()}})},Kr=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-rect",mixins:{apis:["rectangle","draft","rotating","enabled"]},create:function create(e){var t=e.root;t.ref.wasRotating=!1,Qr.forEach(function(e,n){var r=10*n,o=250+r+50,i=250+r;t.ref[e]=t.appendChildView(t.createChildView(Wr(e,o,i),{opacity:0,scaleX:.5,scaleY:.5}))}),zr.forEach(function(e){t.ref[e]=t.appendChildView(t.createChildView(Gr(e)))}),t.ref.lines=[];for(var n=0;n<10;n++)t.ref.lines.push(t.appendChildView(t.createChildView(Vr,{opacity:0})));t.ref.animationDir=null,t.ref.previousRotating,t.ref.previousRect={},t.ref.previousEnabled,t.ref.previousDraft},write:function write(e){var t=e.root,n=e.props,r=n.rectangle,o=n.draft,i=n.rotating,a=n.enabled;if(r&&(!Be(r,t.ref.previousRect)||i!==t.ref.previousRotating||a!==t.ref.previousEnabled||o!==t.ref.previousDraft)){t.ref.previousRect=r,t.ref.previousRotating=i,t.ref.previousEnabled=a,t.ref.previousDraft=o;var s=t.ref,l=s.n,c=s.e,u=s.s,d=s.w,f=s.nw,p=s.ne,h=s.se,g=s.sw,m=s.lines,A=s.animationDir,v=r.x,y=r.y,b=r.x+r.width,w=r.y+r.height,_=w-y,E=b-v,C=Math.min(E,_);t.element.dataset.indicatorSize=C<80?"none":"default",zr.forEach(function(e){return t.ref[e].setAllowInteraction(a)}),Qr.forEach(function(e){return t.ref[e].setAllowInteraction(a)});var S=t.query("IS_ACTIVE_VIEW","crop");if(S&&"in"!==A?(t.ref.animationDir="in",Qr.map(function(e){return t.ref[e]}).forEach(function(e){e.opacity=1,e.scaleX=1,e.scaleY=1})):S||"out"===A||(t.ref.animationDir="out",Qr.map(function(e){return t.ref[e]}).forEach(function(e){e.opacity=0,e.scaleX=.5,e.scaleY=.5})),Yr(o,f,v,y),Yr(o,p,b,y),Yr(o,h,b,w),Yr(o,g,v,w),qr(o,l,v,y,E/100,1),qr(o,c,b,y,1,_/100),qr(o,u,v,w,E/100,1),qr(o,d,v,y,1,_/100),i){t.ref.wasRotating=!0;var T=m.slice(0,5),x=1/T.length;T.forEach(function(e,t){qr(o,e,v,y+_*(x+t*x),E/100,.01),e.opacity=.5});var O=m.slice(5);x=1/O.length,O.forEach(function(e,t){qr(o,e,v+E*(x+t*x),y,.01,_/100),e.opacity=.5})}else if(o){t.ref.wasRotating=!1;var k=m[0],B=m[1],P=m[2],I=m[3];qr(o,k,v,y+.333*_,E/100,.01),qr(o,B,v,y+.666*_,E/100,.01),qr(o,P,v+.333*E,y,.01,_/100),qr(o,I,v+.666*E,y,.01,_/100),k.opacity=.5,B.opacity=.5,P.opacity=.5,I.opacity=.5}else{var R=m[0],L=m[1],M=m[2],D=m[3];!t.ref.wasRotating&&R.opacity>0&&(qr(o,R,v,y+.333*_,E/100,.01),qr(o,L,v,y+.666*_,E/100,.01),qr(o,M,v+.333*E,y,.01,_/100),qr(o,D,v+.666*E,y,.01,_/100)),m.forEach(function(e){return e.opacity=0})}}}}),qr=function transformTranslateScale(e,t,n,r,o,i){e&&(t.translateX=null,t.translateY=null,t.scaleX=null,t.scaleY=null),t.translateX=$r(n),t.translateY=$r(r),t.scaleX=o,t.scaleY=i},Yr=function transformTranslate(e,t,n,r){e&&(t.translateX=null,t.translateY=null),t.translateX=$r(n),t.translateY=$r(r)},Xr=function setInnerHTML(e,t){if(!/svg/.test(e.namespaceURI)||"innerHTML"in e)e.innerHTML=t;else{var n=document.createElement("div");n.innerHTML="<svg>"+t+"</svg>";for(var r=n.firstChild;r.firstChild;)e.appendChild(r.firstChild)}},Jr=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-mask",tag:"svg",mixins:{styles:["opacity","translateX","translateY"],animations:{scale:rr,maskWidth:rr,maskHeight:rr,translateX:rr,translateY:rr,opacity:{type:"tween",delay:0,duration:1e3}},apis:["rectangle","animate","maskWidth","maskHeight","scale"]},create:function create(e){e.root.ref.writer=null},write:function write(e){var t=e.root,n=t.query("GET_CROP_MASK");n!==t.ref.writer&&(t.ref.writer=n,t.ref.writerFn=n?n(t.element,Xr):null,t.ref.writer||Xr(t.element,""))},didWriteView:function didWriteView(e){var t=e.root,n=e.props,r=n.maskWidth,o=n.maskHeight,i=n.scale;if(t.ref.writer&&r&&o&&(t.element.setAttribute("width",$r(r)),t.element.setAttribute("height",$r(o)),t.ref.writerFn)){var a=t.query("GET_CROP_MASK_INSET");t.ref.writerFn({x:i*a,y:i*a,width:r-i*a*2,height:o-i*a*2},{width:r,height:o})}}}),Zr=function updateText$1(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},eo={type:"spring",stiffness:.25,damping:.1,mass:1},to=z({ignoreRect:!0,name:"crop-size",mixins:{styles:["translateX","translateY","opacity"],animations:{translateX:"spring",translateY:"spring",opacity:"spring",sizeWidth:eo,sizeHeight:eo},apis:["sizeWidth","sizeHeight"],listeners:!0},create:function create(e){var t=e.root,n=y("span");n.className="doka--crop-size-info doka--crop-resize-percentage",t.ref.resizePercentage=n,t.appendChild(n);var r=y("span");r.className="doka--crop-size-info";var o=y("span");o.className="doka--crop-size-multiply",o.textContent="×";var i=y("span"),a=y("span");t.ref.outputWidth=i,t.ref.outputHeight=a,r.appendChild(i),r.appendChild(o),r.appendChild(a),t.appendChild(r),t.ref.previousValues={width:0,height:0,percentage:0}},write:function write(e){var t=e.root,n=e.props,r=e.timestamp;if(!(t.opacity<=0)){var o=t.query("GET_CROP",n.id,r);if(o){var i=o.cropStatus,a=o.isDraft,s=t.ref,l=s.outputWidth,c=s.outputHeight,u=s.resizePercentage,d=s.previousValues,f=i.image,p=i.crop,h=i.currentWidth,g=i.currentHeight,m=f.width?Math.round(f.width/p.width*100):0;a&&(t.sizeWidth=null,t.sizeHeight=null),t.sizeWidth=h,t.sizeHeight=g;var A=Math.round(t.sizeWidth),v=Math.round(t.sizeHeight);A!==d.width&&(Zr(l,A),d.width=A),v!==d.height&&(Zr(c,v),d.height=v),m!==d.percentage&&(f.width?Zr(u,"".concat(m,"%")):Zr(u,""),d.percentage=m)}}}}),no=function getData(e){return JSON.parse(localStorage.getItem(e)||"{}")},ro=function canHover(){return window.matchMedia("(pointer: fine) and (hover: hover)").matches},oo=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"instructions-bubble",mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:400}},apis:["seen"]},create:function create(e){var t=e.root,n=e.props;return t.element.innerHTML=(n.iconBefore||"")+n.text},write:function write(e){var t=e.root;e.props.seen&&(t.opacity=0)}}),io={type:"spring",stiffness:.4,damping:.65,mass:7},ao=z({name:"crop-subject",ignoreRect:!0,mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:250},translateX:io,translateY:io}},create:function create(e){var t=e.root,n=e.props;t.opacity=1,t.ref.timestampOffset=null,t.query("GET_CROP_ALLOW_INSTRUCTION_ZOOM")&&ro()&&(function getStoredValue(e,t,n){var r=no(e);return void 0===r[t]?n:r[t]}(t.query("GET_STORAGE_NAME"),"instruction_zoom_shown",!1)||(t.ref.instructions=t.appendChildView(t.createChildView(oo,{opacity:0,seen:!1,text:t.query("GET_LABEL_CROP_INSTRUCTION_ZOOM"),iconBefore:jn('<rect stroke-width="1.5" fill="none" stroke="currentColor" x="5" y="1" width="14" height="22" rx="7" ry="7"></rect><circle fill="currentColor" stroke="none" cx="12" cy="8" r="2"></circle>')})))),t.ref.maskView=t.appendChildView(t.createChildView(Jr)),t.query("GET_CROP_ALLOW_RESIZE_RECT")&&(t.ref.cropView=t.appendChildView(t.createChildView(Kr))),t.query("GET_CROP_SHOW_SIZE")&&(t.ref.cropSize=t.appendChildView(t.createChildView(to,{id:n.id,opacity:1,scaleX:1,scaleY:1,translateX:null}))),t.query("GET_CROP_ZOOM_TIMEOUT")||(t.ref.btnZoom=t.appendChildView(t.createChildView(function wrapper(e,t){return z({ignoreRect:!0,name:e,mixins:t,create:function create(e){var t=e.root,n=e.props;n.className&&t.element.classList.add(n.className),n.controls.map(function(e){var n=t.createChildView(e.view,e);e.didCreateView&&e.didCreateView(n),t.appendChildView(n)})}})}("zoom-wrapper",{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:250}}}),{opacity:0,controls:[{view:Qn,label:t.query("GET_LABEL_BUTTON_CROP_ZOOM"),name:"zoom",icon:jn('<g fill="currentColor" fill-rule="nonzero"><path d="M12.5 19a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13zm0-2a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"/><path d="M15.765 17.18a1 1 0 1 1 1.415-1.415l3.527 3.528a1 1 0 0 1-1.414 1.414l-3.528-3.527z"/></g>',26),action:function action(){return t.dispatch("CROP_ZOOM")}}]})))},write:$({CROP_IMAGE_RESIZE_MULTIPLY:function CROP_IMAGE_RESIZE_MULTIPLY(e){var t=e.root,n=t.ref.instructions;n&&!n.seen&&(n.seen=!0,function setStoredValue(e,t,n){var r=no(e);r[t]=n,localStorage.setItem(e,JSON.stringify(r))}(t.query("GET_STORAGE_NAME"),"instruction_zoom_shown",!0))},CROP_RECT_DRAG_RELEASE:function CROP_RECT_DRAG_RELEASE(e){var t=e.root,n=e.props,r=e.timestamp,o=t.ref.btnZoom;if(o){var i=t.query("GET_CROP",n.id,r).cropRect,a=i.x+.5*i.width,s=i.y+.5*i.height;o.translateX=a,o.translateY=s}}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.ref,i=o.cropView,a=o.maskView,s=o.btnZoom,l=o.cropSize,c=o.instructions;if(!t.query("IS_ACTIVE_VIEW","crop")&&i)return i.enabled=!1,t.ref.timestampOffset=null,void(l&&(l.opacity=0));t.ref.timestampOffset||(t.ref.timestampOffset=r);var u=t.query("GET_CROP",n.id,r);if(u){var d=u.cropRect,f=u.isRotating,p=u.isDraft,h=u.scale,g=t.query("GET_STAGE");if(t.translateX=g.x-t.rect.element.left,t.translateY=g.y-t.rect.element.top,i&&(i.draft=p,i.rotating=f,i.rectangle=d,i.enabled=!0),l){l.opacity=1,p&&(l.translateX=null,l.translateY=null);var m=so(t.rect.element,l.rect.element,d);l.translateX=p?m.x:$r(m.x),l.translateY=p?m.y:$r(m.y)}if(t.query("GET_CROP_MASK")&&(p&&(a.translateX=null,a.translateY=null,a.maskWidth=null,a.maskHeight=null),a.translateX=$r(d.x),a.translateY=$r(d.y),a.maskWidth=d.width,a.maskHeight=d.height,a.scale=h),u.canRecenter)c&&(c.opacity=0),s&&(s.opacity=u.isDraft?0:1);else if(s&&(s.opacity=0),c&&!c.seen&&!u.isDraft){var A=d.x+.5*d.width,v=d.y+.5*d.height;c.translateX=Math.round(A-.5*c.rect.element.width),c.translateY=Math.round(v-.5*c.rect.element.height),r-t.ref.timestampOffset>2e3&&(c.opacity=1)}}})}),so=function getCropSizeOffset(e,t,n){var r=n.x,o=n.x+n.width,i=n.y+n.height,a=o-t.width-16,s=i-t.height-16;return t.width>n.width-32&&(a=r+(.5*n.width-.5*t.width),(s=i+16)>e.height-t.height&&(s=i-t.height-16)),{x:a=Math.max(0,Math.min(a,e.width-t.width)),y:s}},lo=function now(){return performance.now()},co=function climb(e,t){for(;1===e.nodeType&&!t(e);)e=e.parentNode;return 1===e.nodeType?e:null},uo=function isMyTarget(e,t){var n=co(t,function(e){return e.classList.contains("doka--root")});return!!n&&n.contains(e)},fo=function updateIndicators(e){var t=e.root,n=e.props,r=e.action.position,o=n.pivotPoint,i=t.ref,a=i.indicatorA,s=i.indicatorB,l=o.x-r.x,c=o.y-r.y,u={x:o.x+l,y:o.y+c},d={x:o.x-l,y:o.y-c};a.style.cssText="transform: translate3d(".concat(u.x,"px, ").concat(u.y,"px, 0)"),s.style.cssText="transform: translate3d(".concat(d.x,"px, ").concat(d.y,"px, 0)")},po=function getPositionFromEvent(e){return{x:e.pageX,y:e.pageY}},ho=z({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-resizer",mixins:{apis:["pivotPoint","scrollRect"]},create:function create(e){var t=e.root,n=e.props;t.ref.isActive=!1,t.ref.isCropping=!1,t.ref.indicatorA=document.createElement("div"),t.appendChild(t.ref.indicatorA),t.ref.indicatorB=document.createElement("div"),t.appendChild(t.ref.indicatorB);var r=t.query("GET_CROP_RESIZE_KEY_CODES");t.ref.hasEnabledResizeModifier=r.length>0;var o={origin:{x:null,y:null},position:{x:null,y:null},selecting:!1,enabled:!1,scrollY:0,offsetX:0,offsetY:0},i=lo();t.ref.state=o;var a=Jn(),s=0,l=!1;t.ref.resizeStart=function(e){if(t.ref.isActive&&(0===a.count()&&(l=!1),uo(t.element,e.target)&&(a.push(e),Zn(document.documentElement,"up",t.ref.resizeEnd),a.multiple()))){e.stopPropagation(),e.preventDefault();var n=a.active(),r=po(n[0]),o=po(n[1]);s=Te(r,o),Zn(document.documentElement,"move",t.ref.resizeMove),l=!0}},t.ref.resizeMove=function(e){if(t.ref.isActive&&l&&(e.preventDefault(),2===a.count())){a.update(e);var n=a.active(),r=po(n[0]),o=po(n[1]),i=(Te(r,o)-s)/s;t.dispatch("CROP_IMAGE_RESIZE",{value:i})}},t.ref.resizeEnd=function(e){if(t.ref.isActive){a.pop(e);var n=0===a.count();n&&(er(document.documentElement,"move",t.ref.resizeMove),er(document.documentElement,"up",t.ref.resizeEnd)),l&&(e.preventDefault(),n&&t.dispatch("CROP_IMAGE_RESIZE_RELEASE"))}},Zn(document.documentElement,"down",t.ref.resizeStart);var c=performance.now(),u=0,d=1,f=function throttle(e,t){var n=null,r=null;return function(){var o=arguments;if(!r)return e.apply(null,Array.from(arguments)),void(r=lo());clearTimeout(n),n=setTimeout(function(){lo()-r>=t&&(e.apply(null,Array.from(o)),r=lo())},t-(lo()-r))}}(function(e){if(!t.ref.isCropping){var n=Math.sign(e.wheelDelta||e.deltaY),r=lo(),o=r-c;c=r,(o>750||u!==n)&&(d=1,u=n),d+=.05*n,t.dispatch("CROP_IMAGE_RESIZE_MULTIPLY",{value:Math.max(.1,d)}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")}},100);t.ref.wheel=function(e){if(t.ref.isActive&&uo(t.element,e.target)){if(n.scrollRect){var r=n.scrollRect,o=t.query("GET_ROOT"),i=po(e),a={x:i.x-o.leftScroll,y:i.y-o.topScroll};if(a.x<r.x||a.x>r.x+r.width||a.y<r.y||a.y>r.y+r.height)return}e.preventDefault(),f(e)}},document.addEventListener("wheel",t.ref.wheel,{passive:!1}),t.ref.hasEnabledResizeModifier&&(t.ref.move=function(e){if(t.ref.isActive&&!t.ref.isCropping&&(o.position.x=e.pageX-t.ref.state.offsetX,o.position.y=e.pageY-t.ref.state.scrollY-t.ref.state.offsetY,o.enabled))if(uo(t.element,e.target)){"idle"===t.element.dataset.state&&t.dispatch("RESIZER_SHOW",{position:_objectSpread({},o.position)}),e.preventDefault(),t.dispatch("RESIZER_MOVE",{position:_objectSpread({},o.position)});var r=n.pivotPoint,a=r.x-o.position.x,l=r.y-o.position.y,c={x:r.x+a,y:r.y+l},u=_objectSpread({},o.position);if(o.selecting){var d=(Te(c,u)-s)/s,f=performance.now();f-i>25&&(i=f,t.dispatch("CROP_IMAGE_RESIZE",{value:d}))}}else t.dispatch("RESIZER_CANCEL")},t.ref.select=function(e){if(t.ref.isActive&&uo(t.element,e.target)){var r=n.pivotPoint,i=r.x-o.position.x,a=r.y-o.position.y,l={x:r.x+i,y:r.y+a},c=o.position;s=Te(l,c),o.selecting=!0,o.origin.x=e.pageX,o.origin.y=e.pageY,t.dispatch("CROP_IMAGE_RESIZE_GRAB")}},t.ref.confirm=function(e){t.ref.isActive&&uo(t.element,e.target)&&(o.selecting=!1,t.dispatch("CROP_IMAGE_RESIZE_RELEASE"))},t.ref.blur=function(){t.ref.isActive&&(o.selecting=!1,o.enabled=!1,document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_CANCEL"))},window.addEventListener("blur",t.ref.blur),document.addEventListener("mousemove",t.ref.move),t.ref.keyDown=function(e){t.ref.isActive&&r.includes(e.keyCode)&&o.position&&(o.enabled=!0,document.addEventListener("mousedown",t.ref.select),document.addEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_SHOW",{position:_objectSpread({},o.position)}))},t.ref.keyUp=function(e){t.ref.isActive&&r.includes(e.keyCode)&&(o.enabled=!1,document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_CANCEL"))},document.body.addEventListener("keydown",t.ref.keyDown),document.body.addEventListener("keyup",t.ref.keyUp))},destroy:function destroy(e){var t=e.root;document.removeEventListener("touchmove",t.ref.resizeMove),document.removeEventListener("touchend",t.ref.resizeEnd),document.removeEventListener("touchstart",t.ref.resizeStart),document.removeEventListener("wheel",t.ref.wheel),document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),t.ref.hasEnabledResizeModifier&&(document.removeEventListener("mousemove",t.ref.move),document.body.removeEventListener("keydown",t.ref.keyDown),document.body.removeEventListener("keyup",t.ref.keyUp),window.removeEventListener("blur",t.ref.blur))},read:function read(e){var t=e.root;t.ref.state.scrollY=window.scrollY;var n=t.element.getBoundingClientRect();t.ref.state.offsetX=n.x,t.ref.state.offsetY=n.y},write:$({CROP_RECT_DRAG_GRAB:function CROP_RECT_DRAG_GRAB(e){e.root.ref.isCropping=!0},CROP_RECT_DRAG_RELEASE:function CROP_RECT_DRAG_RELEASE(e){e.root.ref.isCropping=!1},SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action;t.ref.isActive="crop"===n.id},RESIZER_SHOW:function RESIZER_SHOW(e){var t=e.root,n=e.props,r=e.action;t.element.dataset.state="multi-touch",fo({root:t,props:n,action:r})},RESIZER_CANCEL:function RESIZER_CANCEL(e){e.root.element.dataset.state="idle"},RESIZER_MOVE:fo})}),go=function setOpacity(e,t){return e.style.opacity=t},mo=function updateImageBoundsIcon(e,t){var n=Array.from(e.element.querySelectorAll(".doka--icon-crop-limit rect"));n.length&&(go(n[0],t?.3:0),go(n[1],t?1:0),go(n[2],t?0:.3),go(n[3],t?0:1))},Ao=function updateAspectRatioIcon(e,t){var n=e.element.querySelectorAll(".doka--icon-aspect-ratio rect");if(n.length){if(!t)return go(n[0],.2),go(n[1],.3),void go(n[2],.4);go(n[0],t>1?1:.3),go(n[1],1===t?.85:.5),go(n[2],t<1?1:.3)}},vo=z({name:"crop",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden","offsetTop"]},create:function create(e){var t=e.root,n=e.props;n.viewId="crop",n.hidden=!1,t.ref.isHiding=!1;var r=[];t.query("GET_CROP_ALLOW_IMAGE_TURN_LEFT")&&r.push({view:Qn,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ROTATE_LEFT"),icon:jn('<g transform="translate(3 2)" fill="currentColor" fill-rule="evenodd" class="doka--icon-turn"><rect y="9" width="12" height="12" rx="1"/><path d="M9.823 5H11a5 5 0 0 1 5 5 1 1 0 0 0 2 0 7 7 0 0 0-7-7H9.626l.747-.747A1 1 0 0 0 8.958.84L6.603 3.194a1 1 0 0 0 0 1.415l2.355 2.355a1 1 0 0 0 1.415-1.414L9.823 5z" fill-rule="nonzero" /></g>',26),action:function action(){return t.dispatch("CROP_IMAGE_ROTATE_LEFT")}}),t.query("GET_CROP_ALLOW_IMAGE_TURN_RIGHT")&&r.push({view:Qn,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ROTATE_RIGHT"),icon:jn('<g transform="translate(5 2)" fill="currentColor" fill-rule="evenodd" class="doka--icon-turn"><path d="M8.177 5H7a5 5 0 0 0-5 5 1 1 0 0 1-2 0 7 7 0 0 1 7-7h1.374l-.747-.747A1 1 0 0 1 9.042.84l2.355 2.355a1 1 0 0 1 0 1.415L9.042 6.964A1 1 0 0 1 7.627 5.55l.55-.55z" fill-rule="nonzero"/><rect x="6" y="9" width="12" height="12" rx="1"/></g>',26),action:function action(){return t.dispatch("CROP_IMAGE_ROTATE_RIGHT")}}),t.query("GET_CROP_ALLOW_IMAGE_FLIP_HORIZONTAL")&&r.push({view:Qn,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_FLIP_HORIZONTAL"),icon:jn('<g fill="currentColor" fill-rule="evenodd"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',26),action:function action(){return t.dispatch("CROP_IMAGE_FLIP_HORIZONTAL")}}),t.query("GET_CROP_ALLOW_IMAGE_FLIP_VERTICAL")&&r.push({view:Qn,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_FLIP_VERTICAL"),icon:jn('<g fill="currentColor" fill-rule="evenodd"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g>',26),action:function action(){return t.dispatch("CROP_IMAGE_FLIP_VERTICAL")}});var o=t.query("GET_CROP_ASPECT_RATIO_OPTIONS");o&&o.length&&r.push({view:Ur,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ASPECT_RATIO"),icon:jn('<g class="doka--icon-aspect-ratio" fill="currentColor" fill-rule="evenodd"><rect x="2" y="4" opacity=".3" width="10" height="18" rx="1"/><rect opacity=".5" x="4" y="8" width="14" height="14" rx="1"/><rect x="6" y="12" width="17" height="10" rx="1"/></g>',26),options:null,onSelect:function onSelect(e){e.width&&e.height?t.dispatch("RESIZE_SET_OUTPUT_SIZE",{width:e.width,height:e.height}):(t.query("GET_CROP_ASPECT_RATIO_OPTIONS").find(function(e){return e.value&&e.value.width||e.value.height})&&t.dispatch("RESIZE_SET_OUTPUT_SIZE",{width:null,height:null}),t.dispatch("CROP_SET_ASPECT_RATIO",{value:e.aspectRatio}))},didCreateView:function didCreateView(e){t.ref.aspectRatioDropdown=e}}),t.query("GET_CROP_ALLOW_TOGGLE_LIMIT")&&r.push({view:Ur,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_TOGGLE_LIMIT"),icon:jn('<g class="doka--icon-crop-limit" fill="currentColor" fill-rule="evenodd">\n                    <rect x="2" y="3" width="20" height="20" rx="1"/>\n                    <rect x="7" y="8" width="10" height="10" rx="1"/>\n                    <rect x="4" y="8" width="14" height="14" rx="1"/>\n                    <rect x="12" y="4" width="10" height="10" rx="1"/>\n                </g>',26),options:[{value:!0,label:t.query("GET_LABEL_BUTTON_CROP_TOGGLE_LIMIT_ENABLE"),icon:'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><g fill="currentColor"><rect x="3" y="3" width="17" height="17" rx="2.5" opacity=".3"/><rect x="7" y="7" width="9" height="9" rx="2.5"/></g></svg>'},{value:!1,label:t.query("GET_LABEL_BUTTON_CROP_TOGGLE_LIMIT_DISABLE"),icon:'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><g fill="currentColor"><rect x="3" y="6" width="13" height="13" rx="2.5" opacity=".3"/><rect x="10" y="3" width="9" height="9" rx="2.5"/></g></svg>'}],onSelect:function onSelect(e){t.dispatch("CROP_SET_LIMIT",{value:e})},didCreateView:function didCreateView(e){t.ref.cropToggleLimitDropdown=e}}),t.ref.menu=t.appendChildView(t.createChildView(Nr("toolbar",["opacity"],{opacity:{type:"spring",mass:15,delay:50}}),{opacity:0,controls:r})),t.ref.menuItemsRequiredWidth=null,t.ref.subject=t.appendChildView(t.createChildView(ao,_objectSpread({},n))),t.query("GET_CROP_ALLOW_ROTATE")&&(t.ref.rotator=t.appendChildView(t.createChildView(jr,{rotation:0,opacity:0,translateY:20,id:n.id}))),t.ref.resizer=t.appendChildView(t.createChildView(ho,{pivotPoint:{x:0,y:0}})),t.ref.updateControls=function(){var e=t.query("GET_IMAGE");if(function updateTurnIcons(e,t){Array.from(e.element.querySelectorAll(".doka--icon-turn rect")).forEach(function(e){t>1&&(e.setAttribute("x",e.previousElementSibling?5:4),e.setAttribute("width",9)),t<1&&(e.setAttribute("y",11),e.setAttribute("height",10))})}(t,e.height/e.width),t.ref.cropToggleLimitDropdown&&(t.ref.isLimitedToImageBounds=t.query("GET_CROP_LIMIT_TO_IMAGE_BOUNDS"),mo(t,t.ref.isLimitedToImageBounds),t.ref.cropToggleLimitDropdown.selectedValue=t.ref.isLimitedToImageBounds),t.ref.aspectRatioDropdown){var n=t.query("GET_MIN_IMAGE_SIZE"),r=o.filter(function(t){if(!t.value.aspectRatio)return!0;if(t.value.aspectRatio<1){if(e.naturalWidth*t.value.aspectRatio<n.height)return!1}else if(e.naturalHeight/t.value.aspectRatio<n.width)return!1;return!0});t.ref.aspectRatioDropdown.options=r.map(function(e){return _objectSpread({},e,{icon:function createRectangle(e){var t,n;e>1?(n=14,t=Math.round(n/e)):(t=14,n=Math.round(t*e));var r=Math.round(.5*(23-t)),o=Math.round(.5*(23-n));return'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><g fill="currentColor"><rect x="'.concat(r,'" y="').concat(o,'" width="').concat(t,'" height="').concat(n,'" rx="2.5"/></g></svg>')}(e.value.aspectRatio)})})}},t.ref.isModal=/modal|fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE"))},read:function read(e){var t=e.root,n=e.props;if(n.hidden)t.ref.menuItemsRequiredWidth=null;else{var r=t.rect;if(0!==r.element.width&&0!==r.element.height){if(null===t.ref.menuItemsRequiredWidth){var o=t.ref.menu.childViews.reduce(function(e,t){return e+t.rect.outer.width},0);t.ref.menuItemsRequiredWidth=0===o?null:o}var i=t.ref.subject.rect.element,a=i.left,s=i.top,l=i.width,c=i.height;n.stagePosition={x:a,y:s,width:l,height:c}}}},shouldUpdateChildViews:function shouldUpdateChildViews(e){var t=e.props,n=e.actions;return!t.hidden||t.hidden&&n&&n.length},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action,r=e.props,o=t.ref,i=o.menu,a=o.rotator,s=o.subject;r.viewId===n.id?(s.opacity=1,i.opacity=1,a&&(a.opacity=1,a.translateY=0),r.hidden=!1,t.ref.isHiding=!1,t.ref.updateControls()):(s.opacity=0,i.opacity=0,a&&(a.opacity=0,a.translateY=20),t.ref.isHiding=!0)},UNLOAD_IMAGE:function UNLOAD_IMAGE(e){var t=e.root.ref,n=t.menu,r=t.rotator;n.opacity=0,r&&(r.opacity=0,r.translateY=20)},DID_PRESENT_IMAGE:function DID_PRESENT_IMAGE(e){var t=e.root,n=t.ref,r=n.menu,o=n.rotator;r.opacity=1,o&&(o.opacity=1,o.translateY=0),t.ref.updateControls()}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.ref,i=o.resizer,a=o.subject,s=o.menu,l=o.rotator,c=o.isHiding,u=o.cropToggleLimitDropdown,d=o.aspectRatioDropdown,f=n.hidden,p=0===a.opacity&&0===s.opacity&&(!l||l&&0===l.opacity);if(!f&&c&&p&&(t.ref.isHiding=!1,n.hidden=!0),!n.hidden){var h=t.query("GET_CROP",n.id,r);if(h){if(d){var g=t.query("GET_ACTIVE_CROP_ASPECT_RATIO"),m=t.query("GET_SIZE"),A=d.selectedValue;A?(A.aspectRatio!==g&&Ao(t,g),A.aspectRatio===g&&A.width===m.width&&A.height===m.height||(d.selectedValue={aspectRatio:g,width:m.width,height:m.height})):(d.selectedValue={aspectRatio:g,width:m.width,height:m.height},Ao(t,g))}if(u&&t.ref.isLimitedToImageBounds!==h.isLimitedToImageBounds&&(t.ref.isLimitedToImageBounds=h.isLimitedToImageBounds,mo(t,h.isLimitedToImageBounds),u.selectedValue=h.isLimitedToImageBounds),i.pivotPoint={x:.5*i.rect.element.width,y:.5*i.rect.element.height},l&&(l.animate=!h.isDraft,l.rotation=h.rotation.sub,l.setAllowInteraction(t.query("IS_ACTIVE_VIEW","crop"))),s.element.dataset.layout=t.ref.menuItemsRequiredWidth>t.ref.menu.rect.element.width?"compact":"spacious",t.query("GET_CROP_RESIZE_SCROLL_RECT_ONLY")){var v=t.query("GET_STAGE"),y=v.x,b=v.y,w=t.query("GET_ROOT"),_=t.ref.isModal?w.left:0,E=t.ref.isModal?w.top:0;i.scrollRect={x:_+y+h.cropRect.x,y:E+b+h.cropRect.y+n.offsetTop,width:h.cropRect.width,height:h.cropRect.height}}}}})}),yo=z({name:"size-input",mixins:{listeners:!0,apis:["id","value","placeholder","getValue","setValue","setPlaceholder","hasFocus","onChange"]},create:function create(e){var t=e.root,n=e.props,r=n.id,o=n.min,i=n.max,a=n.value,s=n.placeholder,l=n.onChange,c=void 0===l?function(){}:l,u=n.onBlur,d=void 0===u?function(){}:u,f="doka--".concat(r,"-").concat(se()),p=y("input",{type:"number",step:1,id:f,min:o,max:i,value:a,placeholder:s}),h=p.getAttribute("max").length,g=y("label",{for:f});g.textContent=n.label;var A=function m(e,t,n){return Y(e)?((e=e.replace(/[^0-9]/g,"")).length>h&&(e=e.slice(0,h)),e=parseInt(e,10)):e=Math.round(e),isNaN(e)?null:we(e,t,n)},b=function v(e){return e.length?parseInt(p.value,10):null};t.ref.handleInput=function(){p.value=A(p.value,1,i),c(b(p.value))},t.ref.handleBlur=function(){p.value=A(p.value,o,i),d(b(p.value))},p.addEventListener("input",t.ref.handleInput),p.addEventListener("blur",t.ref.handleBlur),t.appendChild(p),t.appendChild(g),t.ref.input=p,n.hasFocus=function(){return p===document.activeElement},n.getValue=function(){return b(p.value)},n.setValue=function(e){return p.value=e?A(e,1,999999):null},n.setPlaceholder=function(e){return p.placeholder=e}},destroy:function destroy(e){var t=e.root;t.ref.input.removeEventListener("input",t.ref.handleInput),t.ref.input.removeEventListener("blur",t.ref.handleBlur)}}),bo=z({name:"checkable",tag:"span",mixins:{listeners:!0,apis:["id","checked","onChange","onSetValue","setValue","getValue"]},create:function create(e){var t=e.root,n=e.props,r=n.id,o=n.checked,i=n.onChange,a=void 0===i?function(){}:i,s=n.onSetValue,l=void 0===s?function(){}:s,c="doka--".concat(r,"-").concat(se()),u=y("input",{type:"checkbox",value:1,id:c});u.checked=o,t.ref.input=u;var d=y("label",{for:c});d.innerHTML=n.label,t.appendChild(u),t.appendChild(d),t.ref.handleChange=function(){l(u.checked),a(u.checked)},u.addEventListener("change",t.ref.handleChange),n.getValue=function(){return u.checked},n.setValue=function(e){u.checked=e,l(u.checked)},setTimeout(function(){l(u.checked)},0)},destroy:function destroy(e){var t=e.root;t.ref.input.removeEventListener("change",t.ref.handleChange)}}),wo=null,_o=z({ignoreRect:!0,name:"resize-form",tag:"form",mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:15,delay:150}}},create:function create(e){var t=e.root;t.element.setAttribute("novalidate","novalidate"),t.element.setAttribute("action","#"),t.ref.shouldBlurKeyboard=Ae()||function isAndroid(){return null===wo&&(wo=/Android/i.test(navigator.userAgent)),wo}();var n=t.query("GET_SIZE_MAX"),r=t.query("GET_SIZE_MIN"),o=function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.axisLock,o=void 0===i?"none":i,a=e.enforceLimits,s=void 0!==a&&a,l=t.ref,c=l.inputImageWidth,u=l.inputImageHeight,d=l.buttonConfirm,f=t.query("GET_SIZE_ASPECT_RATIO_LOCK"),p=t.query("GET_CROP_RECTANGLE_ASPECT_RATIO"),h={width:c.getValue(),height:u.getValue()},g=Ze(h,s?r:{width:1,height:1},s?n:{width:999999,height:999999},f?p:null,o);if(f)"width"===o?u.setValue(g.width/p):"height"===o?c.setValue(g.height*p):(c.setValue(g.width||g.height*p),u.setValue(g.height||g.width/p));else if(g.width&&!g.height){var m=Math.round(g.width/p),A=Ze({width:g.width,height:m},s?r:{width:1,height:1},s?n:{width:999999,height:999999},p,o);s&&c.setValue(Math.round(A.width)),u.setPlaceholder(Math.round(A.height))}else if(g.height&&!g.width){var v=Math.round(g.height*p);c.setPlaceholder(v)}var y=t.query("GET_SIZE_INPUT"),b=y.width,w=y.height,_=T(b)?Math.round(b):null,E=T(w)?Math.round(w):null,C=c.getValue(),S=u.getValue(),x=C!==_||S!==E;return d.opacity=x?1:0,t.dispatch("KICK"),{width:c.getValue(),height:u.getValue()}},a=t;t.appendChildView(t.createChildView(Eo("Image size",function(e){var t=e.root,i=t.query("GET_SIZE"),s=t.appendChildView(t.createChildView(yo,{id:"image-width",label:t.query("GET_LABEL_RESIZE_WIDTH"),value:T(i.width)?Math.round(i.width):null,min:r.width,max:n.width,placeholder:0,onChange:function onChange(){return o({axisLock:"width"})},onBlur:function onBlur(){return o({enforceLimits:!1})}})),l=t.appendChildView(t.createChildView(bo,{id:"aspect-ratio-lock",label:jn('<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" class="doka--aspect-ratio-lock-ring" d="M9.401 10.205v-.804a2.599 2.599 0 0 1 5.198 0V14"/><rect fill="currentColor" x="7" y="10" width="10" height="7" rx="1.5"/></g>'),checked:t.query("GET_SIZE_ASPECT_RATIO_LOCK"),onSetValue:function onSetValue(e){var t=e?0:-3;l.element.querySelector(".doka--aspect-ratio-lock-ring").setAttribute("transform","translate(0 ".concat(t,")"))},onChange:function onChange(e){t.dispatch("RESIZE_SET_OUTPUT_SIZE_ASPECT_RATIO_LOCK",{value:e}),o()}})),c=t.appendChildView(t.createChildView(yo,{id:"image-height",label:t.query("GET_LABEL_RESIZE_HEIGHT"),value:T(i.height)?Math.round(i.height):null,min:r.height,max:n.height,placeholder:0,onChange:function onChange(){return o({axisLock:"height"})},onBlur:function onBlur(){return o({enforceLimits:!1})}}));a.ref.aspectRatioLock=l,a.ref.inputImageWidth=s,a.ref.inputImageHeight=c}))),t.ref.buttonConfirm=t.appendChildView(t.createChildView(Qn,{name:"app action-confirm icon-only",label:t.query("GET_LABEL_RESIZE_APPLY_CHANGES"),action:function action(){},opacity:0,icon:jn('<polyline fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="20 6 9 17 4 12"></polyline>'),type:"submit"})),t.ref.confirmForm=function(e){var n=o({enforceLimits:!0});e.preventDefault();var r=t.ref,i=r.shouldBlurKeyboard,a=r.buttonConfirm;i&&(document.activeElement.blur(),a.element.focus()),a.opacity=0,t.dispatch("RESIZE_SET_OUTPUT_SIZE",n)},t.element.addEventListener("submit",t.ref.confirmForm)},destroy:function destroy(e){var t=e.root;t.element.removeEventListener("submit",t.ref.confirmForm)},write:$({EDIT_RESET:function EDIT_RESET(e){var t=e.root,n=t.query("GET_SIZE"),r=t.ref,o=r.inputImageWidth,i=r.inputImageHeight,a=r.aspectRatioLock,s=r.buttonConfirm;o.setValue(n.width),i.setValue(n.height),a.setValue(t.query("GET_SIZE_ASPECT_RATIO_LOCK")),s.opacity=0},RESIZE_SET_OUTPUT_SIZE:function RESIZE_SET_OUTPUT_SIZE(e){var t=e.root,n=e.action,r=t.ref,o=r.inputImageWidth,i=r.inputImageHeight;o.setValue(n.width),i.setValue(n.height)},CROP_SET_ASPECT_RATIO:function CROP_SET_ASPECT_RATIO(e){var t=e.root,n=e.props,r=e.action,o=e.timestamp,i=t.query("GET_CROP",n.id,o);if(i){var a=i.cropStatus,s=t.ref,l=s.inputImageWidth,c=s.inputImageHeight;null!==r.value?(l.setValue(a.image.width),l.setPlaceholder(a.crop.width),c.setValue(a.image.height),c.setPlaceholder(a.crop.height)):l.getValue()&&c.getValue()&&(c.setValue(null),c.setPlaceholder(a.crop.height))}}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.query("GET_CROP",n.id,r);if(o){t.opacity;var i=o.cropStatus,a=t.ref,s=a.inputImageWidth,l=a.inputImageHeight;if(!s.hasFocus()&&!l.hasFocus()){var c=t.query("GET_CROP_RECTANGLE_ASPECT_RATIO");if(null===s.getValue()&&null===l.getValue())s.setPlaceholder(i.crop.width),l.setPlaceholder(i.crop.height);else if(null===s.getValue()&&null!==i.image.height){var u=Math.round(i.image.height*c);s.setPlaceholder(u)}else if(null===l.getValue()&&null!==i.image.width){var d=Math.round(i.image.width/c);l.setPlaceholder(d)}}}})}),Eo=function createFieldGroup(e,t){return z({tag:"fieldset",create:function create(n){var r=n.root,o=y("legend");o.textContent=e,r.element.appendChild(o),t({root:r})}})},Co=z({name:"resize",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function create(e){var t=e.root,n=e.props;n.viewId="resize",n.hidden=!1,t.ref.isHiding=!1,t.ref.form=t.appendChildView(t.createChildView(_o,{opacity:0,id:n.id}))},read:function read(e){var t=e.root,n=e.props;if(!n.hidden){var r=t.rect;if(0!==r.element.width&&0!==r.element.height){var o=t.ref.form.rect;n.stagePosition={x:r.element.left,y:r.element.top+o.element.height,width:r.element.width,height:r.element.height-o.element.height}}}},shouldUpdateChildViews:function shouldUpdateChildViews(e){var t=e.props,n=e.actions;return!t.hidden||t.hidden&&n&&n.length},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action,r=e.props;n.id===r.viewId?(t.ref.isHiding=!1,t.ref.form.opacity=1):(t.ref.isHiding=!0,t.ref.form.opacity=0)}},function(e){var t=e.root,n=e.props,r=t.ref,o=r.form,i=r.isHiding,a=n.hidden;i&&0===o.opacity&&!a?n.hidden=!0:n.hidden=!1})}),So=z({name:"range-input",tag:"span",mixins:{listeners:!0,apis:["onUpdate","setValue","getValue","setAllowInteraction"]},create:function create(e){var t=e.root,n=e.props,r=n.id,o=n.min,i=n.max,a=n.step,s=n.value,l=n.onUpdate,c=void 0===l?function(){}:l,u="doka--".concat(r,"-").concat(se()),d=y("input",{type:"range",id:u,min:o,max:i,step:a});d.value=s,t.ref.input=d;var f=y("span");f.className="doka--range-input-inner";var p=y("label",{for:u});p.innerHTML=n.label;var h=o+.5*(i-o);t.element.dataset.centered=s===h,t.ref.handleRecenter=function(){n.setValue(h),t.ref.handleChange()};var g=y("button",{type:"button"});g.textContent="center",g.addEventListener("click",t.ref.handleRecenter),t.ref.recenter=g,f.appendChild(d),f.appendChild(g),t.appendChild(p),t.appendChild(f),t.ref.handleChange=function(){var e=n.getValue();t.element.dataset.centered=e===h,c(e)},d.addEventListener("input",t.ref.handleChange);var m=null;t.ref.dragger=nr(f,function(){m=d.getBoundingClientRect()},function(e){var n=(e.pageX-m.left)/m.width;d.value=o+n*(i-o),t.ref.handleChange()},function(){},{stopPropagation:!0}),n.getValue=function(){return parseFloat(d.value)},n.setValue=function(e){return d.value=e},n.setAllowInteraction=function(e){e?t.ref.dragger.enable():t.ref.dragger.disable()}},destroy:function destroy(e){var t=e.root;t.ref.dragger.destroy(),t.ref.recenter.removeEventListener("click",t.ref.handleRecenter),t.ref.input.removeEventListener("input",t.ref.handleChange)}}),To={brightness:{icon:jn('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="7"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></g>')},contrast:{icon:jn('<g fill="none" fill-rule="evenodd"><circle stroke="currentColor" stroke-width="3" cx="12" cy="12" r="10"/><path d="M12 2v20C6.477 22 2 17.523 2 12S6.477 2 12 2z" fill="currentColor"/></g>')},exposure:{icon:jn('<g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="3" x="2" y="2" width="20" height="20" rx="4"/><path d="M20.828 3.172L3.172 20.828A3.987 3.987 0 0 1 2 18V6a4 4 0 0 1 4-4h12c1.105 0 2.105.448 2.828 1.172zM7 7H5v2h2v2h2V9h2V7H9V5H7v2zM12 15h5v2h-5z" fill="currentColor"/></g>')},saturation:{icon:jn('<g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="3" x="2" y="2" width="20" height="20" rx="4"/><path fill="currentColor" opacity=".3" d="M7 2.5h5v18.75H7z"/><path fill="currentColor" opacity=".6" d="M12 2.5h5v18.75h-5z"/><path fill="currentColor" opacity=".9" d="M17 2.5h4v18.75h-4z"/></g>')}},xo=z({ignoreRect:!0,name:"color-form",tag:"form",mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:15}}},create:function create(e){var t=e.root;t.element.setAttribute("novalidate","novalidate");var n=t.query("GET_COLOR_VALUES");t.ref.tools=Object.keys(To).reduce(function(e,r){var o=r,i=To[r].icon,a=t.query("GET_LABEL_COLOR_".concat(r.toUpperCase())),s=t.query("GET_COLOR_".concat(r.toUpperCase(),"_RANGE")),l=n[r];return e[o]={view:t.appendChildView(t.createChildView(So,{id:o,label:"".concat(i,"<span>").concat(a,"</span>"),min:s[0],max:s[1],step:.01,value:l,onUpdate:function onUpdate(e){return t.dispatch("COLOR_SET_COLOR_VALUE",{key:o,value:e})}}))},e},{})},write:$({COLOR_SET_VALUE:function COLOR_SET_VALUE(e){var t=e.root,n=e.action;t.ref.tools[n.key].view.setValue(n.value)},SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action;Object.keys(t.ref.tools).forEach(function(e){t.ref.tools[e].view.setAllowInteraction("color"===n.id)})}})}),Oo=null,ko=null,Bo=function updateColors(e,t){var n=t.brightness,r=t.exposure,o=t.contrast,i=t.saturation;if(0!==n){var a=n<0,s=a?"multiply":"overlay",l=a?0:255,c=a?Math.abs(n):1-n;e.ref.imageOverlay.style.cssText="mix-blend-mode: ".concat(s,"; background: rgba(").concat(l,",").concat(l,",").concat(l,",").concat(c,")")}return e.ref.imageOverlay.style.cssText="background:transparent",e.ref.image.style.cssText="filter: brightness(".concat(r,") contrast(").concat(o,") saturate(").concat(i,")"),t},Po=Object.keys(To),Io=function createFilterTile(e){return z({ignoreRect:!0,tag:"li",name:"filter-tile",mixins:{styles:["opacity","translateY"],animations:{translateY:{type:"spring",delay:10*e},opacity:{type:"spring",delay:30*e}}},create:function create(e){var t=e.root,n=e.props,r="doka--filter-".concat(n.style,"-").concat(se()),o=y("input",{id:r,type:"radio",name:"filter"});t.appendChild(o),o.checked=n.selected,o.value=n.style,o.addEventListener("change",function(){o.checked&&n.onSelect()});var i=y("label",{for:r});i.textContent=n.label,t.appendChild(i);var a=n.imageData,s=Math.min(a.width,a.height),l=s,c=y("canvas");c.width=s,c.height=l;var u=c.getContext("2d");t.ref.image=c;var d=y("div");t.ref.imageOverlay=d;var f={x:.5*s-.5*a.width,y:.5*l-.5*a.height},p=y("div");p.appendChild(c),p.appendChild(d),t.appendChild(p),t.ref.imageWrapper=p,n.matrix?(Oo||(Oo=$t(Ht)),clearTimeout(ko),Oo.post({transforms:[{type:"filter",data:n.matrix}],imageData:a},function(e){u.putImageData(e,f.x,f.y),clearTimeout(ko),ko=setTimeout(function(){Oo.terminate(),Oo=null},1e3)},[a.data.buffer]),t.ref.activeColors=Bo(t,t.query("GET_COLOR_VALUES"))):u.putImageData(a,f.x,f.y)},write:function write(e){var t=e.root;if(!(t.opacity<=0)){var n=t.query("GET_COLOR_VALUES"),r=t.ref.activeColors;(!r&&n||!function colorEquals(e,t){return Po.findIndex(function(n){return e[n]!==t[n]})<0}(r,n))&&(t.ref.activeColors=n,Bo(t,n))}}})},Ro=function arrayEqual(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return e===t[n]})},Lo=z({ignoreRect:!0,tag:"ul",name:"filter-list",mixins:{apis:["filterOpacity","hidden"]},create:function create(e){var t=e.root,n=e.props;t.element.setAttribute("role","list"),t.ref.tiles=[];var r=t.query("GET_THUMB_IMAGE_DATA"),o=t.query("GET_FILTERS"),i=[];p(o,function(e,t){i.push(_objectSpread({id:e},t))}),t.ref.activeFilter=t.query("GET_FILTER"),t.ref.tiles=i.map(function(e,o){var i=e.matrix(),a=t.ref.activeFilter===e.id||Ro(t.ref.activeFilter,i)||0===o;return t.appendChildView(t.createChildView(Io(o),{opacity:0,translateY:-5,id:n.id,style:e.id,label:e.label,matrix:i,imageData:function cloneImageData(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t}(r),selected:a,onSelect:function onSelect(){return t.dispatch("FILTER_SET_FILTER",{value:i?e.id:null})}}))})},write:function write(e){var t=e.root,n=e.props;if(!n.hidden){var r=t.query("GET_FILTER");if(r!==t.ref.activeFilter){t.ref.activeFilter=r;var o=t.query("GET_FILTERS"),i=r?Y(r)?r:vn(r)?Object.keys(o).find(function(e){return Ro(o[e].matrix(),r)}):null:"original";Array.from(t.element.querySelectorAll("input")).forEach(function(e){return e.checked=e.value===i})}t.query("IS_ACTIVE_VIEW","filter")?t.ref.tiles.forEach(function(e){e.opacity=1,e.translateY=0}):t.ref.tiles.forEach(function(e){e.opacity=0,e.translateY=-5}),n.filterOpacity=t.ref.tiles.reduce(function(e,t){return e+t.opacity},0)/t.ref.tiles.length}}}),Mo=z({name:"filter-scroller",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"spring"}},apis:["hidden","filterOpacity"]},create:function create(e){var t,n=e.root,r=e.props;n.ref.filters=n.appendChildView(n.createChildView(Lo,{id:r.id})),n.element.isScrollContainer=!0,ro()&&(n.ref.handleMouseWheel=function(e){var t=n.element.scrollLeft,r=n.ref.scrollWidth-n.rect.element.width,o=t+e.deltaX;(o<0||o>r)&&(n.element.scrollLeft=Math.min(Math.max(o,0),r),e.preventDefault())},n.element.addEventListener("mousewheel",n.ref.handleMouseWheel),n.element.dataset.dragState="end",n.ref.dragger=nr(n.ref.filters.element,function(){n.element.dataset.dragState="start",t=n.element.scrollLeft},function(e,r){n.element.scrollLeft=t-r.x,Se({x:0,y:0},r)>0&&(n.element.dataset.dragState="dragging")},function(){n.element.dataset.dragState="end"},{stopPropagation:!0}))},destroy:function destroy(e){var t=e.root;t.ref.handleMouseWheel&&t.element.removeEventListener("mousewheel",t.ref.handleMouseWheel),t.ref.dragger&&t.ref.dragger.destroy()},read:function read(e){var t=e.root;t.ref.scrollWidth=t.element.scrollWidth},write:function write(e){var t=e.root,n=e.props;t.ref.filters.hidden=n.hidden,n.filterOpacity=t.ref.filters.filterOpacity}}),Do=z({name:"filter",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function create(e){var t=e.root,n=e.props;n.viewId="filter",n.hidden=!1,t.ref.isHiding=!1,t.ref.filters=t.appendChildView(t.createChildView(Mo,{id:n.id}))},read:function read(e){var t=e.root,n=e.props;if(t.ref.filters&&!n.hidden){var r=t.rect;if(0!==r.element.width&&0!==r.element.height){var o=t.ref.filters.rect,i=0===o.element.top,a=i?r.element.top+o.element.height+o.element.marginBottom:r.element.top,s=i?r.element.height-o.element.height-o.element.marginBottom:r.element.height-o.element.height-r.element.top;n.stagePosition={x:r.element.left,y:a,width:r.element.width,height:s}}}},shouldUpdateChildViews:function shouldUpdateChildViews(e){var t=e.props,n=e.actions;return!t.hidden||t.hidden&&n&&n.length},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action,r=e.props;t.ref.filters&&(n.id===r.viewId?(t.ref.isHiding=!1,r.hidden=!1,t.ref.filters.hidden=!1):t.ref.isHiding=!0)}},function(e){var t=e.root,n=e.props;t.ref.filters.opacity=t.ref.isHiding||t.ref.filters.hidden?0:1,t.ref.isHiding&&t.ref.filters.filterOpacity<=0&&(t.ref.isHiding=!1,n.hidden=!0,t.ref.filters.hidden=!0)})}),No=z({name:"color",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function create(e){var t=e.root,n=e.props;n.viewId="color",n.hidden=!1,t.ref.isHiding=!1,t.ref.form=t.appendChildView(t.createChildView(xo,{opacity:0,id:n.id}))},read:function read(e){var t=e.root,n=e.props;if(!n.hidden){var r=t.rect;if(0!==r.element.width&&0!==r.element.height){var o=t.ref.form.rect,i=o.element.height,a=0===o.element.top,s=a?r.element.top+i:r.element.top,l=a?r.element.height-i:r.element.height-i-r.element.top;n.stagePosition={x:r.element.left,y:s,width:r.element.width,height:l}}}},shouldUpdateChildViews:function shouldUpdateChildViews(e){var t=e.props,n=e.actions;return!t.hidden||t.hidden&&n&&n.length},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action,r=e.props;n.id===r.viewId?(t.ref.isHiding=!1,t.ref.form.opacity=1,r.hidden=!1):(t.ref.isHiding=!0,t.ref.form.opacity=0)}},function(e){var t=e.root,n=e.props;t.ref.isHiding&&0===t.ref.form.opacity&&(t.ref.isHiding=!1,n.hidden=!0)})}),Fo=z({ignoreRect:!0,tag:"div",name:"markup-color",mixins:{animations:{opacity:"spring"},styles:["opacity"],apis:["onSelect","selectedValue"]},create:function create(e){var t=e.root,n=e.props,r=n.colors,o=n.name,i=n.onSelect;t.ref.handleChange=function(e){i(e.target.value),e.stopPropagation()},t.element.addEventListener("change",t.ref.handleChange);var a=y("ul");if(t.ref.inputs=r.map(function(e){var t="doka--color-"+se(),n=y("li"),r=y("input",{id:t,name:o,type:"radio",value:e[1]}),i=y("label",{for:t,title:e[0],style:"background-color: "+(e[2]||e[1])});return i.textContent=e[0],w(n)(r),w(n)(i),w(a)(n),r}),t.element.appendChild(a),t.query("GET_MARKUP_ALLOW_CUSTOM_COLOR")&&function supportsColorPicker(){try{var e=y("input",{type:"color"}),t="color"===e.type;return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?t:t&&"number"!=typeof e.selectionStart}catch(e){return!1}}()){var s=y("div",{class:"doka--color-input"}),l="doka--color-"+se(),c=y("label",{for:l});c.textContent="Choose color";var u=y("input",{id:l,name:o,type:"color"}),d=y("span",{class:"doka--color-visualizer"}),f=y("span",{class:"doka--color-brightness"});t.ref.handleCustomColorChange=function(){var e=et(u.value),t=function toHSL(e,t,n){var r,o=Math.max(e,t,n),i=Math.min(e,t,n),a=o-i,s=0===o?0:a/o,l=o/255;switch(o){case i:r=0;break;case e:r=t-n+a*(t<n?6:0),r/=6*a;break;case t:r=n-e+2*a,r/=6*a;break;case n:r=e-t+4*a,r/=6*a}return[r,s,l]}.apply(void 0,_toConsumableArray(e)),n=360*t[0]-90,r=.625*t[1],o=1-t[2];d.style.backgroundColor=u.value,d.style.transform="rotateZ(".concat(n,"deg) translateX(").concat(r,"em)"),f.style.opacity=o,i(u.value)};var p=!0;t.ref.handleCustomColorSelect=function(e){p?i(e.target.value):t.ref.handleCustomColorChange(),p=!1},u.addEventListener("click",t.ref.handleCustomColorSelect),u.addEventListener("input",t.ref.handleCustomColorChange),w(s)(u),w(s)(c),w(s)(d),w(s)(f),t.appendChild(s),t.ref.customInput=u}},write:function write(e){var t=e.root,n=e.props;if(n.selectedValue!==t.ref.activeSelectedValue){t.ref.activeSelectedValue=n.selectedValue;var r=!1;if(t.ref.inputs.forEach(function(e){e.checked=e.value===n.selectedValue,e.checked&&(r=!0)}),!t.ref.customInput)return;t.ref.customInput.dataset.selected=t.ref.inputs.length&&!r,r||(t.ref.customInput.value=n.selectedValue,t.ref.handleCustomColorChange())}},destroy:function destroy(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange),t.ref.customInput&&(t.ref.customInput.removeEventListener("click",t.ref.handleCustomColorSelect),t.ref.customInput.removeEventListener("input",t.ref.handleCustomColorChange))}}),Uo=function showDrawTool(e){var t=e.ref,n=t.colorSelect,r=t.fontFamilySelect,o=t.fontSizeSelect,i=t.shapeStyleSelect,a=t.lineStyleSelect;[r,o,i,t.lineDecorationSelect].forEach(function(e){e.element.dataset.active="false"}),[n,a].forEach(function(e){e.element.dataset.active="true"})},Ho=["fontFamily","fontSize","fontWeight","textAlign","backgroundColor","fontColor","borderColor","borderWidth","borderStyle","lineColor","lineWidth","lineDecoration","lineJoin","lineCap"],jo=function createSVG(e){return'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">'.concat(e,"</svg>")},Qo=z({name:"markup-tools",ignoreRect:!0,mixins:{apis:["onUpdate"],animations:{translateY:"spring",opacity:"spring"},styles:["translateY","opacity"]},create:function create(e){var t=e.root,n=e.props.onUpdate;t.ref.colorSelect=t.appendChildView(t.createChildView(Fo,{onSelect:function onSelect(e){t.ref.colorSelect.selectedValue=e,n("color",e)},name:"color-select",colors:t.query("GET_MARKUP_COLOR_OPTIONS")})),t.ref.shapeStyleSelect=t.appendChildView(t.createChildView(Ur,{onSelect:function onSelect(e){t.ref.shapeStyleSelect.selectedValue=e,n("shapeStyle",[e[1],e[2]])},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_SHAPE_STYLE"),direction:"up",options:t.query("GET_MARKUP_SHAPE_STYLE_OPTIONS").map(function(e){return{value:e,label:e[0],icon:function createShapeStyleIcon(e){var t=0===e?"currentColor":"none",n=e;return jo('<rect stroke="'.concat(0===e?"none":"currentColor",'" fill="').concat(t,'" stroke-width="').concat(n,'" x="2" y="3" width="17" height="17" rx="3"/>'))}(e[3])}})})),t.ref.lineStyleSelect=t.appendChildView(t.createChildView(Ur,{onSelect:function onSelect(e){t.ref.lineStyleSelect.selectedValue=e,n("lineStyle",[e[1],e[2]])},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_LINE_STYLE"),direction:"up",options:t.query("GET_MARKUP_LINE_STYLE_OPTIONS").map(function(e){return{value:e,label:e[0],icon:function createLineStyleIcon(e){return jo('<line stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="'.concat(e,'" x1="3" y1="12" x2="20" y2="12"/>'))}(e[3])}})})),t.ref.lineDecorationSelect=t.appendChildView(t.createChildView(Ur,{onSelect:function onSelect(e){t.ref.lineDecorationSelect.selectedValue=e,n("lineDecoration",e)},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_LINE_DECORATION"),direction:"up",options:t.query("GET_MARKUP_LINE_DECORATION_OPTIONS").map(function(e){return{value:e[1],label:e[0]}})})),t.ref.fontFamilySelect=t.appendChildView(t.createChildView(Ur,{onSelect:function onSelect(e){t.ref.fontFamilySelect.selectedValue=e,n("fontFamily",e)},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_FONT_FAMILY"),direction:"up",options:t.query("GET_MARKUP_FONT_FAMILY_OPTIONS").map(function(e){return{value:e[1],label:'<span style="font-family:'.concat(e[1],';font-weight:600;">').concat(e[0],"</span>")}})})),t.ref.fontSizeSelect=t.appendChildView(t.createChildView(Ur,{onSelect:function onSelect(e){t.ref.fontSizeSelect.selectedValue=e,n("fontSize",e)},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_FONT_SIZE"),direction:"up",options:t.query("GET_MARKUP_FONT_SIZE_OPTIONS").map(function(e){return{value:e[1],label:e[0]}})})),"draw"===t.query("GET_MARKUP_UTIL")&&Uo(t)},write:$({SWITCH_MARKUP_UTIL:function SWITCH_MARKUP_UTIL(e){var t=e.root;"draw"===e.action.util&&Uo(t)},MARKUP_SELECT:function MARKUP_SELECT(e){var t=e.root,n=e.action,r=t.ref,o=r.colorSelect,i=r.fontFamilySelect,a=r.fontSizeSelect,s=r.shapeStyleSelect,l=r.lineStyleSelect,c=r.lineDecorationSelect,u=n.id?t.query("GET_MARKUP_BY_ID",n.id):null,d=[o,i,a,s,l,c],f=[];if(u){var p=_slicedToArray(u,2),h=p[0],g=p[1],m=Array.isArray(g.allowEdit)?g.allowEdit:!1===g.allowEdit?[]:Ho,A=Ho.reduce(function(e,t){return e[t]=-1!==m.indexOf(t),e},{});if(A.color=!!m.find(function(e){return/[a-z]Color/.test(e)}),"image"!==h&&A.color&&(o.selectedValue=zo(g),f.push(o)),"text"===h&&(A.fontFamily&&(i.selectedValue=g.fontFamily,f.push(i)),A.fontSize&&(a.selectedValue=g.fontSize,f.push(a))),("rect"===h||"ellipse"===h)&&A.borderStyle){var v=t.query("GET_MARKUP_SHAPE_STYLE_OPTIONS").find(function(e){var t=g.borderWidth===e[1],n=g.borderStyle===e[2]||Ro(g.borderStyle,e[2]);return t&&n});s.selectedValue=v,f.push(s)}if("line"===h||"path"===h){if(A.lineWidth){var y=t.query("GET_MARKUP_LINE_STYLE_OPTIONS").find(function(e){var t=g.lineWidth===e[1],n=g.lineStyle===e[2]||Ro(g.lineStyle,e[2]);return t&&n});l.selectedValue=y,f.push(l)}"line"===h&&A.lineDecoration&&(c.selectedValue=g.lineDecoration,f.push(c))}d.forEach(function(e){e.element.dataset.active="false"}),f.forEach(function(e){e.element.dataset.active="true"})}},MARKUP_UPDATE:function MARKUP_UPDATE(e){var t=e.root,n=e.action,r=n.style,o=n.value;t.ref[r+"Select"]&&(t.ref[r+"Select"].selectedValue=o)}})}),zo=function getColor$2(e){var t=e.fontColor,n=e.backgroundColor,r=e.lineColor,o=e.borderColor;return t||n||r||o},$o={crop:vo,resize:Co,filter:Do,color:No,markup:z({name:"markup",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function create(e){var t=e.root,n=e.props;n.viewId="markup",n.hidden=!1,t.ref.isHiding=!1;var r=[["select",{label:t.query("GET_LABEL_MARKUP_TOOL_SELECT"),icon:jn('<g fill="none" fill-rule="evenodd"><path d="M7 13H5a1 1 0 01-1-1V5a1 1 0 011-1h7a1 1 0 011 1v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10.22 8.914l12.58 5.18a1 1 0 01.012 1.844l-4.444 1.904a1 1 0 00-.526.526l-1.904 4.444a1 1 0 01-1.844-.013l-5.18-12.58a1 1 0 011.305-1.305z" fill="currentColor"/></g>',26)}],["draw",{label:t.query("GET_LABEL_MARKUP_TOOL_DRAW"),icon:jn('<g fill="currentColor"><path d="M17.86 5.71a2.425 2.425 0 013.43 3.43L9.715 20.714 5 22l1.286-4.715L17.86 5.71z"/></g>',26)}],["line",{label:t.query("GET_LABEL_MARKUP_TOOL_LINE"),icon:jn('<g transform="translate(3 4.5)" fill-rule="nonzero" fill="currentColor" stroke="none"><path d="M15.414 9.414l-6.01 6.01a2 2 0 1 1-2.829-2.828L9.172 10H2a2 2 0 1 1 0-4h7.172L6.575 3.404A2 2 0 1 1 9.404.575l6.01 6.01c.362.363.586.863.586 1.415s-.224 1.052-.586 1.414z"/></g>',26)}],["text",{label:t.query("GET_LABEL_MARKUP_TOOL_TEXT"),icon:jn('<g transform="translate(5 5)" fill="currentColor" fill-rule="evenodd"><path d="M10 4v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5z"/></g>',26)}],["rect",{label:t.query("GET_LABEL_MARKUP_TOOL_RECT"),icon:jn('<g fill="currentColor"><rect x="5" y="5" width="16" height="16" rx="2"/></g>',26)}],["ellipse",{label:t.query("GET_LABEL_MARKUP_TOOL_ELLIPSE"),icon:jn('<g fill="currentColor"><circle cx="13" cy="13" r="9"/></g>',26)}]];t.ref.utils=y("fieldset"),t.ref.utils.className="doka--markup-utils",t.ref.utilsList=y("ul");var o="markup-utils-".concat(se());t.ref.inputs=r.map(function(e){var n=e[0],r=e[1],i="doka--markup-tool-"+se(),a=y("li"),s=y("input");s.id=i,s.checked=t.query("GET_MARKUP_UTIL")===n,s.setAttribute("type","radio"),s.setAttribute("name",o),s.value=n;var l=y("label");return l.setAttribute("for",i),l.className="doka--button-tool",l.innerHTML=r.icon+"<span>"+r.label+"</span>",l.title=r.label,a.appendChild(s),a.appendChild(l),t.ref.utilsList.appendChild(a),s}),t.ref.utils.appendChild(t.ref.utilsList),t.ref.utilsList.addEventListener("change",function(e){t.dispatch("SET_MARKUP_UTIL",{value:e.target.value})}),t.query("GET_MARKUP_ALLOW_ADD_MARKUP")&&(t.ref.menu=t.appendChildView(t.createChildView(Nr("toolbar",["opacity"],{opacity:{type:"spring",mass:15,delay:50}}),{opacity:0,element:t.ref.utils})));var i=t.ref.tools=t.appendChildView(t.createChildView(Qo,{opacity:0,onUpdate:function onUpdate(e,n){t.dispatch("MARKUP_UPDATE",{style:e,value:n})}}));t.ref.menuItemsRequiredWidth=null,"draw"===t.query("GET_MARKUP_UTIL")&&(i.opacity=1,i.translateY=0,i.element.dataset.active="true")},read:function read(e){var t=e.root,n=e.props;if(n.hidden)t.ref.menuItemsRequiredWidth=null;else{var r=t.rect;if(0!==r.element.width&&0!==r.element.height){if(t.ref.menu&&null===t.ref.menuItemsRequiredWidth){var o=t.ref.menu.rect.element.width;t.ref.menuItemsRequiredWidth=0===o?null:o}var i=t.ref.menu&&t.ref.menu.rect,a=t.ref.tools.rect.element.height,s=i?i.element.height:a,l=!i||0===i.element.top,c=l?r.element.top+s:r.element.top,u=l?r.element.height-s:r.element.height-s-r.element.top;n.stagePosition={x:r.element.left+20,y:c,width:r.element.width-40,height:u-a}}}},shouldUpdateChildViews:function shouldUpdateChildViews(e){var t=e.props,n=e.actions;return!t.hidden||t.hidden&&n&&n.length},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action,r=e.props;n.id===r.viewId?(r.hidden=!1,t.ref.isHiding=!1,t.ref.menu&&(t.ref.menu.opacity=1)):(t.ref.isHiding=!0,t.ref.menu&&(t.ref.menu.opacity=0),t.ref.tools.opacity=0,t.ref.tools.translateY=5)},MARKUP_SELECT:function MARKUP_SELECT(e){var t=e.root,n=e.action;t.ref.tools.opacity=n.id?1:0,t.ref.tools.translateY=n.id?0:5,t.ref.tools.element.dataset.active=n.id?"true":"false"},DID_SET_MARKUP_UTIL:function DID_SET_MARKUP_UTIL(e){var t=e.root,n=e.action,r=t.ref,o=r.inputs,i=r.tools;o.forEach(function(e){e.checked=e.value===n.value}),"draw"===n.value&&(i.opacity=1,i.translateY=0,i.element.dataset.active="true")}},function(e){var t=e.root,n=e.props;t.ref.isHiding&&t.ref.menu&&0===t.ref.menu.opacity&&(t.ref.isHiding=!1,n.hidden=!0),n.hidden||(t.ref.menu.element.dataset.layout=t.ref.menuItemsRequiredWidth>t.rect.element.width?"compact":"spacious")})})},Vo=z({name:"view-stack",ignoreRect:!0,mixins:{apis:["offsetTop"]},create:function create(e){var t=e.root;t.ref.activeView=null,t.ref.activeStagePosition=null,t.ref.shouldFocus=!1},write:$({SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.props,r=e.action,o=0===t.childViews.length,i=t.childViews.find(function(e){return e.viewId===r.id});i||(i=t.appendChildView(t.createChildView($o[r.id],_objectSpread({},n)))),t.ref.activeView=i,t.childViews.map(function(e){return e.element}).forEach(function(e){e.dataset.viewActive="false",e.removeAttribute("tabindex")});var a=t.ref.activeView.element;a.dataset.viewActive="true",a.setAttribute("tabindex",-1),t.ref.shouldFocus=!o},DID_PRESENT_IMAGE:function DID_PRESENT_IMAGE(e){var t=e.root;t.dispatch("CHANGE_VIEW",{id:t.query("GET_UTIL")||t.query("GET_UTILS")[0]})},DID_SET_UTILS:function DID_SET_UTILS(e){var t=e.root;t.dispatch("CHANGE_VIEW",{id:t.query("GET_UTIL")||t.query("GET_UTILS")[0]})}},function(e){var t=e.root,n=e.props,r=t.ref,o=r.activeView,i=r.previousStagePosition;if(o&&o.stagePosition&&(t.childViews.forEach(function(e){e.offsetTop=n.offsetTop,e.element.viewHidden!==e.hidden&&(e.element.viewHidden=e.hidden,e.element.dataset.viewHidden=e.hidden)}),function hasStagePositionChanged(e,t){return!e||!t||!Be(e,t)}(o.stagePosition,i))){var a=o.stagePosition,s=a.x,l=a.y,c=a.width,u=a.height;if(0===c&&0===u)return;t.dispatch("DID_RESIZE_STAGE",{offset:{x:s,y:l},size:{width:c,height:u},animate:!0}),t.ref.previousStagePosition=o.stagePosition}}),didWriteView:function didWriteView(e){var t=e.root;t.ref.shouldFocus&&(t.ref.activeView.element.focus({preventScroll:!0}),t.ref.shouldFocus=!1)}}),Go=z({name:"content",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:250}}},create:function create(e){var t=e.root,n=e.props;t.opacity=1,t.ref.viewStack=t.appendChildView(t.createChildView(Vo,{id:n.id})),t.ref.image=null},write:$({DID_LOAD_IMAGE:function DID_LOAD_IMAGE(e){var t=e.root,n=e.props;t.ref.image=t.appendChildView(t.createChildView(Dr,{id:n.id}))}},function(e){var t=e.root,n=t.ref,r=n.image,o=n.viewStack;if(r){var i=t.rect.element.top;o.offsetTop=i,r.offsetTop=i}})}),Wo=z({name:"utils",create:function create(e){var t=e.root,n={crop:{title:t.query("GET_LABEL_BUTTON_UTIL_CROP"),icon:jn('<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="2"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1"/><path d="M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>')},filter:{title:t.query("GET_LABEL_BUTTON_UTIL_FILTER"),icon:jn('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.347 9.907a6.5 6.5 0 1 0-1.872 3.306M3.26 11.574a6.5 6.5 0 1 0 2.815-1.417"/><path d="M10.15 17.897A6.503 6.503 0 0 0 16.5 23a6.5 6.5 0 1 0-6.183-8.51"/></g>')},color:{title:t.query("GET_LABEL_BUTTON_UTIL_COLOR"),icon:jn('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 1v5.5m0 3.503V23M12 1v10.5m0 3.5v8M20 1v15.5m0 3.5v3M2 7h4M10 12h4M18 17h4"/></g>')},markup:{title:t.query("GET_LABEL_BUTTON_UTIL_MARKUP"),icon:jn('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.086 2.914a2.828 2.828 0 1 1 4 4l-14.5 14.5-5.5 1.5 1.5-5.5 14.5-14.5z"/></g>')},resize:{title:t.query("GET_LABEL_BUTTON_UTIL_RESIZE"),icon:jn('<g fill="none" fill-rule="evenodd" stroke-width="2" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="12" width="10" height="10" rx="2"/><path d="M4 11.5V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"/><path d="M14 10l3.365-3.365M14 6h4v4" class="doka--icon-resize-arrow-ne"/><path d="M14 10l3.365-3.365M14 6v4h4" class="doka--icon-resize-arrow-sw"/></g>')}};t.ref.utils=Object.keys(n).map(function(e){return _objectSpread({id:e},n[e])}),t.ref.utilMenuRequiredWidth=null},read:function read(e){var t=e.root;if(null===t.ref.utilMenuRequiredWidth){var n=t.childViews.reduce(function(e,t){return e+t.rect.outer.width},0);t.ref.utilMenuRequiredWidth=0===n?null:n}},write:$({DID_SET_UTILS:function DID_SET_UTILS(e){var t=e.root,n=_toConsumableArray(t.query("GET_UTILS"));t.childViews.forEach(function(e){return t.removeChildView(e)}),t.element.dataset.utilCount=n.length,1===n.length&&(n.length=0),n.forEach(function(e){var n=t.ref.utils.find(function(t){return t.id===e}),r=t.appendChildView(t.createChildView(Qn,{name:"tab",view:Qn,label:n.title,opacity:1,icon:n.icon,id:n.id,action:function action(){return t.dispatch("CHANGE_VIEW",{id:n.id})}}));t.ref["util_button_".concat(n.id)]=r})},SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action;t.childViews.forEach(function(e){e.element.dataset.active=e.id===n.id})}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.query("GET_CROP",n.id,r);if(o){var i=o.cropStatus;t.ref.util_button_resize&&function updateResizeButton(e,t){e.element.dataset.scaleDirection=null===t||t>1?"up":"down"}(t.ref.util_button_resize,i.image.width?i.image.width/i.crop.width:null),t.element.dataset.layout=t.ref.utilMenuRequiredWidth>t.rect.element.width?"compact":"spacious"}})}),Ko=j()&&function(){try{var e={antialias:!1,alpha:!1},t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl",e)||t.getContext("experimental-webgl",e))}catch(e){return!1}}(),qo=z({name:"container",create:function create(e){var t=e.root,n=[{view:Qn,opacity:0,label:t.query("GET_LABEL_BUTTON_RESET"),didCreateView:function didCreateView(e){return t.ref.btnReset=e},name:"app action-reset icon-only",icon:jn('<g fill="currentColor" fill-rule="nonzero"><path d="M6.036 13.418L4.49 11.872A.938.938 0 1 0 3.163 13.2l2.21 2.209a.938.938 0 0 0 1.326 0l2.209-2.21a.938.938 0 0 0-1.327-1.326l-1.545 1.546zM12 10.216a1 1 0 0 1 2 0V13a1 1 0 0 1-2 0v-2.784z"/><path d="M15.707 14.293a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 1.414-1.414l2 2z"/><path d="M8.084 19.312a1 1 0 0 1 1.23-1.577 6 6 0 1 0-2.185-3.488 1 1 0 0 1-1.956.412 8 8 0 1 1 2.912 4.653z"/></g>',26),action:function action(){return t.dispatch("EDIT_RESET")}}];t.query("GET_ALLOW_BUTTON_CANCEL")&&n.unshift({view:Qn,label:t.query("GET_LABEL_BUTTON_CANCEL"),name:"app action-cancel icon-fallback",opacity:1,icon:jn('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"/></g>'),didCreateView:function didCreateView(e){t.ref.btnCancel=e},action:function action(){t.dispatch("EDIT_CANCEL")}}),n.push({view:Wo}),t.query("GET_ALLOW_BUTTON_CONFIRM")&&n.push({view:Qn,label:t.query("GET_LABEL_BUTTON_CONFIRM"),name:"app action-confirm icon-fallback",opacity:1,icon:jn('<polyline fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="20 6 9 17 4 12"></polyline>'),didCreateView:function didCreateView(e){t.ref.btnConfirm=e},action:function action(){t.dispatch("EDIT_CONFIRM")}}),t.ref.menu=t.appendChildView(t.createChildView(Nr("menu"),{controls:n})),t.ref.menu.opacity=0,t.ref.status=t.appendChildView(t.createChildView(Yn)),t.ref.hasWebGL=function hasWebGL(){return Ko}(),t.ref.hasWebGL?t.dispatch("AWAIT_IMAGE"):t.dispatch("MISSING_WEBGL"),t.ref.handleFocusOut=function(e){if(e.relatedTarget&&tr(t.element,e.relatedTarget)){var n=t.ref.status;"busy"===n.element.dataset.viewStatus&&n.element.focus()}},t.ref.handleFocusIn=function(e){var n=t.ref,r=n.menu,o=n.content,i=e.target;if(!r.element.contains(i)&&o&&o.element.contains(i)){if(!Array.from(t.element.querySelectorAll("[data-view-active=false]")).reduce(function(e,t){return t.contains(i)&&(e=!0),e},!1))return;r.element.querySelector("button,input,[tabindex]").focus()}},t.element.addEventListener("focusin",t.ref.handleFocusIn),t.element.addEventListener("focusout",t.ref.handleFocusOut),t.ref.previousState=null},destroy:function destroy(e){var t=e.root;t.element.removeEventListener("focusin",t.ref.handleFocusIn),t.element.removeEventListener("focusout",t.ref.handleFocusOut)},write:$({UNLOAD_IMAGE:function UNLOAD_IMAGE(e){var t=e.root;t.ref.content&&(t.ref.content.opacity=0,t.ref.menu.opacity=0)},DID_UNLOAD_IMAGE:function DID_UNLOAD_IMAGE(e){var t=e.root;t.removeChildView(t.ref.content),t.ref.content=null},DID_LOAD_IMAGE:function DID_LOAD_IMAGE(e){var t=e.root,n=e.props;t.ref.hasWebGL&&(t.ref.content=t.appendChildView(t.createChildView(Go,{opacity:null,id:n.id})),t.ref.menu.opacity=1)},SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action;t.element.dataset.limitOverflow="resize"===n.id}},function(e){var t=e.root,n=e.props,r=e.timestamp,o=t.query("GET_CROP",n.id,r);if(o){var i=o.cropStatus,a=i.props,s={crop:{center:{x:_e(a.center.x,5),y:_e(a.center.y,5)},rotation:_e(a.rotation,5),zoom:_e(a.zoom,5),aspectRatio:_e(a.aspectRatio,5),flip:{horizontal:a.flip.horizontal,vertical:a.flip.vertical},scaleToFit:a.scaleToFit,width:i.currentWidth,height:i.currentHeight}};Yo(t.ref.previousState,s)&&(t.dispatch("DID_UPDATE",{state:_objectSpread({},s)}),t.ref.previousState=s);var l=t.ref,c=l.btnCancel,u=l.content,d=o.canReset;if(t.ref.btnReset.opacity=d?1:0,c&&t.query("GET_UTILS").length>1){var f=t.query("GET_ROOT_SIZE");c.opacity=d&&f.width<=600?0:1}u&&0===u.opacity&&t.dispatch("DID_UNLOAD_IMAGE")}})}),Yo=function hasStateChanged(e,t){if(!e)return!0;var n=e.crop,r=t.crop;return n.width!==r.width||n.height!==r.height||n.center.x!==r.center.x||n.center.y!==r.center.y||n.rotation!==r.rotation||n.scaleToFit!==r.scaleToFit||n.zoom!==r.zoom||n.aspectRatio!==r.aspectRatio||n.flip.horizontal!==r.flip.horizontal||n.flip.vertical!==r.flip.vertical},Xo=function prevent(e){"gesturestart"!==e.type&&co(e.target,function(e){return e.isScrollContainer})||e.preventDefault()},Jo=z({name:"editor",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:350}},apis:["markedForRemoval"]},create:function create(e){var t=e.root,n=e.props;n.markedForRemoval=!1,Ae()&&(t.element.addEventListener("touchmove",Xo,{passive:!1}),t.element.addEventListener("gesturestart",Xo)),t.ref.pointerPolyfill=function createPointerEvents(e){var t={destroy:function destroy(){}};if("onpointerdown"in window||e.pointersPolyfilled)return t;e.pointersPolyfilled=!0;var n=0,r=[],i=function i(e,t,n){var r=new UIEvent(t.type,{view:window,bubbles:!n});Object.keys(t).forEach(function(e){Object.defineProperty(r,e,{value:t[e],writable:!1})}),e.dispatchEvent(r)},p=function o(e,t,a){return Array.from(t.changedTouches).map(function(o){var s=r[o.identifier],l={type:e,pageX:o.pageX,pageY:o.pageY,pointerId:o.identifier,isPrimary:s?s.isPrimary:0===n,preventDefault:function preventDefault(){return t.preventDefault()}};return i(o.target,l,a),l})},h=function a(e){p("pointerdown",e).forEach(function(e){r[e.pointerId]=e,n++})},g=function c(e){p("pointermove",e)},m=function l(e){p("pointerup",e).forEach(function(e){delete r[e.pointerId],n--})},A=function u(e,t,n){var r={type:e,pageX:t.pageX,pageY:t.pageY,pointerId:0,isPrimary:!0,preventDefault:function preventDefault(){return t.preventDefault()}};return i(t.target,r,n),r},v=function s(e){A("pointerdown",e)},y=function d(e){A("pointermove",e)},b=function f(e){A("pointerup",e)};return"ontouchstart"in window?(e.addEventListener("touchstart",h),e.addEventListener("touchmove",g),e.addEventListener("touchend",m)):"onmousedown"in window&&(e.addEventListener("mousedown",v),e.addEventListener("mousemove",y),e.addEventListener("mouseup",b)),t.destroy=function(){r.length=0,e.pointersPolyfilled=!1,e.removeEventListener("touchstart",h),e.removeEventListener("touchmove",g),e.removeEventListener("touchend",m),e.removeEventListener("mousedown",v),e.removeEventListener("mousemove",y),e.removeEventListener("mouseup",b)},t}("root"===t.query("GET_POINTER_EVENTS_POLYFILL_SCOPE")?t.element:document.documentElement),t.appendChildView(t.createChildView(qo,_objectSpread({},n)))},destroy:function destroy(e){var t=e.root;t.ref.pointerPolyfill.destroy(),t.element.removeEventListener("touchmove",Xo,!0),t.element.removeEventListener("gesturestart",Xo)}}),Zo=function isFullscreen(e){return e.ref.isFullscreen},ei=function shouldBeFullscreen(e){return/fullscreen/.test(e.query("GET_STYLE_LAYOUT_MODE"))},ti=function isFloating(e){return/fullscreen|preview/.test(e.query("GET_STYLE_LAYOUT_MODE"))},ni=function isModal(e){return/modal/.test(e.query("GET_STYLE_LAYOUT_MODE"))},ri=function mayBeAutoClosed(e){return e.query("GET_ALLOW_AUTO_CLOSE")},oi=ti,ii=ti,ai=function updateStyleViewport(e){var t=e.ref,n=t.environment,r=t.isSingleUtil,o=t.canBeControlled;e.element.dataset.styleViewport=ui(e.rect.element.width,e.rect.element.height)+" "+n.join(" ")+(r?" single-util":" multi-util")+(o?" flow-controls":" no-flow-controls")},si=function setupFullscreenMode(e){var t=e.element,n=e.ref,r=n.handleFullscreenUpdate,o=n.handleEscapeKey;t.setAttribute("tabindex",-1),r(),e.ref.focusTrap=function createFocusTrap(e){var n=function t(n){if(9===n.keyCode){var r=Array.from(e.querySelectorAll("button,input,[tabindex]")).filter(function(e){return"hidden"!==e.style.visibility&&-1!==e.tabIndex}),o=r[0],i=r[r.length-1];n.shiftKey?document.activeElement===o&&(i.focus(),n.preventDefault()):document.activeElement===i&&(o.focus(),n.preventDefault())}};return e.addEventListener("keydown",n),{destroy:function destroy(){e.removeEventListener("keydown",n)}}}(t),t.addEventListener("keydown",o),window.addEventListener("resize",r),window.innerWidth-document.documentElement.clientWidth>0&&document.body.classList.add("doka--parent"),document.body.appendChild(t);var i=document.querySelector("meta[name=viewport]");e.ref.defaultViewportContent=i?i.getAttribute("content"):null,i||((i=document.createElement("meta")).setAttribute("name","viewport"),document.head.appendChild(i)),i.setAttribute("content","width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=0"),e.opacity=1,e.element.contains(document.activeElement)||t.focus(),e.dispatch("INVALIDATE_VIEWPORT"),e.ref.isFullscreen=!0},li=function cleanFullscreenMode(e){var t=e.element,n=e.ref,r=n.handleFullscreenUpdate,o=n.focusTrap,i=n.handleEscapeKey;t.removeAttribute("tabindex"),o.destroy(),t.removeEventListener("keydown",i),window.removeEventListener("resize",r),document.body.classList.remove("doka--parent");var a=document.querySelector("meta[name=viewport]");e.ref.defaultViewportContent?(a.setAttribute("content",e.ref.defaultViewportContent),e.ref.defaultViewportContent=null):a.parentNode.removeChild(a),e.ref.isFullscreen=!1},ci=z({name:"root",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:350}}},create:function create(e){var t=e.root,n=e.props;t.element.id=t.query("GET_ID")||"doka-".concat(n.id);var r=t.query("GET_CLASS_NAME");r&&t.element.classList.add(r),t.ref.environment=[],t.ref.shouldBeDestroyed=!1,t.ref.isClosing=!1,t.ref.isClosed=!1,t.ref.isFullscreen=!1,t.query("GET_ALLOW_DROP_FILES")&&(t.ref.catcher=function createFileCatcher(e){var t,r={browseEnabled:!1},i=function n(){t.files.length&&a.fire("drop",Array.from(t.files))},a=_objectSpread({},le(),{enableBrowse:function enableBrowse(){r.browseEnabled||((t=document.createElement("input")).style.display="none",t.setAttribute("type","file"),t.addEventListener("change",i),e.appendChild(t),e.addEventListener("click",s),r.browseEnabled=!0)},disableBrowse:function disableBrowse(){r.browseEnabled&&(t.removeEventListener("change",i),t.parentNode.removeChild(t),e.removeEventListener("click",s),r.browseEnabled=!1)},destroy:function destroy(){e.removeEventListener("dragover",l),e.removeEventListener("drop",u),e.removeEventListener("click",s),t&&t.removeEventListener("change",i)}}),s=function o(){return t.click()},l=function a(e){return e.preventDefault()},u=function c(e){e.preventDefault();var t=Array.from(e.dataTransfer.items||e.dataTransfer.files).map(function(e){return e.getAsFile&&"file"===e.kind?e.getAsFile():e});a.fire("drop",t)};return e.addEventListener("dragover",l),e.addEventListener("drop",u),a}(t.element),t.ref.catcher.on("drop",function(e){e.forEach(function(e){t.dispatch("REQUEST_LOAD_IMAGE",{source:e})})})),t.ref.touchDetector=function createTouchDetector(){function e(){t.fire("touch-detected"),window.removeEventListener("touchstart",e,!1)}var t=_objectSpread({},le(),{destroy:function destroy(){window.removeEventListener("touchstart",e,!1)}});return window.addEventListener("touchstart",e,!1),t}(),t.ref.touchDetector.onOnce("touch-detected",function(){t.ref.environment.push("touch")}),t.ref.editor=t.appendChildView(t.createChildView(Jo,{id:n.id})),t.query("GET_STYLES").filter(function(e){return!G(e.value)}).map(function(e){var n=e.name,r=e.value;t.element.dataset[n]=r}),t.ref.updateViewport=function(){t.dispatch("INVALIDATE_VIEWPORT")},window.addEventListener("resize",t.ref.updateViewport),window.addEventListener("scroll",t.ref.updateViewport),t.ref.isSingleUtil=1===t.query("GET_UTILS").length,t.ref.canBeControlled=t.query("GET_ALLOW_BUTTON_CONFIRM")||t.query("GET_ALLOW_BUTTON_CANCEL"),ai(t);var o=document.createElement("div");o.style.cssText="position:fixed;height:100vh;top:0;",t.ref.measure=o,document.body.appendChild(o),t.ref.handleEscapeKey=function(e){27===e.keyCode&&t.dispatch("EDIT_CANCEL")},t.ref.initialScreenMeasureHeight=null,t.ref.handleFullscreenUpdate=function(){t.element.dataset.styleFullscreen=window.innerHeight===t.ref.initialScreenMeasureHeight},t.ref.clientRect={left:0,top:0},ni(t)&&(t.ref.handleModalTap=function(e){e.target===t.element&&t.dispatch("EDIT_CANCEL")},t.element.addEventListener("pointerdown",t.ref.handleModalTap))},read:function read(e){var t=e.root,n=t.ref.measure;n&&(t.ref.initialScreenMeasureHeight=n.offsetHeight,n.parentNode.removeChild(n),t.ref.measure=null),t.ref.clientRect=t.element.getBoundingClientRect(),t.ref.clientRect.leftScroll=t.ref.clientRect.left+(window.scrollX||window.pageXOffset),t.ref.clientRect.topScroll=t.ref.clientRect.top+(window.scrollY||window.pageYOffset)},write:$({ENTER_FULLSCREEN:function ENTER_FULLSCREEN(e){var t=e.root;si(t)},EXIT_FULLSCREEN:function EXIT_FULLSCREEN(e){var t=e.root;li(t)},SHOW_VIEW:function SHOW_VIEW(e){var t=e.root,n=e.action;t.element.dataset.view=n.id},DID_SET_STYLE_LAYOUT_MODE:function DID_SET_STYLE_LAYOUT_MODE(e){var t=e.root,n=e.action;t.element.dataset.styleLayoutMode=n.value||"none",/fullscreen/.test(n.value)&&!/fullscreen/.test(n.prevValue)&&t.dispatch("ENTER_FULLSCREEN")},AWAITING_IMAGE:function AWAITING_IMAGE(e){var t=e.root;t.ref.catcher&&t.query("GET_ALLOW_BROWSE_FILES")&&t.ref.catcher.enableBrowse()},DID_REQUEST_LOAD_IMAGE:function DID_REQUEST_LOAD_IMAGE(e){var t=e.root;if(t.ref.catcher&&t.query("GET_ALLOW_BROWSE_FILES")&&t.ref.catcher.disableBrowse(),0===t.opacity&&(t.opacity=1),t.ref.isClosing=!1,t.ref.isClosed=!1,!ei(t)||Zo(t)){var n=t.query("GET_STYLE_LAYOUT_MODE");null!==n&&"modal"!==n||t.element.parentNode||t.dispatch("SET_STYLE_LAYOUT_MODE",{value:("fullscreen "+(n||"")).trim()})}else t.dispatch("ENTER_FULLSCREEN")},DID_CANCEL:function DID_CANCEL(e){var t=e.root;oi(t)&&ri(t)&&t.dispatch("EDIT_CLOSE")},DID_CONFIRM:function DID_CONFIRM(e){var t=e.root;oi(t)&&ri(t)&&t.dispatch("EDIT_CLOSE")},EDIT_CLOSE:function EDIT_CLOSE(e){var t=e.root;ii(t)&&(t.opacity=t.opacity||1,t.opacity=0,t.ref.isClosed=!1,t.ref.isClosing=!0,t.query("GET_ALLOW_AUTO_DESTROY")&&(t.ref.shouldBeDestroyed=!0),Zo(t)&&t.dispatch("EXIT_FULLSCREEN"))},DID_SET_UTILS:function DID_SET_UTILS(e){var t=e.root;t.ref.isSingleUtil=1===t.query("GET_UTILS").length}},function(e){var t=e.root;ai(t);var n=t.query("GET_ROOT"),r=t.rect.element;n.width===r.width&&n.height===r.height&&n.y===t.ref.clientRect.top&&n.topScroll===t.ref.clientRect.topScroll||t.dispatch("UPDATE_ROOT_RECT",{rect:{x:t.ref.clientRect.left,y:t.ref.clientRect.top,left:t.ref.editor.rect.element.left,top:t.ref.editor.rect.element.top,leftScroll:t.ref.clientRect.leftScroll,topScroll:t.ref.clientRect.topScroll,width:t.rect.element.width,height:t.rect.element.height}})}),didWriteView:function didWriteView(e){var t=e.root,n=t.ref,r=n.isClosed,o=n.isClosing,i=n.shouldBeDestroyed;!r&&o&&0===t.opacity&&(t.dispatch("DID_CLOSE"),t.ref.isClosed=!0,t.ref.isClosing=!1,ei(t)&&t.element.parentNode&&document.body.removeChild(t.element),i&&t.dispatch("EDIT_DESTROY"))},destroy:function destroy(e){var t=e.root;Zo(t)&&li(t),ni(t)&&t.element.removeEventListener("pointerdown",t.ref.handleModalTap),ei(t)&&t.element.parentNode&&document.body.removeChild(t.element),window.removeEventListener("resize",t.ref.updateViewport),t.ref.touchDetector.destroy(),t.ref.catcher&&t.ref.catcher.destroy()}}),ui=function getViewportBySize(e,t){var n="";return 0===e&&0===t?"detached":(n+=t>e?"portrait":"landscape",(n+=e<=600?" x-cramped":e<=1e3?" x-comfortable":" x-spacious").trim())},di=function createApp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ve(),r=function createStore(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=_objectSpread({},e),o=[],i=[],s=function a(e,t,n){n?i.push({type:e,data:t}):(f[e]&&f[e](t),o.push({type:e,data:t}))},l=function c(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return d[e]?(t=d)[e].apply(t,r):null},u={getState:function getState(){return _objectSpread({},r)},processActionQueue:function processActionQueue(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:function processDispatchQueue(){var e=[].concat(i);i.length=0,e.forEach(function(e){var t=e.type,n=e.data;s(t,n)})},dispatch:s,query:l},d={};t.forEach(function(e){d=_objectSpread({},e(r),d)});var f={};return n.forEach(function(e){f=_objectSpread({},e(s,l,r),f)}),u}(function createInitialState(e){var t={noImageTimeout:null,options:oe(e)};return ie(t),t}(t),[lt,function createOptionQueries(e){return function(t){var n={};return p(e,function(e){n["GET_".concat(ae(e,"_").toUpperCase())]=function(){return t.options[e]}}),n}}(t)],[Hn,function createOptionActions(e){return function(t,n,r){var o={};return p(e,function(e){var n=ae(e,"_").toUpperCase();o["SET_".concat(n)]=function(o){var i;try{i=r.options[e],r.options[e]=o.value}catch(e){}t("DID_SET_".concat(n),{value:r.options[e],prevValue:i})}}),o}}(t)]);r.dispatch("SET_OPTIONS",{options:e});var i=function n(){document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);var s=se();r.dispatch("SET_UID",{id:s});var l=null,c=ci(r,{id:s}),u=!1,g={_read:function _read(){u||c._read()},_write:function _write(e){var t=r.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});u&&!t.length||(v(t),(u=c._write(e,t))&&r.processDispatchQueue(),t.find(function(e){return"EDIT_DESTROY"===e.type})&&y())}},m=function u(e){return function(t){var n={type:e};return t?(t.hasOwnProperty("error")&&(n.error=f(t.error)?_objectSpread({},t.error):t.error||null),t.hasOwnProperty("output")&&(n.output=t.output),t.hasOwnProperty("image")&&(n.image=t.image),t.hasOwnProperty("source")&&(n.source=t.source),t.hasOwnProperty("state")&&(n.state=t.state),n):n}},A={DID_CONFIRM:m("confirm"),DID_CANCEL:m("cancel"),DID_REQUEST_LOAD_IMAGE:m("loadstart"),DID_LOAD_IMAGE:m("load"),DID_LOAD_IMAGE_ERROR:m("loaderror"),DID_UPDATE:m("update"),DID_CLOSE:m("close"),DID_DESTROY:m("destroy"),DID_INIT:m("init")},v=function d(e){e.length&&e.forEach(function(e){if(A[e.type]){var t=A[e.type];(Array.isArray(t)?t:[t]).forEach(function(t){setTimeout(function(){!function(e){var t=_objectSpread({doka:b},e);delete t.type,c&&c.element.dispatchEvent(new CustomEvent("Doka:".concat(e.type),{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error);var o=["type","error"];Object.keys(e).filter(function(e){return!o.includes(e)}).forEach(function(t){return n.push(e[t])}),b.fire.apply(b,[e.type].concat(n));var i=r.query("GET_ON".concat(e.type.toUpperCase()));i&&i.apply(void 0,n)}(t(e.data))},0)})}})},y=function f(){b.fire("destroy",c.element),document.removeEventListener("visibilitychange",i),c._destroy(),r.dispatch("DID_DESTROY")},b=_objectSpread({},le(),g,function createOptionAPI(e,t){var n={};return p(t,function(r){var o=Y(t[r])?t[r]:r;n[r]={get:function get(){return e.getState().options[o]},set:function set(t){e.dispatch("SET_".concat(ae(o,"_").toUpperCase()),{value:t})}}}),n}(r,t),{setOptions:function setOptions(e){return r.dispatch("SET_OPTIONS",{options:e})},setData:function setData(e){r.dispatch("SET_DATA",e)},getData:function getData(e){return new Promise(function(t,n){r.dispatch("GET_DATA",_objectSpread({},e,{success:t,failure:n}))})},open:function open(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,o){e&&r.dispatch("REQUEST_LOAD_IMAGE",{source:e,options:t,success:n,failure:o,resolveOnConfirm:!!t&&t.resolveOnConfirm})})},edit:function edit(e,t){return b.open(e,_objectSpread({},t,{resolveOnConfirm:!0}))},save:function save(e){return new Promise(function(t,n){r.dispatch("GET_DATA",_objectSpread({},e,{success:t,failure:n}))})},clear:function clear(){return r.dispatch("REQUEST_REMOVE_IMAGE")},close:function close(){return r.dispatch("EDIT_CLOSE")},destroy:y,insertBefore:function insertBefore(e){o(c.element,e)},insertAfter:function insertAfter(e){a(c.element,e)},appendTo:function appendTo(e){e.appendChild(c.element)},replaceElement:function replaceElement(e){o(c.element,e),e.parentNode.removeChild(e),l=e},restoreElement:function restoreElement(){l&&(a(l,c.element),c.element.parentNode.removeChild(c.element),l=null)},isAttachedTo:function isAttachedTo(e){return!!c&&(c.element===e||l===e)},element:{get:function get(){return c?c.element:null}}});return r.dispatch("DID_INIT"),h(b)},fi=function createAppObject(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ve(),n={};return p(t,function(e,t){Y(t)||(n[e]=t[0])}),di(_objectSpread({},n,e))},pi=function attributeNameToPropertyName(e){return function toCamels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp("".concat(t,"."),"g"),function(e){return e.charAt(1).toUpperCase()})}(e.replace(/^data-/,""))},hi=function getAttributesAsObject(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];p(e.attributes,function(t){return n.push(e.attributes[t])});var r=n.filter(function(e){return e.name}).reduce(function(t,n){var r=g(e,n.name);return t[pi(n.name)]=r===n.name||r,t},{});return function e(t,n){p(n,function(n,r){p(t,function(e,o){var i=new RegExp(n);if(i.test(e)&&(delete t[e],!1!==r))if(Y(r))t[r]=o;else{var a=r.group;f(r)&&!t[a]&&(t[a]={}),t[a][function lowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e.replace(i,""))]=o}}),r.mapping&&e(t[r.group],r.mapping)})}(r,t),r},gi=function createApp$1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function isNode(e){return e instanceof HTMLElement}(t[0])?function createAppAtElement(e){var t=_objectSpread({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=hi(e,{"^class$":"className"});Object.keys(n).forEach(function(e){f(n[e])?(f(t[e])||(t[e]={}),Object.assign(t[e],n[e])):t[e]=n[e]}),"CANVAS"!==e.nodeName&&"IMG"!==e.nodeName||(t.src=e.dataset.dokaSrc?e.dataset.dokaSrc:e);var r=fi(t);return r.replaceElement(e),r}.apply(void 0,t):fi.apply(void 0,_toConsumableArray(t.filter(function(e){return e})))},mi=["fire","_read","_write"],Ai=function createAppAPI(e){var t={};return function copyObjectPropertiesToObject(e,t,n){Object.getOwnPropertyNames(e).filter(function(e){return!n.includes(e)}).forEach(function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}(e,t,mi),t},vi=(yt=j()&&!function isOperaMini(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)}()&&function hasVisibility(){return"visibilityState"in document}()&&function hasPromises(){return"Promise"in window}()&&function hasBlobSlice(){return"slice"in Blob.prototype}()&&function hasCreateObjectURL(){return"URL"in window&&"createObjectURL"in window.URL}()&&function hasTiming(){return"performance"in window}(),function(){return yt}),yi={apps:[]},bi=function fn(){},wi={},_i=bi,Ei=bi,Ci=bi,Si=bi,Ti=bi,xi=bi;if(vi()){!function createPainter(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,o="__framePainter";if(window[o])return window[o].readers.push(t),void window[o].writers.push(n);window[o]={readers:[t],writers:[n]};var i=window[o],a=1e3/r,c=null,d=null,f=null,p=null,h=function s(){document.hidden?(f=function l(){return window.setTimeout(function(){return g(performance.now())},a)},p=function u(){return window.clearTimeout(d)}):(f=function l(){return window.requestAnimationFrame(g)},p=function u(){return window.cancelAnimationFrame(d)})};document.addEventListener("visibilitychange",function(){p&&p(),h(),g(performance.now())});var g=function e(t){d=f(e),c||(c=t);var n=t-c;n<=a||(c=t-n%a,i.readers.forEach(function(e){return e()}),i.writers.forEach(function(e){return e(t)}))};h(),g(performance.now())}(function(){yi.apps.forEach(function(e){return e._read()})},function(e){yi.apps.forEach(function(t){return t._write(e)})});var Oi=function e(){document.dispatchEvent(new CustomEvent("doka:loaded",{detail:{supported:vi,create:_i,destroy:Ei,parse:Ci,find:Si,setOptions:xi}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout(function(){return Oi()},0):document.addEventListener("DOMContentLoaded",Oi);wi={},function updateOptionTypes(){p(ve(),function(e,t){wi[e]=t[1]})}(),_i=function create$1(){var e=gi.apply(void 0,arguments);return e.on("destroy",Ei),yi.apps.push(e),Ai(e)},Ei=function destroy(e){var t=yi.apps.findIndex(function(t){return t.isAttachedTo(e)});return t>=0&&(yi.apps.splice(t,1)[0].restoreElement(),!0)},Ci=function parse(e){return Array.from(e.querySelectorAll(".".concat("doka"))).filter(function(e){return!yi.apps.find(function(t){return t.isAttachedTo(e)})}).map(function(e){return _i(e)})},Si=function find(e){var t=yi.apps.find(function(t){return t.isAttachedTo(e)});return t?Ai(t):null},Ti=function getOptions$1(){var e={};return p(ve(),function(t,n){e[t]=n[0]}),e},xi=function setOptions$1(e){return f(e)&&(yi.apps.forEach(function(t){t.setOptions(e)}),function setOptions(e){p(e,function(e,t){be[e]&&ye(e,t)})}(e)),Ti()}}},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'                    background="'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,t))+'"\n'},3:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return"                    background-origin: border-box;\n                            background-position: center;\n                            background-size: "+s(a(null!=(i=null!=t?t.data:t)?i.backgroundSize:i,t))+";\n                            background-repeat: "+s(a(null!=(i=null!=t?t.data:t)?i.backgroundRepeat:i,t))+";\n                            background-image: url("+s(a(null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,t))+");\n"},5:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return'                    \x3c!--[if gte mso 9]>\n                    <v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false"\n                            style="'+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.data:t)?i.width:i,"100%",{name:"ifNotEquals",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o}))?i:"")+"; margin-top: "+s(a(null!=(i=null!=t?t.data:t)?i.paddingTop:i,t))+'">\n                    <v:fill type="frame" src="'+s(a(null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,t))+'" color="'+s(a(null!=(i=null!=t?t.data:t)?i.contentBackgroundColor:i,t))+'" />\n                    <v:textbox style="mso-fit-shape-to-text:true;" inset="0,0,0,0">\n                    <![endif]--\x3e\n'},6:function(e,t,n,r,o){var i;return"width:"+e.escapeExpression(e.lambda(null!=(i=null!=t?t.data:t)?i.width:i,t))+"px"},8:function(e,t,n,r,o){return"mso-width-percent:1000"},10:function(e,t,n,r,o){return"                    \x3c!--[if gte mso 9]>\n                    </v:textbox>\n                    </v:rect>\n                    <![endif]--\x3e\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression,l=null!=t?t:e.nullContext||{};return'<tr>\n    <td bgcolor="'+s(a(null!=(i=null!=t?t.data:t)?i.backgroundColor:i,t))+'">\n        <table style="table-layout: fixed !important;" class="internal-content-table" align="center" width="'+s(a(null!=(i=null!=t?t.data:t)?i.width:i,t))+'" border="0" cellpadding="0" cellspacing="0">\n            <tr>\n                <td class="internal-content-td"\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'                    bgcolor="'+s(a(null!=(i=null!=t?t.data:t)?i.contentBackgroundColor:i,t))+'"\n                    valign="top"\n                    style="\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"                            border-top-left-radius: "+s(a(null!=(i=null!=t?t.data:t)?i.borderTopRadius:i,t))+"px;\n                            border-top-right-radius: "+s(a(null!=(i=null!=t?t.data:t)?i.borderTopRadius:i,t))+"px;\n                            border-bottom-left-radius: "+s(a(null!=(i=null!=t?t.data:t)?i.borderBottomRadius:i,t))+"px;\n                            border-bottom-right-radius: "+s(a(null!=(i=null!=t?t.data:t)?i.borderBottomRadius:i,t))+'px;\n                            ">\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'                    <table class = "width-validator" align="center" width="100%" border="0" cellpadding="0" cellspacing="0">\n                        <tr>\n                            <td bgcolor="transparent" style="padding-right: '+s(a(null!=(i=null!=t?t.data:t)?i.paddingLeft:i,t))+'px"></td>\n                            <td    style="\n                                    padding-left: 0;\n                                    padding-top: '+s(a(null!=(i=null!=t?t.data:t)?i.paddingTop:i,t))+"px;\n                                    padding-right: 0;\n                                    padding-bottom: "+s(a(null!=(i=null!=t?t.data:t)?i.paddingBottom:i,t))+'px;\n                                    " width="100%">\n                                <table align="center" width="100%" border="0" cellpadding="0" cellspacing="0">\n                                    <tr class="section-content-wrapper">\n                                    </tr>\n                                </table>\n                            </td>\n                            <td bgcolor="transparent" style="padding-right: '+s(a(null!=(i=null!=t?t.data:t)?i.paddingRight:i,t))+'px"></td>\n                        </tr>\n                    </table>\n'+(null!=(i=n.if.call(l,null!=(i=null!=t?t.data:t)?i.backgroundUrl:i,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o}))?i:"")+"                </td>\n            </tr>\n        </table>\n    </td>\n</tr>\n"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="columnSpacing col-edit-holder" style="padding-right: '+e.escapeExpression("function"==typeof(i=null!=(i=n.spacerWidth||(null!=t?t.spacerWidth:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"spacerWidth",hash:{},data:o}):i)+'px" bgcolor="transparent"></td>'},useData:!0})},function(e,t,n){"use strict";var r=n(265),o=n(99),i=n(162),a=Math.max;t.a=function findIndex(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:Object(i.a)(n);return l<0&&(l=a(s+l,0)),Object(r.a)(e,Object(o.a)(t,3),l)}},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression("function"==typeof(i=null!=(i=n.backgroundUrl||(null!=t?t.backgroundUrl:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"backgroundUrl",hash:{},data:o}):i)+'"'},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'background="'+l("function"==typeof(i=null!=(i=n.backgroundUrl||(null!=t?t.backgroundUrl:t))?i:s)?i.call(a,{name:"backgroundUrl",hash:{},data:o}):i)+'"\n            style="\n                    background-origin: border-box;\n                    background-position: center;\n                    background-size: '+l("function"==typeof(i=null!=(i=n.backgroundSize||(null!=t?t.backgroundSize:t))?i:s)?i.call(a,{name:"backgroundSize",hash:{},data:o}):i)+";\n                    background-repeat: "+l("function"==typeof(i=null!=(i=n.backgroundRepeat||(null!=t?t.backgroundRepeat:t))?i:s)?i.call(a,{name:"backgroundRepeat",hash:{},data:o}):i)+';"\n'},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'                            <tr>\n                                <td>\n                                    <table align="center" width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0" >\n                                        <tr>\n                                            <td align="center">\n                                                <table role="presentation" width="100%" border="0" cellspacing="0"\n                                                       cellpadding="0" align="center">\n                                                    <tr>\n                                                        <td style="padding: 20px 0px 20px 0px;">\n                                                            \x3c!-- UNSUBSCRIBE COPY --\x3e\n                                                            <table role="presentation" width="100%" border="0" cellspacing="0"\n                                                                   cellpadding="0" align="center" class="responsive-table">\n                                                                <tr>\n                                                                    <td align="center" valign="middle"\n                                                                        class="browser-preview-unsubscribe-section-td">\n                                                                        <a class="browser-preview-unsubscribe-section-link"\n                                                                           style="\n                                                                                   color: '+l("function"==typeof(i=null!=(i=n.BPUfontColor||(null!=t?t.BPUfontColor:t))?i:s)?i.call(a,{name:"BPUfontColor",hash:{},data:o}):i)+";\n                                                                                   font-size: "+l("function"==typeof(i=null!=(i=n.BPUfontSize||(null!=t?t.BPUfontSize:t))?i:s)?i.call(a,{name:"BPUfontSize",hash:{},data:o}):i)+"px;\n                                                                                   font-family: "+l("function"==typeof(i=null!=(i=n.BPUfontFamily||(null!=t?t.BPUfontFamily:t))?i:s)?i.call(a,{name:"BPUfontFamily",hash:{},data:o}):i)+';"\n                                                                           href="[BROWSER_PREVIEW]">\n                                                                            '+l("function"==typeof(i=null!=(i=n.BPUtextPreview||(null!=t?t.BPUtextPreview:t))?i:s)?i.call(a,{name:"BPUtextPreview",hash:{},data:o}):i)+"\n                                                                        </a>\n                                                                    </td>\n                                                                </tr>\n                                                            </table>\n                                                        </td>\n                                                    </tr>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n"},7:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'                            <tr>\n                                <td>\n                                    <table role="presentation" order="0" cellpadding="0" cellspacing="0" width="100%">\n                                        <tr>\n                                            <td align="center">\n                                                <table role="presentation" width="100%" border="0" cellspacing="0"\n                                                       cellpadding="0" align="center">\n                                                    <tr>\n                                                        <td style="padding: 20px 0px 20px 0px;">\n                                                            \x3c!-- UNSUBSCRIBE COPY --\x3e\n                                                            <table role="presentation" width="100%" border="0" cellspacing="0"\n                                                                   cellpadding="0" align="center" class="responsive-table">\n                                                                <tr>\n                                                                    <td align="center" valign="middle"\n                                                                        class="browser-preview-unsubscribe-section-td">\n                                                                        <a class="browser-preview-unsubscribe-section-link"\n                                                                           href="[ATSISAKYMO_NUORODA]"\n                                                                           style="color: '+l("function"==typeof(i=null!=(i=n.BPUfontColor||(null!=t?t.BPUfontColor:t))?i:s)?i.call(a,{name:"BPUfontColor",hash:{},data:o}):i)+";font-size: "+l("function"==typeof(i=null!=(i=n.BPUfontSize||(null!=t?t.BPUfontSize:t))?i:s)?i.call(a,{name:"BPUfontSize",hash:{},data:o}):i)+"px;font-family: "+l("function"==typeof(i=null!=(i=n.BPUfontFamily||(null!=t?t.BPUfontFamily:t))?i:s)?i.call(a,{name:"BPUfontFamily",hash:{},data:o}):i)+';">\n                                                                            '+l("function"==typeof(i=null!=(i=n.BPUtextUnsubscribe||(null!=t?t.BPUtextUnsubscribe:t))?i:s)?i.call(a,{name:"BPUtextUnsubscribe",hash:{},data:o}):i)+"\n                                                                        </a>\n                                                                    </td>\n                                                                </tr>\n                                                            </table>\n                                                        </td>\n                                                    </tr>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return'\x3c!--[if gte mso 9]>\n<v:background xmlns:v="urn:schemas-microsoft-com:vml" fill="t">\n    <v:fill type="tile" '+(null!=(i=n.if.call(s,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' color="'+e.escapeExpression("function"==typeof(a=null!=(a=n.backgroundColor||(null!=t?t.backgroundColor:t))?a:n.helperMissing)?a.call(s,{name:"backgroundColor",hash:{},data:o}):a)+'"/>\n</v:background>\n<![endif]--\x3e\n<table width="100%" cellpadding="0" cellspacing="0" border="0" style="mso-padding-alt: 0;mso-marging-alt: 0;">\n    <tr>\n        <td class="se-email-backgroun-holder" '+(null!=(i=n.if.call(s,null!=t?t.backgroundUrl:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'        >\n            <table width="100%" align="center" cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                    <td valign="top">\n                        <table class="se-content-table"\n                               align="center"\n                               cellpadding="0"\n                               cellspacing="0"\n                               width="100%">\n'+(null!=(i=n.unless.call(s,null!=t?t.hidePreview:t,{name:"unless",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'                            \x3c!-- CONTENT --\x3e\n                            <tr class="content-wrapper-tr">\n                                <td class="contentWrapper">\n                                    \x3c!--<h2 class="m-3 text-info tadas">Loading template...</h2>--\x3e\n                                </td>\n                            </tr>\n                            \x3c!-- UNSUBSCRIBE --\x3e\n'+(null!=(i=n.unless.call(s,null!=t?t.hideUnsubscribe:t,{name:"unless",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+"                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n"},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(558),o=n.n(r),i=n(0),a=n(1),s=n(21),l=n(11),c=n(55),u=n(29),d=n(100);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(t){function HoverActions(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HoverActions),(e=_possibleConstructorReturn(this,_getPrototypeOf(HoverActions).apply(this,arguments))).EVENT_TYPE=t.events||{},e.OUTLINE_CLASS_NAME="section-hover-outline",e.hovered=HoverActions.element,e.selected=HoverActions.element,e.subscribeEvents(),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HoverActions,s["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(HoverActions,[{key:"subscribeEvents",value:function subscribeEvents(){var e=this;i.a.subscribe(a.f.DRAG_START,function(){e.clearAll()}),i.a.subscribe(this.EVENT_TYPE.SELECTED,function(t,n){e.EVENT_TYPE.SELECTED===a.b.SELECTED&&i.a.publish(a.i.HOVER.ENTER,Object(l.a)(n,"model.collection.column.collection.section.view")),Object(l.a)(e,"selected.view.cid")!==n.cid&&e.onSelect(n)}),i.a.subscribe(this.EVENT_TYPE.DESELECTED,function(t,n){e.clearSelection()}),i.a.subscribe(this.EVENT_TYPE.HOVER.ENTER,function(t,n){Builder.isDragging||Object(l.a)(e,"selected.view.cid")!==n.cid&&Object(l.a)(e,"hovered.view.cid")!==n.cid&&e.onHover(n)}),i.a.subscribe(this.EVENT_TYPE.HOVER.LEAVE,function(t,n){Object(l.a)(e,"selected.view.cid")!==n.cid&&e.hovered.view&&e.clearHovers()})}},{key:"onHover",value:function onHover(e){this.clearHovers(),this.hovered.view=e,this.generateButtonsTemplate(this.hovered,"hovered"),this.applyStyles(this.hovered)}},{key:"onSelect",value:function onSelect(e){var t=this;this.clearAll(),this.selected.view=e,this.generateButtonsTemplate(this.selected,"selected"),this.applyStyles(this.selected),this.selected.view.trigger("selected",this.selected.view),this.listenTo(this.selected.view,"postRender",function(){t.applyStyles(t.selected)}),this.listenTo(this.selected.view,"postRender.updateStyles",function(){t.removeStyles(t.selected),t.applyStyles(t.selected)}),this.selected.view.$el.addClass("selected")}},{key:"clearAll",value:function clearAll(){this.clearSelection(),this.clearHovers()}},{key:"generateButtonsTemplate",value:function generateButtonsTemplate(t,n){this.mapButtons(t),this.generateStyles(t,n),t.generatedButtons=e(o()({actions:t.actions,styles:t.styles}))}},{key:"generateStyles",value:function generateStyles(e,t){var n=Object(c.a)({},HoverActions.defaultStyles(t),Object(l.a)(e,"view.hoverActions.styles."+t,{})),r=Object(c.a)({},HoverActions.defaultStyles("button"),Object(l.a)(e,"view.hoverActions.styles.button",{}));e.styles={event:n,button:r}}},{key:"mapButtons",value:function mapButtons(e){var t=Object(l.a)(e,"view.hoverActions.buttons",[]);Object(u.a)(t,function(t,n){!1!==t&&(e.actions["action"+n]=t)})}},{key:"applyStyles",value:function applyStyles(e){var t=this;e.view.delegate("click",".ee-action-button",function(n){t.handleButtonClick(n,e)}),e.view.$el.addClass(this.OUTLINE_CLASS_NAME),"bottom"===Object(l.a)(e,"styles.button.position")?e.view.$el.append(e.generatedButtons):e.view.$el.prepend(e.generatedButtons)}},{key:"removeStyles",value:function removeStyles(e){e.view.delegateEvents(null),e.view.$el.removeClass(this.OUTLINE_CLASS_NAME),e.generatedButtons.detach()}},{key:"clearSelection",value:function clearSelection(){this.selected.view&&(this.selected.view.$el.removeClass("selected"),this.selected.view.trigger("deselect",this.selected.view),this.removeStyles(this.selected),this.stopListening(this.selected.view),this.selected=HoverActions.element)}},{key:"clearHovers",value:function clearHovers(){this.hovered.view&&(this.removeStyles(this.hovered),this.hovered=HoverActions.element)}},{key:"handleButtonClick",value:function handleButtonClick(t,n){t.preventDefault(),t.stopImmediatePropagation();var r=e(t.currentTarget).data("key"),o=n.actions[r];Object(d.a)(Object(l.a)(o,"onclick"))&&o.onclick.apply(n.view,arguments)}},{key:"initialize",value:function initialize(){}}],[{key:"defaultStyles",value:function defaultStyles(e){return{hovered:{color:"#0000003d"},selected:{color:"#000000"},button:{position:"bottom"}}[e]||{}}},{key:"element",get:function get(){return{view:null,actions:{},generatedButtons:null,styles:{}}}}]),HoverActions}();t.a=f}).call(this,n(22))},function(e,t,n){"use strict";var r=n(28),o=n(0),i=n(1),a=n(18),s=n.n(a),c=n(5),u=n(3),d=n(47),f=n(119);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function TestEmail(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TestEmail),_possibleConstructorReturn(this,_getPrototypeOf(TestEmail).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TestEmail,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(TestEmail,[{key:"initialize",value:function initialize(){this.testEmailUrl=window.SENDER_ENDPOINT+window.CAMPAIGN_TYPE+"/send_test_email/"+window.CAMPAIGN_ID,this.lastUsedEmail=null,this.toastMessage=l("Sent successfully"),this.emailsToSend=[],this.oneOrMoreEmailSent=!1,this.failedEmails=[],o.a.publish(i.q.ADD_BUTTON,{position:1,icon:"fa-envelope-open-text",title:l("Send test email"),click:this.openEmailDialog,toggle:!1,context:this})}},{key:"emailInputValidator",value:function emailInputValidator(e){var t=this.parseEmails(e);return 0===t.length?l("Please enter a valid email address"):t.length>19?l("Too many emails ( Maximum is 5 )!"):(this.lastUsedEmail=e,this.emailsToSend=t,!1)}},{key:"openEmailDialog",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(o.a.publishSync(i.f.DESELECT),!(this.emailsToSend.length>0)){t.next=3;break}return t.abrupt("return",this);case 3:return t.next=5,c.a.input({title:l("Send test email"),input:"text",html:'<div class="text-left"><label style = "font-family: \'Open Sans\',serif; font-size: 12px!important; font-weight: 600!important; color: #777777!important;">'.concat(l("UP TO 5 EMAILS SEPARATED BY COMMAS"),"</label></div>"),inputValue:this.lastUsedEmail||B_USER_EMAIL||"",inputValidator:Object(f.a)(this.emailInputValidator,this)});case 5:if(e=t.sent,e.value){t.next=9;break}return t.abrupt("return",this);case 9:return c.a.toast({type:null,title:l("Sending test emails...")}),t.next=12,this.sendEmail();case 12:case"end":return t.stop()}},_callee,this)}));return function openEmailDialog(){return e.apply(this,arguments)}}()},{key:"parseEmails",value:function parseEmails(e){return e.split(",").filter(function(e){if(u.a.isValidEmail(e.trim()))return e.trim()})}},{key:"sendEmail",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t=this;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(0!==this.emailsToSend.length){n.next=4;break}return 0===this.failedEmails.length&&(c.a.toast({type:null,title:this.toastMessage}),this.oneOrMoreEmailSent=!1),this.failedEmails=[],n.abrupt("return",!0);case 4:if(this.oneOrMoreEmailSent){n.next=7;break}return n.next=7,this.getSnapshot().createNewSnapshot([{element:"email",message:"Saved before sending test email to: "+this.emailsToSend,section_uuid:"email"}]);case 7:return e=this.emailsToSend.pop(),n.prev=8,n.next=11,s.a.post(this.testEmailUrl,{address:e.trim()}).then(function(e){"error"===e.data.status?t.toastMessage=l("You have exceeded test emails count, try again after one hour!"):t.toastMessage=l("Sent successfully")});case 11:this.oneOrMoreEmailSent=!0,n.next=18;break;case 14:n.prev=14,n.t0=n.catch(8),this.failedEmails.push(e),o.a.publish(i.f.ERROR,{error:new d.a(l("Failed send test email to: ")+e)});case 18:return n.next=20,this.sendEmail();case 20:case"end":return n.stop()}},_callee2,this,[[8,14]])}));return function sendEmail(){return e.apply(this,arguments)}}()},{key:"getSnapshot",value:function getSnapshot(){return window.Builder.find("Email.model.snapshot")}}]),TestEmail}();t.a=p},,function(e,t,n){"use strict";var r=n(274),o=n(128),i=n(272),a=n.n(i),s=n(11),l=n(3);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function SettingAccordionView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SettingAccordionView),_possibleConstructorReturn(this,_getPrototypeOf(SettingAccordionView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SettingAccordionView,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SettingAccordionView,[{key:"initialize",value:function initialize(e){this.data=Object(s.a)(e,"data"),this.data.uuid="a"+l.a.getShortUid(),this.data.parentId="settingCustomizeAccordion",this.listenTo(this.model,"settings:clear",this.remove)}},{key:"render",value:function render(){var e=this;return this.$el.html(a()(this.data)),this.$el.find(".se-controls-container").append(this.generateElements()),this.data.isOpen&&this.$el.find("[data-toggle=collapse]").prop("disabled",!0),this.$el.find(".se-controls-container").on("shown.bs.collapse",function(){e.$el.find("[data-toggle=collapse]").prop("disabled",!0)}),this.$el.find(".se-controls-container").on("hidden.bs.collapse",function(){e.$el.find("[data-toggle=collapse]").prop("disabled",!1)}),this}},{key:"remove",value:function remove(){return this.$el.find(".se-controls-container").off(),_get(_getPrototypeOf(SettingAccordionView.prototype),"remove",this).call(this)}},{key:"getList",value:function getList(){return this.data.controls||[]}},{key:"getElementView",value:function getElementView(){return r.a}},{key:"className",get:function get(){return"SettingAccordionView w-100"}},{key:"tagName",get:function get(){return"div"}}]),SettingAccordionView}(),u=n(593),d=n.n(u);function SettingTabView_typeof(e){return(SettingTabView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SettingTabView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SettingTabView_possibleConstructorReturn(e,t){return!t||"object"!==SettingTabView_typeof(t)&&"function"!=typeof t?function SettingTabView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SettingTabView_getPrototypeOf(e){return(SettingTabView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SettingTabView_setPrototypeOf(e,t){return(SettingTabView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function SettingTabView(){return function SettingTabView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SettingTabView),SettingTabView_possibleConstructorReturn(this,SettingTabView_getPrototypeOf(SettingTabView).apply(this,arguments))}return function SettingTabView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SettingTabView_setPrototypeOf(e,t)}(SettingTabView,o["a"]),function SettingTabView_createClass(e,t,n){return t&&SettingTabView_defineProperties(e.prototype,t),n&&SettingTabView_defineProperties(e,n),e}(SettingTabView,[{key:"initialize",value:function initialize(e){this.tab=Object(s.a)(e,"tabKey"),this.load=Object(s.a)(e,"load"),this.listenTo(this.model,"settings:loaded",this.onload)}},{key:"onload",value:function onload(){return this.load&&this.render(),this}},{key:"render",value:function render(){if(this.model.currentSettingScheme)return this.model.trigger("settings:clear"),this.$el.html(d()({isPro:Builder.isExpertModeEnabled()})),this.$el.find(".accordions-content").html(this.generateElements()),this}},{key:"getList",value:function getList(){return this.model.getTabData(this.tab,"accordions")}},{key:"getElementView",value:function getElementView(){return c}},{key:"className",get:function get(){return"SettingTabView accordion w-100"}},{key:"attributes",get:function get(){return{id:"settingCustomizeAccordion"}}},{key:"events",get:function get(){return{"click .make-default":"makeDefault","click .apply-to-all":"applyToAll"}}}]),SettingTabView}();t.a=f},function(e,t,n){"use strict";var r=n(261);t.a=function set(e,t,n){return null==e?e:Object(r.a)(e,t,n)}},function(e,t,n){"use strict";var r=n(124),o=n(280),i=n(97),a=n(17);t.a=function concat(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Object(r.a)(Object(a.a)(n)?Object(i.a)(n):[n],Object(o.a)(t,1))}},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(this,n(71))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function whatwgRNG(){return n(r),r}}else{var o=new Array(16);e.exports=function mathRNG(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function bytesToUuid(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'         <div class="pattern-image" style ="width:100%; height: 100%; background:transparent url('+e.escapeExpression(e.lambda(null!=t?t.previewUrl:t,t))+') repeat scroll 0% 0%;"></div>\n'},3:function(e,t,n,r,o){return'         <img class="image-lib-img" src="'+e.escapeExpression(e.lambda(null!=t?t.previewUrl:t,t))+'" alt="Image">\n'},5:function(e,t,n,r,o){return"bg-success"},7:function(e,t,n,r,o){return'style="color:#fff;"'},9:function(e,t,n,r,o){return'        <div class="mr-1 d-inline">\n            <span>\n                <i class="fas fa-check"></i>\n            </span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<div class="image-lib-img-container" data-id="'+s(a(null!=t?t.id:t,t))+'">\n'+(null!=(i=(n.ifEquals||t&&t.ifEquals||c).call(l,null!=t?t.category:t,"24",{name:"ifEquals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+'\n</div>\n<div class="image-lib-img-title se-cm-preview-image '+(null!=(i=n.if.call(l,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'" '+(null!=(i=n.if.call(l,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+' data-id="'+s(a(null!=t?t.id:t,t))+'">\n'+(null!=(i=n.if.call(l,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+"    <span> "+s((n.truncate||t&&t.truncate||c).call(l,null!=t?t.title:t,20,{name:"truncate",hash:{},data:o}))+" </span>\n</div>"},useData:!0})},function(e,t,n){"use strict";e.exports=function bind(e,t){return function wrap(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(82),o=n(651),i=n(653),a=n(654),s=n(655),l=n(477);e.exports=function xhrAdapter(e){return new Promise(function dispatchXhrRequest(t,c){var u=e.data,d=e.headers;r.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+h)}if(f.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function handleLoad(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};o(t,c,r),f=null}},f.onerror=function handleError(){c(l("Network Error",e,null,f)),f=null},f.ontimeout=function handleTimeout(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=n(656),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;m&&(d[e.xsrfHeaderName]=m)}if("setRequestHeader"in f&&r.forEach(d,function setRequestHeader(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function onCanceled(e){f&&(f.abort(),c(e),f=null)}),void 0===u&&(u=null),f.send(u)})}},function(e,t,n){"use strict";var r=n(652);e.exports=function createError(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function isCancel(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,e.exports=Cancel},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";t.__esModule=!0;var r={helpers:{helperExpression:function helperExpression(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function scopedId(e){return/^\.|this\b/.test(e.original)},simpleId:function simpleId(e){return 1===e.parts.length&&!r.helpers.scopedId(e)&&!e.depth}}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(116));function Visitor(){this.parents=[]}function visitSubExpression(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function visitBlock(e){visitSubExpression.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function visitPartial(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function acceptKey(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!Visitor.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function acceptRequired(e,t){if(this.acceptKey(e,t),!e[t])throw new r.default(e.type+" requires "+t)},acceptArray:function acceptArray(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function accept(e){if(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function Program(e){this.acceptArray(e.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(e){visitPartial.call(this,e),this.acceptKey(e,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(e){this.acceptArray(e.pairs)},HashPair:function HashPair(e){this.acceptRequired(e,"value")}},t.default=Visitor,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(232),i=n(453);var a=function addColorStops(e,t){var n=Math.max.apply(null,e.colorStops.map(function(e){return e.stop})),r=1/Math.max(1,n);e.colorStops.forEach(function(e){t.addColorStop(r*e.stop,e.color.toString())})},s=function(){function CanvasRenderer(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasRenderer),this.canvas=e||document.createElement("canvas")}return r(CanvasRenderer,[{key:"render",value:function render(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function clip(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach(function(e){n.path(e),n.ctx.clip()})),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function drawImage(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function drawShape(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function fill(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function getTarget(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function path(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach(function(e,n){var r=e.type===o.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===o.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function rectangle(e,t,n,r,o){this.ctx.fillStyle=o.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function renderLinearGradient(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);a(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function renderRadialGradient(e,t){var n=this,r=e.left+t.center.x,o=e.top+t.center.y,i=this.ctx.createRadialGradient(r,o,0,r,o,t.radius.x);if(i)if(a(t,i),this.ctx.fillStyle=i,t.radius.x!==t.radius.y){var s=e.left+.5*e.width,l=e.top+.5*e.height,c=t.radius.y/t.radius.x,u=1/c;this.transform(s,l,[1,0,0,c,0,0],function(){return n.ctx.fillRect(e.left,u*(e.top-l)+l,e.width,e.height*u)})}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function renderRepeat(e,t,n,r,o){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,o),this.ctx.fill(),this.ctx.translate(-r,-o)}},{key:"renderTextNode",value:function renderTextNode(e,t,n,r,o){var a=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach(function(e){if(a.ctx.fillStyle=t.toString(),o&&e.text.trim().length?o.slice(0).reverse().forEach(function(t){a.ctx.shadowColor=t.color.toString(),a.ctx.shadowOffsetX=t.offsetX*a.options.scale,a.ctx.shadowOffsetY=t.offsetY*a.options.scale,a.ctx.shadowBlur=t.blur,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}):a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var s=r.textDecorationColor||t;r.textDecorationLine.forEach(function(t){switch(t){case i.TEXT_DECORATION_LINE.UNDERLINE:var r=a.options.fontMetrics.getMetrics(n).baseline;a.rectangle(e.bounds.left,Math.round(e.bounds.top+r),e.bounds.width,1,s);break;case i.TEXT_DECORATION_LINE.OVERLINE:a.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,s);break;case i.TEXT_DECORATION_LINE.LINE_THROUGH:var o=a.options.fontMetrics.getMetrics(n).middle;a.rectangle(e.bounds.left,Math.ceil(e.bounds.top+o),e.bounds.width,1,s)}})}})}},{key:"resizeImage",value:function resizeImage(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function setOpacity(e){this.ctx.globalAlpha=e}},{key:"transform",value:function transform(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),CanvasRenderer}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function Logger(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Logger),this.enabled="undefined"!=typeof window&&e,this.start=n||Date.now(),this.id=t}return r(Logger,[{key:"child",value:function child(e){return new Logger(this.enabled,e,this.start)}},{key:"log",value:function log(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function error(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),Logger}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(155));t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var o=["top","right","bottom","left"];t.parsePadding=function parsePadding(e){return o.map(function(t){return new r.default(e.getPropertyValue("padding-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function parseOverflowWrap(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function parsePosition(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function parseTextTransform(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var r=_interopRequireDefault(n(235)),o=n(225),i=n(454),a=_interopRequireDefault(n(701)),s=_interopRequireDefault(n(233)),l=_interopRequireDefault(n(121)),c=_interopRequireDefault(n(155)),u=(n(156),n(490),n(166));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new l.default([42,42,42]);var d=new l.default([165,165,165]),f=new l.default([222,222,222]),p={borderWidth:1,borderColor:d,borderStyle:i.BORDER_STYLE.SOLID},h=(t.INPUT_BORDERS=[p,p,p,p],t.INPUT_BACKGROUND={backgroundColor:f,backgroundImage:[],backgroundClip:o.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:o.BACKGROUND_ORIGIN.PADDING_BOX},new c.default("50%")),g=[h,h],m=[g,g,g,g],A=new c.default("3px"),v=[A,A],y=[v,v,v,v],b=(t.getInputBorderRadius=function getInputBorderRadius(e){return"radio"===e.type?m:y},t.inlineInputElement=function inlineInputElement(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new s.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new s.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new s.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new s.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new s.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new s.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new s.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new a.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else b(w(e),e,t,!1)},t.inlineTextAreaElement=function inlineTextAreaElement(e,t){b(e.value,e,t,!0)},t.inlineSelectElement=function inlineSelectElement(e,t){var n=e.options[e.selectedIndex||0];b(n&&n.text||"",e,t,!1)},t.reformatInputBounds=function reformatInputBounds(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function inlineFormElement(e,t,n,o){var i=t.ownerDocument.body;if(e.length>0&&i){var a=t.ownerDocument.createElement("html2canvaswrapper");(0,u.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),a),a.style.position="absolute",a.style.left=n.bounds.left+"px",a.style.top=n.bounds.top+"px",o||(a.style.whiteSpace="nowrap");var s=t.ownerDocument.createTextNode(e);a.appendChild(s),i.appendChild(a),n.childNodes.push(r.default.fromTextNode(s,n)),i.removeChild(a)}}),w=function getInputValue(e){var t="password"===e.type?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var r=n(156),o=n(453),i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(236)),a=n(492);var s=t.TextBounds=function TextBounds(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextBounds),this.text=e,this.bounds=t},l=(t.parseTextBounds=function parseTextBounds(e,t,n){for(var r=0!==t.style.letterSpacing?(0,a.toCodePoints)(e).map(function(e){return(0,a.fromCodePoint)(e)}):(0,a.breakWords)(e,t),u=r.length,d=n.parentNode?n.parentNode.ownerDocument.defaultView:null,f=d?d.pageXOffset:0,p=d?d.pageYOffset:0,h=[],g=0,m=0;m<u;m++){var A=r[m];if(t.style.textDecoration!==o.TEXT_DECORATION.NONE||A.trim().length>0)if(i.default.SUPPORT_RANGE_BOUNDS)h.push(new s(A,c(n,g,A.length,f,p)));else{var v=n.splitText(A.length);h.push(new s(A,l(n,f,p))),n=v}else i.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));g+=A.length}return h},function getWrapperBounds(e,t,n){var o=e.ownerDocument.createElement("html2canvaswrapper");o.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(o,e);var a=(0,r.parseBounds)(o,t,n);return o.firstChild&&i.replaceChild(o.firstChild,o),a}return new r.Bounds(0,0,0,0)}),c=function getRangeBounds(e,t,n,o,i){var a=e.ownerDocument.createRange();return a.setStart(e,t),a.setEnd(e,t+n),r.Bounds.fromClientRect(a.getBoundingClientRect(),o,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function ForeignObjectRenderer(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ForeignObjectRenderer),this.element=e}return r(ForeignObjectRenderer,[{key:"render",value:function render(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=i(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return a(n).then(function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas})}}]),ForeignObjectRenderer}();t.default=o;var i=t.createForeignObjectSVG=function createForeignObjectSVG(e,t,n,r,o){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",e),a.setAttributeNS(null,"height",t),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n),s.setAttributeNS(null,"y",r),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(o),a},a=t.loadSerializedSVG=function loadSerializedSVG(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(697);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function get(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function get(){return r.fromCodePoint}});(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}})(n(165));var o=n(486);t.breakWords=function breakWords(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===o.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],a=void 0;!(a=n.next()).done;)i.push(a.value.slice());return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(166);t.FontMetrics=function(){function FontMetrics(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FontMetrics),this._data={},this._document=e}return r(FontMetrics,[{key:"_parseMetrics",value:function _parseMetrics(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;if(!i)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",i.appendChild(t),n.src=o.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(r),t.appendChild(n);var a=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:a,middle:s}}},{key:"getMetrics",value:function getMetrics(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),FontMetrics}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(236));t.Proxy=function Proxy(e,t){if(!t.proxy)return Promise.reject(null);var n=t.proxy;return new Promise(function(o,i){var a=r.default.SUPPORT_CORS_XHR&&r.default.SUPPORT_RESPONSE_TYPE?"blob":"text",s=r.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(s.onload=function(){if(s instanceof XMLHttpRequest)if(200===s.status)if("text"===a)o(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return o(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(s.response)}else i("");else o(s.responseText)},s.onerror=i,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t.imageTimeout){var l=t.imageTimeout;s.timeout=l,s.ontimeout=function(){return i("")}}s.send()})}},function(e,t,n){var r,o,i;!function(a){"use strict";o=[n(22)],void 0===(i="function"==typeof(r=function(e,t){var n={beforeShow:noop,move:noop,change:noop,show:noop,hide:noop,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],o=!!/msie/i.exec(window.navigator.userAgent),i=function(){function contains(e,t){return!!~(""+e).indexOf(t)}var e=document.createElement("div"),t=e.style;return t.cssText="background-color:rgba(0,0,0,.5)",contains(t.backgroundColor,"rgba")||contains(t.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(o)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function paletteTemplate(t,n,r,o){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(o.preferredFormat||"rgb"),f=i?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+f+';" /></span>')}else{a.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+a.join("")+"</div>"}function spectrum(l,c){var u=function instanceOptions(t,r){var o=e.extend({},n,t);return o.callbacks={move:bind(o.move,r),change:bind(o.change,r),show:bind(o.show,r),hide:bind(o.hide,r),beforeShow:bind(o.beforeShow,r)},o}(c,l),d=u.flat,f=u.showSelectionPalette,p=u.localStorageKey,h=u.theme,g=u.callbacks,m=function throttle(e,t,n){var r;return function(){var o=this,i=arguments;n&&clearTimeout(r),!n&&r||(r=setTimeout(function(){r=null,e.apply(o,i)},t))}}(reflow,10),A=!1,v=!1,y=0,b=0,w=0,_=0,E=0,C=0,S=0,T=0,x=0,O=0,k=1,B=[],P=[],I={},R=u.selectionPalette.slice(0),L=u.maxSelectionSize,M="sp-dragging",D=null,N=l.ownerDocument,F=(N.body,e(l)),U=!1,H=e(s,N).addClass(h),j=H.find(".sp-picker-container"),Q=H.find(".sp-color"),z=H.find(".sp-dragger"),$=H.find(".sp-hue"),V=H.find(".sp-slider"),G=H.find(".sp-alpha-inner"),W=H.find(".sp-alpha"),K=H.find(".sp-alpha-handle"),q=H.find(".sp-input"),Y=H.find(".sp-palette"),X=H.find(".sp-initial"),J=H.find(".sp-cancel"),Z=H.find(".sp-clear"),ee=H.find(".sp-choose"),te=H.find(".sp-palette-toggle"),ne=F.is("input"),re=ne&&"color"===F.attr("type")&&inputTypeColorSupport(),oe=ne&&!d,ie=oe?e(a).addClass(h).addClass(u.className).addClass(u.replacerClassName):e([]),ae=oe?ie:F,se=ie.find(".sp-preview-inner"),le=u.color||ne&&F.val(),ce=!1,ue=u.preferredFormat,de=!u.showButtons||u.clickoutFiresChange,fe=!le,pe=u.allowEmpty&&!re;function applyOptions(){if(u.showPaletteOnly&&(u.showPalette=!0),te.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText),u.palette){B=u.palette.slice(0),P=e.isArray(B[0])?B:[B],I={};for(var t=0;t<P.length;t++)for(var n=0;n<P[t].length;n++){var r=tinycolor(P[t][n]).toRgbString();I[r]=!0}}H.toggleClass("sp-flat",d),H.toggleClass("sp-input-disabled",!u.showInput),H.toggleClass("sp-alpha-enabled",u.showAlpha),H.toggleClass("sp-clear-enabled",pe),H.toggleClass("sp-buttons-disabled",!u.showButtons),H.toggleClass("sp-palette-buttons-disabled",!u.togglePaletteOnly),H.toggleClass("sp-palette-disabled",!u.showPalette),H.toggleClass("sp-palette-only",u.showPaletteOnly),H.toggleClass("sp-initial-disabled",!u.showInitial),H.addClass(u.className).addClass(u.containerClassName),reflow()}function updateSelectionPaletteFromStorage(){if(p&&window.localStorage){try{var t=window.localStorage[p].split(",#");t.length>1&&(delete window.localStorage[p],e.each(t,function(e,t){addColorToSelectionPalette(t)}))}catch(e){}try{R=window.localStorage[p].split(";")}catch(e){}}}function addColorToSelectionPalette(t){if(f){var n=tinycolor(t).toRgbString();if(!I[n]&&-1===e.inArray(n,R))for(R.push(n);R.length>L;)R.shift();if(p&&window.localStorage)try{window.localStorage[p]=R.join(";")}catch(e){}}}function drawPalette(){var t=get(),n=e.map(P,function(e,n){return paletteTemplate(e,t,"sp-palette-row sp-palette-row-"+n,u)});updateSelectionPaletteFromStorage(),R&&n.push(paletteTemplate(function getUniqueSelectionPalette(){var e=[];if(u.showPalette)for(var t=0;t<R.length;t++){var n=tinycolor(R[t]).toRgbString();I[n]||e.push(R[t])}return e.reverse().slice(0,u.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",u)),Y.html(n.join(""))}function drawInitial(){if(u.showInitial){var e=ce,t=get();X.html(paletteTemplate([e,t],t,"sp-palette-row-initial",u))}}function dragStart(){(b<=0||y<=0||_<=0)&&reflow(),v=!0,H.addClass(M),D=null,F.trigger("dragstart.spectrum",[get()])}function dragStop(){v=!1,H.removeClass(M),F.trigger("dragstop.spectrum",[get()])}function setFromTextInput(){var e=q.val();if(null!==e&&""!==e||!pe){var t=tinycolor(e);t.isValid()?(set(t),updateOriginalInput(!0)):q.addClass("sp-validation-error")}else set(null),updateOriginalInput(!0)}function toggle(){A?hide():show()}function show(){var t=e.Event("beforeShow.spectrum");A?reflow():(F.trigger(t,[get()]),!1===g.beforeShow(get())||t.isDefaultPrevented()||(!function hideAll(){for(var e=0;e<r.length;e++)r[e]&&r[e].hide()}(),A=!0,e(N).bind("keydown.spectrum",onkeydown),e(N).bind("click.spectrum",clickout),e(window).bind("resize.spectrum",m),ie.addClass("sp-active"),H.removeClass("sp-hidden"),reflow(),updateUI(),ce=get(),drawInitial(),g.show(ce),F.trigger("show.spectrum",[ce])))}function onkeydown(e){27===e.keyCode&&hide()}function clickout(e){2!=e.button&&(v||(de?updateOriginalInput(!0):revert(),hide()))}function hide(){A&&!d&&(A=!1,e(N).unbind("keydown.spectrum",onkeydown),e(N).unbind("click.spectrum",clickout),e(window).unbind("resize.spectrum",m),ie.removeClass("sp-active"),H.addClass("sp-hidden"),g.hide(get()),F.trigger("hide.spectrum",[get()]))}function revert(){set(ce,!0)}function set(e,t){var n,r;tinycolor.equals(e,get())?updateUI():(!e&&pe?fe=!0:(fe=!1,n=tinycolor(e),r=n.toHsv(),T=r.h%360/360,x=r.s,O=r.v,k=r.a),updateUI(),n&&n.isValid()&&!t&&(ue=u.preferredFormat||n.getFormat()))}function get(e){return e=e||{},pe&&fe?null:tinycolor.fromRatio({h:T,s:x,v:O,a:Math.round(100*k)/100},{format:e.format||ue})}function move(){updateUI(),g.move(get()),F.trigger("move.spectrum",[get()])}function updateUI(){q.removeClass("sp-validation-error"),updateHelperLocations();var e=tinycolor.fromRatio({h:T,s:1,v:1});Q.css("background-color",e.toHexString());var t=ue;k<1&&(0!==k||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=get({format:t}),r="";if(se.removeClass("sp-clear-display"),se.css("background-color","transparent"),!n&&pe)se.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(i||1===n.alpha?se.css("background-color",s):(se.css("background-color","transparent"),se.css("filter",n.toFilter())),u.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),d="linear-gradient(left, "+c+", "+a+")";o?G.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(G.css("background","-webkit-"+d),G.css("background","-moz-"+d),G.css("background","-ms-"+d),G.css("background","linear-gradient(to right, "+c+", "+a+")"))}r=n.toString(t)}u.showInput&&q.val(r),u.showPalette&&drawPalette(),drawInitial()}function updateHelperLocations(){var e=x,t=O;if(pe&&fe)K.hide(),V.hide(),z.hide();else{K.show(),V.show(),z.show();var n=e*y,r=b-t*b;n=Math.max(-w,Math.min(y-w,n-w)),r=Math.max(-w,Math.min(b-w,r-w)),z.css({top:r+"px",left:n+"px"});var o=k*E;K.css({left:o-C/2+"px"});var i=T*_;V.css({top:i-S+"px"})}}function updateOriginalInput(e){var t=get(),n="",r=!tinycolor.equals(t,ce);t&&(n=t.toString(ue),addColorToSelectionPalette(t)),ne&&F.val(n),e&&r&&(g.change(t),F.trigger("change",[t]))}function reflow(){A&&(y=Q.width(),b=Q.height(),w=z.height(),$.width(),_=$.height(),S=V.height(),E=W.width(),C=K.width(),d||(H.css("position","absolute"),u.offset?H.offset(u.offset):H.offset(function getOffset(t,n){var r=t.outerWidth(),o=t.outerHeight(),i=n.outerHeight(),a=t[0].ownerDocument,s=a.documentElement,l=s.clientWidth+e(a).scrollLeft(),c=s.clientHeight+e(a).scrollTop(),u=n.offset();return u.top+=i,u.left-=Math.min(u.left,u.left+r>l&&l>r?Math.abs(u.left+r-l):0),u.top-=Math.min(u.top,u.top+o>c&&c>o?Math.abs(o+i-0):0),u}(H,ae))),updateHelperLocations(),u.showPalette&&drawPalette(),F.trigger("reflow.spectrum"))}function disable(){hide(),U=!0,F.attr("disabled",!0),ae.addClass("sp-disabled")}!function initialize(){o&&H.find("*:not(input)").attr("unselectable","on");applyOptions(),oe&&F.after(ie).hide();pe||Z.hide();if(d)F.after(H).hide();else{var t="parent"===u.appendTo?F.parent():e(u.appendTo);1!==t.length&&(t=e("body")),t.append(H)}updateSelectionPaletteFromStorage(),ae.bind("click.spectrum touchstart.spectrum",function(t){U||toggle(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(F.is(":disabled")||!0===u.disabled)&&disable();H.click(stopPropagation),q.change(setFromTextInput),q.bind("paste",function(){setTimeout(setFromTextInput,1)}),q.keydown(function(e){13==e.keyCode&&setFromTextInput()}),J.text(u.cancelText),J.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),revert(),hide()}),Z.attr("title",u.clearText),Z.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),fe=!0,move(),d&&updateOriginalInput(!0)}),ee.text(u.chooseText),ee.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),o&&q.is(":focus")&&q.trigger("change"),function isValid(){return!q.hasClass("sp-validation-error")}()&&(updateOriginalInput(!0),hide())}),te.text(u.showPaletteOnly?u.togglePaletteMoreText:u.togglePaletteLessText),te.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),u.showPaletteOnly=!u.showPaletteOnly,u.showPaletteOnly||d||H.css("left","-="+(j.outerWidth(!0)+5)),applyOptions()}),draggable(W,function(e,t,n){k=e/E,fe=!1,n.shiftKey&&(k=Math.round(10*k)/10),move()},dragStart,dragStop),draggable($,function(e,t){T=parseFloat(t/_),fe=!1,u.showAlpha||(k=1),move()},dragStart,dragStop),draggable(Q,function(e,t,n){if(n.shiftKey){if(!D){var r=x*y,o=b-O*b,i=Math.abs(e-r)>Math.abs(t-o);D=i?"x":"y"}}else D=null;var a=!D||"y"===D;(!D||"x"===D)&&(x=parseFloat(e/y)),a&&(O=parseFloat((b-t)/b)),fe=!1,u.showAlpha||(k=1),move()},dragStart,dragStop),le?(set(le),updateUI(),ue=u.preferredFormat||tinycolor(le).format,addColorToSelectionPalette(le)):updateUI();d&&show();function paletteElementClick(t){return t.data&&t.data.ignore?(set(e(t.target).closest(".sp-thumb-el").data("color")),move()):(set(e(t.target).closest(".sp-thumb-el").data("color")),move(),updateOriginalInput(!0),u.hideAfterPaletteSelect&&hide()),!1}var n=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Y.delegate(".sp-thumb-el",n,paletteElementClick),X.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},paletteElementClick)}();var he={show:show,hide:hide,toggle:toggle,reflow:reflow,option:function option(n,r){if(n===t)return e.extend({},u);if(r===t)return u[n];u[n]=r,"preferredFormat"===n&&(ue=u.preferredFormat);applyOptions()},enable:function enable(){U=!1,F.attr("disabled",!1),ae.removeClass("sp-disabled")},disable:disable,offset:function setOffset(e){u.offset=e,reflow()},set:function(e){set(e),updateOriginalInput()},get:get,destroy:function destroy(){F.show(),ae.unbind("click.spectrum touchstart.spectrum"),H.remove(),ie.remove(),r[he.id]=null},container:H};return he.id=r.push(he)-1,he}function noop(){}function stopPropagation(e){e.stopPropagation()}function bind(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function draggable(t,n,r,i){n=n||function(){},r=r||function(){},i=i||function(){};var a=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,f={};function prevent(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function move(e){if(s){if(o&&a.documentMode<9&&!e.button)return stop();var r=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],i=r&&r.pageX||e.pageX,f=r&&r.pageY||e.pageY,p=Math.max(0,Math.min(i-l.left,u)),h=Math.max(0,Math.min(f-l.top,c));d&&prevent(e),n.apply(t,[p,h,e])}}function stop(){s&&(e(a).unbind(f),e(a.body).removeClass("sp-dragging"),setTimeout(function(){i.apply(t,arguments)},0)),s=!1}f.selectstart=prevent,f.dragstart=prevent,f["touchmove mousemove"]=move,f["touchend mouseup"]=stop,e(t).bind("touchstart mousedown",function start(n){(n.which?3==n.which:2==n.button)||s||!1!==r.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(a).bind(f),e(a.body).addClass("sp-dragging"),move(n),prevent(n))})}function inputTypeColorSupport(){return e.fn.spectrum.inputTypeColorSupport()}e.fn.spectrum=function(t,n){if("string"==typeof t){var o=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=r[e(this).data("spectrum.id")];if(n){var a=n[t];if(!a)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?o=n.get():"container"==t?o=n.container:"option"==t?o=n.option.apply(n,i):"destroy"==t?(n.destroy(),e(this).removeData("spectrum.id")):a.apply(n,i)}}),o}return this.spectrum("destroy").each(function(){var n=e.extend({},t,e(this).data()),r=spectrum(this,n);e(this).data("spectrum.id",r.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=draggable,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function inputTypeColorSupport(){if(void 0===inputTypeColorSupport._cachedResult){var t=e("<input type='color'/>")[0];inputTypeColorSupport._cachedResult="color"===t.type&&""!==t.value}return inputTypeColorSupport._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!inputTypeColorSupport()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,r=Math,o=r.round,i=r.min,a=r.max,s=r.random,l=function(s,u){if(s=s||"",u=u||{},s instanceof l)return s;if(!(this instanceof l))return new l(s,u);var d=function inputToRGB(n){var o={r:0,g:0,b:0},s=1,l=!1,u=!1;"string"==typeof n&&(n=function stringInputToObject(n){n=n.replace(e,"").replace(t,"").toLowerCase();var r,o=!1;if(c[n])n=c[n],o=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(r=h.rgb.exec(n))return{r:r[1],g:r[2],b:r[3]};if(r=h.rgba.exec(n))return{r:r[1],g:r[2],b:r[3],a:r[4]};if(r=h.hsl.exec(n))return{h:r[1],s:r[2],l:r[3]};if(r=h.hsla.exec(n))return{h:r[1],s:r[2],l:r[3],a:r[4]};if(r=h.hsv.exec(n))return{h:r[1],s:r[2],v:r[3]};if(r=h.hsva.exec(n))return{h:r[1],s:r[2],v:r[3],a:r[4]};if(r=h.hex8.exec(n))return{a:function convertHexToDecimal(e){return parseIntFromHex(e)/255}(r[1]),r:parseIntFromHex(r[2]),g:parseIntFromHex(r[3]),b:parseIntFromHex(r[4]),format:o?"name":"hex8"};if(r=h.hex6.exec(n))return{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:o?"name":"hex"};if(r=h.hex3.exec(n))return{r:parseIntFromHex(r[1]+""+r[1]),g:parseIntFromHex(r[2]+""+r[2]),b:parseIntFromHex(r[3]+""+r[3]),format:o?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(o=function rgbToRgb(e,t,n){return{r:255*bound01(e,255),g:255*bound01(t,255),b:255*bound01(n,255)}}(n.r,n.g,n.b),l=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=convertToPercentage(n.s),n.v=convertToPercentage(n.v),o=function hsvToRgb(e,t,n){e=6*bound01(e,360),t=bound01(t,100),n=bound01(n,100);var o=r.floor(e),i=e-o,a=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),c=o%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(n.h,n.s,n.v),l=!0,u="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=convertToPercentage(n.s),n.l=convertToPercentage(n.l),o=function hslToRgb(e,t,n){var r,o,i;function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=bound01(e,360),t=bound01(t,100),n=bound01(n,100),0===t)r=o=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=hue2rgb(s,a,e+1/3),o=hue2rgb(s,a,e),i=hue2rgb(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(n.h,n.s,n.l),l=!0,u="hsl"),n.hasOwnProperty("a")&&(s=n.a));return s=boundAlpha(s),{ok:l,format:n.format||u,r:i(255,a(o.r,0)),g:i(255,a(o.g,0)),b:i(255,a(o.b,0)),a:s}}(s);this._originalInput=s,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=o(100*this._a)/100,this._format=u.format||d.format,this._gradientType=u.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=d.ok,this._tc_id=n++};function rgbToHsl(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var r,o,s=a(e,t,n),l=i(e,t,n),c=(s+l)/2;if(s==l)r=o=0;else{var u=s-l;switch(o=c>.5?u/(2-s-l):u/(s+l),s){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:c}}function rgbToHsv(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var r,o,s=a(e,t,n),l=i(e,t,n),c=s,u=s-l;if(o=0===s?0:u/s,s==l)r=0;else{switch(s){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:c}}function rgbToHex(e,t,n,r){var i=[pad2(o(e).toString(16)),pad2(o(t).toString(16)),pad2(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rgbaToHex(e,t,n,r){var i=[pad2(function convertDecimalToHex(e){return Math.round(255*parseFloat(e)).toString(16)}(r)),pad2(o(e).toString(16)),pad2(o(t).toString(16)),pad2(o(n).toString(16))];return i.join("")}function desaturate(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=clamp01(n.s),l(n)}function saturate(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=clamp01(n.s),l(n)}function greyscale(e){return l(e).desaturate(100)}function lighten(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=clamp01(n.l),l(n)}function brighten(e,t){t=0===t?0:t||10;var n=l(e).toRgb();return n.r=a(0,i(255,n.r-o(-t/100*255))),n.g=a(0,i(255,n.g-o(-t/100*255))),n.b=a(0,i(255,n.b-o(-t/100*255))),l(n)}function darken(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=clamp01(n.l),l(n)}function spin(e,t){var n=l(e).toHsl(),r=(o(n.h)+t)%360;return n.h=r<0?360+r:r,l(n)}function complement(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function triad(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+120)%360,s:t.s,l:t.l}),l({h:(n+240)%360,s:t.s,l:t.l})]}function tetrad(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+90)%360,s:t.s,l:t.l}),l({h:(n+180)%360,s:t.s,l:t.l}),l({h:(n+270)%360,s:t.s,l:t.l})]}function splitcomplement(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function analogous(e,t,n){t=t||6,n=n||30;var r=l(e).toHsl(),o=360/n,i=[l(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(l(r));return i}function monochromatic(e,t){t=t||6;for(var n=l(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(l({h:r,s:o,v:i})),i=(i+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=boundAlpha(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=rgbToHsv(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=rgbToHsv(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=rgbToHsl(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=rgbToHsl(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return rgbToHex(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*bound01(this._r,255))+"%",g:o(100*bound01(this._g,255))+"%",b:o(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*bound01(this._r,255))+"%, "+o(100*bound01(this._g,255))+"%, "+o(100*bound01(this._b,255))+"%)":"rgba("+o(100*bound01(this._r,255))+"%, "+o(100*bound01(this._g,255))+"%, "+o(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(u[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+rgbaToHex(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=l(e);n=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,o=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:convertToPercentage(e[r]));e=n}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,n){n=0===n?0:n||50;var r,o=l(e).toRgb(),i=l(t).toRgb(),a=n/100,s=2*a-1,c=i.a-o.a,u=1-(r=((r=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:i.r*r+o.r*u,g:i.g*r+o.g*u,b:i.b*r+o.b*u,a:i.a*a+o.a*(1-a)};return l(d)},l.readability=function(e,t){var n=l(e),r=l(t),o=n.toRgb(),i=r.toRgb(),a=n.getBrightness(),s=r.getBrightness(),c=Math.max(o.r,i.r)-Math.min(o.r,i.r)+Math.max(o.g,i.g)-Math.min(o.g,i.g)+Math.max(o.b,i.b)-Math.min(o.b,i.b);return{brightness:Math.abs(a-s),color:c}},l.isReadable=function(e,t){var n=l.readability(e,t);return n.brightness>125&&n.color>500},l.mostReadable=function(e,t){for(var n=null,r=0,o=!1,i=0;i<t.length;i++){var a=l.readability(e,t[i]),s=a.brightness>125&&a.color>500,c=a.brightness/125*3+a.color/500;(s&&!o||s&&o&&c>r||!s&&!o&&c>r)&&(o=s,r=c,n=l(t[i]))}return n};var c=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},u=l.hexNames=function flip(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(c);function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bound01(e,t){(function isOnePointZero(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function isPercentage(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=i(t,a(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function clamp01(e){return i(1,a(0,e))}function parseIntFromHex(e){return parseInt(e,16)}function pad2(e){return 1==e.length?"0"+e:""+e}function convertToPercentage(e){return e<=1&&(e=100*e+"%"),e}var d,f,p,h=(f="[\\s|\\(]+("+(d="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+d+")[,|\\s]+("+d+")\\s*\\)?",p="[\\s|\\(]+("+d+")[,|\\s]+("+d+")[,|\\s]+("+d+")[,|\\s]+("+d+")\\s*\\)?",{rgb:new RegExp("rgb"+f),rgba:new RegExp("rgba"+p),hsl:new RegExp("hsl"+f),hsla:new RegExp("hsla"+p),hsv:new RegExp("hsv"+f),hsva:new RegExp("hsva"+p),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){"use strict";var r={getSpinner:function getSpinner(){return'\n        <div class="image-overlay animated fadeIn sender-loading-overlay">\n            <div class="hollow-dots-spinner">\n              <div class="dot"></div>\n              <div class="dot"></div>\n              <div class="dot"></div>\n            </div>\n        </div>'},getVideoSpinner:function getVideoSpinner(e,t){return'\n        <div class="video-loading-overlay animated fadeIn sender-loading-overlay" style="width: '+e+"px; height: "+t+'px;">\n            <div class="hollow-dots-spinner">\n              <div class="dot"></div>\n              <div class="dot"></div>\n              <div class="dot"></div>\n            </div>\n        </div>'},moveElementInArray:function moveElementInArray(e,t,n){var r=e.indexOf(t);if(r>-1){var o=r+n;o<0?o=0:o>=e.length&&(o=e.length);var i=e.slice();return i.splice(r,1),i.splice(o,0,t),i}return e},registerGlobal:function registerGlobal(e,t){return void 0!==window[e]?(console.error("Cannot register global ".concat(e,". Global is already defined.")),!1):(window[e]=t,window[e])},getRandomColor:function getRandomColor(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"tomato"}};t.a=r},function(e,t,n){(function(e){!function(n,r){"use strict";var o={};n.PubSub=o;var i=n.define;!function(e){var t={},n=-1;function hasKeys(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function callSubscriberWithDelayedExceptions(e,t,n){try{e(t,n)}catch(e){setTimeout(function throwException(e){return function reThrowException(){throw e}}(e),0)}}function callSubscriberWithImmediateExceptions(e,t,n){e(t,n)}function deliverMessage(e,n,r,o){var i,a=t[n],s=o?callSubscriberWithImmediateExceptions:callSubscriberWithDelayedExceptions;if(t.hasOwnProperty(n))for(i in a)a.hasOwnProperty(i)&&s(a[i],e,r)}function publish(e,n,r,o){var i=function createDeliveryFunction(e,t,n){return function deliverNamespaced(){var r=String(e),o=r.lastIndexOf(".");for(deliverMessage(e,e,t,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),deliverMessage(e,r,t,n)}}(e="symbol"==typeof e?e.toString():e,n,o),a=function messageHasSubscribers(e){var n=String(e),r=Boolean(t.hasOwnProperty(n)&&hasKeys(t[n])),o=n.lastIndexOf(".");for(;!r&&-1!==o;)n=n.substr(0,o),o=n.lastIndexOf("."),r=Boolean(t.hasOwnProperty(n)&&hasKeys(t[n]));return r}(e);return!!a&&(!0===r?i():setTimeout(i,0),!0)}e.publish=function(t,n){return publish(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return publish(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeOnce=function(t,n){var r=e.subscribe(t,function(){e.unsubscribe(r),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function clearAllSubscriptions(){t={}},e.clearSubscriptions=function clearSubscriptions(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function countSubscriptions(e){var n,r=0;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&r++;return r},e.getSubscriptions=function getSubscriptions(e){var n,r=[];for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,o,i,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(r in t)if(t.hasOwnProperty(r)){if(o=t[r],s&&o[n]){delete o[n],c=n;break}if(l)for(i in o)o.hasOwnProperty(i)&&o[i]===n&&(delete o[i],c=!0)}return c}e.clearSubscriptions(n)}}(o),"function"==typeof i&&i.amd?i(function(){return o}):(void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o)}("object"==typeof window&&window||this)}).call(this,n(120)(e))},function(e,t,n){"use strict";(function(e){function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return d});var r=/\s+/,o=function s_EVENTS_API(t,n,o,i,a){var s,l=0;if(o&&"object"===_typeof(o)){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(s=e.keys(o);l<s.length;l++)n=s_EVENTS_API(t,n,s[l],o[s[l]],a)}else if(o&&r.test(o))for(s=o.split(r);l<s.length;l++)n=t(n,s[l],i,a);else n=t(n,o,i,a);return n},i=function s_INTERNAL_ON(e,t,n,r,i){(e._events=o(s,e._events||{},t,n,{context:r,ctx:e,listening:i}),i)&&((e._listeners||(e._listeners={}))[i.id]=i);return e},a=function s_OFF_API(t,n,r,o){if(t){var i,a=0,s=o.context,l=o.listeners;if(n||r||s){for(var c=n?[n]:e.keys(t);a<c.length;a++){var u=t[n=c[a]];if(!u)break;for(var d=[],f=0;f<u.length;f++){var p=u[f];r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context?d.push(p):(i=p.listening)&&0==--i.count&&(delete l[i.id],delete i.listeningTo[i.objId])}d.length?t[n]=d:delete t[n]}return e.size(t)?t:void 0}for(var h=e.keys(l);a<h.length;a++)delete l[(i=l[h[a]]).id],delete i.listeningTo[i.objId]}},s=function s_ON_API(e,t,n,r){if(n){var o=e[t]||(e[t]=[]),i=r.context,a=r.ctx,s=r.listening;s&&s.count++,o.push({callback:n,context:i,ctx:i||a,listening:s})}return e},l=function s_ONCE_MAP(t,n,r,o){if(r){var i=t[n]=e.once(function(){o(n,i),r.apply(this,arguments)});i._callback=r}return t},c=function s_TRIGGER_API(e,t,n,r){if(e){var o=e[t],i=e.all;o&&i&&(i=i.slice()),o&&u(o,r),i&&u(i,[t].concat(r))}return e},u=function s_TRIGGER_EVENTS(e,t){var n,r=-1,o=t[0],i=t[1],a=t[2],s=e.length;switch(t.length){case 0:for(;++r<s;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<s;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<s;)(n=e[r]).callback.call(n.ctx,o,i);return;case 3:for(;++r<s;)(n=e[r]).callback.call(n.ctx,o,i,a);return;default:for(;++r<s;)(n=e[r]).callback.apply(n.ctx,t);return}},d=function(){function BackboneEvents(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BackboneEvents)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BackboneEvents,[{key:"bind",value:function bind(){return this.on.apply(this,arguments)}},{key:"listenTo",value:function listenTo(t,n,r){if(!t)return this;var o=t._listenId||(t._listenId=e.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),s=a[o];if(!s){var l=this._listenId||(this._listenId=e.uniqueId("l"));s=a[o]={obj:t,objId:o,id:l,listeningTo:a,count:0}}return i(t,n,r,this,s),this}},{key:"listenToOnce",value:function listenToOnce(t,n,r){var i=o(l,{},n,r,e.bind(this.stopListening,this,t));return this.listenTo(t,i,void 0)}},{key:"off",value:function off(e,t,n){return this._events?(this._events=o(a,this._events,e,t,{context:n,listeners:this._listeners}),this):this}},{key:"on",value:function on(e,t,n){return i(this,e,t,n,void 0)}},{key:"once",value:function once(t,n,r){var i=o(l,{},t,n,e.bind(this.off,this));return this.on(i,void 0,r)}},{key:"stopListening",value:function stopListening(t,n,r){var o=this._listeningTo;if(!o)return this;for(var i=t?[t._listenId]:e.keys(o),a=0;a<i.length;a++){var s=o[i[a]];if(!s)break;s.obj.off(n,r,this)}return e.isEmpty(o)&&(this._listeningTo=void 0),this}},{key:"trigger",value:function trigger(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=new Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return o(c,this._events,e,void 0,n),this}},{key:"unbind",value:function unbind(){return this.off.apply(this,arguments)}}]),BackboneEvents}()}).call(this,n(24))},function(e,t,n){var r=n(636),o=n(637),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){"use strict";t.a=function stubFalse(){return!1}},function(e,t,n){"use strict";(function(e,r){var o=n(21),i=n(3),a=n(0),s=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function BuilderApp(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BuilderApp),(e=_possibleConstructorReturn(this,_getPrototypeOf(BuilderApp).call(this,t,n)))._loadedModules={},e._isDragging=!1,e.addModules(r),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BuilderApp,o["a"]),_createClass(BuilderApp,[{key:"isDragging",get:function get(){return this._isDragging},set:function set(e){this._isDragging=!!e}}]),_createClass(BuilderApp,[{key:"addModules",value:function addModules(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach(n,function(e){i.a.isModel(e)&&(t._loadedModules[e.get("title")]=e)}),this}},{key:"find",value:function find(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.get(this._loadedModules,t,n)}},{key:"run",value:function run(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=e).invoke.apply(n,[this._loadedModules,t].concat(o))}},{key:"initialize",value:function initialize(){var e=this;this.subscribeEvents(),this.isPro=!1,this.hideBlockDeleteWarning=!1,this.themeOverride=!0,this.isLocalStorageAvailable=i.a.isStorageAvailable(),a.a.subscribe(s.f.DRAG_START,function(){e.set("dragging",!0)}),a.a.subscribe(s.f.DRAG_END,function(){e.set("dragging",!1)})}},{key:"subscribeEvents",value:function subscribeEvents(){var e=this;a.a.subscribe(s.f.DRAG_START,function(){e.isDragging=!0}),a.a.subscribe(s.f.DRAG_END,function(){e.isDragging=!1})}},{key:"getView",value:function getView(){return{$el:r("body")}}},{key:"hideLoader",value:function hideLoader(){r(".ql_container").animateCss("fadeOut",function(){r(".ql_container").addClass("setting-d-none")})}},{key:"showLoader",value:function showLoader(){r(".ql_container").removeClass("setting-d-none").animateCss("fadeIn")}},{key:"toggleLocal",value:function toggleLocal(e){if(this.isLocalStorageAvailable){var t=JSON.parse(localStorage.getItem("se_"+e));return t=null!==t?t:this[e],localStorage.setItem("se_"+e,JSON.stringify(!t)),t}return this[e]=!this[e],this[e]}},{key:"toggleExpertMode",value:function toggleExpertMode(){return a.a.publish(s.k.EXPERT_TOGGLE),this.toggleLocal("isPro")}},{key:"isExpertModeEnabled",value:function isExpertModeEnabled(){return this.isLocalEnabled("isPro")}},{key:"toggleThemeOverride",value:function toggleThemeOverride(){return this.toggleLocal("themeOverride")}},{key:"isThemeOverrideEnabled",value:function isThemeOverrideEnabled(){return this.isLocalEnabled("themeOverride")}},{key:"isLocalEnabled",value:function isLocalEnabled(e){var t=!1;return t=this.isLocalStorageAvailable&&null!==(t=JSON.parse(localStorage.getItem("se_"+e)))?t:this[e]}}]),BuilderApp}();t.a=l}).call(this,n(24),n(22))},function(e,t,n){"use strict";(function(e){n(638);var r=n(457),o=n(164),i=n(28),a=n(0),s=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function ContentModule(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContentModule),_possibleConstructorReturn(this,_getPrototypeOf(ContentModule).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ContentModule,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ContentModule,[{key:"initialize",value:function initialize(){var t=this;if(!e.has(window,"Builder"))throw new ReferenceError("Builder not found!");this.model=new r.a({currentProvider:o.a.defaultProvider,moduleConfig:o.a}),a.a.subscribe(s.g.OPEN,function(e,n){n.provider&&t.model.set("currentProvider",n.provider),n.category&&t.model.provider().instance.selectCategory(n.category),t.open(n)}),a.a.subscribe(s.g.CLOSE,function(e,n){t.close()})}},{key:"start",value:function start(){var e=this;return new Promise(function(t){e.createModel({currentProvider:o.a.defaultProvider,moduleConfig:o.a}),t(e)})}},{key:"isOpen",value:function isOpen(){return this.get("isOpen")||!1}},{key:"open",value:function open(e){return this.isOpen()?this:(this.set("isOpen",!0),this.model.open(e),this)}},{key:"close",value:function close(){return this.isOpen()?(this.set("isOpen",!1),this.model.close(),this):this}},{key:"defaults",get:function get(){return{title:"content",autoStart:!0,defaultModel:r.a,isOpen:!1}}}]),ContentModule}();t.a=l}).call(this,n(24))},function(e,t,n){"use strict";(function(e,r){var o=n(504),i=n(505),a=n(506),s=n.n(a),c=n(70),u=n.n(c),d=n(5),f=(n(450),n(451),n(458)),p=n(507),h=n.n(p),g=n(508),m=n.n(g),A=n(509),v=n.n(A),y=n(510),b=n.n(y),w=n(511),_=n.n(w),E=n(0),C=n(1),S=n(459),T=n.n(S),x=n(512),O=n.n(x),k=n(460);n(645);function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}var B=n(644),P=n(474);f.registerPlugin(h.a,m.a,v.a,b.a,_.a);var I=Backbone.View.extend({constructor:function CmBodyView(){Backbone.View.apply(this,arguments)},bodyTemplate:B,imageItemTemplate:P,tagName:"div",className:"ImageLibraryMainView",attributes:{id:"se-cm-module-modal"},sidebar:!1,topbar:!1,events:function events(){var t=this;return{"click .se-cm-edit-image":function clickSeCmEditImage(e){var n=t.model.getSelectedImages(),r=Object.values(n)[0].attributes.previewUrl;k.a({src:r}).edit(r).then(function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.pond.addFile(e.file);case 2:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}())},"click .se-cm-load-more":function clickSeCmLoadMore(e){var n=t.$(e.currentTarget);n.attr("disabled",!0),n.find(".se-cm-load-spin").removeClass("d-none"),t.model._loadMore().then(function(){n.find(".se-cm-load-spin").addClass("d-none"),t.$(e.currentTarget).removeAttr("disabled")})},"click .se-cm-upload-button":function clickSeCmUploadButton(e){t.pond.browse()},"click .se-cm-upload-url-button":function clickSeCmUploadUrlButton(e){u()({title:l("Import image from URL"),html:'\n                    <div class="text-left">\n                        <label for="test-email-address">'.concat(l("Enter image url"),'</label>\n                        <div class="input-group mb-3">\n                            <input id="se-cm-image-upload-url" type="text" class="form-control" placeholder="').concat(l("https://example.com/logo.png"),'">\n                        </div>\n                    </div>\n                    '),showCancelButton:!0,confirmButtonText:l("Import"),cancelButtonText:l("Cancel"),cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,buttonsStyling:!1,animation:!1,customClass:"animated zoomIn"}).then(function(e){if(!e.value)return t;var n=document.getElementById("se-cm-image-upload-url").value;n.indexOf("http")<0&&(n="https://"+n),t.pond.addFile(n)})},"input #se-cm-searchbox":e.debounce(function(){t.$el.find(".se-cm-load-more-wrapper").addClass("se-cm-hidden"),t.$el.find(".image-lib-list").html(T()());var e=t.$el.find("#se-cm-searchbox").val();t.model.searchImage(e)},600,{trailing:!0,leading:!1}),"click .img-close":function clickImgClose(){E.a.publish(C.g.CLOSE,t)},"click .se-cm-toolbox-insert":function clickSeCmToolboxInsert(n){t.model.setImage(e.values(t.model.getSelectedImages())[0])},"click .se-cm-insert-image":function clickSeCmInsertImage(e){var n=t.$(e.currentTarget).data("id");t.model.setImage(t.model.getImageCollection().get(n))},"click .se-cm-folder-create":function clickSeCmFolderCreate(e){d.a.input({title:l("Create new folder"),html:'\n                    <div class="text-left">\n                        <label style = "font-weight: 600!important; color: #777777!important;">'.concat(l("Folder title"),"</label>\n                    </div>\n                    "),showCloseButton:!0,showCancelButton:!1,confirmButtonText:l("Create"),cancelButtonText:l("Cancel"),cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,buttonsStyling:!1,animation:!1,customClass:"animated zoomIn"}).then(function(e){if(!e.value)return t;var n=e.value;if(0===n.length)return!1;t.model.provider().instance.createFolder(n).then(function(e){t.model.set("selectedCategory",e.data),t.model._loadCategories()})})},"click .se-cm-category-item":function clickSeCmCategoryItem(e){var n=t.$(e.currentTarget).data("category");t.model.set("selectedCategory",n),t.sidebar.loadCategories()},"click .se-cm-folder-delete":function clickSeCmFolderDelete(e){var n=t.$(e.currentTarget).data("id");d.a.confirm({type:null,title:l("Do you really want to delete?"),html:l("This action cannot be undone. All the images in this folder will be deleted."),showCancelButton:!0,confirmButtonText:l("Delete"),cancelButtonText:l("Cancel"),focusConfirm:!1,focusCancel:!0,allowEnterKey:!0}).then(function(e){if(!e.value)return t;t.model.provider().instance.deleteFolder(n).then(function(e){t.model._loadCategories().then(function(){t.model._loadImages()}),t.model.set("selectedCategory","all")})})},"click .se-cm-bulk-delete":function clickSeCmBulkDelete(n){d.a.confirm({type:null,title:l("Do you really want to delete?"),html:l("Caution!")+' <span class="h5 d-inline">'+e.size(t.model.getSelectedImages())+"</span> "+l('images will be deleted. This action cannot be undone. If you have used these images in your email, the images will be available for <span class="h5 d-inline">ONE</span> month from now.'),showCancelButton:!0,confirmButtonText:l("Delete"),cancelButtonText:l("Cancel"),focusConfirm:!1,focusCancel:!0,allowEnterKey:!0}).then(function(e){if(!e.value)return t;t.model.deleteSelected()})},"click .se-cm-bulk-deselect":function clickSeCmBulkDeselect(e){t.model.deselectAll()},"click .se-cm-bulk-select":function clickSeCmBulkSelect(e){t.model.deselectAll(),t.model.getImageCollection().each(function(e){t.model.selectImage(e)})},"click .se-cm-bulk-move":function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(n){return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return d.a.confirm({type:null,title:l("Choose folder..."),cancelButtonText:l("Close"),showCancelButton:!0,showConfirmButton:!1,html:O()({categories:t.model.provider().categories}),onBeforeOpen:function onBeforeOpen(){r(".se-cm-category-item-modal").on("click",function(n){var o=r(n.currentTarget).data("id");if("new_folder"!==o)t.model.moveSelectedImages(o),u.a.close();else{var i=e.clone(t.model.getSelectedImages());t.model.createNewFolder().then(function(e){t.model.moveSelectedImages(e,i)})}})}}),n.abrupt("return");case 2:case"end":return n.stop()}},_callee2)}));return function clickSeCmBulkMove(e){return n.apply(this,arguments)}}()}},initialize:function initialize(){this.render(),this.sidebar=new o.a({el:this.$el.find(".image-lib-sidebar-container"),model:this.model}),new i.a({el:this.$el.find(".se-cm-topbar-wrapper"),model:this.model}),this.startListening(),this.model.provider().isLoaded&&this.showLoadedImages()},initPond:function initPond(){var t=this,n=this.$el.find(".se-cm-fileupload");this.pond=f.create(n[0]),this.uploadingFilesCount=0,this.fileCounter=0,this.pond.setOptions({allowFileTypeValidation:!0,acceptedFileTypes:["image/*"],fileValidateTypeDetectType:function fileValidateTypeDetectType(e,n){return new Promise(function(e,r){if(n.includes("gif"))return t.pond.setOptions({allowImageResize:!1}),void e(n);t.pond.setOptions({allowImageResize:!0}),e(n)})},imageResizeTargetWidth:1280,imageResizeTargetHeight:720,imageResizeUpscale:!1,allowImagePreview:!0,imagePreviewMaxHeight:105,imagePreviewMinHeight:105,imagePreviewTransparencyIndicator:"grid",dropOnPage:!0,dropOnElement:!1,className:"se-cm-filepond",allowMultiple:!0,dropValidation:!1,allowRevert:!1,server:{url:SENDER_ENDPOINT+"upload/v2/"+CAMPAIGN_ID+"/"+this.model.get("selectedCategory")},allowFileRename:!0,labelIdle:l('<div class="d-block"><i class="fas fa-cloud-upload-alt fa-2x" style="font-size: 2em;"></i></div>Drop files here or Click <span class="filepond--label-action"> Browse </span> to insert files from your computer'),fileRenameFunction:function fileRenameFunction(t){var n="".concat(t.basename.replace(/[^A-Za-z0-9]/g,"")||e.uniqueId("emailImage_"+e.now()));return"".concat(n).concat(t.extension)},onaddfilestart:function onaddfilestart(e){if(null===!e.file.size)return e.abortLoad(),e.abortProcessing(),!1},onerror:function onerror(n,r){return e.has(r,"main")?(n.abortProcessing(),void n.abortLoad()):(t.uploadingFilesCount--,0===t.uploadingFilesCount&&void 0)},onaddfile:function onaddfile(t,n){if(e.has(n,"main"))return t.abortProcessing(),void t.abortLoad()},onprocessfilestart:function onprocessfilestart(e){t.$el.find(".se-cm-noimage").animateCss("fadeOut",function(e){r(e).remove()}),t.uploadingFilesCount++,t.fileCounter++},onprocessfile:function onprocessfile(n,r){if(e.has(n,"main"))return r.abortProcessing(),void r.abortLoad();var o=t.model.getImageCollection().add(JSON.parse(r.serverId),{at:0});t.appendImage(o),1===t.fileCounter&&t.model.setImage(o),t.uploadingFilesCount--,0===t.uploadingFilesCount&&(t.fileCounter=0)}})},startListening:function startListening(){var t=this;this.listenTo(this.model,"change:isOpened",function(e,n){n&&(r("body").append(t.$el),t.$el.animateCss("fadeIn",function(){t.model.trigger("_view:rendered")},150))}),this.listenTo(this.model,"provider:imagesLoaded",this.showLoadedImages),this.listenTo(this.model,"image:removed",this.removeImage),this.listenTo(this.model,"change:selectedCategory",function(e,n){t.$el.find(".se-cm-load-more-wrapper").addClass("se-cm-hidden"),t.$el.find(".image-lib-list").html(T()()),t.pond&&t.pond.setOptions({server:{url:SENDER_ENDPOINT+"upload/v2/"+CAMPAIGN_ID+"/"+n}})}),this.listenTo(this.model,"change:currentProvider",function(){t.model.provider().instance.allowUpload?t.$el.find(".se-cm-filepond-wrapper").removeClass("se-cm-hidden"):t.$el.find(".se-cm-filepond-wrapper").addClass("se-cm-hidden")}),this.listenTo(this.model,"change:selectedImages",function(){var n=e.size(t.model.getSelectedImages());t.$el.find(".se-cm-toolbox-bulk").addClass("d-none"),"UserImages"===t.model.provider().instance.name&&t.$el.find(".se-cm-toolbox-bulk").removeClass("d-none"),t.$el.find(".se-cm-toolbox-insert").attr("disabled",!0),t.$el.find(".se-cm-edit-image").attr("disabled",!0),1===n&&(t.$el.find(".se-cm-toolbox-insert").attr("disabled",!1),t.$el.find(".se-cm-edit-image").attr("disabled",!1)),n>0?(t.$el.find(".se-cm-toolbox-selected").html(n),t.$el.find(".se-cm-toolbox").removeClass("d-none"),t.$el.find(".se-cm-topbar-upload-button-wrapper").addClass("se-cm-hidden")):(t.$el.find(".se-cm-toolbox").addClass("d-none"),t.$el.find(".se-cm-topbar-upload-button-wrapper").removeClass("se-cm-hidden"))})},render:function render(){return this.$el.html(this.bodyTemplate(this.model.toJSON({keepPrivate:!0}))),this},allowUpload:function allowUpload(){this.model.provider().instance.allowUpload?(this.pond||this.initPond(),this.$el.find(".se-cm-filepond-wrapper").removeClass("se-cm-hidden"),this.$el.find(".se-cm-topbar-upload-button-wrapper").removeClass("se-cm-hidden")):(this.pond&&(this.pond.destroy(),delete this.pond),this.$el.find(".se-cm-filepond-wrapper").addClass("se-cm-hidden"),this.$el.find(".se-cm-topbar-upload-button-wrapper").addClass("se-cm-hidden"))},showLoadedImages:function showLoadedImages(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allowUpload(),t||(t=this.model.getImageCollection().models),this.$el.find(".se-cm-load-more-wrapper").addClass("se-cm-hidden"),("Giphy"===this.model.get("currentProvider")||"UserImages"===this.model.get("currentProvider")&&0!==t.length)&&this.$el.find(".se-cm-load-more-wrapper").removeClass("se-cm-hidden");var n=[];if(0===t.length)return this.$el.find(".image-lib-list").html(s()()),this;e.forEach(t,function(e){var t=e.get("__view");n.push(t.el)}),this.$el.find(".image-lib-list").html(n),e.forEach(t,function(e){e.get("__view").delegateEvents(null)})},appendImage:function appendImage(e){if(!e)return!1;var t=e.getView();return!!t&&(this.$el.find(".image-lib-list").prepend(t.render().el),t.$el.animateCss("fadeIn",null,1e3),t)},removeImage:function removeImage(e,t){e.getView().$el.animate({width:0,opacity:0},function(){e.getView().remove()})},cropImage:function cropImage(e){var t=this,n=k.a({src:e.imageUrl,outputData:!0,cropAspectRatio:e.croppingHeight/e.croppingWidth});n.setData({crop:{center:{x:.5,y:.5}}}),n.on("confirm",function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.pond.addFile(e.file);case 2:case"end":return n.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}())}});t.a=I}).call(this,n(24),n(22))},function(e,t,n){"use strict";(function(e,r){var o=n(70),i=n.n(o),a=n(5),s=n(639),c=n(640),u=n(641),d=Backbone.View.extend({constructor:function CmSidebarView(){Backbone.View.apply(this,arguments)},sidebarTemplate:s,menuItemTemplate:c,categoryItem:u,tagName:"div",className:"se-cm-sidebar",events:function events(){var t=this;return{"click .se-cm-folder-edit":function clickSeCmFolderEdit(e){var n=t.$(e.currentTarget).data("title"),r=t.$(e.currentTarget).data("id");i()({title:l("Rename folder"),html:'\n                    <div class="p-3 text-left">\n                        <label for="se-cm-folder-title">'.concat(l("Folder title"),'</label>\n                        <div class="input-group mb-3">\n                            <input id="se-cm-folder-title" type="text" class="form-control" value="').concat(n,'">\n                        </div>\n                    </div>\n                    '),showCancelButton:!0,animation:!1,customClass:"animated zoomIn",confirmButtonText:l("Save"),cancelButtonText:l("Cancel"),cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,buttonsStyling:!1}).then(function(e){if(!e.value)return t;var o=document.getElementById("se-cm-folder-title").value;if(o===n||0===o.length)return!0;t.model.provider().instance.renameFolder(r,o).then(function(){t.model._loadCategories()})})},"click .se-cm-folder-create":function clickSeCmFolderCreate(e){i()({title:l("Create new folder"),html:'\n                    <div class="p-3 text-left">\n                        <label for="se-cm-folder-title">'.concat(l("Folder title"),'</label>\n                        <div class="input-group mb-3">\n                            <input id="se-cm-folder-title" type="text" class="form-control">\n                        </div>\n                    </div>\n                    '),showCancelButton:!0,animation:!1,customClass:"animated zoomIn",confirmButtonText:l("Create"),cancelButtonText:l("Cancel"),cancelButtonClass:"btn-secondary",confirmButtonClass:"btn-primary",focusConfirm:!0,allowEnterKey:!0,buttonsStyling:!1}).then(function(e){if(!e.value)return t;var n=document.getElementById("se-cm-folder-title").value;if(0===n.length)return!1;t.model.provider().instance.createFolder(n).then(function(e){t.model.set("selectedCategory",e.data),t.model._loadCategories()})})},"click .se-cm-folder-delete":function clickSeCmFolderDelete(e){var n=t.$(e.currentTarget).data("id");a.a.confirm({type:null,title:l("Do you really want to delete?"),html:l("This action cannot be undone. All the images in this folder will be deleted."),showCancelButton:!0,confirmButtonText:l("Delete"),cancelButtonText:l("Cancel"),focusConfirm:!1,focusCancel:!0,allowEnterKey:!0}).then(function(e){if(!e.value)return t;t.model.provider().instance.deleteFolder(n).then(function(e){t.model._loadCategories().then(function(){t.model._loadImages()})})})},"click .se-cm-category-item":function clickSeCmCategoryItem(n){e(".se-cm-load-more-wrapper").addClass("se-cm-hidden");var r=t.$(n.currentTarget).data("category");t.model.set("selectedCategory",r),t.loadCategories()},"click .se-cm-sidebar-menu-item":function clickSeCmSidebarMenuItem(e){var n=t.$(e.currentTarget).data("provider");n&&t.model.set("currentProvider",n)}}},initialize:function initialize(){this.render(),this.startListening(),this.model.provider().isLoaded&&this.loadCategories()},startListening:function startListening(){var e=this;return this.listenTo(this.model,"change:currentProvider",function(t,n){e.$el.find('*[data-provider="'+t.previousAttributes().currentProvider+'"]').removeClass("active"),e.$el.find('*[data-provider="'+n+'"]').addClass("active")}),this.listenTo(this.model,"provider:categoriesLoaded",this.loadCategories),this.listenTo(this.model,"change:selectedCategory",this.loadCategories),this.listenTo(this.model,"_view:rendered",this.loadCategories),this},loadCategories:function loadCategories(){var t=this,n=[];return r.forEach(this.model.provider().categories,function(r){r.selectedCategory=t.model.get("selectedCategory"),n.push(e(t.categoryItem(r)))}),this.model.provider().instance.allowUpload&&n.push(e(' <span class="se-cm-folder-create theme-category-bubble lm-tag badge badge-outline-light bg-white">\n                        <i class="fas fa-plus mr-1"></i>'.concat(l("Add new"),"\n                    </span>"))),e(".image-lib-categories-container").html(n),this},render:function render(){var t=e(s(this.model.toJSON({keepPrivate:!0}))),n=this.model.toJSON();r.forEach(this.model.get("moduleConfig").sidebar.menuItems,function(e,o){e.provider===n.currentProvider?e.show=!0:e.show=!1,e.id=r.uniqueId("se-cm-list-item-"),t.find(".se-cm-sidebar-menu-list").append(c(e))});var o=this.model.get("currentProvider");return t.find('*[data-provider="'+o+'"]').addClass("active"),this.$el.html(t),this}});t.a=d}).call(this,n(22),n(24))},function(e,t,n){"use strict";(function(e){n(70);var r=n(642),o=n(643),i=Backbone.View.extend({constructor:function CmTopbarView(){Backbone.View.apply(this,arguments)},template:r,moveToFolderItemTemplate:o,tagName:"div",className:"se-cm-topbar",events:function events(){return{}},initialize:function initialize(){this.render(),this.startListening(),this.model.provider().isLoaded&&this.loadCategories()},startListening:function startListening(){},loadCategories:function loadCategories(){var t=this,n=[];1!==this.model.provider().categories.length?(e.forEach(this.model.provider().categories,function(e){"all"!==e.id&&n.push(t.moveToFolderItemTemplate(e))}),this.$el.find(".se-cm-bulk-move-wrapper").html(n)):this.$el.find(".se-cm-bulk-move-wrapper").html(this.moveToFolderItemTemplate({id:"new_folder",title:l("Create new folder")}))},render:function render(){return this.$el.html(r(this.model.toJSON({keepPrivate:!0}))),this}});t.a=i}).call(this,n(24))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'\x3c!-- Empty --\x3e\n<div class="p-3 text-center mx-auto" style="color: #989898;">\n<i class="far fa-folder-open fa-5x d-block"></i>\n    <h2>'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"No images found...",{name:"l",hash:{},data:o}))+"</h2>\n</div>"},useData:!0})},function(e,t,n){e.exports=function(){"use strict";!function(){function AwaitValue(e){this.value=e}function AsyncGenerator(e){var t,n;function resume(t,n){try{var r=e[t](n),o=r.value;o instanceof AwaitValue?Promise.resolve(o.value).then(function(e){resume("next",e)},function(e){resume("throw",e)}):settle(r.done?"return":"normal",r.value)}catch(e){settle("throw",e)}}function settle(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?resume(t.key,t.arg):n=null}this._invoke=function send(e,r){return new Promise(function(o,i){var a={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=a:(t=n=a,resume(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)}}();var e={1:function _(){return[1,0,0,1,0,0]},2:function _(e){return[-1,0,0,1,e,0]},3:function _(e,t){return[-1,0,0,-1,e,t]},4:function _(e,t){return[1,0,0,-1,0,t]},5:function _(){return[0,1,1,0,0,0]},6:function _(e,t){return[0,1,-1,0,t,0]},7:function _(e,t){return[0,-1,-1,0,t,e]},8:function _(e){return[0,-1,1,0,0,e]}},t=function fixImageOrientation(t,n,r,o){-1!==o&&t.transform.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e[o](n,r)))},n=function isBitmap(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},r={type:"spring",stiffness:.5,damping:.45,mass:10},o=function createImageView(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,create:function create(e){var t=e.root;t.ref.clip=document.createElement("div"),t.element.appendChild(t.ref.clip);var n=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==n&&(t.element.dataset.transparencyIndicator="grid"===n?n:"color")},write:e.utils.createRoute({DID_IMAGE_PREVIEW_LOAD:function DID_IMAGE_PREVIEW_LOAD(e){var r=e.root,o=e.props,i=e.action,a=o.id,s=r.query("GET_ITEM",{id:o.id}),l=r.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR"),c=s.getMetadata("exif")||{},u=c.orientation||-1,d=i.data,f=d.width,p=d.height;if(u>=5&&u<=8){var h=[p,f];f=h[0],p=h[1]}var g=s.getMetadata("crop")||{rect:{x:0,y:0,width:1,height:1},aspectRatio:p/f},m=window.devicePixelRatio,A=r.query("GET_IMAGE_PREVIEW_HEIGHT"),v=r.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),y=r.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),b=r.rect.inner.width,w=p/f,_=b,E=b*w,C=null!==A?A:Math.max(v,Math.min(p,y)),S=C/w,T=n(s.file)?function createPreviewImage(e,n,r,o){if(n=Math.round(n),r=Math.round(r),o>=5&&o<=8){var i=[r,n];n=i[0],r=i[1]}var a=document.createElement("canvas"),s=a.getContext("2d");return o>=5&&o<=8?(a.width=r,a.height=n):(a.width=n,a.height=r),s.save(),t(s,n,r,o),s.drawImage(e,0,0,n,r),s.restore(),"close"in e&&e.close(),a}(i.data,S*m,C*m,u):i.data,x=null!==A?A:Math.max(v,Math.min(b*g.aspectRatio,y)),O=x/g.aspectRatio;O>_&&(x=(O=_)*g.aspectRatio);var k=x/(E*g.rect.height);f=_*k,p=E*k;var B=-g.rect.x*_*k,P=-g.rect.y*E*k;r.ref.clip.style.cssText="\n                    width: "+Math.round(O)+"px;\n                    height: "+Math.round(x)+"px;\n                ",T.style.cssText="\n                    "+(null!==l&&"grid"!==l?"background-color: "+l+";":"")+"\n                    width: "+Math.round(f)+"px;\n                    height: "+Math.round(p)+"px;\n                    transform: translate("+Math.round(B)+"px, "+Math.round(P)+"px) rotateZ(0.00001deg);\n                ",r.ref.clip.appendChild(T),r.dispatch("DID_IMAGE_PREVIEW_DRAW",{id:a})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:r,scaleY:r,opacity:{type:"tween",duration:750}}}})},i=function BitmapWorker(){self.onmessage=function(t){e(t.data.message,function(e){self.postMessage({id:t.data.id,message:e},[e])})};var e=function toBitmap(e,t){fetch(e.file).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e)}).then(function(e){return t(e)})}},a=function easeInOutSine(e){return-.5*(Math.cos(Math.PI*e)-1)},s=function drawTemplate(e,t,n,r,o){e.width=t,e.height=n;var i=e.getContext("2d"),s=.5*t,l=i.createRadialGradient(s,n+110,n-100,s,n+110,n+100);!function addGradientSteps(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=1-i,l=t.join(","),c=0;c<=o;c++){var u=c/o,d=i+s*u;e.addColorStop(d,"rgba("+l+", "+r(u)*n+")")}}(l,r,o,void 0,8,.4),i.save(),i.translate(.5*-t,0),i.scale(2,1),i.fillStyle=l,i.fillRect(0,0,t,n),i.restore()},l="undefined"!=typeof navigator,c=l&&document.createElement("canvas"),u=l&&document.createElement("canvas"),d=l&&document.createElement("canvas");l&&(s(c,500,200,[40,40,40],.85),s(u,500,200,[196,78,71],1),s(d,500,200,[54,151,99],1));var f=function createImageWrapperView(e){var t=function createImageOverlayView(e){return e.utils.createView({name:"image-preview-overlay",tag:"canvas",ignoreRect:!0,create:function create(e){var t=e.root,n=e.props;!function applyTemplate(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)}(n.template,t.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})}(e),r=function restoreOverlay(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},a=function didThrowError(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1};return e.utils.createView({name:"image-preview-wrapper",create:function create(n){var r=n.root,i=n.props,a=o(e);r.ref.image=r.appendChildView(r.createChildView(a,{id:i.id,scaleX:1.25,scaleY:1.25,opacity:0})),r.ref.overlayShadow=r.appendChildView(r.createChildView(t,{template:c,opacity:0})),r.ref.overlaySuccess=r.appendChildView(r.createChildView(t,{template:d,opacity:0})),r.ref.overlayError=r.appendChildView(r.createChildView(t,{template:u,opacity:0}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_LOAD:function didLoadPreview(e){e.root.ref.overlayShadow.opacity=1},DID_IMAGE_PREVIEW_DRAW:function didDrawPreview(e){var t=e.root.ref.image;t.scaleX=1,t.scaleY=1,t.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function didCreatePreviewContainer(t){var r=t.root,o=t.props,a=e.utils,s=(a.createView,a.createWorker),l=a.loadImage,c=o.id,u=r.query("GET_ITEM",c),d=URL.createObjectURL(u.file),f=function loadPreviewFallback(e,t,n,r){l(d).then(p)},p=function previewImageLoaded(e){URL.revokeObjectURL(d),r.dispatch("DID_IMAGE_PREVIEW_LOAD",{id:c,data:e})};!function getImageSize(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,r=n.naturalHeight;n=null,t(e,r)},n.src=e}(d,function(e,t){if(r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:c,width:e,height:t}),function canCreateImageBitmap(e){return"createImageBitmap"in window&&n(e)}(u.file)){var o=s(i);o.post({file:d},function(e){o.terminate(),e?p(e):f()})}else f()})},DID_THROW_ITEM_LOAD_ERROR:a,DID_THROW_ITEM_PROCESSING_ERROR:a,DID_THROW_ITEM_INVALID:a,DID_COMPLETE_ITEM_PROCESSING:function didCompleteProcessing(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:r,DID_REVERT_ITEM_PROCESSING:r})})},p=function(e){var t=e.addFilter,r=e.utils,o=r.Type,i=r.createRoute,a=r.isFile,s=f(e);return t("CREATE_VIEW",function(e){var t=e.is,r=e.view,o=e.query;t("file")&&o("GET_ALLOW_IMAGE_PREVIEW")&&r.registerWriter(i({DID_LOAD_ITEM:function didLoadItem(e){var t=e.root,n=e.props.id,i=o("GET_ITEM",n);if(i&&a(i.file)){var l=i.file;if(function isPreviewableImage(e){return/^image/.test(e.type)}(l)){var c="createImageBitmap"in(window||{}),u=o("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");!c&&u&&l.size>u||(t.ref.imagePreview=r.appendChildView(r.createChildView(s,{id:n})),t.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:n}))}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function didCalculatePreviewSize(e){var t=e.root,r=e.props,o=e.action,i=t.query("GET_ITEM",{id:r.id}),a=(i.getMetadata("exif")||{}).orientation||-1,s=o.width,l=o.height;if(a>=5&&a<=8){var c=[l,s];s=c[0],l=c[1]}var u=i.getMetadata("crop")||{rect:{x:0,y:0,width:1,height:1},aspectRatio:l/s},d=t.query("GET_IMAGE_PREVIEW_HEIGHT"),f=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),p=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");if(!n(i.file)){var h=2048/s;s*=h,l*=h}l=null!==d?d:Math.max(f,Math.min(l,p)),(s=l/u.aspectRatio)>t.rect.element.width&&(s=t.rect.element.width,l=s*u.aspectRatio),t.ref.imagePreview.element.style.cssText="height:"+Math.round(l)+"px"}}))}),{options:{allowImagePreview:[!0,o.BOOLEAN],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING]}}};return"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:p})),p}()},function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils,r=n.Type;return t("DID_LOAD_ITEM",function(e,t){var n=t.query;return new Promise(function(t,r){var o=e.file;if(!function isImage(e){return/^image/.test(e.type)}(o)||!n("GET_ALLOW_IMAGE_RESIZE"))return t(e);var i=n("GET_IMAGE_RESIZE_MODE"),a=n("GET_IMAGE_RESIZE_TARGET_WIDTH"),s=n("GET_IMAGE_RESIZE_TARGET_HEIGHT");return null===a&&null===s?t(e):(e.setMetadata("resize",{mode:i,upscale:n("GET_IMAGE_RESIZE_UPSCALE"),size:{width:a,height:s}}),t(e))})}),{options:{allowImageResize:[!0,r.BOOLEAN],imageResizeMode:["cover",r.STRING],imageResizeUpscale:[!0,r.BOOLEAN],imageResizeTargetWidth:[null,r.INT],imageResizeTargetHeight:[null,r.INT]}}};return"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},function(e,t,n){e.exports=function(){"use strict";!function(){function AwaitValue(e){this.value=e}function AsyncGenerator(e){var t,n;function resume(t,n){try{var r=e[t](n),o=r.value;o instanceof AwaitValue?Promise.resolve(o.value).then(function(e){resume("next",e)},function(e){resume("throw",e)}):settle(r.done?"return":"normal",r.value)}catch(e){settle("throw",e)}}function settle(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?resume(t.key,t.arg):n=null}this._invoke=function send(e,r){return new Promise(function(o,i){var a={key:e,arg:r,resolve:o,reject:i,next:null};n?n=n.next=a:(t=n=a,resume(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)}}();var e={1:function _(){return[1,0,0,1,0,0]},2:function _(e){return[-1,0,0,1,e,0]},3:function _(e,t){return[-1,0,0,-1,e,t]},4:function _(e,t){return[1,0,0,-1,0,t]},5:function _(){return[0,1,1,0,0,0]},6:function _(e,t){return[0,1,-1,0,t,0]},7:function _(e,t){return[0,-1,-1,0,t,e]},8:function _(e){return[0,-1,1,0,0,e]}},t=function fixImageOrientation(t,n,r,o){-1!==o&&t.transform.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e[o](n,r)))},n=function TransformWorker(){var e={resize:function resize(e,t){var n=t.mode,r=t.upscale,o=t.size,i=o.width,a=o.height;if(null===i?i=a:null===a&&(a=i),"force"!==n){var s=i/e.width,l=a/e.height,c=1;if("cover"===n?c=Math.max(s,l):"contain"===n&&(c=Math.min(s,l)),c>1&&!1===r)return e;i=e.width*c,a=e.height*c}for(var u=e.width,d=e.height,f=Math.round(i),p=Math.round(a),h=e.data,g=new Uint8ClampedArray(f*p*4),m=u/f,A=d/p,v=Math.ceil(m/2),y=Math.ceil(A/2),b=0;b<p;b++)for(var w=0;w<f;w++){for(var _=4*(w+b*f),E=0,C=0,S=0,T=gx_g=gx_b=gx_a=0,x=(b+.5)*A,O=Math.floor(b*A);O<(b+1)*A;O++)for(var k=Math.abs(x-(O+.5))/y,B=(w+.5)*m,P=k*k,I=Math.floor(w*m);I<(w+1)*m;I++){var R=Math.abs(B-(I+.5))/v,L=Math.sqrt(P+R*R);L>=-1&&L<=1&&(E=2*L*L*L-3*L*L+1)>0&&(R=4*(I+O*u),gx_a+=E*h[R+3],S+=E,h[R+3]<255&&(E=E*h[R+3]/250),T+=E*h[R],gx_g+=E*h[R+1],gx_b+=E*h[R+2],C+=E)}g[_]=T/C,g[_+1]=gx_g/C,g[_+2]=gx_b/C,g[_+3]=gx_a/S}return{data:g,width:f,height:p}}},t=function transform(t,n){var r=function applyTransforms(t,n){return t.forEach(function(t){n=e[t.type](n,t.data)}),n}(t.transforms,t.imageData);n(r)};self.onmessage=function(e){t(e.data.message,function(t){self.postMessage({id:e.data.id,message:t},[t.data.buffer])})}};HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function value(e,t,n){var r=this;setTimeout(function(){for(var o=r.toDataURL(t,n).split(",")[1],i=atob(o),a=i.length,s=new Uint8Array(a);a--;)s[a]=i.charCodeAt(a);e(new Blob([s],{type:t||"image/png"}))})}});var r=function(e){var r=e.addFilter,o=e.utils,i=o.Type,a=o.forin,s=o.loadImage,l=o.getFileFromBlob,c=o.getFilenameWithoutExtension,u=o.createWorker,d=o.isFile,f=["resize"];return r("PREPARE_OUTPUT",function(e,r){var o=r.query,i=r.item;return new Promise(function(r,p){if(!d(e)||!function isImage(e){return/^image/.test(e.type)}(e)||!o("GET_ALLOW_IMAGE_TRANSFORM"))return r(e);var h=o("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),g=null===h?null:h/100,m=o("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),A=i.getMetadata(),v=A.crop,y=[];if(a(i.getMetadata(),function(e,t){f.includes(e)&&y.push({type:e,data:t})}),null===g&&null===m&&!v&&!y.length)return r(e);var b=function toBlob(t,n){(function imageDataToBlob(e,t){return new Promise(function(n,r){var o=document.createElement("canvas");o.width=e.width,o.height=e.height;var i=o.getContext("2d");i.putImageData(e,0,0),o.toBlob(n,t.type,t.quality)})})(t,n).then(function(t){var n=l(t,function renameFileToMatchMimeType(e,t){var n=c(e),r="image/jpeg"===t?"jpg":t.split("/")[1];return n+"."+r}(e.name,function getOutputMimeType(e){return"image/jpeg"===e||"image/png"===e?e:"image/jpeg"}(t.type)));r(n)}).catch(function(e){console.error(e)})},w=URL.createObjectURL(e);s(w).then(function(r){URL.revokeObjectURL(w);var o=(i.getMetadata("exif")||{}).orientation||-1,a=function imageToImageData(e,n,r){n||(n={x:0,y:0,width:1,height:1});var o=document.createElement("canvas"),i=e.naturalWidth,a=e.naturalHeight;r>=5&&r<=8?(o.width=a,o.height=i):(o.width=i,o.height=a);var s=o.getContext("2d");return s.save(),t(s,i,a,r),s.drawImage(e,0,0,i,a),s.restore(),s.getImageData(Math.round(n.x*o.width),Math.round(n.y*o.height),Math.round(n.width*o.width),Math.round(n.height*o.height))}(r,v?v.rect:null,o);if(y.length){var s=u(n);s.post({transforms:y,imageData:a},function(t){b(function objectToImageData(e){var t=void 0;try{t=new ImageData(e.width,e.height)}catch(r){var n=document.createElement("canvas");t=n.getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t}(t),{quality:g,type:m||e.type}),s.terminate()},[a.data.buffer])}else b(a,{quality:g,type:m||e.type})})})}),{options:{allowImageTransform:[!0,i.BOOLEAN],imageTransformOutputMimeType:[null,i.STRING],imageTransformOutputQuality:[null,i.INT]}}};return"undefined"!=typeof navigator&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:r})),r}()},function(e,t,n){
/*!
 * FilePondPluginFileValidateType 1.2.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
e.exports=function(){"use strict";var e=function plugin(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.isString,i=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,l=n.getFilenameFromURL,c=function isValidMimeType(e,t){return e.some(function(e){return/\*$/.test(e)?function mimeTypeMatchesWildCard(e,t){var n=(/^[^/]+/.exec(e)||[]).pop(),r=t.slice(0,-2);return n===r}(t,e):e===t})},u=function validateFile(e,t,n){if(0===t.length)return!0;var r=function getItemType(e){var t="";if(o(e)){var n=l(e),r=s(n);r&&(t=a(r))}else t=e.type;return t}(e);return n?new Promise(function(o,i){n(e,r).then(function(e){c(t,e)?o():i()}).catch(i)}):c(t,r)};return t("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})}),t("ALLOW_HOPPER_ITEM",function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||u(e,n("GET_ACCEPTED_FILE_TYPES"))}),t("LOAD_FILE",function(e,t){var n=t.query;return new Promise(function(t,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var o=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=u(e,o,a),l=function handleRejection(){var e=o.map(function applyMimeTypeMap(e){return function(t){return null!==e[t]&&(e[t]||t)}}(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(e){return!1!==e});r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof s)return s?t(e):l();s.then(function(){t(e)}).catch(l)}else t(e)})}),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},function(e,t,n){
/*!
 * FilePondPluginFileRename 1.1.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
e.exports=function(){"use strict";var e=function plugin(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.renameFile,i=n.isFile,a=n.getExtensionFromFilename,s=n.getFilenameWithoutExtension;return t("LOAD_FILE",function(e,t){var n=t.query;return new Promise(function(t,r){var l=n("GET_ALLOW_FILE_RENAME"),c=n("GET_FILE_RENAME_FUNCTION");if(i(e)&&l&&c){var u=c({name:e.name,basename:s(e.name),extension:".".concat(a(e.name))}),d=function rename(n){t(o(e,n))};"string"!=typeof u?u.then(d):d(u)}else t(e)})}),{options:{allowFileRename:[!0,r.BOOLEAN],fileRenameFunction:[null,r.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.id:t,"all",{name:"ifNotEquals",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?i:""},2:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'            <span class="se-cm-category-item-modal theme-category-bubble lm-tag badge badge-outline-light" data-id="'+l("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'">\n                '+l("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:s)?i.call(a,{name:"title",hash:{},data:o}):i)+"\n            </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<div class="col image-lib-categories-container py-2 px-0 text-left">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</div>"},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(18),o=n.n(r),i=n(127),a=n(117);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){function Giphy(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Giphy),_possibleConstructorReturn(this,_getPrototypeOf(Giphy).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Giphy,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Giphy,[{key:"initialize",value:function initialize(t){if(void 0===e)throw new ReferenceError("Missing lodash");if(void 0===o.a)throw new ReferenceError("Missing axios");"object"!==_typeof(t)&&(t={}),this.categoriesList=[{title:"Trending",count:!1,id:"trending",editable:!1}],this.allowUpload=!1,this.baseUrl=SENDER_ENDPOINT+"userImages/getGiphy/",this.rating=t.rating||"R",this.type=t.rating||"trending",this.offset=t.offset||0,this.limit=t.limit||25,this.searchQuery=""}},{key:"fetch",value:function fetch(t){var n=this;return t||(t=this.getRequestQuery()),new Promise(function(r,i){o.a.get(n.getBaseUrl()+n.getType()+"?"+a.stringify(t)).then(function(t){200===t.status&&e.has(t.data,"data")&&r(n.parseResponse(t))}).catch(function(e){n.handleError(e)})})}},{key:"loadImages",value:function loadImages(){return this.setType("trending"),this.setOffset(0),this.fetch()}},{key:"search",value:function search(e){return e?(this.setType("search"),this.searchQuery=e,this.fetch()):[]}},{key:"parseResponse",value:function parseResponse(t){var n=this,r=[];return e.forEach(t.data.data,function(e){r.push({id:e.id,provider:n.name,extension:e.type,category:"trending",deletable:!1,title:e.title,previewUrl:e.images.downsized.url,originalUrl:e.images.original.url,width:e.images.original.width,height:e.images.original.height,size:e.images.original.size})}),r}},{key:"handleError",value:function handleError(e){console.error(e)}},{key:"getCategories",value:function getCategories(){var e=this;return new Promise(function(t){t(e.categoriesList)})}},{key:"getRequestQuery",value:function getRequestQuery(){var e={limit:this.getLimit(),offset:this.getOffset(),rating:this.getRating()};return"search"===this.getType()&&(e.q=this.searchQuery),e}},{key:"setRating",value:function setRating(e){return!!e&&(this.rating=e,this.rating)}},{key:"getRating",value:function getRating(){return this.rating}},{key:"name",get:function get(){return"Giphy"}}]),Giphy}();t.a=s}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n.n(r),i=n(127),a=n(117),s=n(0),c=n(1),u=n(47);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(t){function UserImages(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserImages),_possibleConstructorReturn(this,_getPrototypeOf(UserImages).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(UserImages,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(UserImages,[{key:"initialize",value:function initialize(t){if(this.allowUpload=!1,void 0===e)throw new ReferenceError("Missing lodash");if(void 0===o.a)throw new ReferenceError("Missing axios");"object"!==_typeof(t)&&(t={}),this.categoriesList=[],this.baseUrl=t.baseUrl||SENDER_ENDPOINT,this.searchQuery=""}},{key:"fetch",value:function fetch(e){var t=this;return e||(e=this.getRequestQuery()),new Promise(function(n){o.a.get(t.getBaseUrl()+"imageFolders/view/"+t.getType()+"?"+a.stringify(e)).then(function(e){n(t.parseResponse(e))}).catch(function(e){t.handleError(e)})})}},{key:"loadImages",value:function loadImages(){return this.setOffset(0),this.fetch()}},{key:"search",value:function search(e){var t=this;return new Promise(function(n){if(!e)return n([]);t.searchQuery=e,o.a.get(t.getBaseUrl()+"userImages/search/"+t.searchQuery).then(function(e){n(t.parseResponse(e))}).catch(function(e){t.handleError(e)})})}},{key:"parseResponse",value:function parseResponse(t){var n=this,r=[];return e.forEach(t.data,function(e){r.push({id:e.UserImage.id,provider:n.name,deletable:!0,extension:e.UserImage.extension,category:n.getType(),title:e.UserImage.title,previewUrl:SENDER_ENDPOINT+e.UserImage.url,originalUrl:SENDER_ENDPOINT+e.UserImage.url,size:e.UserImage.size,width:e.UserImage.width,height:e.UserImage.height})}),r}},{key:"handleError",value:function handleError(e){s.a.publish(c.f.ERROR,{error:new u.a(l("Failed to load patterns: ")+e.statusText,e.responseText,e.status)})}},{key:"getCategories",value:function getCategories(){var t=this;return new Promise(function(n){o.a.get(t.getBaseUrl()+"imageFolders").then(function(r){var o=[];e.forEach(r.data,function(e){"24"===e.ImageFolder.id&&o.push(e.ImageFolder)}),t.categoriesList=o,n(t.categoriesList)})})}},{key:"getRequestQuery",value:function getRequestQuery(){var e={limit:this.getLimit(),offset:this.getOffset()};return"search"===this.getType()&&(e.q=this.searchQuery),e}},{key:"name",get:function get(){return"Patterns"}}]),UserImages}();t.a=d}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n.n(r),i=n(127),a=n(117),s=n(0),c=n(1),u=n(47);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(t){function UserImages(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserImages),_possibleConstructorReturn(this,_getPrototypeOf(UserImages).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(UserImages,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(UserImages,[{key:"initialize",value:function initialize(t){if(void 0===e)throw new ReferenceError("Missing lodash");if(void 0===o.a)throw new ReferenceError("Missing axios");"object"!==_typeof(t)&&(t={}),this.categoriesList=[],this.allowUpload=!0,this.baseUrl=t.baseUrl||SENDER_ENDPOINT,this.searchQuery="",this.offset=t.offset||0,this.limit=t.limit||25}},{key:"delete",value:function _delete(e){var t=this;return new Promise(function(n){o.a.post(t.getBaseUrl()+"userImages/delete/"+e,{id:e}).then(function(e){n(e)})})}},{key:"fetch",value:function fetch(e){var t=this;return e||(e=this.getRequestQuery()),new Promise(function(n){o.a.get(t.getBaseUrl()+"imageFolders/view/"+t.getType()+"?"+a.stringify(e)).then(function(e){n(t.parseResponse(e))}).catch(function(e){t.handleError(e)})})}},{key:"move",value:function move(e,t){var n=this;return new Promise(function(r){o.a.post(n.getBaseUrl()+"userImages/move",{images:e,folder:t}).then(function(e){r(e,t)}).catch(function(e){n.handleError(e)})})}},{key:"bulkDelete",value:function bulkDelete(e){var t=this;return new Promise(function(n){o.a.post(t.getBaseUrl()+"userImages/bulkDelete",{images:e}).then(function(e){n(e)}).catch(function(e){t.handleError(e)})})}},{key:"loadImages",value:function loadImages(){return this.setOffset(0),this.fetch()}},{key:"search",value:function search(e){var t=this;return new Promise(function(n){if(!e)return n([]);t.searchQuery=e,o.a.get(t.getBaseUrl()+"userImages/search/"+t.searchQuery).then(function(e){n(t.parseResponse(e))}).catch(function(e){t.handleError(e)})})}},{key:"parseResponse",value:function parseResponse(t){var n=this,r=[];return e.forEach(t.data,function(e){"24"!==e.UserImage.image_folder_id&&r.push({id:e.UserImage.id,provider:n.name,deletable:!0,extension:e.UserImage.extension,category:n.getType(),title:e.UserImage.title,previewUrl:BASE_ASSETS_URL+e.UserImage.url,originalUrl:BASE_ASSETS_URL+e.UserImage.url,size:e.UserImage.size,width:e.UserImage.width,height:e.UserImage.height})}),r}},{key:"renameImage",value:function renameImage(e,t){var n=this;return new Promise(function(r){o.a.post(n.getBaseUrl()+"/userImages/rename/"+e,{title:t}).then(function(e){r(e)})})}},{key:"deleteFolder",value:function deleteFolder(e){var t=this;return new Promise(function(n){o.a.post(t.getBaseUrl()+"imageFolders/delete/"+e,{id:e}).then(function(e){n(e)}).catch(function(e){t.handleError(e)})})}},{key:"renameFolder",value:function renameFolder(e,t){var n=this;return new Promise(function(r){o.a.post(n.getBaseUrl()+"imageFolders/edit/"+e,{id:e,title:t}).then(function(e){r(e)}).catch(function(e){n.handleError(e)})})}},{key:"createFolder",value:function createFolder(e){var t=this;return new Promise(function(n){o.a.post(t.getBaseUrl()+"imageFolders/add",{title:e}).then(function(e){n(e)}).catch(function(e){t.handleError(e)})})}},{key:"handleError",value:function handleError(e){s.a.publish(c.f.ERROR,{error:new u.a(l("Failed to load images: ")+e.statusText,e.responseText,e.status)})}},{key:"getCategories",value:function getCategories(){var t=this;return new Promise(function(n){o.a.get(t.getBaseUrl()+"imageFolders").then(function(r){var o=[];e.forEach(r.data,function(e){"24"!==e.ImageFolder.id&&o.push(e.ImageFolder)}),t.categoriesList=o,n(t.categoriesList)})})}},{key:"getRequestQuery",value:function getRequestQuery(){var e={limit:this.getLimit(),offset:this.getOffset()};return"search"===this.getType()&&(e.q=this.searchQuery),e}},{key:"name",get:function get(){return"UserImages"}}]),UserImages}();t.a=d}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n.n(r),i=n(127),a=n(117);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){function Unsplash(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Unsplash),_possibleConstructorReturn(this,_getPrototypeOf(Unsplash).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Unsplash,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Unsplash,[{key:"initialize",value:function initialize(t){if(void 0===e)throw new ReferenceError("Missing lodash");if(void 0===o.a)throw new ReferenceError("Missing axios");"object"!==_typeof(t)&&(t={}),this.categoriesList=[{title:"Featured",count:!1,id:"featured",editable:!1}],this.allowUpload=!1,this.baseUrl=window.SENDER_ENDPOINT+"unsplash/get/",this.offset=t.offset||0,this.limit=t.limit||25,this.searchQuery=""}},{key:"fetch",value:function fetch(e){var t=this;return e||(e=this.getRequestQuery()),new Promise(function(n,r){o.a.get(t.getBaseUrl()+"?"+a.stringify(e)).then(function(e){200===e.status&&n(t.parseResponse(e))}).catch(function(e){t.handleError(e)})})}},{key:"loadImages",value:function loadImages(){return this.setOffset(0),this.fetch()}},{key:"search",value:function search(e){return e?(this.setType("search"),this.searchQuery=e,this.fetch()):[]}},{key:"parseResponse",value:function parseResponse(t){var n=this,r=[];return e.forEach(t.data,function(e){r.push({id:e.id,provider:n.name,title:e.description+" - by "+e.user.name,category:"featured",deletable:!1,previewUrl:e.urls.thumb,originalUrl:e.urls.regular,width:e.width,height:e.height})}),r}},{key:"handleError",value:function handleError(e){console.error(e)}},{key:"getCategories",value:function getCategories(){var e=this;return new Promise(function(t){t(e.categoriesList)})}},{key:"getRequestQuery",value:function getRequestQuery(){var e={page:this.getOffset()||1,per_page:this.getLimit(),orientation:this.orientation||"squarish",q:"featured"};return"search"===this.getType()&&(e.q=this.searchQuery),e}},{key:"name",get:function get(){return"Unsplash"}}]),Unsplash}();t.a=s}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(603),o=n(549),i=n(28),a=n(0),s=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function EmailModule(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailModule),_possibleConstructorReturn(this,_getPrototypeOf(EmailModule).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailModule,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(EmailModule,[{key:"initialize",value:function initialize(){this.model=new r.a({id:HTML_ID}),this.view=new o.a({el:this.get("element"),model:this.model}),a.a.subscribe(s.d.SECTIONS.READY,function(){}),a.a.subscribe(s.d.SAVE_HTML,function(){})}},{key:"saveEmailHtml",value:function saveEmailHtml(){return this.model.save({html:this.getEmailBodyHtml()})}},{key:"getEmailBodyHtml",value:function getEmailBodyHtml(){a.a.publishSync("Email.savingHtml");var t=this.view.getIframe("html").clone();return t.find("style").each(function(t,n){"senderDefaultStyles"!==n.id&&e(n).remove()}),t.find("div").each(function(t,n){n.className.indexOf("filepond")>=0&&e(n).remove()}),t.find("script").remove(),t.find("link").remove(),'<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">'+t.html()+"</html>"}}]),EmailModule}();t.a=l}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s=e.lambda,l=e.escapeExpression;return'    <img\n        width="'+l(s(null!=a[1]?a[1].width:a[1],t))+'"\n        srcset="'+l(s(null!=a[1]?a[1].path:a[1],t))+"/128/"+l(s(null!=a[1]?a[1].style:a[1],t))+"/"+l(s(t,t))+'.png 2x"\n        src="'+l(s(null!=a[1]?a[1].path:a[1],t))+"/64/"+l(s(null!=a[1]?a[1].style:a[1],t))+"/"+l(s(t,t))+'.png"\n        alt="'+l(s(t,t))+' icon">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.types:t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:""},useData:!0,useDepths:!0})},function(e,t,n){"use strict";(function(e){var r=n(67),o=n(86),i=n(5),a=n(611),s=n(610);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(t){function VideoBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoBlock),_possibleConstructorReturn(this,_getPrototypeOf(VideoBlock).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(VideoBlock,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(VideoBlock,[{key:"updateImageWidth",value:function updateImageWidth(){var e=Object(a.a)(this,"collection.column.view.$el.width")||0;if(0===e)return!1;var t=this.getAttributes("widthPercent");if(100===t)return this.set("widthPixels","100%",{silent:!0,autosave:!0}),!0;var n=e;return(n=n/100*t)<30&&(n=30),this.set("widthPixels",Object(s.a)(n),{silent:!0,autosave:!0}),!0}},{key:"defaults",get:function get(){return{type:"VideoBlock",widthPercent:null,widthPixels:null,align:null,backgroundColor:null,borderRadius:0,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,src:window.SENDER_ENDPOINT+"email-editor/static/img/youtubePlaceholder.jpg",videoUrl:null,href:null,alt:null,hideOnMobile:null,videoQuality:null,lowQuality:null,midQuality:null,originalQuality:null,is_modified:!1}}},{key:"name",get:function get(){return"VideoBlock"}},{key:"settingsScheme",get:function get(){var t=this;return this.sectionSettings=new o.a,this.sectionSettings.section=e.get(this,"collection.column.collection.section"),this.settingsSchemes={model:this,customBehavior:{matchAll:!1,rules:{backgroundColor:["#ffffff","#000000"]},actions:{hide:["paddingBottom"],show:[],beforeChange:function beforeChange(){},afterChange:function afterChange(){}}},tabs:{content:{accordions:[{title:l("Video"),isOpen:!0,lockOpen:!0,controls:[{title:l("VIDEO"),isPro:!1,parts:[{title:"Url",type:"InputComponent",targetModel:this,options:{classes:"sender-video-url",bind:["href"],eventType:"change",prependText:'<i class="fas fa-link"></i>',placeholder:l("link"),size:"col-6"}}]},{title:l("ALTERNATIVE TEXT"),isPro:!1,parts:[{type:"InputComponent",targetModel:this,options:{bind:["alt"],prependText:'<i class="fas fa-font"></i>',placeholder:l("Text when no video"),size:"col-6"}}]}]}]},customize:{accordions:[{title:l("Video"),isOpen:!0,controls:[{title:l("SIZE"),isPro:!1,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["widthPercent"],buttonStyle:"outline-secondary",size:"sm",min:1,max:100}}]},{title:l("VIDEO QUALITY"),isPro:!1,parts:[{title:"Quality",type:"ButtonGroupComponent",targetModel:this,options:{bind:["videoQuality"],callback:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if("original"!==t.get("videoQuality")){n.next=6;break}return n.next=3,i.a.confirm({type:null,confirmButtonText:l("Add image"),text:l("Original size video gif will increase size of email!"),title:l("Are you sure want to add original size gif?")});case 3:e=n.sent,e.value?t.set("videoQuality","original"):t.set("videoQuality","normal");case 6:case"end":return n.stop()}},_callee)}));return function callback(){return e.apply(this,arguments)}}(),eventType:"change",buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"low",text:l("Low")},{value:"normal",text:l("Average")},{value:"original",text:l("Original")}]}}]}]},{title:l("Block settings"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),isPro:!1,nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingLeft","paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}]}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:this,options:{bind:["paddingTop","paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}]}}]},{title:l("BLOCK SPACING"),isPro:!0,parts:[{title:"top spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["paddingTop"],min:0,max:500,step:1}},{title:"bottom spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["paddingBottom"],min:0,max:500,step:1}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["paddingLeft"],min:0,max:500,step:1}},{title:"right spacing",type:"InputPillComponent",targetModel:this,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["paddingRight"],min:0,max:500,step:1}}]},{title:l("BLOCK BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["backgroundColor"]}}]}]},{title:l("Column settings"),isOpen:!1,isPro:!0,controls:[{title:l("COLUMN VERTICAL ALIGNMENT"),isPro:!0,parts:[{title:"POSITION",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["valign"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"bottom",text:l("Bottom"),spanMargin:"0 auto",textMargin:".67em 0"},{value:"middle",text:l("Middle"),spanMargin:"0 auto",textMargin:".75em 0"},{value:"top",text:l("Top"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){}}}]},{title:l("ON MOBILE"),isPro:!0,parts:[{title:"ON MOBILE",type:"ButtonGroupComponent",targetModel:this.collection.column,options:{bind:["hideOnMobile"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,text:l("Show")},{value:!0,text:l("Hide")}],callback:function callback(){}}}]},{title:l("COLUMN BACKGROUND COLOR"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this.collection.column,options:{bind:["bgColor"]}}]}]}]}}},this.settingsSchemes}}]),VideoBlock}();t.a=c}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(167),o=n(157),i=n(3),a=n(25);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){function Collection(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Collection),n=_possibleConstructorReturn(this,_getPrototypeOf(Collection).call(this)),e.isBoolean(i.abortCtor)&&i.abortCtor)return _possibleConstructorReturn(n);var a=!e.isUndefined(n.model),s=!e.isUndefined(n.comparator);return a||(n.model=o.a),i.model&&!a&&(n.model=i.model),void 0===i.comparator||s||(n.comparator=i.comparator),e.isBoolean(i.abortCtorInit)&&i.abortCtorInit?_possibleConstructorReturn(n):(n._reset(),(t=n).initialize.apply(t,arguments),r&&n.reset(r,e.extend({silent:!0},i)),n)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Collection,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Collection,[{key:"add",value:function add(t,n){return this.set(t,e.extend({merge:!1},n,l))}},{key:"at",value:function at(e){return e<0&&(e+=this.length),this.models[e]}},{key:"clone",value:function clone(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})}},{key:"create",value:function create(t,n){var r=(n=n?e.clone(n):{}).wait,o=this._prepareModel(t,n);if(!o)return!1;r||this.add(o,n);var i=this,a=n.success;return n.success=function(e,t,n){r&&i.add(e,n),a&&a.call(n.context,e,t,n)},o.save(null,n),o}},{key:"fetch",value:function fetch(t){var n=this,r=(t=e.extend({parse:!0},t)).success;return t.success=function(e){var o=t.reset?"reset":"set";a.a.log("Collection - fetch - success callback - method: ".concat(o),!0),n[o](e,t),r&&r.call(t.context,n,e,t),n.trigger("sync",n,e,t)},i.a.wrapError(this,t),this.sync("read",this,t)}},{key:"findWhere",value:function findWhere(e){return this.where(e,!0)}},{key:"get",value:function get(e){if(!i.a.isNullOrUndef(e)){var t=this.modelId(e.attributes||e);return a.a.log("Collection - get - id: ".concat(t)),this._byId[e]||this._byId[t]||e.cid&&this._byId[e.cid]}}},{key:"has",value:function has(e){return!i.a.isNullOrUndef(this.get(e))}},{key:"initialize",value:function initialize(){}},{key:"modelId",value:function modelId(e){return a.a.log("Collection - modelId - 0 - this.model.prototype.idAttribute: ".concat(this.model.prototype.idAttribute),!0),a.a.log("Collection - modelId - 1 - attrs: ".concat(JSON.stringify(e))),e[this.model.prototype.idAttribute||"id"]}},{key:"parse",value:function parse(e,t){return e}},{key:"pluck",value:function pluck(e){return this.map("".concat(e))}},{key:"pop",value:function pop(e){var t=this.at(this.length-1);return this.remove(t,e)}},{key:"_prepareModel",value:function _prepareModel(t,n){if(i.a.isModel(t))return a.a.log("Collection - _prepareModel - 0",!0),t.collection||(t.collection=this),t;(n=n?e.clone(n):{}).collection=this,a.a.log("Collection - _prepareModel - 1 - attrs.parseObject: ".concat(t.parseObject));var r=new this.model(t,n);return r.validationError?(this.trigger("invalid",this,r.validationError,n),!1):r}},{key:"push",value:function push(t,n){return this.add(t,e.extend({at:this.length},n))}},{key:"remove",value:function remove(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=e.extend({},n);var r=!e.isArray(t);t=r?[t]:t.slice();var o=f(this,t,n);return!n.silent&&o.length&&(n.changes={added:[],merged:[],removed:o},this.trigger("update",this,n)),r?o[0]:o}},{key:"_reset",value:function _reset(){this.length=0,this.models=[],this._byId={}}},{key:"reset",value:function reset(t,n){n=n?e.clone(n):{};for(var r=0;r<this.models.length;r++)p(this,this.models[r]);return n.previousModels=this.models,this._reset(),t=this.add(t,e.extend({silent:!0},n)),n.silent||this.trigger("reset",this,n),t}},{key:"set",value:function set(t,n){if(a.a.log("Collection - set - 0",!0),!i.a.isNullOrUndef(t)){(n=e.extend({},c,n)).parse&&!i.a.isModel(t)&&(t=this.parse(t,n)||[]);var r=!e.isArray(t);t=r?[t]:t.slice();var o=n.at;i.a.isNullOrUndef(o)||(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1),a.a.log("Collection - set - 1 - at: ".concat(o,"; models.length: ").concat(t.length));for(var s,set=[],l=[],d=[],p=[],g={},m=n.add,A=n.merge,v=n.remove,y=!1,b=this.comparator&&i.a.isNullOrUndef(o)&&!1!==n.sort,w=e.isString(this.comparator)?this.comparator:null,_=0;_<t.length;_++){s=t[_];var E=this.get(s);if(E){if(a.a.log("Collection - set - 2 - existing"),A&&s!==E){a.a.log("Collection - set - 3 - merge && model !== existing");var C=i.a.isModel(s)?s.attributes:s;n.parse&&(C=E.parse(C,n)),E.set(C,n),d.push(E),b&&!y&&(y=E.hasChanged(w))}g[E.cid]||(a.a.log("Collection - set - 4 - !modelMap[existing.cid]"),g[E.cid]=!0,set.push(E)),t[_]=E}else m&&(a.a.log("Collection - set - 5 - add"),s=t[_]=this._prepareModel(s,n),i.a.isModel(s)&&(a.a.log("Collection - set - 6 - toAdd"),l.push(s),u(this,s),g[s.cid]=!0,set.push(s)))}if(v){for(var S=0;S<this.length;S++)g[(s=this.models[S]).cid]||(a.a.log("Collection - set - 7 - toRemove push"),p.push(s));p.length&&(a.a.log("Collection - set - 8 - before invoking s_REMOVE_MODELS"),f(this,p,n))}var T=!1,x=!b&&m&&v;if(set.length&&x?(T=this.length!==set.length||e.some(this.models,function(e,t){return e!==set[t]}),a.a.log("Collection - set - 9 - set.length > 0 && replace - orderChanged: ".concat(T)),this.models.length=0,h(this.models,set,0),this.length=this.models.length):l.length&&(b&&(y=!0),a.a.log("Collection - set - 10 - toAdd.length > 0 - sort: ".concat(y,"; at: ").concat(o)),h(this.models,l,i.a.isNullOrUndef(o)?this.length:o),this.length=this.models.length),y&&(a.a.log("Collection - set - 11 - sorting silent"),this.sort({silent:!0})),!n.silent){a.a.log("Collection - set - 12 - !options.silent: ".concat(!n.silent));for(var O=0;O<l.length;O++)i.a.isNullOrUndef(o)||(n.index=o+O),(s=l[O]).trigger("add",s,this,n);(y||T)&&this.trigger("sort",this,n),(l.length||p.length||d.length)&&(n.changes={added:l,removed:p,merged:d},this.trigger("update",this,n))}return r?t[0]:t}}},{key:"shift",value:function shift(e){var t=this.at(0);return this.remove(t,e)}},{key:"slice",value:function slice(){return Array.prototype.slice.apply(this.models,arguments)}},{key:"sort",value:function sort(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.comparator;if(!n)throw new Error("Cannot sort a set without a comparator");var r=n.length;return e.isFunction(n)&&(n=e.bind(n,this)),1===r||e.isString(n)?this.models=this.sortBy(n):this.models.sort(n),t.silent||this.trigger("sort",this,t),this}},{key:"sync",value:function sync(){return a.a.log("Collection - sync",!0),Backbone.sync.apply(this,arguments)}},{key:"toJSON",value:function toJSON(e){return this.map(function(t){return t.toJSON(e)})}},{key:"unshift",value:function unshift(t,n){return this.add(t,e.extend({at:0},n))}},{key:"where",value:function where(e,t){return this[t?"find":"filter"](e)}}]),Collection}();i.a.addUnderscoreMethods(s,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var l={add:!0,remove:!1},c={add:!0,remove:!0,merge:!0},u=function s_ADD_REFERENCE(e,t){e._byId[t.cid]=t;var n=e.modelId(t.attributes);a.a.log("Collection - s_ADD_REFERENCE - id: ".concat(n,"; model.cid: ").concat(t.cid),!0),i.a.isNullOrUndef(n)||(e._byId[n]=t),t.on("all",d,e)},d=function s_ON_MODEL_EVENT(e,t,n,r){if(t){if(a.a.log("Collection - s_ON_MODEL_EVENT - 0 - event: ".concat(e),!0),("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var o=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);a.a.log("Collection - s_ON_MODEL_EVENT - 1 - change - id: ".concat(s,"; prevId: ").concat(o)),o!==s&&(i.a.isNullOrUndef(o)||delete this._byId[o],i.a.isNullOrUndef(s)||(this._byId[s]=t))}this.trigger.apply(this,arguments)}},f=function s_REMOVE_MODELS(e,t,n){for(var r=[],o=0;o<t.length;o++){var s=e.get(t[o]);if(a.a.log("Collection - s_REMOVE_MODELS - 0 - model: ".concat(s),!0),s){a.a.log("Collection - s_REMOVE_MODELS - 1 - model: ".concat(s.toJSON()));var l=e.indexOf(s);a.a.log("Collection - s_REMOVE_MODELS - 2 - index: ".concat(l)),e.models.splice(l,1),e.length--,delete e._byId[s.cid];var c=e.modelId(s.attributes);i.a.isNullOrUndef(c)||delete e._byId[c],n.silent||(n.index=l,s.trigger("remove",s,e,n)),r.push(s),p(e,s,n)}}return r},p=function s_REMOVE_REFERENCE(e,t){delete e._byId[t.cid];var n=e.modelId(t.attributes);a.a.log("Collection - s_REMOVE_REFERENCE - id: ".concat(n,"; model.cid: ").concat(t.cid)),i.a.isNullOrUndef(n)||delete e._byId[n],e===t.collection&&delete t.collection,t.off("all",d,e)},h=function s_SPLICE(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=new Array(e.length-n),o=t.length,i=0;i<r.length;i++)r[i]=e[i+n];for(var a=0;a<o;a++)e[a+n]=t[a];for(var s=0;s<r.length;s++)e[s+o+n]=r[s]};t.a=s}).call(this,n(24))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return(null!=(i=n.if.call(s,null!=t?t.href:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?i:"")+'                <img width="'+c("function"==typeof(a=null!=(a=n.widthPixels||(null!=t?t.widthPixels:t))?a:l)?a.call(s,{name:"widthPixels",hash:{},data:o}):a)+'"\n                     src="'+c("function"==typeof(a=null!=(a=n.src||(null!=t?t.src:t))?a:l)?a.call(s,{name:"src",hash:{},data:o}):a)+'"\n                     border="0"\n                     alt="'+c("function"==typeof(a=null!=(a=n.alt||(null!=t?t.alt:t))?a:l)?a.call(s,{name:"alt",hash:{},data:o}):a)+'"\n                     height="auto"\n                     style="display: block;\n                             box-sizing: border-box;\n                             max-width: 100%;\n                             border-radius: '+c("function"==typeof(a=null!=(a=n.borderRadius||(null!=t?t.borderRadius:t))?a:l)?a.call(s,{name:"borderRadius",hash:{},data:o}):a)+'px;">\n'+(null!=(i=n.if.call(s,null!=t?t.href:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")},2:function(e,t,n,r,o){var i;return'                    <a href="'+e.escapeExpression("function"==typeof(i=null!=(i=n.href||(null!=t?t.href:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"href",hash:{},data:o}):i)+'">\n'},4:function(e,t,n,r,o){return"                    </a>\n"},6:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'                <img width="'+l("function"==typeof(i=null!=(i=n.widthPixels||(null!=t?t.widthPixels:t))?i:s)?i.call(a,{name:"widthPixels",hash:{},data:o}):i)+'"\n                         height="auto"\n                         data-id="'+l(e.lambda(null!=t?t.id:t,t))+'"\n                         class="image-block-content-manager"\n                         src="'+l((n.global||t&&t.global||s).call(a,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'email-editor/static/img/noimage.jpg"\n                         style="display: block;\n                                 box-sizing: border-box;\n                                 max-width: 100%;\n                                 border-radius: '+l("function"==typeof(i=null!=(i=n.borderRadius||(null!=t?t.borderRadius:t))?i:s)?i.call(a,{name:"borderRadius",hash:{},data:o}):i)+'px;"\n                         alt="'+l("function"==typeof(i=null!=(i=n.alt||(null!=t?t.alt:t))?i:s)?i.call(a,{name:"alt",hash:{},data:o}):i)+'">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<tr class="imageBlock-row-tr image-hover dragMe">\n    <td class="internal-top-level-td"\n        align="'+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+'"\n        bgcolor="'+u(typeof(a=null!=(a=n.backgroundColor||(null!=t?t.backgroundColor:t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:o}):a)+'"\n        style="padding-top: '+u(typeof(a=null!=(a=n.paddingTop||(null!=t?t.paddingTop:t))?a:l)===c?a.call(s,{name:"paddingTop",hash:{},data:o}):a)+"px;\n                padding-right: "+u(typeof(a=null!=(a=n.paddingRight||(null!=t?t.paddingRight:t))?a:l)===c?a.call(s,{name:"paddingRight",hash:{},data:o}):a)+"px;\n                padding-bottom: "+u(typeof(a=null!=(a=n.paddingBottom||(null!=t?t.paddingBottom:t))?a:l)===c?a.call(s,{name:"paddingBottom",hash:{},data:o}):a)+"px;\n                padding-left: "+u(typeof(a=null!=(a=n.paddingLeft||(null!=t?t.paddingLeft:t))?a:l)===c?a.call(s,{name:"paddingLeft",hash:{},data:o}):a)+'px;">\n\n        <div id="Image_'+u(typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)===c?a.call(s,{name:"id",hash:{},data:o}):a)+'" class="imageBlock-container element-wrapper">\n'+(null!=(i=n.if.call(s,null!=t?t.hasImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o}))?i:"")+"\n        </div>\n    </td>\n</tr>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.SocialIcons:t,{name:"each",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:""},2:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f=e.lambda;return(null!=(s=(n.ifNotEquals||t&&t.ifNotEquals||u).call(c,o&&o.key,"0",{name:"ifNotEquals",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:"")+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=t?t.textPosition:t,"left",{name:"ifEquals",hash:{},fn:e.program(5,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                        <td  id="social-icon-'+d("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:u)?l.call(c,{name:"key",hash:{},data:o}):l)+'" class="editor-wrapper element-wrapper">\n                            <table>\n\n'+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=t?t.textPosition:t,"top",{name:"ifEquals",hash:{},fn:e.program(7,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                                <tr>\n                                    <td align="center">\n                                        <a href="'+d(f(null!=t?t.href:t,t))+'">\n                                            <img src="'+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=t?t.mediaType:t,"custom",{name:"ifEquals",hash:{},fn:e.program(9,o,0,i,a),inverse:e.program(11,o,0,i,a),data:o}))?s:"")+'"\n                                                 width="'+(null!=(s=n.if.call(c,null!=a[1]?a[1].customSize:a[1],{name:"if",hash:{},fn:e.program(13,o,0,i,a),inverse:e.program(15,o,0,i,a),data:o}))?s:"")+'"\n                                                 alt="'+d(f(null!=t?t.title:t,t))+d((n.l||t&&t.l||u).call(c,"icon",{name:"l",hash:{},data:o}))+'"\n                                                 height="auto"\n                                            >\n                                        </a>\n                                    </td>\n                                </tr>\n'+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=t?t.textPosition:t,"bottom",{name:"ifEquals",hash:{},fn:e.program(17,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"                            </table>\n                        </td>\n"+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=t?t.textPosition:t,"right",{name:"ifEquals",hash:{},fn:e.program(19,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"\n"},3:function(e,t,n,r,o,i,a){return'                            <td class = "socialButtonSpacer"  width=" '+e.escapeExpression(e.lambda(null!=a[1]?a[1].socialSpacing:a[1],t))+'"></td>\n'},5:function(e,t,n,r,o,i,a){var s,l,c=e.escapeExpression,u=e.lambda;return'                            <td  id="social-icon-'+c("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:o}):l)+'" class="editor-wrapper element-wrapper">\n                                <a href="'+c(u(null!=t?t.href:t,t))+'">\n                                    <span class="button-text" style="font-size:'+c(u(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                            font-family: "+c(u(null!=a[1]?a[1].fontFamily:a[1],t))+";\n                                            color: "+c(u(null!=a[1]?a[1].fontColor:a[1],t))+";\n                                            text-decoration: "+c(u(null!=a[1]?a[1].fontDecoration:a[1],t))+";\n                                            font-weight: "+c(u(null!=a[1]?a[1].fontWeight:a[1],t))+";\n                                            font-style:"+c(u(null!=a[1]?a[1].fontStyle:a[1],t))+';">'+(null!=(s=u(null!=t?t.text:t,t))?s:"")+"\n                                    </span>\n                                </a>\n                            </td>\n"},7:function(e,t,n,r,o,i,a){var s,l=e.lambda,c=e.escapeExpression;return'                                    <tr>\n                                        <td>\n                                            <a href="'+c(l(null!=t?t.href:t,t))+'">\n                                                <span class="button-text" style="font-size:'+c(l(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                                    font-family: "+c(l(null!=a[1]?a[1].fontFamily:a[1],t))+";\n                                                    color: "+c(l(null!=a[1]?a[1].fontColor:a[1],t))+";\n                                                    text-decoration: "+c(l(null!=a[1]?a[1].fontDecoration:a[1],t))+";\n                                                    font-weight: "+c(l(null!=a[1]?a[1].fontWeight:a[1],t))+";\n                                                    font-style:"+c(l(null!=a[1]?a[1].fontStyle:a[1],t))+';">'+(null!=(s=l(null!=t?t.text:t,t))?s:"")+"\n                                                </span>\n                                            </a>\n                                        </td>\n                                    </tr>\n"},9:function(e,t,n,r,o){return e.escapeExpression(e.lambda(null!=t?t.customUrl:t,t))},11:function(e,t,n,r,o,i,a){var s=e.escapeExpression,l=e.lambda;return s((n.global||t&&t.global||n.helperMissing).call(null!=t?t:e.nullContext||{},"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+"/email-editor/static/img/social/"+s(l(null!=a[1]?a[1].iconSize:a[1],t))+"/"+s(l(null!=a[1]?a[1].styleType:a[1],t))+"/"+s(l(null!=t?t.mediaType:t,t))+".png"},13:function(e,t,n,r,o,i,a){return e.escapeExpression(e.lambda(null!=a[1]?a[1].customSize:a[1],t))},15:function(e,t,n,r,o,i,a){return e.escapeExpression((n.math||t&&t.math||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=a[1]?a[1].iconSize:a[1],"/",2,{name:"math",hash:{},data:o}))},17:function(e,t,n,r,o,i,a){var s,l=e.lambda,c=e.escapeExpression;return'                                <tr>\n                                    <td>\n                                        <a href="'+c(l(null!=t?t.href:t,t))+'">\n                                            <span class="button-text" style="font-size:'+c(l(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                                    font-family: "+c(l(null!=a[1]?a[1].fontFamily:a[1],t))+";\n                                                    color: "+c(l(null!=a[1]?a[1].fontColor:a[1],t))+";\n                                                    text-decoration: "+c(l(null!=a[1]?a[1].fontDecoration:a[1],t))+";\n                                                    font-weight: "+c(l(null!=a[1]?a[1].fontWeight:a[1],t))+";\n                                                    font-style:"+c(l(null!=a[1]?a[1].fontStyle:a[1],t))+';">'+(null!=(s=l(null!=t?t.text:t,t))?s:"")+"\n                                            </span>\n                                        </a>\n                                    </td>\n                                </tr>\n"},19:function(e,t,n,r,o,i,a){var s,l,c=e.escapeExpression,u=e.lambda;return'                            <td  id="social-icon-'+c("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:o}):l)+'" class="editor-wrapper element-wrapper">\n                                <a href="'+c(u(null!=t?t.href:t,t))+'">\n                                    <span class="button-text" style="font-size:'+c(u(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                        font-family: "+c(u(null!=a[1]?a[1].fontFamily:a[1],t))+";\n                                        color: "+c(u(null!=a[1]?a[1].fontColor:a[1],t))+";\n                                        text-decoration: "+c(u(null!=a[1]?a[1].fontDecoration:a[1],t))+";\n                                        font-weight: "+c(u(null!=a[1]?a[1].fontWeight:a[1],t))+";\n                                        font-style:"+c(u(null!=a[1]?a[1].fontStyle:a[1],t))+';">'+(null!=(s=u(null!=t?t.text:t,t))?s:"")+"\n                                    </span>\n                                </a>\n                            </td>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<tr class="dragMe">\n    <td class="internal-top-level-td text-hover" align = "'+(null!=(s=typeof(l=null!=(l=n.align||(null!=t?t.align:t))?l:u)===d?l.call(c,{name:"align",hash:{},data:o}):l)?s:"")+'" bgcolor="'+f(typeof(l=null!=(l=n.backgroundColor||(null!=t?t.backgroundColor:t))?l:u)===d?l.call(c,{name:"backgroundColor",hash:{},data:o}):l)+'" width="100%" style="padding-left: '+f((n.OR||t&&t.OR||u).call(c,null!=t?t.paddingLeft:t,null!=(s=null!=t?t.theme:t)?s.paddingLeft:s,{name:"OR",hash:{},data:o}))+"px; padding-top: "+f((n.OR||t&&t.OR||u).call(c,null!=t?t.paddingTop:t,null!=(s=null!=t?t.theme:t)?s.paddingTop:s,{name:"OR",hash:{},data:o}))+"px; padding-right: "+f((n.OR||t&&t.OR||u).call(c,null!=t?t.paddingRight:t,null!=(s=null!=t?t.theme:t)?s.paddingRight:s,{name:"OR",hash:{},data:o}))+"px; padding-bottom: "+f((n.OR||t&&t.OR||u).call(c,null!=t?t.paddingBottom:t,null!=(s=null!=t?t.theme:t)?s.paddingBottom:s,{name:"OR",hash:{},data:o}))+'px;">\n        <table width="auto" border="0" cellpadding="0" cellspacing="0" class="internal-content-table" style="width: auto !important; border-style: '+f(typeof(l=null!=(l=n.borderStyle||(null!=t?t.borderStyle:t))?l:u)===d?l.call(c,{name:"borderStyle",hash:{},data:o}):l)+"; border-radius: "+f(typeof(l=null!=(l=n.borderRadius||(null!=t?t.borderRadius:t))?l:u)===d?l.call(c,{name:"borderRadius",hash:{},data:o}):l)+"px; border-width: "+f(typeof(l=null!=(l=n.borderWidth||(null!=t?t.borderWidth:t))?l:u)===d?l.call(c,{name:"borderWidth",hash:{},data:o}):l)+"px; border-color: "+f(typeof(l=null!=(l=n.borderColor||(null!=t?t.borderColor:t))?l:u)===d?l.call(c,{name:"borderColor",hash:{},data:o}):l)+';">\n            <tr align ="center">\n'+(null!=(s=n.if.call(c,null!=t?t.SocialIcons:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"        </tr>\n        </table>\n    </td>\n</tr>\n\n\n\n\n\n\n"},useData:!0,useDepths:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l="function",c=e.escapeExpression;return'<tr class="dragMe">\n    <td align="center" bgcolor="'+c(typeof(i=null!=(i=n.backgroundColor||(null!=t?t.backgroundColor:t))?i:s)===l?i.call(a,{name:"backgroundColor",hash:{},data:o}):i)+'" style="padding-top: '+c(typeof(i=null!=(i=n.paddingTop||(null!=t?t.paddingTop:t))?i:s)===l?i.call(a,{name:"paddingTop",hash:{},data:o}):i)+"px; padding-bottom: "+c(typeof(i=null!=(i=n.paddingBottom||(null!=t?t.paddingBottom:t))?i:s)===l?i.call(a,{name:"paddingBottom",hash:{},data:o}):i)+'px;">\n        <table border="0" cellpadding="0" cellspacing="0" width="'+c(typeof(i=null!=(i=n.separatorWidth||(null!=t?t.separatorWidth:t))?i:s)===l?i.call(a,{name:"separatorWidth",hash:{},data:o}):i)+'" style="border-collapse: initial !important;">\n            <tr>\n                <td style=" border-top-style: '+c(typeof(i=null!=(i=n.separatorBorderStyle||(null!=t?t.separatorBorderStyle:t))?i:s)===l?i.call(a,{name:"separatorBorderStyle",hash:{},data:o}):i)+";\n                            border-top-width: "+c(typeof(i=null!=(i=n.separatorBorderWidth||(null!=t?t.separatorBorderWidth:t))?i:s)===l?i.call(a,{name:"separatorBorderWidth",hash:{},data:o}):i)+"px;\n                            border-top-color: "+c(typeof(i=null!=(i=n.separatorBorderColor||(null!=t?t.separatorBorderColor:t))?i:s)===l?i.call(a,{name:"separatorBorderColor",hash:{},data:o}):i)+';"></td>\n            </tr>\n          </table>\n    </td>\n</tr>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'                <a href="'+e.escapeExpression("function"==typeof(i=null!=(i=n.href||(null!=t?t.href:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"href",hash:{},data:o}):i)+'">\n'},3:function(e,t,n,r,o){var i;return'width="'+e.escapeExpression("function"==typeof(i=null!=(i=n.widthPixels||(null!=t?t.widthPixels:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"widthPixels",hash:{},data:o}):i)+'"'},5:function(e,t,n,r,o){return"                </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<tr class="dragMe">\n    <td align="'+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+'"\n        bgcolor="'+u(typeof(a=null!=(a=n.backgroundColor||(null!=t?t.backgroundColor:t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:o}):a)+'"\n        style="padding-top: '+u(typeof(a=null!=(a=n.paddingTop||(null!=t?t.paddingTop:t))?a:l)===c?a.call(s,{name:"paddingTop",hash:{},data:o}):a)+"px;\n                padding-right: "+u(typeof(a=null!=(a=n.paddingRight||(null!=t?t.paddingRight:t))?a:l)===c?a.call(s,{name:"paddingRight",hash:{},data:o}):a)+"px;\n                padding-bottom: "+u(typeof(a=null!=(a=n.paddingBottom||(null!=t?t.paddingBottom:t))?a:l)===c?a.call(s,{name:"paddingBottom",hash:{},data:o}):a)+"px;\n                padding-left: "+u(typeof(a=null!=(a=n.paddingLeft||(null!=t?t.paddingLeft:t))?a:l)===c?a.call(s,{name:"paddingLeft",hash:{},data:o}):a)+'px;">\n\n        <div class="videoBlock-container element-wrapper">\n\n'+(null!=(i=n.if.call(s,null!=t?t.href:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"                <img "+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||l).call(s,null!=t?t.widthPercent:t,100,{name:"ifNotEquals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'\n                     height="auto"\n                     data-id="'+u(e.lambda(null!=t?t.id:t,t))+'"\n                     class="image-block-content-manager"\n                     src="'+u(typeof(a=null!=(a=n.src||(null!=t?t.src:t))?a:l)===c?a.call(s,{name:"src",hash:{},data:o}):a)+'"\n                     style="display: block;\n                             box-sizing: border-box;\n                             max-width: 100%;\n                             border-radius: '+u(typeof(a=null!=(a=n.borderRadius||(null!=t?t.borderRadius:t))?a:l)===c?a.call(s,{name:"borderRadius",hash:{},data:o}):a)+'px;"\n                     alt="'+u(typeof(a=null!=(a=n.alt||(null!=t?t.alt:t))?a:l)===c?a.call(s,{name:"alt",hash:{},data:o}):a)+'">\n'+(null!=(i=n.if.call(s,null!=t?t.href:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+"        </div>\n    </td>\n</tr>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda;return'<div style="padding: 5px; color: #fff; background-color: red; font-size: 13px;">\n    ⚠️ '+e.escapeExpression(a(null!=t?t.errorString:t,t))+'\n</div>\n<div style="border:2px solid red; padding: 5px;">\n    <xmp style="white-space: pre-wrap; margin: 0;">\n        '+(null!=(i=a(null!=t?t.code:t,t))?i:"")+"\n    </xmp>\n</div>"},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(13),o=n(527),i=n.n(o),a=n(528),s=(n(666),n(667),n(668),n(669),n(670),n(739)),l=n(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(t){function HtmlEditorView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlEditorView),_possibleConstructorReturn(this,_getPrototypeOf(HtmlEditorView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HtmlEditorView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(HtmlEditorView,[{key:"toggleHandlebars",value:function toggleHandlebars(){var e=!this.model.get("handlebars");this.model.set("handlebars",e),!0===e?(this.model.trigger("setMode","ace/mode/handlebars"),l.a.toast("Handlebars enabled")):(l.a.toast("Handlebars disabled"),this.model.trigger("setMode","ace/mode/html"))}},{key:"makeResizableDiv",value:function makeResizableDiv(){var e=this;this.emailFrame[0].scrollTop=500,this.emailFrame.css("height","calc(100vh - ".concat(500,"px)")),this.$el.find(".html-editor-meta").on("mousedown.resizer",function(t){t.preventDefault(),t.stopPropagation(),e.originalHeight=parseFloat(window.getComputedStyle(e.$el.find(".html-edit-container")[0],null).getPropertyValue("height").replace("px","")),e.originalY=e.$el.find(".html-edit-container")[0].getBoundingClientRect().top,e.originalMouseY=t.pageY,e.$el.on("mousemove.resizer",function(t){e.resize(t)}),e.$el.on("mouseup.resizer",function(){e.stopResize()})})}},{key:"resize",value:function resize(t){t.preventDefault(),t.stopPropagation();var n=this.originalHeight-(t.pageY-this.originalMouseY);n>this.minimumSize&&(e("#email-frame").css("height","calc(100vh - ".concat(n,"px)")),this.$el.find(".html-edit-container")[0].style.height=n+"px",this.$el.find(".html-edit-container")[0].style.top=this.originalY+(t.pageY-this.originalMouseY)+"px",this.$el.find(".html-editor-row")[0].style.height=n-60+"px")}},{key:"stopResize",value:function stopResize(){this.$el.off("mousemove.resizer")}},{key:"initialize",value:function initialize(){var t=this;this.emailFrame=e("#email-frame"),this.minimumSize=200,this.originalHeight=0,this.originalY=0,this.originalMouseY=0,this.AceEditor=null,this.setTemplate(i.a),this.listenTo(this,"postRender",this.postRender),this.listenTo(this.model,"removeEditor",this.removeEditor),this.listenTo(this.model,"setMode",function(e){null!==t.AceEditor&&t.AceEditor.session.setMode(e)}),this.render()}},{key:"adjustEditorFontSize",value:function adjustEditorFontSize(e){this.AceEditor&&this.AceEditor.setFontSize(Object(s.a)(this.AceEditor.getFontSize())+e+"px")}},{key:"removeEditor",value:function removeEditor(){this.emailFrame.css("height","100vh"),this.AceEditor.destroy(),this.AceEditor=null,this.$el.find(".html-editor-meta").off("mousedown.resizer"),this.model.editorLoaded=!1,this.remove()}},{key:"postRender",value:function postRender(){var e=this;this.AceEditor||(this.$el.appendTo("body"),this.AceEditor=a.edit(this.$el.find("#html-block-edit")[0],this.model.aceSettings),this.AceEditor.session.on("change",function(){e.model.code=e.AceEditor.getValue()}),this.makeResizableDiv())}},{key:"className",get:function get(){return"HtmlEditorView "}},{key:"events",get:function get(){var e=this;return{"click .html-block-close":"removeEditor","click #html-block-fontplus":function clickHtmlBlockFontplus(){e.adjustEditorFontSize(1)},"click #html-block-fontminus":function clickHtmlBlockFontminus(){e.adjustEditorFontSize(-1)},"click #html-block-docs-toggle":function clickHtmlBlockDocsToggle(){e.$el.find("#html-block-docs").toggle(300)},"click #html-block-handlebars-toggle":"toggleHandlebars","click .html-block-hook":function clickHtmlBlockHook(t){var n=e.$(t.currentTarget).data("hook");n&&e.AceEditor.insert(n)}}}},{key:"tagName",get:function get(){return"div"}}]),HtmlEditorView}();t.a=c}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'                    <a class="html-block-hook dropdown-item" data-hook="'+l("function"==typeof(i=null!=(i=n.key||o&&o.key)?i:s)?i.call(a,{name:"key",hash:{},data:o}):i)+'">\n                        <strong>'+l("function"==typeof(i=null!=(i=n.key||o&&o.key)?i:s)?i.call(a,{name:"key",hash:{},data:o}):i)+"</strong>\n                    </a>\n"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'                        <li class="html-block-hook" data-hook="'+l("function"==typeof(i=null!=(i=n.key||o&&o.key)?i:s)?i.call(a,{name:"key",hash:{},data:o}):i)+'">\n                            <strong class="text-danger">'+l("function"==typeof(i=null!=(i=n.key||o&&o.key)?i:s)?i.call(a,{name:"key",hash:{},data:o}):i)+"</strong>\n                        </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<div class="html-edit-container full">\n    <div class="html-editor-meta row p-2">\n        <div class="col-auto text-left font-resize my-auto">\n            <b>\n                <span id="html-block-fontplus" >\n                    +\n                </span>\n                    Aa\n                <span id="html-block-fontminus">\n                     -\n                </span>\n            </b>\n            <button class="btn btn-secondary dropdown-toggle mx-4 se-topbar-item" type="button" id="hooks-menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                '+c((n.l||t&&t.l||l).call(s,"Insert hook",{name:"l",hash:{},data:o}))+'\n            </button>\n            <div class="dropdown-menu" aria-labelledby="hooks-menu">\n'+(null!=(i=n.each.call(s,null!=t?t.hooks:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'            </div>\n        </div>\n        <div class="col text-right ml-auto my-auto">\n            <button id="html-block-handlebars-toggle" class="btn btn-secondary se-topbar-item">\n                '+c((n.l||t&&t.l||l).call(s,"Toggle handlebars",{name:"l",hash:{},data:o}))+'\n            </button>\n            <button id="html-block-docs-toggle" class="btn btn-secondary se-topbar-item">\n                '+c((n.l||t&&t.l||l).call(s,"Toggle documentation",{name:"l",hash:{},data:o}))+'\n            </button>\n            <button id="html-block-close" class="btn btn-primary html-block-close se-topbar-item">\n                '+c((n.l||t&&t.l||l).call(s,"Save",{name:"l",hash:{},data:o}))+'\n            </button>\n            <div class="html-block-close c-pointer ml-auto d-inline-block py-2 pl-2">\n                <i class="fas fa-times"></i>\n            </div>\n        </div>\n    </div>\n    <div class="html-editor-row row no-gutters">\n        <div class="col html-height">\n            <div id="html-block-edit" class="html-height">'+c("function"==typeof(a=null!=(a=n.code||(null!=t?t.code:t))?a:l)?a.call(s,{name:"code",hash:{},data:o}):a)+'</div>\n        </div>\n        <div id="html-block-docs" class="col-4 bg-dark html-height" style="display: none;">\n            <div class="p-3" style="height: inherit; overflow-y: auto; overflow-x: hidden;">\n                <h3>'+c((n.l||t&&t.l||l).call(s,"HTML BLock documentation",{name:"l",hash:{},data:o}))+"</h3>\n                <hr>\n                <h4>"+c((n.l||t&&t.l||l).call(s,"Caution",{name:"l",hash:{},data:o}))+"</h4>\n                <p>\n                    "+c((n.l||t&&t.l||l).call(s,"The use of HTML Block is recommended only for those who are familiar with HTML language basics.\n                    If you would like to read more about writing HTML for emails refer to this site:",{name:"l",hash:{},data:o}))+' <a href="#">HTML\n                    Basics</a>\n                </p>\n\n                <h4>'+c((n.l||t&&t.l||l).call(s,"Hook into the main theme styles",{name:"l",hash:{},data:o}))+"</h4>\n                <p>\n                    "+c((n.l||t&&t.l||l).call(s,"When writing HTML you can easily hook into your main theme settings. All you need is to write hook\n                    syntax like this",{name:"l",hash:{},data:o}))+'\n                    <strong data-hook="{{Email.backgroundColor}}" class="html-block-hook text-danger">\n                        <em>\n                            {{Email.backgroundColor}}\n                        </em>\n                    </strong> '+c((n.l||t&&t.l||l).call(s,"anywhere you want to add an HeadLine block text color. For example:",{name:"l",hash:{},data:o}))+'\n                </p>\n                <div class="p-2 mt-2 mb-3" style="background: #323232;">\n                    <code style="font-size: 0.95rem; color:#ffe4ba;">\n                        &lt;table bgcolor=&quot;<span class="html-block-hook" data-hook="{{Email.backgroundColor}}"\n                                                      style="color: #f2f2f2;">{{Email.backgroundColor}}</span>&quot;&gt;&lt;/table&gt;\n                    </code>\n                </div>\n                <h4>\n                    '+c((n.l||t&&t.l||l).call(s,"Available hooks list",{name:"l",hash:{},data:o}))+"\n                </h4>\n                <p>\n                    "+c((n.l||t&&t.l||l).call(s,"Here is the complete list of the main theme hooks that you can use in your HTML block.",{name:"l",hash:{},data:o}))+"\n                </p>\n                <span>\n                    <small>\n                        "+c((n.l||t&&t.l||l).call(s,"Click on the hook below and it will be added to your code!",{name:"l",hash:{},data:o}))+"\n                    </small>\n                </span>\n                <ul>\n"+(null!=(i=n.each.call(s,null!=t?t.hooks:t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"                </ul>\n            </div>\n        </div>\n    </div>\n\n</div>\n"},useData:!0})},function(e,t,n){(function(e){(function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var t=function(e,n,r){"string"==typeof e?(2==arguments.length&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var o=a(e,t);if(void 0!=o)return n&&n(),o}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(void 0==c&&r.original)return;i.push(c)}return n&&n.apply(null,i)||!0}},r=function(e,t){var o=n("",e,t);return void 0==o&&r.original?r.original.apply(this,arguments):o},i=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return i(e,n[0])+"!"+i(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},a=function(e,r){r=i(e,r);var o=t.modules[r];if(!o){if("function"==typeof(o=t.payloads[r])){var a={},s={id:r,uri:"",exports:a,packaged:!0};a=o(function(e,t){return n(r,e,t)},a,s)||s.exports,t.modules[r]=a,delete t.payloads[r]}o=t.modules[r]=a||o}return o};!function o(n){var o=e;n&&(e[n]||(e[n]={}),o=e[n]),o.define&&o.define.packaged||(t.original=o.define,o.define=t,o.define.packaged=!0),o.require&&o.require.packaged||(r.original=o.require,o.require=r,o.require.packaged=!0)}("ace")})(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===r.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return r.test.call(e,""),!e.lastIndex}();a&&i||(RegExp.prototype.exec=function(e){var t,n,s=r.exec.apply(this,arguments);if("string"==typeof e&&s){if(!i&&s.length>1&&function u(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}(s,"")>-1&&(n=RegExp(this.source,r.replace.call(function o(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}(this),"g","")),r.replace.call(e.slice(s.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var l=1;l<s.length;l++)(t=this._xregexp.captureNames[l-1])&&(s[t]=s[l]);!a&&this.global&&!s[0].length&&this.lastIndex>s.index&&this.lastIndex--}return s},a||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function w(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function H(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=f.call(arguments,1),o=function(){if(this instanceof o){var r=t.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(f.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,o.prototype=new r,r.prototype=null),o});var o,i,a,s,l,c=Function.prototype.call,u=Array.prototype,d=Object.prototype,f=u.slice,p=c.bind(d.toString),h=c.bind(d.hasOwnProperty);if((l=h(d,"__defineGetter__"))&&(o=c.bind(d.__defineGetter__),i=c.bind(d.__defineSetter__),a=c.bind(d.__lookupGetter__),s=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var g=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?g.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),o=f.call(arguments,2),i=o.length;if(e===n)i&&this.push.apply(this,o);else{var a=Math.min(t,n-e),s=e+a,l=s+i-a,c=n-s,u=n-a;if(l<s)for(var d=0;d<c;++d)this[l+d]=this[s+d];else if(l>s)for(d=c;d--;)this[l+d]=this[s+d];if(i&&e===u)this.length=u,this.push.apply(this,o);else for(this.length=u+i,d=0;d<i;++d)this[e+d]=o[d]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==p(e)});var m,A=Object("a"),v="a"!=A[0]||!(0 in A);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=arguments[1],o=-1,i=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError;for(;++o<i;)o in n&&e.call(r,n[o],o,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=n.length>>>0,o=Array(r),i=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(o[a]=e.call(i,n[a],a,t));return o}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=B(this),r=v&&"[object String]"==p(this)?this.split(""):n,o=r.length>>>0,i=[],a=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var s=0;s<o;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&i.push(t));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=n.length>>>0,o=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var i=0;i<r;i++)if(i in n&&!e.call(o,n[i],i,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=n.length>>>0,o=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var i=0;i<r;i++)if(i in n&&e.call(o,n[i],i,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,i=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i++];break}if(++i>=r)throw new TypeError("reduce of empty array with no initial value")}for(;i<r;i++)i in n&&(o=e.call(void 0,o,n[i],i,t));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=B(this),n=v&&"[object String]"==p(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,i=r-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in n){o=n[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}do{i in this&&(o=e.call(void 0,o,n[i],i,t))}while(i--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=v&&"[object String]"==p(this)?this.split(""):B(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=H(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=v&&"[object String]"==p(this)?this.split(""):B(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,H(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:d)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(h(e,t)){var n;if(n={enumerable:!0,configurable:!0},l){var r=e.__proto__;e.__proto__=d;var o=a(e,t),i=s(e,t);if(e.__proto__=r,o||i)return o&&(n.get=o),i&&(n.set=i),n}return n.value=e[t],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(m=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=m();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,(n=new r).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n});if(Object.defineProperty){var y=w({}),b="undefined"==typeof document||w(document.createElement("div"));if(!y||!b)var _=Object.defineProperty}if(!Object.defineProperty||_){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(_)try{return _.call(Object,e,t,n)}catch(e){}if(h(n,"value"))if(l&&(a(e,t)||s(e,t))){var r=e.__proto__;e.__proto__=d,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!l)throw new TypeError("getters & setters can not be defined on this javascript engine");h(n,"get")&&o(e,t,n.get),h(n,"set")&&i(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)h(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";h(e,t);)t+="?";e[t]=!0;var n=h(e,t);return delete e[t],n}),!Object.keys){var E=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=C.length;for(var T in{toString:null})E=!1;Object.keys=function I(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var I=[];for(var t in e)h(e,t)&&I.push(t);if(E)for(var n=0,r=S;n<r;n++){var o=C[n];h(e,o)&&I.push(o)}return I}}Date.now||(Date.now=function(){return(new Date).getTime()});var x="\t\n\v\f\r                　\u2028\u2029\ufeff";if(!String.prototype.trim){x="["+x+"]";var O=new RegExp("^"+x+x+"*"),k=new RegExp(x+x+"*$");String.prototype.trim=function(){return String(this).replace(O,"").replace(k,"")}}var B=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim"),"undefined"!=typeof Element&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},o=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),i=r.userAgent||"",a=r.appName||"";t.isWin="win"==o,t.isMac="mac"==o,t.isLinux="linux"==o,t.isIE="Microsoft Internet Explorer"==a||a.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(i.split(" Edge/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isAndroid=i.indexOf("Android")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("./useragent");if(t.buildDom=function o(e,t,n){if("string"==typeof e&&e){var r=document.createTextNode(e);return t&&t.appendChild(r),r}if(!Array.isArray(e))return e;if("string"!=typeof e[0]||!e[0]){for(var i=[],a=0;a<e.length;a++){var s=o(e[a],t,n);s&&i.push(s)}return i}var l=document.createElement(e[0]),c=e[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(a=u;a<e.length;a++)o(e[a],l,n);return 2==u&&Object.keys(c).forEach(function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e?l[e]=t:"ref"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t)}),t&&t.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var o=n.indexOf(t);if(-1==o)break;r=!1,n.splice(o,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.importCssString=function(e,n,r){var o=r;r&&r.getRootNode&&(o=r.getRootNode())&&o!=r||(o=document);var i=o.ownerDocument||o;if(n&&t.hasCssString(n,o))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var a=t.createElement("style");a.appendChild(i.createTextNode(e)),n&&(a.id=n),o==i&&(o=t.getDocumentHead(i)),o.insertBefore(a,o.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),o=r.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",r.appendChild(n);var i=e.documentElement;i.appendChild(r);var a=n.offsetWidth;o.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),i.removeChild(r),a-s},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var o=document.createElement("div");t.HI_DPI&&void 0!==o.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),!r.isEdge&&void 0!==o.style.animationName&&(t.HAS_CSS_ANIMATION=!0),o=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./oop"),o=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,o),t.keyCodeToString=function(e){var t=o[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function f(){return void 0==o&&function a(){o=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){o={passive:!1}}})}catch(e){}}(),o}function c(e,t,n){var r=p(t);if(!l.isMac&&u){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),u.altGr){if(3==(3&r))return;u.altGr=0}if(18===n||17===n){var o="location"in t?t.location:t.keyLocation;if(17===n&&1===o)1==u[n]&&(d=t.timeStamp);else if(18===n&&3===r&&2===o){t.timeStamp-d<50&&(u.altGr=!0)}}}if((n in s.MODIFIER_KEYS&&(n=-1),!r&&13===n)&&(3===(o="location"in t?t.location:t.keyLocation)&&(e(t,r,-n),t.defaultPrevented)))return;if(l.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in s.FUNCTION_KEYS||n in s.PRINTABLE_KEYS)&&e(t,r,n)}function h(){u=Object.create(null)}var o,s=e("./keys"),l=e("./useragent"),u=null,d=0;t.addListener=function(e,t,n){return e.addEventListener(t,n,f())},t.removeListener=function(e,t,n){return e.removeEventListener(t,n,f())},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||l.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,o){function c(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,l.isIE){var c=Math.abs(e.clientX-i)>5||Math.abs(e.clientY-a)>5;s&&!c||(u=1),s&&clearTimeout(s),s=setTimeout(function(){s=null},n[u-1]||600),1==u&&(i=e.clientX,a=e.clientY)}if(e._clicks=u,r[o]("mousedown",e),u>4)u=0;else if(u>1)return r[o](d[u],e)}var i,a,s,u=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",c)})};var p=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};if(t.getModifierString=function(e){return s.KEY_MODS[p(e)]},t.addCommandKeyListener=function(e,n){var r=t.addListener;if(l.isOldGecko||l.isOpera&&!("KeyboardEvent"in window)){var o=null;r(e,"keydown",function(e){o=e.keyCode}),r(e,"keypress",function(e){return c(n,e,o)})}else{var i=null;r(e,"keydown",function(e){u[e.keyCode]=(u[e.keyCode]||0)+1;var t=c(n,e,e.keyCode);return i=e.defaultPrevented,t}),r(e,"keypress",function(e){i&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),i=null)}),r(e,"keyup",function(e){u[e.keyCode]=null}),u||(h(),r(window,"focus",h))}},"object"==typeof window&&window.postMessage&&!l.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+g++,o=function(i){i.data==r&&(t.stopPropagation(i),t.removeListener(n,"message",o),e())};t.addListener(n,"message",o),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):e()},n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var o={row:t+1,column:0};else if(this.start.row<e)o={row:e,column:0};return r.fromPoints(o||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var o={row:e,column:t};else var i={row:e,column:t};return r.fromPoints(o||this.start,i||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,o=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(o,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function s(e){if("object"!=typeof e||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=s(e[n]);return t}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var n in t={},e)t[n]=s(e[n]);return t},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},o=function(e){null==n&&(n=setTimeout(r,e||t))};return o.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},o.schedule=o,o.call=function(){this.cancel(),e()},o.cancel=function(){n&&clearTimeout(n),n=null},o.isPending=function(){return n},o}}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=e("../lib/dom"),a=e("../lib/lang"),s=e("../clipboard"),l=o.isChrome<18,c=o.isIE,u=o.isChrome>63,d=400,f=e("../lib/keys"),p=f.KEY_MODS,h=o.isIOS,g=h?/\s/:/\n/;t.TextInput=function(e,t){function W(){_=!0,n.blur(),n.focus(),_=!1}function J(){clearTimeout(j),j=setTimeout(function(){b&&(n.style.cssText=b,b=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}var n=i.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var m=!1,A=!1,v=!1,y=!1,b="";o.isMobile||(n.style.fontSize="1px");var w=!1,_=!1,E="",C=0,S=0,T=0;try{var x=document.activeElement===n}catch(e){}r.addListener(n,"blur",function(e){_||(t.onBlur(e),x=!1)}),r.addListener(n,"focus",function(e){if(!_){if(x=!0,o.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),o.isEdge?setTimeout(O):O()}}),this.$focusScroll=!1,this.focus=function(){if(b||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var r=[];if(t)for(var o=n.parentElement;o&&1==o.nodeType;)r.push(o),o.setAttribute("ace_nocontext",!0),o=!o.parentElement&&o.getRootNode?o.getRootNode().host:o.parentElement;n.focus({preventScroll:!0}),t&&r.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)},0)},this.blur=function(){n.blur()},this.isFocused=function(){return x},t.on("beforeEndOperation",function(){t.curOp&&"insertstring"==t.curOp.command.name||(v&&(E=n.value="",U()),O())});var O=h?function(e){if(x&&(!m||e)&&!y){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=E=r);var o=4+(e.length||(t.selection.isEmpty()?0:1));(4!=C||S!=o)&&n.setSelectionRange(4,o),C=4,S=o}}:function(){if(!v&&!y&&(x||B)){v=!0;var e=t.selection,r=e.getRange(),o=e.cursor.row,i=r.start.column,a=r.end.column,s=t.session.getLine(o);if(r.start.row!=o){var l=t.session.getLine(o-1);i=r.start.row<o-1?0:i,a+=l.length+1,s=l+"\n"+s}else if(r.end.row!=o){var c=t.session.getLine(o+1);a=r.end.row>o+1?c.length:a,a+=s.length+1,s=s+"\n"+c}s.length>d&&(i<d&&a<d?s=s.slice(0,d):(s="\n",i=0,a=1));var u=s+"\n\n";if(u!=E&&(n.value=E=u,C=S=u.length),B&&(C=n.selectionStart,S=n.selectionEnd),S!=a||C!=i||n.selectionEnd!=S)try{n.setSelectionRange(i,a),C=i,S=a}catch(e){}v=!1}};x&&t.onFocus();var k=null;this.setInputHandler=function(e){k=e},this.getInputHandler=function(){return k};var B=!1,P=function(e,r){if(B&&(B=!1),A)return O(),e&&t.onPaste(e),A=!1,"";for(var o=n.selectionStart,i=n.selectionEnd,a=C,s=E.length-S,l=e,c=e.length-o,u=e.length-i,d=0;a>0&&E[d]==e[d];)d++,a--;for(l=l.slice(d),d=1;s>0&&E.length-d>C-1&&E[E.length-d]==e[e.length-d];)d++,s--;c-=d-1,u-=d-1;var f=l.length-d+1;return f<0&&(a=-f,f=0),l=l.slice(0,f),r||l||c||a||s||u?(y=!0,l&&!a&&!s&&!c&&!u||w?t.onTextInput(l):t.onTextInput(l,{extendLeft:a,extendRight:s,restoreStart:c,restoreEnd:u}),y=!1,E=e,C=o,S=i,T=u,l):""},I=function(e){if(v)return F();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,o=P(r,!0);(r.length>500||g.test(o))&&O()},R=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!l){var o=c||n?"Text":"text/plain";try{return t?!1!==r.setData(o,t):r.getData(o)}catch(e){if(!n)return R(e,t,!0)}}},L=function(e,o){var i=t.getCopyText();if(!i)return r.preventDefault(e);R(e,i)?(h&&(O(i),m=i,setTimeout(function(){m=!1},10)),o?t.onCut():t.onCopy(),r.preventDefault(e)):(m=!0,n.value=i,n.select(),setTimeout(function(){m=!1,O(),o?t.onCut():t.onCopy()}))},M=function(e){L(e,!0)},D=function(e){L(e,!1)},N=function(e){var i=R(e);s.pasteCancelled()||("string"==typeof i?(i&&t.onPaste(i,e),o.isIE&&setTimeout(O),r.preventDefault(e)):(n.value="",A=!0))};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,"select",function(e){v||(m?m=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=E.length&&e.value===E&&E&&e.selectionEnd!==S}(n)&&(t.selectAll(),O()))}),r.addListener(n,"input",I),r.addListener(n,"cut",M),r.addListener(n,"copy",D),r.addListener(n,"paste",N),(!("oncut"in n)||!("oncopy"in n)||!("onpaste"in n))&&r.addListener(e,"keydown",function(e){if((!o.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:N(e);break;case 88:M(e)}});var F=function(){if(v&&t.onCompositionUpdate&&!t.$readOnly){if(w)return W();if(v.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;P(e),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+S-v.selectionStart+T)}}},U=function(e){t.onCompositionEnd&&!t.$readOnly&&(v=!1,t.onCompositionEnd(),t.off("mousedown",W),e&&I())},H=a.delayedCall(F,50).schedule.bind(null,null);r.addListener(n,"compositionstart",function(e){if(!v&&t.onCompositionStart&&!t.$readOnly&&(v={},!w)){setTimeout(F,0),t.on("mousedown",W);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,v.markerRange=r,v.selectionStart=C,t.onCompositionStart(v),v.useTextareaForIME?(n.value="",E="",C=0,S=0):(n.msGetInputContext&&(v.context=n.msGetInputContext()),n.getInputContext&&(v.context=n.getInputContext()))}}),r.addListener(n,"compositionupdate",F),r.addListener(n,"keyup",function V(e){27==e.keyCode&&n.value.length<n.selectionStart&&(v||(E=n.value),C=S=-1,O()),H()}),r.addListener(n,"keydown",H),r.addListener(n,"compositionend",U),this.getElement=function(){return n},this.setCommandMode=function(e){w=e,n.readOnly=!1},this.setReadOnly=function(e){w||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){B=!0,O(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,a){b||(b=n.style.cssText),n.style.cssText=(a?"z-index:100000;":"")+(o.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+S)*t.renderer.characterWidth*.5+"px;";var s=t.container.getBoundingClientRect(),l=i.computedStyle(t.container),c=s.top+(parseInt(l.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-c-n.clientHeight-2,f=function(e){i.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,d))};f(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(j),o.isWin&&r.capture(t.container,f,J))},this.onContextMenuClose=J;var j,z=function(e){t.textInput.onContextMenu(e),J()};r.addListener(n,"mouseup",z),r.addListener(n,"mousedown",function(e){e.preventDefault(),J()}),r.addListener(t.renderer.scroller,"contextmenu",z),r.addListener(n,"contextmenu",z),h&&function Q(e,t,n){var r=null,o=!1;n.addEventListener("keydown",function(e){r&&clearTimeout(r),o=!0},!0),n.addEventListener("keyup",function(e){r=setTimeout(function(){o=!1},100)},!0);var i=function(e){if(document.activeElement===n&&!(o||v||t.$mouseHandler.isMousePressed||m)){var r=n.selectionStart,i=n.selectionEnd,a=null,s=0;if(0==r?a=f.up:1==r?a=f.home:i>S&&"\n"==E[i]?a=f.end:r<C&&" "==E[r-1]?(a=f.left,s=p.option):r<C||r==C&&S!=C&&r==i?a=f.left:i>S&&E.slice(0,i).split("\n").length>2?a=f.down:i>S&&" "==E[i-1]?(a=f.right,s=p.option):(i>S||i==S&&S!=C&&r==i)&&(a=f.right),r!==i&&(s|=p.shift),a){if(!t.onCommandKey({},s,a)&&t.commands){a=f.keyCodeToString(a);var l=t.commands.findKeyCommand(s,a);l&&t.execCommand(l)}C=r,S=i,O("")}}};document.addEventListener("selectionchange",i),t.on("destroy",function(){document.removeEventListener("selectionchange",i)})}(0,t,n)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,n){"use strict";function o(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var o=this.editor,i=e.getButton();return 0!==i?((o.getSelectionRange().isEmpty()||1==i)&&o.selection.moveToPosition(n),void(2==i&&(o.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||o.isFocused()||(o.focus(),!this.$focusTimeout||this.$clickSelection||o.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var o=a(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](r.row,r.column);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(o.start),s=this.$clickSelection.comparePoint(o.end);if(-1==i&&s<=0)t=this.$clickSelection.end,o.end.row==r.row&&o.end.column==r.column||(r=o.start);else if(1==s&&i>=0)t=this.$clickSelection.start,o.start.row==r.row&&o.start.column==r.column||(r=o.end);else if(-1==i&&1==s)r=o.end,t=o.start;else{var l=a(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,o=r-n.t,i=o?e.wheelX/o:n.vx,a=o?e.wheelY/o:n.vy;o<550&&(i=(i+n.vx)/2,a=(a+n.vy)/2);var s=Math.abs(i/a),l=!1;if(s>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),s<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=r;else if(r-n.allowed<550){Math.abs(i)<=1.5*Math.abs(n.vx)&&Math.abs(a)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=i,n.vy=a,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(o.prototype),t.DefaultHandlers=o}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var r=e("./lib/dom");(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function a(e){s.call(this,e)}var r=e("../lib/dom"),o=e("../lib/oop"),i=e("../lib/event"),s=e("../tooltip").Tooltip;o.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),i=this.getHeight();t+=15,(e+=15)+o>n&&(e-=e+o-n),t+i>r&&(t-=20+i),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function u(e){function l(){var t=n.getDocumentPosition().row,r=u.$annotations[t];if(!r)return c();if(t==s.session.getLength()){var i=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(i>s.session.documentToScreenRow(a.row,a.column))return c()}if(o!=r)if(o=r.text.join("<br/>"),d.setHtml(o),d.show(),s._signal("showGutterTooltip",d),s.on("mousewheel",c),e.$tooltipFollowsMouse)h(n);else{var l=n.domEvent.target.getBoundingClientRect(),f=d.getElement().style;f.left=l.right+"px",f.top=l.bottom+"px"}}function c(){t&&(t=clearTimeout(t)),o&&(d.hide(),o=null,s._signal("hideGutterTooltip",d),s.removeEventListener("mousewheel",c))}function h(e){d.setPosition(e.x,e.y)}var t,n,o,s=e.editor,u=s.renderer.$gutterLayer,d=new a(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=u.getRegion(t)){var n=t.getDocumentPosition().row,r=s.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}),e.editor.setDefaultHandler("guttermousemove",function(i){var a=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(a,"ace_fold-widget"))return c();o&&e.$tooltipFollowsMouse&&h(i),n=i,t||(t=setTimeout(function(){t=null,n&&!e.isMousePressed?l():c()},50))}),i.addListener(s.renderer.$gutter,"mouseout",function(e){n=null,o&&!t&&(t=setTimeout(function(){t=null,c()},50))}),s.on("changeSession",c)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(i.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function f(e){function C(){var e=g;(function T(e,n){var r=Date.now(),o=!n||e.row!=n.row,i=!n||e.column!=n.column;!y||o||i?(t.moveCursorToPosition(e),y=r,b={x:d,y:f}):l(b.x,b.y,d,f)>c?y=null:r-y>=s&&(t.renderer.scrollCursorIntoView(),y=null)})(g=t.renderer.screenToTextCoordinates(d,f),e),function N(e,n){var r=Date.now(),o=t.renderer.layerConfig.lineHeight,i=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),l={x:{left:d-s.left,right:s.right-d},y:{top:f-s.top,bottom:s.bottom-f}},c=Math.min(l.x.left,l.x.right),u=Math.min(l.y.top,l.y.bottom),p={row:e.row,column:e.column};c/i<=2&&(p.column+=l.x.left<l.x.right?-3:2),u/o<=1&&(p.row+=l.y.top<l.y.bottom?-1:1);var h=e.row!=p.row,g=e.column!=p.column,m=!n||e.row!=n.row;h||g&&!m?v?r-v>=a&&t.renderer.scrollCursorIntoView(p):v=r:v=null}(g,e)}function k(){h=t.selection.toOrientedRange(),u=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),C(),p=setInterval(C,20),E=0,o.addListener(document,"mousemove",O)}function L(){clearInterval(p),t.session.removeMarker(u),u=null,t.selection.fromOrientedRange(h),t.isFocused()&&!A&&t.$resetCursorStyle(),h=null,g=null,E=0,v=null,y=null,o.removeListener(document,"mousemove",O)}function O(){null==S&&(S=setTimeout(function(){null!=S&&u&&L()},20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function _(e){var t=["copy","copymove","all","uninitialized"],n=i.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return n&&t.indexOf(r)>=0?o="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}var t=e.editor,n=r.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),t.addEventListener("mousedown",this.onMouseDown.bind(e));var u,d,f,p,h,g,m,A,v,y,b,w=t.container,E=0;this.onDragStart=function(e){if(this.cancelDrag||!w.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}h=t.getSelectionRange();var o=e.dataTransfer;o.effectAllowed=t.getReadOnly()?"copy":"copyMove",i.isOpera&&(t.container.appendChild(n),n.scrollTop=0),o.setDragImage&&o.setDragImage(n,0,0),i.isOpera&&t.container.removeChild(n),o.clearData(),o.setData("Text",t.session.getTextRange()),A=!0,this.setState("drag")},this.onDragEnd=function(e){if(w.draggable=!1,A=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;!m&&"move"==n&&t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return d=e.clientX,f=e.clientY,u||k(),E++,e.dataTransfer.dropEffect=m=_(e),o.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return d=e.clientX,f=e.clientY,u||(k(),E++),null!==S&&(S=null),e.dataTransfer.dropEffect=m=_(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--E<=0&&u)return L(),m=null,o.preventDefault(e)},this.onDrop=function(e){if(g){var n=e.dataTransfer;if(A)switch(m){case"move":h=h.contains(g.row,g.column)?{start:g,end:g}:t.moveText(h,g);break;case"copy":h=t.moveText(h,g,!0)}else{var r=n.getData("Text");h={start:g,end:t.session.insert(g,r)},t.focus(),m=null}return L(),o.preventDefault(e)}},o.addListener(w,"dragstart",this.onDragStart.bind(e)),o.addListener(w,"dragend",this.onDragEnd.bind(e)),o.addListener(w,"dragenter",this.onDragEnter.bind(e)),o.addListener(w,"dragover",this.onDragOver.bind(e)),o.addListener(w,"dragleave",this.onDragLeave.bind(e)),o.addListener(w,"drop",this.onDrop.bind(e));var S=null}function l(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var r=e("../lib/dom"),o=e("../lib/event"),i=e("../lib/useragent"),a=200,s=200,c=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=i.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;i.isIE&&"dragReady"==this.state&&(l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(i.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(f.prototype),t.DragdropHandler=f}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,o=e("../lib/event"),i=e("../lib/dom");t.addTouchListeners=function(e,t){function b(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(){var r=t.getCopyText(),o=t.session.getUndoManager().hasUndo();p.replaceChild(i.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),p.firstChild)},o=function(o){var i=o.target.getAttribute("action");if("more"==i||!n)return n=!n,r();"paste"==i?e.readText().then(function(e){t.execCommand(i,e)}):i&&("cut"!=i&&"copy"!=i||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(i)),p.firstChild.style.display="none",n=!1,"openCommandPallete"!=i&&t.focus()};p=i.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){h="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),o(e)},onclick:o},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function w(){p||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.container.getBoundingClientRect();p.style.top=n.pageY-r.top-3+"px",p.style.right="10px",p.style.display="",p.firstChild.style.display="none",t.on("input",E)}function E(e){p&&(p.style.display="none"),t.off("input",E)}function S(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(d.row,d.column);!e.isEmpty()&&n||(t.selection.moveToPosition(d),t.selection.selectWord()),h="wait",w()}var n,a,s,l,c,u,d,f,p,h="scroll",g=0,m=0,A=0,v=0;o.addListener(e,"contextmenu",function(e){f&&t.textInput.getElement().focus()}),o.addListener(e,"touchstart",function(e){var o=e.touches;if(c||o.length>1)return clearTimeout(c),c=null,s=-1,void(h="zoom");f=t.$mouseHandler.isMousePressed=!0;var i=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var y=o[0],b=y.clientX,w=y.clientY;Math.abs(n-b)+Math.abs(a-w)>i&&(s=-1),n=e.clientX=b,a=e.clientY=w,A=v=0;var _=new r(e,t);if(d=_.getDocumentPosition(),p-s<500&&1==o.length&&!g)m++,e.preventDefault(),e.button=0,function x(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=m>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),h="wait"}();else{m=0;var E=t.selection.cursor,C=t.selection.isEmpty()?E:t.selection.anchor,T=t.renderer.$cursorLayer.getPixelPosition(E,!0),O=t.renderer.$cursorLayer.getPixelPosition(C,!0),k=t.renderer.scroller.getBoundingClientRect(),B=function(e,t){return(e/=u)*e+(t=t/i-.75)*t};if(e.clientX<k.left)return void(h="zoom");var P=B(e.clientX-k.left-T.left,e.clientY-k.top-T.top),I=B(e.clientX-k.left-O.left,e.clientY-k.top-O.top);P<3.5&&I<3.5&&(h=P>I?"cursor":"anchor"),h=I<3.5?"anchor":P<3.5?"cursor":"scroll",c=setTimeout(S,450)}s=p}),o.addListener(e,"touchend",function(e){f=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==h?(h="",g=0):c?(t.selection.moveToPosition(d),g=0,w()):"scroll"==h?(function T(){g+=60,u=setInterval(function(){g--<=0&&(clearInterval(u),u=null),Math.abs(A)<.01&&(A=0),Math.abs(v)<.01&&(v=0),g<20&&(A*=.9),g<20&&(v*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*A,10*v),e==t.session.getScrollTop()&&(g=0)},10)}(),e.preventDefault(),E()):w(),clearTimeout(c),c=null}),o.addListener(e,"touchmove",function(e){c&&(clearTimeout(c),c=null);var o=e.touches;if(!(o.length>1||"zoom"==h)){var i=o[0],s=n-i.clientX,u=a-i.clientY;if("wait"==h){if(!(s*s+u*u>4))return e.preventDefault();h="cursor"}n=i.clientX,a=i.clientY,e.clientX=i.clientX,e.clientY=i.clientY;var d=e.timeStamp,f=d-l;if(l=d,"scroll"==h){var p=new r(e,t);p.speed=1,p.wheelX=s,p.wheelY=u,10*Math.abs(s)<Math.abs(u)&&(s=0),10*Math.abs(u)<Math.abs(s)&&(u=0),0!=f&&(A=s/f,v=u/f),t._emit("mousewheel",p),p.propagationStopped||(A=v=0)}else{var g=new r(e,t).getDocumentPosition();"cursor"==h?t.selection.moveCursorToPosition(g):"anchor"==h&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}})}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),o=document.createElement("script");o.src=e,n.appendChild(o),o.onload=o.onreadystatechange=function(e,n){!n&&o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(o=o.onload=o.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},o=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=i),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)}),!t)return new Promise(function(e){t=e})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],o=n._disabled_[e];o||(n._disabled_[e]=o=[]),o.push(r);var i=o.indexOf(t);-1!=i&&o.splice(i,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var o=r.indexOf(t);-1!=o&&r.splice(o,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function o(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function u(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e("./oop"),i=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter(function(e){return!n[e].hidden})}return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(e,t):(n.handlesSet||(this["$"+e]=t),void(n&&n.set&&n.set.call(this,t))):o('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}},s=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),r.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=o,this.reportError=u}).call(s.prototype),t.AppConfig=s}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){"no use strict";function c(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),i=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;r.exports=t=new a;var s=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(u.hasOwnProperty(e))u[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return o.copyObject(u)},t.$modes={},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",o=n[n.length-1];if("worker"==t&&"-"==r){var i=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");o=o.replace(i,"")}(!o||o==t)&&n.length>1&&(o=n[n.length-2]);var a=u[t+"Path"];return null==a?a=u.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+o+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var o,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return r&&r(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return s();i.loadScript(t.moduleUrl(n,a),s),d()}};var d=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};t.init=function l(o){if(s&&s.document){u.packaged=o||e.packaged||r.packaged||s.define&&n(480).packaged;for(var i={},a="",l=document.currentScript||document._currentScript,d=(l&&l.ownerDocument||document).getElementsByTagName("script"),f=0;f<d.length;f++){var p=d[f],h=p.src||p.getAttribute("src");if(h){for(var g=p.attributes,m=0,A=g.length;m<A;m++){var v=g[m];0===v.name.indexOf("data-ace-")&&(i[c(v.name.replace(/^data-ace-/,""))]=v.value)}var y=h.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(a=y[1])}}for(var b in a&&(i.base=i.base||a,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[b]&&t.set(b,i[b])}},t.version="1.4.8"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),d=function(e){var t=this;this.editor=e,new i(this),new a(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click")),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),c(e.container,e);var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(s,"mousedown",n),r.addListener(u,"mousedown",n),o.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),o=e.session.selection.getRange(),i=e.renderer;!o.isEmpty()&&o.insideStart(r.row,r.column)?i.setCursorStyle("default"):i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,i=this.editor.renderer;i.$isMousePressed=!0;var a=this,l=function(e){if(e)return o.isWebKit&&!e.which&&a.releaseMouse?a.releaseMouse():(a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),void(a.$mouseMoved=!0))},c=function(e){n.off("beforeEndOperation",d),clearInterval(f),u(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=i.$isMousePressed=!1,i.$keepTextAreaAtCursor&&i.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),n.endOperation()},u=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){c(e)});var d=function(e){a.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};n.on("beforeEndOperation",d),n.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=r.capture(this.editor.container,l,c);var f=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(d.prototype),u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=d}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../lib/dom");t.FoldHandler=function i(e){e.on("click",function(t){var n=t.getDocumentPosition(),o=e.session,i=o.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?o.removeFold(i):o.expandFold(i),t.stop());var a=t.domEvent&&t.domEvent.target;a&&r.hasCssClass(a,"ace_inline_button")&&r.hasCssClass(a,"ace_toggle_wrap")&&(o.setOption("wrap",!o.getUseWrapMode()),e.renderer.scrollCursorIntoView())}),e.on("gutterclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(n,!0),i=o.range||o.firstRange;if(i){n=i.start.row;var a=r.getFoldAt(n,r.getLine(n).length,1);a?r.removeFold(a):(r.addFold("...",i),e.renderer.scrollCursorIntoView({row:i.start.row,column:0}))}t.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),o=e("../lib/event"),i=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var i,a=!1,s=this.$editor.commands,l=this.$handlers.length;l--&&!((i=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&i.command&&((a="null"==i.command||s.exec(i.command,this.$editor,i.args,r))&&r&&-1!=e&&1!=i.passEvent&&1!=i.command.passEvent&&o.stopEvent(r),a)););return!a&&-1==e&&(i={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",i),a},this.onCommandKey=function(e,t,n){var o=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,o,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(i.prototype),t.KeyBinding=i}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,t,n){"use strict";function F(e,t,n,u){var d=r?c:l,f=null,p=null,h=null,g=0,v=null,b=-1,w=null,_=null,E=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=R(e[w]);for(o=r,i=!1,!1,a=!1,s=!1,_=0;_<n;_++){if(f=g,E[_]=p=q(e,u,E,_),v=240&(g=d[f][p]),g&=15,t[_]=h=d[g][5],v>0)if(16==v){for(w=b;w<_;w++)t[w]=1;b=-1}else b=-1;if(d[g][6])-1==b&&(b=_);else if(b>-1){for(w=b;w<_;w++)t[w]=h;b=-1}u[_]==m&&(t[_]=0),o|=h}if(s)for(w=0;w<n;w++)if(u[w]==A){t[w]=r;for(var C=w-1;C>=0&&u[C]==y;C--)t[C]=r}}function I(e,t,n){if(!(o<e))if(1!=e||r!=u||a)for(var i,s,l,c,d=n.length,f=0;f<d;){if(t[f]>=e){for(i=f+1;i<d&&t[i]>=e;)i++;for(s=f,l=i-1;s<l;s++,l--)c=n[s],n[s]=n[l],n[l]=c;f=i}f++}else n.reverse()}function q(e,t,n,o){var l,c,u,B,P=t[o];switch(P){case d:case f:i=!1;case g:case h:return P;case p:return i?h:p;case v:return i=!0,!0,f;case y:return g;case b:return o<1||o+1>=t.length||(l=n[o-1])!=p&&l!=h||(c=t[o+1])!=p&&c!=h?g:(i&&(c=h),c==l?c:g);case w:return(l=o>0?n[o-1]:m)==p&&o+1<t.length&&t[o+1]==p?p:g;case _:if(o>0&&n[o-1]==p)return p;if(i)return g;for(B=o+1,u=t.length;B<u&&t[B]==_;)B++;return B<u&&t[B]==p?p:g;case E:for(u=t.length,B=o+1;B<u&&t[B]==E;)B++;if(B<u){var I=e[o],R=I>=1425&&I<=2303||64286==I;if(l=t[B],R&&(l==f||l==v))return f}return o<1||(l=t[o-1])==m?g:n[o-1];case m:return i=!1,a=!0,r;case A:return s=!0,g;case C:case S:case x:case O:case T:i=!1;case k:return g}}function R(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?d:B[t]:5==n?/[\u0591-\u05f4]/.test(e)?f:d:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?E:/[\u0660-\u0669\u066b-\u066c]/.test(e)?h:1642==t?_:/[\u06f0-\u06f9]/.test(e)?p:v:32==n&&t<=8287?P[255&t]:254==n&&t>=65136?v:g}var r=0,o=0,i=!1,a=!1,s=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=1,d=0,f=1,p=2,h=3,g=4,m=5,A=6,v=7,y=8,b=9,w=10,_=11,E=12,C=13,S=14,T=15,x=16,O=17,k=18,B=[k,k,k,k,k,k,k,k,k,A,m,A,y,m,k,k,k,k,k,k,k,k,k,k,k,k,k,k,m,m,m,A,y,g,g,_,_,_,g,g,g,g,g,w,b,w,b,b,p,p,p,p,p,p,p,p,p,p,b,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,k,k,k,k,k,k,m,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,b,g,_,_,_,_,g,g,g,g,d,g,g,k,g,g,_,_,p,p,g,d,g,g,g,p,d,g,g,g,g,g],P=[y,y,y,y,y,y,y,y,y,y,y,k,k,k,d,f,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,y,m,C,S,T,x,O,b,_,_,_,_,_,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,y];t.L=d,t.R=f,t.EN=p,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,n,o){if(e.length<2)return{};var i=e.split(""),a=new Array(i.length),s=new Array(i.length),l=[];r=o?u:0,F(i,l,i.length,n);for(var c=0;c<a.length;a[c]=c,c++);I(2,l,a),I(1,l,a);for(c=0;c<a.length-1;c++)n[c]===h?l[c]=t.AN:l[c]===f&&(n[c]>v&&n[c]<C||n[c]===g||n[c]===k)?l[c]=t.ON_R:c>0&&"ل"===i[c-1]&&/\u0622|\u0623|\u0625|\u0627/.test(i[c])&&(l[c-1]=l[c]=t.R_H,c++);i[i.length-1]===t.DOT&&(l[i.length-1]=t.B),"‫"===i[0]&&(l[0]=t.RLE);for(c=0;c<a.length;c++)s[c]=l[a[c]];return{logicalFromVisual:a,bidiLevels:s}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=R(e.charAt(r)),!n&&(t[r]==f||t[r]==v||t[r]==h)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,n){"use strict";var r=e("./lib/bidiutil"),o=e("./lib/lang"),i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=i.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&i.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var i=this.session.$wrapData[e];i&&(void 0===t&&(t=this.getSplitIndex()),t>0&&i.length?(this.wrapIndent=i.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<i.length?this.line.substring(i[t-1],i[t]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[t])),t==i.length&&(this.line+=this.showInvisibles?n:r.DOT)}else this.line+=this.showInvisibles?n:r.DOT;var a,s=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||s.isFullWidth(e.charCodeAt(0))?(a="\t"===e?s.getScreenTabSize(t+l):2,l+=a-1,o.stringRepeat(r.DOT,a)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("ה");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,o=r.getVisualFromLogicalIdx(n,this.bidiMap),i=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&e<=t&&i[o]%2!=0&&o++;for(var s=0;s<o;s++)a+=this.charWidths[i[s]];return!this.session.getOverwrite()&&e>t&&i[o]%2==0&&(a+=this.charWidths[i[o]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a},this.getSelections=function(e,t){var n,r=this.bidiMap,o=r.bidiLevels,i=[],a=0,s=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,d=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var f,p=0;p<o.length;p++)f=r.logicalFromVisual[p],n=o[p],(c=f>=s&&f<l)&&!u?d=a:!c&&u&&i.push({left:d,width:a-d}),a+=this.charWidths[n],u=c;if(c&&p===o.length&&i.push({left:d,width:a-d}),this.isRtlDir)for(var h=0;h<i.length;h++)i[h].left+=this.rtlLineOffset;return i},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,o=this.bidiMap.bidiLevels,i=this.charWidths[o[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+i/2;){if(n+=i,r===o.length-1){i=0;break}i=this.charWidths[o[++r]]}return r>0&&o[r-1]%2!=0&&o[r]%2==0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&o[r-1]%2==0&&o[r]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===o.length-1&&0===i&&o[r-1]%2==0||!this.isRtlDir&&0===r&&o[r]%2!=0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&o[r-1]%2!=0&&0!==i&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(a.prototype),t.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){r.implement(this,i),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(!this.$silent){var o=this.$isEmpty,i=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||o!=this.$isEmpty||i)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,o=this.session.getFoldLine(r);return o?(r=o.start.row,n=o.end.row):n=r,!0===t?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,o=e.column+t;return n<0&&(r=e.column-t,o=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,o).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),o=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);o[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,t,1);if(o)this.moveCursorTo(o.end.row,o.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var i=o.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(o.lastIndex=0;(t=e[n])&&!o.test(t);)if(o.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return o.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==n.length){var i=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<i&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var i=o.stringReverse(r),a=this.$shortWordEndIndex(i);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var o=this.session.lineWidgets[this.lead.row];e<0?e-=o.rowsAbove||0:e>0&&(e+=o.rowCount-(o.rowsAbove||0))}var i=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&i.row===this.lead.row&&(i.column,this.lead.column),this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var o=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(o.charAt(t))&&o.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),o=2e3,i=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],o=0,i=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(i.defaultToken=c.defaultToken),c.caseInsensitive&&(a="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&s.push(c)),i[o]=l,o+=d,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(i[0]=0,r.push("$")),s.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){o=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],o=0,i=n.length;o<i;o++)t[o]&&(r[r.length]={type:n[o],value:t[o]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,o=0,i=r.length;o<i;o++)t[o+1]&&(n[n.length]={type:r[o],value:t[o+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,o={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,i,a,s,l){return r?r="]"!=s:s?r=!0:a?(n==o.stack&&(o.end=l+1,o.stack=-1),n--):i&&(n++,1!=i.length&&(o.stack=n,o.start=l)),e}),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t)"#tmp"===(t=(n=t.slice(0))[0])&&(n.shift(),t=n.shift());else var n=[];var r=t||"start",i=this.states[r];i||(r="start",i=this.states[r]);var a=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var l,c=[],u=0,d=0,f={type:null,value:""};l=s.exec(e);){var p=a.defaultToken,h=null,g=l[0],m=s.lastIndex;if(m-g.length>u){var A=e.substring(u,m-g.length);f.type==p?f.value+=A:(f.type&&c.push(f),f={type:p,value:A})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){p=(h=i[a[v]]).onMatch?h.onMatch(g,r,n,e):h.token,h.next&&(r="string"==typeof h.next?h.next:h.next(r,n),(i=this.states[r])||(this.reportError("state doesn't exist",r),r="start",i=this.states[r]),a=this.matchMappings[r],u=m,(s=this.regExps[r]).lastIndex=m),h.consumeLineEnd&&(u=m);break}if(g)if("string"==typeof p)h&&!1===h.merge||f.type!==p?(f.type&&c.push(f),f={type:p,value:g}):f.value+=g;else if(p){f.type&&c.push(f),f={type:null,value:""};for(v=0;v<p.length;v++)c.push(p[v])}if(u==e.length)break;if(u=m,d++>o){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)f.type&&c.push(f),f={value:e.substring(u,u+=500),type:"overflow"};r="start",n=[];break}}return f.type&&c.push(f),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(i.prototype),t.Tokenizer=i}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],o=0;o<r.length;o++){var i=r[o];(i.next||i.onMatch)&&("string"==typeof i.next&&0!==i.next.indexOf(t)&&(i.next=t+i.next),i.nextState&&0!==i.nextState.indexOf(t)&&(i.nextState=t+i.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,o,i){var a="function"==typeof e?(new e).getRules():e;if(o)for(var s=0;s<o.length;s++)o[s]=t+o[s];else for(var l in o=[],a)o.push(t+l);if(this.addRules(a,t),n){var c=Array.prototype[i?"push":"unshift"];for(s=0;s<o.length;s++)c.apply(this.$rules[o[s]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach(function i(o){var a=r[o];a.processed=!0;for(var s=0;s<a.length;s++){var l=a[s],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var d=l.stateName;d||("string"!=typeof(d=l.token)&&(d=d[0]||""),r[d]&&(d+=n++)),r[d]=u,l.next=d,i(d)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var f in l.rules)r[f]?r[f].push&&r[f].push.apply(r[f],l.rules[f]):r[f]=l.rules[f];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map(function(e){return r[e]}):r[p]),c){var h=[s,1].concat(c);l.noEscape&&(h=h.filter(function(e){return!e.next})),a.splice.apply(a,h),s--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}},this)},this.createKeywordMapper=function(e,t,n,r){var o=Object.create(null);return Object.keys(e).forEach(function(t){var i=e[t];n&&(i=i.toLowerCase());for(var a=i.split(r||"|"),s=a.length;s--;)o[a[s]]=t}),Object.getPrototypeOf(o)&&(o.__proto__=null),this.$keywordList=Object.keys(o),e=null,n?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),t.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,o=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(o.prototype),t.TokenIterator=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,o=e("../../lib/oop"),i=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},d={'"':'"',"'":"'"},f=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,r){var o=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,o,e.end.column+(o?0:1)]}},h=function(e){this.add("braces","insertion",function(t,n,o,i,a){var l=o.getCursorPosition(),c=i.doc.getLine(l.row);if("{"==a){f(o);var u=o.getSelectionRange(),d=i.doc.getTextRange(u);if(""!==d&&"{"!==d&&o.getWrapBehavioursEnabled())return p(u,d,"{","}");if(h.isSaneInsertion(o,i))return/[\]\}\)]/.test(c[l.column])||o.inMultiSelectMode||e&&e.braces?(h.recordAutoInsert(o,i,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(o,i,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(f(o),"}"==c.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&h.isAutoInsertedClosing(l,c,a))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){f(o);var g="";if(h.isMaybeInsertedClosing(l,c)&&(g=s.stringRepeat("}",r.maybeInsertedBrackets),h.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=i.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var A=this.$getIndent(i.getLine(m.row))}else{if(!g)return void h.clearMaybeInsertedClosing();A=this.$getIndent(c)}var v=A+i.getTabString();return{text:"\n"+v+"\n"+A+g,selection:[1,v.length,1,v.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,o,i){var a=o.doc.getTextRange(i);if(!i.isMultiLine()&&"{"==a){if(f(n),"}"==o.doc.getLine(i.start.row).substring(i.end.column,i.end.column+1))return i.end.column++,i;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,o){if("("==o){f(n);var i=n.getSelectionRange(),a=r.doc.getTextRange(i);if(""!==a&&n.getWrapBehavioursEnabled())return p(i,a,"(",")");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==o){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row);if(")"==l.substring(s.column,s.column+1))if(null!==r.$findOpeningBracket(")",{column:s.column+1,row:s.row})&&h.isAutoInsertedClosing(s,l,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"("==i&&(f(n),")"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o}),this.add("brackets","insertion",function(e,t,n,r,o){if("["==o){f(n);var i=n.getSelectionRange(),a=r.doc.getTextRange(i);if(""!==a&&n.getWrapBehavioursEnabled())return p(i,a,"[","]");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row);if("]"==l.substring(s.column,s.column+1))if(null!==r.$findOpeningBracket("]",{column:s.column+1,row:s.row})&&h.isAutoInsertedClosing(s,l,o))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"["==i&&(f(n),"]"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o}),this.add("string_dquotes","insertion",function(e,t,n,r,o){var i=r.$mode.$quotes||d;if(1==o.length&&i[o]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(o))return;f(n);var a=o,s=n.getSelectionRange(),l=r.doc.getTextRange(s);if(""!==l&&(1!=l.length||!i[l])&&n.getWrapBehavioursEnabled())return p(s,l,a,a);if(!l){var c=n.getCursorPosition(),u=r.doc.getLine(c.row),h=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=r.getTokenAt(c.row,c.column),A=r.getTokenAt(c.row,c.column+1);if("\\"==h&&m&&/escape/.test(m.type))return null;var v,y=m&&/string|escape/.test(m.type),b=!A||/string|escape/.test(A.type);if(g==a)(v=y!==b)&&/string\.end/.test(A.type)&&(v=!1);else{if(y&&!b)return null;if(y&&b)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var _=w.test(h);w.lastIndex=0;var E=w.test(h);if(_||E)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var C=u[c.column-2];if(h==a&&(C==a||w.test(C)))return null;v=!0}return{text:v?a+a:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,o){var i=r.$mode.$quotes||d,a=r.doc.getTextRange(o);if(!o.isMultiLine()&&i.hasOwnProperty(a)&&(f(n),r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==a))return o.end.column++,o})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var o=new a(t,n.row,n.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isAutoInsertedClosing(o,i,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=o.row,r.autoInsertedLineEnd=n+i.substr(o.column),r.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isMaybeInsertedClosing(o,i)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=o.row,r.maybeInsertedLineStart=i.substr(0,o.column)+n,r.maybeInsertedLineEnd=i.substr(o.column),r.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},o.inherits(h,i),t.CstyleBehaviour=h}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,i=[],a=0;a<r.length;a+=2)i.push(o+=r[a]),r[a+1]&&i.push(45,o+=r[a+1]);t.wordChars=String.fromCharCode.apply(null,i)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../config"),o=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,s=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,d=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function w(e){for(var t=n;t<=r;t++)e(o.getLine(t),t)}var o=t.doc,i=!0,a=!0,s=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(l.escapeRegExp).join("|"),p=this.lineCommentStart[0];else g=l.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs();v=function(e,t){var n=e.match(g);if(n){var r=n[1].length,i=n[0].length;!f(e,r,i)&&" "==n[0][i-1]&&i--,o.removeInLine(t,r,i)}};var d=p+" ",f=(A=function(e,t){i&&!/\S/.test(e)||(f(e,s,s)?o.insertInLine({row:t,column:s},d):o.insertInLine({row:t,column:s},p))},y=function(e,t){return g.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,h=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(p)+")"),m=new RegExp("(?:"+l.escapeRegExp(h)+")\\s*$"),A=function(e,t){y(e,t)||i&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},h),o.insertInLine({row:t,column:s},p))},v=function(e,t){var n;(n=e.match(m))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&o.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(g.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}var b=1/0;w(function(e,t){var n=e.search(/\S/);-1!==n?(n<s&&(s=n),a&&!y(e,t)&&(a=!1)):b>e.length&&(b=e.length)}),s==1/0&&(s=b,i=!1,a=!1),u&&s%c!=0&&(s=Math.floor(s/c)*c),w(a?v:A)},this.toggleBlockComment=function(e,t,n,r){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var i,a,s=(g=new c(t,r.row,r.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var d,f;s&&/comment/.test(s.type);){if(-1!=(m=s.value.indexOf(o.start))){var p=g.getCurrentTokenRow(),h=g.getCurrentTokenColumn()+m;d=new u(p,h,p,h+o.start.length);break}s=g.stepBackward()}var g;for(s=(g=new c(t,r.row,r.column)).getCurrentToken();s&&/comment/.test(s.type);){var m;if(-1!=(m=s.value.indexOf(o.end))){p=g.getCurrentTokenRow(),h=g.getCurrentTokenColumn()+m;f=new u(p,h,p,h+o.end.length);break}s=g.stepForward()}f&&t.remove(f),d&&(t.remove(d),i=d.start.row,a=-o.start.length)}else a=o.start.length,i=n.start.row,t.insert(n.end,o.end),t.insert(n.start,o.start);l.start.row==i&&(l.start.column+=a),l.end.row==i&&(l.end.column+=a),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],o=n.prototype.$id,i=r.$modes[o];i||(r.$modes[o]=i=new n),r.$modes[t]||(r.$modes[t]=i),this.$embeds.push(t),this.$modes[t]=i}var a=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<a.length;t++)!function(e){var n=a[t],r=e[n];e[a[t]]=function(){return this.$delegator(n,arguments,r)}}(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var o=r[2][r[2].length-1];if(a=this.$modes[o])return a[e].apply(a,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var a,s=r.split(this.$embeds[i]);if(!s[0]&&s[1])return t[0]=s[1],(a=this.$modes[this.$embeds[i]])[e].apply(a,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,r,o){if(this.$behaviour){var i=this.$behaviour.getBehaviours();for(var a in i)if(i[a][t]){var s=i[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var o=t[r],i=0,a=o.length;i<a;i++)if("string"==typeof o[i].token)/keyword|support|storage/.test(o[i].token)&&n.push(o[i].regex);else if("object"==typeof o[i].token)for(var s=0,l=o[i].token.length;s<l;s++)if(/keyword|support|storage/.test(o[i].token[s])){r=o[i].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(d.prototype),t.Mode=d}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,o=t.start.column,i=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=i.substring(0,o)+t.lines[0]+i.substring(o);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=i.substring(0,o)+e[r],e[r+t.lines.length-1]+=i.substring(o)}break;case"remove":var s=t.end.column,l=t.end.row;r===l?e[r]=i.substring(0,o)+i.substring(s):e.splice(r,l-r+1,i.substring(0,o)+e[l].substring(s))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,o){"use strict";var i=n("./lib/oop"),a=n("./lib/event_emitter").EventEmitter,s=r.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var o="insert"==t.action,i=(o?1:-1)*(t.end.row-t.start.row),a=(o?1:-1)*(t.end.column-t.start.column),s=t.start,l=o?s:t.end;return e(n,s,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+i,column:n.column+(n.row==l.row?a:0)}:{row:s.row,column:s.column}}i.implement(this,a),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var o={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:o,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,i),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),o=this.clippedPos(e,n);return this.applyDelta({start:r,end:o,action:"remove",lines:this.getLinesForRange({start:r,end:o})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,o=n?e-1:e,i=n?this.getLine(o).length:0,s=r?t+1:t,l=r?0:this.getLine(s).length,c=new a(o,i,s,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(o(this.$lines,e,t),this._signal("change",e)))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,o=e.start.row,i=e.start.column,a=0,s=0;a<r;a=s){s+=t-1;var l=n.slice(a,s);l.push(""),this.applyDelta({start:this.pos(o+a,i),end:this.pos(o+s,i=0),action:e.action,lines:l},!0)}e.lines=n.slice(a),e.start.row=o+a,e.start.column=i,this.applyDelta(e,!0)},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=t||0,i=n.length;o<i;o++)if((e-=n[o].length+r)<0)return{row:o,column:e+n[o].length+r};return{row:i-1,column:e+n[i-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=0,i=Math.min(e.row,n.length),a=t||0;a<i;++a)o+=n[a].length+r;return o+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,i=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,o=n.doc,i=t;n.lines[t];)t++;var a=o.getLength(),s=0;for(n.running=!1;t<a;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++s%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),i<=r&&n.fireUpdateEvent(i,r)}}};(function(){r.implement(this,o),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(i.prototype),t.BackgroundTokenizer=i}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),o=(e("./lib/oop"),e("./range").Range),i=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,i){if(this.regExp)for(var a=i.firstRow,s=i.lastRow,l=a;l<=s;l++){var c=this.cache[l];null==c&&((c=r.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new o(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,i)}}}).call(i.prototype),t.SearchHighlight=i}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,o,i=0,a=this.folds,s=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<a.length;l++){if(-1==(o=(r=a[l]).range.compareStart(t,n)))return void e(null,t,n,i,s);if(!e(null,r.start.row,r.start.column,i,s)&&e(r.placeholder,r.start.row,r.start.column,i)||0===o)return;s=!r.sameRow,i=r.end.column}e(null,t,n,i,s)},this.getNextFoldTo=function(e,t){for(var n,r,o=0;o<this.folds.length;o++){if(-1==(r=(n=this.folds[o]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,o,i=this.getNextFoldTo(e,t);if(i)if(r=i.fold,"inside"==i.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var a=(o=this.folds).indexOf(r);for(0===a&&(this.start.column+=n);a<o.length;a++){if((r=o[a]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(r),l=o[s-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(a,o=o.splice(s,o.length-s));return a.splice(a.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range.comparePoints,o=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var o=this.ranges,i=n||0;i<o.length;i++){var a=o[i],s=r(e,a.end);if(!(s>0)){var l=r(e,a.start);return 0===s?t&&0!==l?-i-2:i:l>0||0===l&&!t?i:-i-1}}return-i-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,o=(n=n.sort(function(e,t){return r(e.start,t.start)}))[0],i=1;i<n.length;i++){e=o,o=n[i];var a=r(e.end,o.start);a<0||(0!=a||e.isEmpty()||o.isEmpty())&&(r(e.end,o.end)<0&&(e.end.row=o.end.row,e.end.column=o.end.column),n.splice(i,1),t.push(o),o=e,i--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var o=this.pointIndex({row:t,column:0},r);o<0&&(o=-o-1);for(var i=[],a=r;a<o;a++)i.push(n[a]);return i},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,o=n.row,i=this.ranges,a=0,s=i.length;a<s;a++){if((u=i[a]).end.row>=r)break}if("insert"==e.action)for(var l=o-r,c=-t.column+n.column;a<s;a++){if((u=i[a]).start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&a<s-1&&u.end.column>u.start.column&&u.end.column==i[a+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=r-o,c=t.column-n.column;a<s;a++){if((u=i[a]).start.row>o)break;u.end.row<o&&(r<u.end.row||r==u.end.row&&t.column<u.end.column)?(u.end.row=r,u.end.column=t.column):u.end.row==o?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>o&&(u.end.row+=l),u.start.row<o&&(r<u.start.row||r==u.start.row&&t.column<u.start.column)?(u.start.row=r,u.start.column=t.column):u.start.row==o?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>o&&(u.start.row+=l)}if(0!=l&&a<s)for(;a<s;a++){var u;(u=i[a]).start.row+=l,u.end.row+=l}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function o(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function u(e,t){o(e.start,t),o(e.end,t)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var r=e("../range_list").RangeList,i=e("../lib/oop"),s=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};i.inherits(s,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new s(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){u(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,o=-1;r<this.subFolds.length&&1==(o=this.subFolds[r].range.compare(t,n));r++);var i=this.subFolds[r],a=0;if(0==o){if(i.range.containsRange(e))return i.addSubFold(e);a=1}t=e.range.end.row,n=e.range.end.column;var s=r;for(o=-1;s<this.subFolds.length&&1==(o=this.subFolds[s].range.compare(t,n));s++);0==o&&s++;for(var l=this.subFolds.splice(r,s-r,e),c=0==o?l.length-1:l.length,d=a;d<c;d++)e.addSubFold(l[d]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function f(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(s.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../range").Range,o=e("./fold_line").FoldLine,i=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=function u(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var o=r.folds,i=0;i<o.length;i++){var a=o[i].range;if(a.contains(e,t)){if(1==n&&a.isEnd(e,t)&&!a.isEmpty())continue;if(-1==n&&a.isStart(e,t)&&!a.isEmpty())continue;return o[i]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,o=[];t.column+=1,n.column-=1;for(var i=0;i<r.length;i++){var a=r[i].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[i].folds,l=0;l<s.length;l++){var c=s[l];if(-2==(a=c.range.compareRange(e)))break;if(2!=a){if(42==a)break;o.push(c)}}}}return t.column-=1,n.column+=1,o},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var o,i,a={end:{column:0}},s=0;s<r.folds.length;s++){var l=(i=r.folds[s]).range.compareEnd(e,t);if(-1==l){o=this.getLine(i.start.row).substring(a.end.column,i.start.column);break}if(0===l)return null;a=i}return o||(o=this.getLine(i.start.row).substring(a.end.column)),-1==n?o.substring(0,t-a.end.column):1==n?o.substring(t-a.end.column):o},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var o=n[r];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var o=n[r];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,o=0;o<n.length;o++){var i=n[o],a=i.end.row,s=i.start.row;if(a>=t){s<t&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,a=!1;e instanceof i?n=e:(n=new i(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,d=this.getFoldAt(s,l,1),f=this.getFoldAt(c,u,-1);if(d&&f==d)return d.addSubFold(n);d&&!d.range.isStart(s,l)&&this.removeFold(d),f&&!f.range.isEnd(c,u)&&this.removeFold(f);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){n.addSubFold(e)}));for(var h=0;h<r.length;h++){var g=r[h];if(c==g.start.row){g.addFold(n),a=!0;break}if(s==g.end.row){if(g.addFold(n),a=!0,!n.sameRow){var m=r[h+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return a||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,o=this.$foldData,i=t.folds;if(1==i.length)o.splice(o.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))i.pop(),t.end.row=i[i.length-1].end.row,t.end.column=i[i.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))i.shift(),t.start.row=i[0].start.row,t.start.column=i[0].start.column;else if(e.sameRow)i.splice(i.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);(i=a.folds).shift(),a.start.row=i[0].start.row,a.start.column=i[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,o;if(null==e?(n=new r(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,o=this.getFoldsInRangeList(n),t)this.removeFolds(o);else for(var i=o;i.length;)this.expandFolds(i),i=this.getFoldsInRangeList(n);if(o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,o){null==r&&(r=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var i=this.doc,a="";return e.walk(function(e,t,n,s){if(!(t<r)){if(t==r){if(n<o)return;s=Math.max(o,s)}a+=null!=e?e:i.getLine(t).substring(s,n)}},t,n),a},this.getDisplayLine=function(e,t,n,r){var o,i=this.getFoldLine(e);return i?this.getFoldDisplayLine(i,e,t,n,r):(o=this.doc.getLine(e)).substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new o(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var i=this.getFoldsInRange(r);if(e&&i.length)return void this.expandFolds(i);1==i.length&&(t=i[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var a="...";if(!r.isMultiLine()){if((a=this.getTextRange(r)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)}},this.getCommentFoldRange=function(e,t,n){var o=new a(this,e,t),i=o.getCurrentToken(),s=i.type;if(i&&/^comment|string/.test(s)){"comment"==(s=s.match(/comment|string/)[0])&&(s+="|doc-start");var l=new RegExp(s),c=new r;if(1!=n){do{i=o.stepBackward()}while(i&&l.test(i.type));o.stepForward()}if(c.start.row=o.getCurrentTokenRow(),c.start.column=o.getCurrentTokenColumn()+2,o=new a(this,e,t),-1!=n){var u=-1;do{if(i=o.stepForward(),-1==u){var d=this.getState(o.$row);l.test(d)||(u=o.$row)}else if(o.$row>u)break}while(i&&l.test(i.type));i=o.stepBackward()}else i=o.getCurrentToken();return c.end.row=o.getCurrentTokenRow(),c.end.column=o.getCurrentTokenColumn()+i.value.length-2,c}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]){var i=this.getFoldWidgetRange(o);if(i&&i.isMultiLine()&&i.end.row<=t&&i.start.row>=e){o=i.end.row;try{var a=this.addFold("...",i);a&&(a.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,o=e-1;o>=0;){var i=n[o];if(null==i&&(i=n[o]=this.getFoldWidget(o)),"start"==i){var a=this.getFoldWidgetRange(o);if(r||(r=a),a&&a.end.row>=e)break}o--}return{range:-1!==o&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),o="end"===n?-1:1,i=this.getFoldAt(e,-1===o?0:r.length,o);if(i)return t.children||t.all?this.removeFold(i):this.expandFold(i),i;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(i=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(i.range))return this.removeFold(i),i;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,c=s.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=a?a.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var o=this.getFoldAt(t,this.getLine(t).length,1);o?this.removeFold(o):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=function s(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),a=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(a||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},a=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){if(!(s=this.$findClosingBracket(a[1],e)))return null;t=o.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s;if(!(s=this.$findOpeningBracket(a[2],e)))return null;t=o.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var i=new o(e.row,e.column-1,e.row,e.column),a=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return a?[i,new o(a.row,a.column,a.row,a.column+1)]:[i]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var o=this.$brackets[e],i=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-a.getCurrentTokenColumn()-2,c=s.value;;){for(;l>=0;){var u=c.charAt(l);if(u==o){if(0==(i-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else u==e&&(i+=1);l-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;l=(c=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var o=this.$brackets[e],i=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-a.getCurrentTokenColumn();;){for(var c=s.value,u=c.length;l<u;){var d=c.charAt(l);if(d==o){if(0==(i-=1))return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else d==e&&(i+=1);l+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;l=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,r){"use strict";var o=e("./lib/oop"),i=e("./lib/lang"),a=e("./bidihandler").BidiHandler,s=e("./config"),l=e("./lib/event_emitter").EventEmitter,c=e("./selection").Selection,u=e("./mode/text").Mode,d=e("./range").Range,f=e("./document").Document,p=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,g=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++g.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new f(e)),this.setDocument(e),this.selection=new c(this),this.$bidiHandler=new a(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};g.$uid=0,function(){function m(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}o.implement(this,l),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,i=e[o];if(t>i)n=o+1;else{if(!(t<i))return o;r=o-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),o=0;if(null==t){var i=r.length-1;o=this.getLine(e).length}else for(i=0;i<r.length&&!((o+=r[i].value.length)>=t);i++);return(n=r[i])?(n.index=i,n.start=o-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var o=this.$markerId++,i={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:o};return r?(this.$frontMarkers[o]=i,this._signal("changeFrontMarker")):(this.$backMarkers[o]=i,this._signal("changeBackMarker")),o},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var o=new d(e,0,t,1/0);return o.id=this.addMarker(o,n,"fullLine",r),o},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var o=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))o=/\s/;else o=this.nonTokenRe;var i=t;if(i>0){do{i--}while(i>=0&&n.charAt(i).match(o));i++}for(var a=t;a<n.length&&n.charAt(a).match(o);)a++;return new d(e,i,e,a)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,s.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new p(n);var o=this;this.bgTokenizer.addEventListener("update",function(e){o._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,o=0,i=this.$foldData[o],a=i?i.start.row:1/0,s=t.length,l=0;l<s;l++){if(l>a){if((l=i.end.row+1)>=s)break;a=(i=this.$foldData[o++])?i.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];("insert"==r.action||"remove"==r.action)&&this.doc.applyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,o,i=0;i<e.length;i++){var a=e[i];a.start&&(r?n(a)?(o=a.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=a.end,1==r.compare(o.row,o.column)&&r.setEnd(o),!0):(o=a.start,-1==r.compare(o.row,o.column)&&(r=d.fromPoints(a.start,a.start)),!1):n(a)?(r=d.fromPoints(a.start,a.end),!0):(r=d.fromPoints(a.start,a.start),!1))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),o=this.getFoldsInRange(e),i=d.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row;(c=a?-e.end.column:e.start.column-e.end.column)&&(i.start.row==e.end.row&&i.start.column>e.end.column&&(i.start.column+=c),i.end.row==e.end.row&&i.end.column>e.end.column&&(i.end.column+=c)),a&&i.start.row>=e.end.row&&(i.start.row+=a,i.end.row+=a)}if(i.end=this.insert(i.start,r),o.length){var s=e.start,l=i.start,c=(a=l.row-s.row,l.column-s.column);this.addFolds(o.map(function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=c),e.end.row==s.row&&(e.end.column+=c),e.start.row+=a,e.end.row+=a,e}))}return i},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new d(0,0,0,0),r=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var i=this.getLine(o);n.start.row=o,n.end.row=o;for(var a=0;a<r&&" "==i.charAt(a);++a);a<r&&"\t"==i.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((o=this.getRowFoldStart(e+n))<0)return 0;var r=o-e}else if(n>0){var o;if((o=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=o-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var i=new d(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(i).map(function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e}),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,s),a.length&&this.addFolds(a),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,o=e.end,i=r.row,a=o.row,s=a-i,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(i,s);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(o.row)){g.addRemoveChars(o.row,o.column,r.column-o.column),g.shiftRow(-s);var d=this.getFoldLine(i);d&&d!==g&&(d.merge(g),g=d),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=o.row&&g.shiftRow(-s)}a=i}else{var f=Array(s);f.unshift(i,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,f);c=this.$foldData,u=0;if(g=this.getFoldLine(i)){var h=g.range.compareInside(r.row,r.column);0==h?(g=g.split(r.row,r.column))&&(g.shiftRow(s),g.addRemoveChars(a,0,o.column-r.column)):-1==h&&(g.addRemoveChars(i,0,o.column-r.column),g.shiftRow(s)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=i&&g.shiftRow(s)}}else s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s),(g=this.getFoldLine(i))&&g.addRemoveChars(i,r.column,s);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(i,a):this.$updateRowLengthCache(i,a),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,r){var o,i,a=this.doc.getAllLines(),s=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(r=Math.min(r,a.length-1);u<=r;)(i=this.getFoldLine(u,i))?(o=[],i.walk(function(n,r,i,s){var l;if(null!=n){(l=this.$getDisplayTokens(n,o.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(a[r].substring(s,i),o.length);o=o.concat(l)}.bind(this),i.end.row,a[i.end.row].length+1),l[i.start.row]=this.$computeWrapSplits(o,c,s),u=i.end.row+1):(o=this.$getDisplayTokens(a[u]),l[u]=this.$computeWrapSplits(o,c,s),u++)};var e=3,t=4,n=10,r=11,a=12;this.$computeWrapSplits=function(o,i,s){function g(){var e=0;if(0===h)return e;if(p)for(var t=0;t<o.length;t++){var i=o[t];if(i==n)e+=1;else{if(i!=r){if(i==a)continue;break}e+=s}}return f&&!1!==p&&(e+=s),Math.min(e,h)}function y(e){for(var t=e-u,n=u;n<e;n++){var r=o[n];12!==r&&2!==r||(t-=1)}l.length||(m=g(),l.indent=m),d+=t,l.push(d),u=e}if(0==o.length)return[];for(var l=[],c=o.length,u=0,d=0,f=this.$wrapAsCode,p=this.$indentedSoftWrap,h=i<=Math.max(2*s,8)||!1===p?0:Math.floor(i/2),m=0;c-u>i-m;){var A=u+i-m;if(o[A-1]>=n&&o[A]>=n)y(A);else if(o[A]!=e&&o[A]!=t){for(var v=Math.max(A-(i-(i>>2)),u-1);A>v&&o[A]<e;)A--;if(f){for(;A>v&&o[A]<e;)A--;for(;A>v&&9==o[A];)A--}else for(;A>v&&o[A]<n;)A--;A>v?y(++A):(2==o[A=u+i]&&A--,y(A-m))}else{for(;A!=u-1&&o[A]!=e;A--);if(A>u){y(A);continue}for(A=u+i;A<o.length&&o[A]==t;A++);if(A==o.length)break;y(A)}}return l},this.$getDisplayTokens=function(e,t){var o,i=[];t=t||0;for(var s=0;s<e.length;s++){var l=e.charCodeAt(s);if(9==l){o=this.getScreenTabSize(i.length+t),i.push(r);for(var c=1;c<o;c++)i.push(a)}else 32==l?i.push(n):l>39&&l<48||l>57&&l<64?i.push(9):l>=4352&&m(l)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),n=n||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?n+=this.getScreenTabSize(n):r>=4352&&m(r)?n+=2:n+=1,!(n>t));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,o,i=0,a=0,s=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),d=c.length;if(d&&u>=0){s=c[u],i=this.$docRowCache[u];var f=e>c[d-1]}else f=!d;for(var p=this.getLength()-1,h=this.getNextFoldLine(i),g=h?h.start.row:1/0;s<=e&&!(s+(l=this.getRowLength(i))>e||i>=p);)s+=l,++i>g&&(i=h.end.row+1,g=(h=this.getNextFoldLine(i,h))?h.start.row:1/0),f&&(this.$docRowCache.push(i),this.$screenRowCache.push(s));if(h&&h.start.row<=i)r=this.getFoldDisplayLine(h),i=h.start.row;else{if(s+l<=e||i>p)return{row:p,column:this.getLine(p).length};r=this.getLine(i),h=null}var m=0,A=Math.floor(e-s);if(this.$useWrapMode){var v=this.$wrapData[i];v&&(o=v[A],A>0&&v.length&&(m=v.indent,a=v[A-1]||v[v.length-1],r=r.substring(a)))}return void 0!==n&&this.$bidiHandler.isBidiRow(s+A,i,A)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&a>=o&&(a=o-1),h?h.idxToPosition(a):{row:i,column:a}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,o=0,i=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var a,s=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){s=l[c],o=this.$screenRowCache[c];var d=e>l[u-1]}else d=!u;for(var f=this.getNextFoldLine(s),p=f?f.start.row:1/0;s<e;){if(s>=p){if((a=f.end.row+1)>e)break;p=(f=this.getNextFoldLine(a,f))?f.start.row:1/0}else a=s+1;o+=this.getRowLength(s),s=a,d&&(this.$docRowCache.push(s),this.$screenRowCache.push(o))}var h="";f&&s>=p?(h=this.getFoldDisplayLine(f,e,t),i=f.start.row):(h=this.getLine(e).substring(0,t),i=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){for(var A=0;h.length>=m[A];)o++,A++;h=h.substring(m[A-1]||0,h.length),g=A>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[s]&&this.lineWidgets[s].rowsAbove&&(o+=this.lineWidgets[s].rowsAbove),{row:o,column:g+this.$getStringScreenWidth(h)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,o=(s=0,(t=this.$foldData[s++])?t.start.row:1/0);r<n;){var i=this.$wrapData[r];e+=i?i.length+1:1,++r>o&&(r=t.end.row+1,o=(t=this.$foldData[s++])?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)e-=(t=a[s]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var o,i;for(n||(n=1/0),r=r||0,i=0;i<t.length&&!((r+="\t"===(o=t.charAt(i))?this.getScreenTabSize(r):e.getCharacterWidth(o))>n);i++);return[r,i]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=m}.call(g.prototype),e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),o=e("./lib/oop"),i=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,o,a){return r=new i(e,n,o,a),!(n==a&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,o=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var l,c=s.length,u=o.length-c;e:for(var d=s.offset||0;d<=u;d++){for(var f=0;f<c;f++)if(-1==o[d+f].search(s[f]))continue e;var p=o[d],h=o[d+c-1],g=p.length-p.match(s[0])[0].length,m=h.match(s[c-1])[0].length;l&&l.end.row===d&&l.end.column>g||(a.push(l=new i(d,g,d+c-1,m)),c>2&&(d=d+c-2))}}else for(var A=0;A<o.length;A++){var v=r.getMatchOffsets(o[A],s);for(f=0;f<v.length;f++){var y=v[f];a.push(new i(A,y.offset,A,y.offset+y.length))}}if(n){var b=n.start.column,w=n.start.column;for(A=0,f=a.length-1;A<f&&a[A].start.column<b&&a[A].start.row==n.start.row;)A++;for(;A<f&&a[f].end.column>w&&a[f].end.row==n.end.row;)f--;for(a=a.slice(A,f+1),A=0,f=a.length;A<f;A++)a[A].start.row+=n.start.row,a[A].end.row+=n.start.row}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var o=r.exec(e);if(!o||o[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var i=Math.min(e.length,e.length);i--;){var a=e[i];a&&a.toLowerCase()!=a?t[i]=t[i].toUpperCase():t[i]=t[i].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=function u(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,o);try{var i=new RegExp(n,o)}catch(e){i=!1}return e.re=i},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],o=0;o<n.length;o++)try{r.push(new RegExp(n[o],t))}catch(e){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,o=0!=t.skipCurrent,i=t.range,a=t.start;a||(a=i?i[r?"end":"start"]:e.selection.getRange()),a.start&&(a=a[o!=r?"end":"start"]);var s=i?i.start.row:0,l=i?i.end.row:e.getLength()-1;if(r)var c=function(e){var n=a.row;if(!d(n,a.column,e)){for(n--;n>=s;n--)if(d(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,s=a.row;n>=s;n--)if(d(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=a.row;if(!d(n,a.column,e)){for(n+=1;n<=l;n++)if(d(n,0,e))return;if(0!=t.wrap)for(n=s,l=a.row;n<=l;n++)if(d(n,0,e))return}};if(t.$isMultiLine)var u=n.length,d=function(t,o,i){var a=r?t-u+1:t;if(!(a<0)){var s=e.getLine(a),l=s.search(n[0]);if(!(!r&&l<o||-1===l)){for(var c=1;c<u;c++)if(-1==(s=e.getLine(a+c)).search(n[c]))return;var d=s.match(n[u-1])[0].length;if(!(r&&d>o))return!!i(a,l,a+u-1,d)||void 0}}};else if(r)d=function(t,r,o){var i,a=e.getLine(t),s=[],l=0;for(n.lastIndex=0;i=n.exec(a);){var c=i[0].length;if(l=i.index,!c){if(l>=a.length)break;n.lastIndex=l+=1}if(i.index+c>r)break;s.push(i.index,c)}for(var u=s.length-1;u>=0;u-=2){var d=s[u-1];if(o(t,d,t,d+(c=s[u])))return!0}};else d=function(t,r,o){var i,a,s=e.getLine(t);for(n.lastIndex=r;a=n.exec(s);){var l=a[0].length;if(o(t,i=a.index,t,i+l))return!0;if(!l&&(n.lastIndex=i+=1,i>=s.length))return!1}};return{forEach:c}}}).call(a.prototype),t.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,n,r){"use strict";function o(e,t){this.platform=t||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function u(e,t){o.call(this,e,t),this.$singleCommand=!1}var i=t("../lib/keys"),a=t("../lib/useragent"),s=i.KEY_MODS;u.prototype=o.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var o in r){var i=r[o];if(i==e)delete r[o];else if(Array.isArray(i)){var a=i.indexOf(e);-1!=a&&(i.splice(a,1),1==i.length&&(r[o]=i[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var o=e.split(/\s+/);e=o.pop(),o.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var i=this.parseKeys(e),a=s[i.hashId]+i.key;this._addCommandToBinding(r+a,t,n)},this)},this._addCommandToBinding=function(t,n,r){var o,i=this.commandKeyBinding;if(n)if(!i[t]||this.$singleCommand)i[t]=n;else{Array.isArray(i[t])?-1!=(o=i[t].indexOf(n))&&i[t].splice(o,1):i[t]=[i[t]],"number"!=typeof r&&(r=e(n));var a=i[t];for(o=0;o<a.length;o++){if(e(a[o])>r)break}a.splice(o,0,n)}else delete i[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=i.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var o=s[t]+n,i=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,i=this.commandKeyBinding[e.$keyChain]||i),!i||"chainKeys"!=i&&"chainKeys"!=i[i.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:i}):(e.$keyChain=e.$keyChain||o,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(o.prototype),n.HashHandler=o,n.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,i=e("../lib/event_emitter").EventEmitter,a=function(e,t){o.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(a,o),function(){r.implement(this,i),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var o={editor:t,command:e,args:n};return o.returnValue=this._emit("exec",o),this._signal("afterExec",o),!1!==o.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(a.prototype),t.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function o(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config"),a=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:o("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:o("Alt-E","F4"),exec:function(e){i.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(e,t){"number"==typeof t&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),o=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),i=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=o.row+1;c++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}o.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new a(n.row,0,o.row+2,0),l),s>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+s)):(i=e.session.doc.getLine(n.row).length>i?i+1:i,e.selection.moveCursorTo(n.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,o=[];r.length<1&&(r=[e.selection.getRange()]);for(var i=0;i<r.length;i++)i==r.length-1&&(r[i].end.row!==t||r[i].end.column!==n)&&o.push(new a(r[i].end.row,r[i].end.column,t,n)),0===i?(0!==r[i].start.row||0!==r[i].start.column)&&o.push(new a(0,0,r[i].start.row,r[i].start.column)):o.push(new a(r[i-1].end.row,r[i-1].end.column,r[i].start.row,r[i].start.column));e.exitMultiSelectMode(),e.clearSelection();for(i=0;i<o.length;i++)e.selection.addRange(o[i],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./lib/lang"),a=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,f=e("./search").Search,p=e("./range").Range,h=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,A=e("./config"),v=e("./token_iterator").TokenIterator,y=e("./clipboard"),b=function(e,t,n){var r=e.getContainerElement();this.container=r,this.renderer=e,this.id="editor"+ ++b.$uid,this.commands=new g(a.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=i.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||n&&n.session||new d("")),A.resetOptions(this),n&&this.setOptions(n),A._signal("editor",this)};b.$uid=0,function(){r.implement(this,h),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=i.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),o=this.renderer.layerConfig;(r.start.row>=o.lastRow||r.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var i=this.selection.toJSON();this.curOp.selectionAfter=i,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(i),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var o=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;A.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach(function(e){t.removeMarker(e)}),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var r="ace_bracket";Array.isArray(n)?1==n.length&&(r="ace_error_bracket"):n=[n],2==n.length&&(0==p.comparePoints(n[0].end,n[1].start)?n=[p.fromPoints(n[0].start,n[1].end)]:0==p.comparePoints(n[0].start,n[1].end)&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map(function(e){return t.addMarker(e,r,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new v(e.session,n.row,n.column),o=r.getCurrentToken();if(!o||!/\b(?:tag-open|tag-name)/.test(o.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==o.type.indexOf("tag-open")||(o=r.stepForward())){var i=o.value,a=0,s=r.stepBackward();if("<"==s.value)do{s=o,(o=r.stepForward())&&o.value===i&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(o&&a>=0);else{do{o=s,s=r.stepBackward(),o&&o.value===i&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(s&&a<=0);r.stepForward()}if(!o)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new p(l,c,l,c+o.value.length),d=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=d&&0!==u.compareRange(d.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,o=e.getLine(t.start.row),i=o.substring(n,r);if(!(i.length>5e3)&&/[\w\d]/.test(i)){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:i}),s=o.substring(n-1,r+1);if(a.test(s))return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),o=0;o<r.length;o++){var i=r[o];o&&r[o-1].start.row==i.start.row||(e+=this.session.getLine(i.start.row)+t)}}var a={text:e};return this._signal("copy",a),y.lineMode=n?a.text:"",a.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==y.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach(function(e){r.insert({row:e.start.row,column:0},t)});else{var o=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges,a=!(2!=o.length||o[0]&&o[1]);if(o.length!=i.length||a)return this.commands.exec("insertstring",this,t);for(var s=i.length;s--;){var l=i[s];l.isEmpty()||r.remove(l),r.insert(l.start,o[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),o=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var i=r.transformAction(n.getState(o.row),"insertion",this,n,e);i&&(e!==i.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=i.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(a=new p.fromPoints(o,o)).end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();o=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(o.row);if(o.column>s.search(/\S|$/)){var l=s.substr(o.column).search(/\S|$/);n.doc.removeInLine(o.row,o.column,o.column+l)}}this.clearSelection();var c=o.column,u=n.getState(o.row),d=(s=n.getLine(o.row),r.checkOutdent(u,s,e));if(n.insert(o,e),i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new p(o.row,c+i.selection[0],o.row,c+i.selection[1])):this.selection.setSelectionRange(new p(o.row+i.selection[0],i.selection[1],o.row+i.selection[2],i.selection[3]))),n.getDocument().isNewLine(e)){var f=r.getNextLineIndent(u,s.slice(0,o.column),n.getTabString());n.insert({row:o.row+1,column:0},f)}d&&r.autoOutdent(u,n,o.row)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove());((e||!this.selection.isEmpty())&&this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),o=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var i=n.getTextRange(t);if("\n"==i[i.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}o&&(t=o)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,o=this.session.getLine(e.row);t<o.length?(n=o.charAt(t)+o.charAt(t-1),r=new p(e.row,t-1,e.row,t+1)):(n=o.charAt(t-1)+o.charAt(t-2),r=new p(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var r=e.getLine(t.start.row),o=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var l=a-s%a,c=i.stringRepeat(" ",l);else{for(l=s%a;" "==r[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var o=new p(0,0,0,0);for(r=e.first;r<=e.last;r++){var i=t.getLine(r);o.start.row=r,o.end.row=r,o.end.column=i.length,t.replace(o,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var o=n.exec(r);if(o.index<=t&&o.index+o[0].length>=t)return{value:o[0],start:o.index,end:o.index+o[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),o=this.session.getTextRange(r);if(!isNaN(parseFloat(o))&&isFinite(o)){var i=this.getNumberAt(t,n);if(i){var a=i.value.indexOf(".")>=0?i.start+i.value.indexOf(".")+1:i.end,s=i.start+i.value.length-a,l=parseFloat(i.value);l*=Math.pow(10,s),a!==i.end&&n<a?e*=Math.pow(10,i.end-n-1):e*=Math.pow(10,i.end-n),l+=e;var c=(l/=Math.pow(10,s)).toFixed(s),u=new p(t,i.start,t,i.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(i.start+1,n+c.length-i.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,o=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),a=t-r-1;a<0&&(a=0);var s=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&o.forEach(function(t,o){l=s+t.length,a>=s&&a<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,s+r),c.selection.selectTo(e,l+r)),s=l});for(var u,d=this.$toggleWordPairs,f=0;f<d.length;f++)for(var p=d[f],h=0;h<=1;h++){var g=+!h,m=n.match(new RegExp("^\\s?_?("+i.escapeRegExp(p[h])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+i.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(i.escapeRegExp(p[h]),"i"),function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var o=n.start.row;t.duplicateLines(o,o)}else{var i=r?n.start:n.end,a=t.insert(i,t.getTextRange(n),!1);n.start=i,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,o=this.selection;if(!o.inMultiSelectMode||this.inVirtualSelectionMode){var i=o.toOrientedRange();n=this.$getSelectedRows(i),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),i.moveBy(r,0),o.fromOrientedRange(i)}else{var a=o.rangeList.ranges;o.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,c=a.length,u=0;u<c;u++){var d=u;a[u].moveBy(s,0);for(var f=(n=this.$getSelectedRows(a[u])).first,p=n.last;++u<c;){l&&a[u].moveBy(l,0);var h=this.$getSelectedRows(a[u]);if(t&&h.first!=p)break;if(!t&&h.first>p+1)break;p=h.last}for(u--,s=this.session.$moveLines(f,p,t?0:e),t&&-1==e&&(d=u+1);d<=u;)a[d].moveBy(s,0),d++;t||(s=0),l+=s}o.fromOrientedRange(o.ranges[0]),o.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,o=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(o,0)}):!1===t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection());var i=n.scrollTop;n.scrollBy(0,o*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(i)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new v(this.session,n.row,n.column),o=r.getCurrentToken(),i=o||r.stepForward();if(i){var a,s,l=!1,c={},u=n.column-i.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(i.value.match(/[{}()\[\]]/g)){for(;u<i.value.length&&!l;u++)if(d[i.value[u]])switch(s=d[i.value[u]]+"."+i.type.replace("rparen","lparen"),isNaN(c[s])&&(c[s]=0),i.value[u]){case"(":case"[":case"{":c[s]++;break;case")":case"]":case"}":c[s]--,-1===c[s]&&(a="bracket",l=!0)}}else-1!==i.type.indexOf("tag-name")&&(isNaN(c[i.value])&&(c[i.value]=0),"<"===o.value?c[i.value]++:"</"===o.value&&c[i.value]--,-1===c[i.value]&&(a="tag",l=!0));l||(o=i,i=r.stepForward(),u=0)}while(i&&!l);if(a){var f,h;if("bracket"===a)(f=this.session.getBracketRange(n))||(h=(f=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1)).start,(t||h.row===n.row&&Math.abs(h.column-n.column)<2)&&(f=this.session.getBracketRange(h)));else if("tag"===a){if(!i||-1===i.type.indexOf("tag-name"))return;var g=i.value;if(0===(f=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{i=o,(o=r.stepBackward())&&(-1!==o.type.indexOf("tag-close")&&f.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),i.value===g&&-1!==i.type.indexOf("tag-name")&&("<"===o.value?c[g]++:"</"===o.value&&c[g]--,0===c[g]&&(l=!0)))}while(o&&!l)}i&&i.type.indexOf("tag-name")&&((h=f.start).row==n.row&&Math.abs(h.column-n.column)<2&&(h=f.end))}(h=f&&f.cursor||h)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(h.row,h.column):this.selection.moveTo(h.row,h.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=n.length-1;i>=0;--i)this.$tryReplace(n[i],e)&&r++;return this.selection.setSelectionRange(o),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var o=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(o)||this.$search.$options.needle)||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var i=this.$search.find(this.session);return t.preventScroll?i:i?(this.revealRange(i,n),i):(t.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.session=null},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var i=this.on("changeSelection",function(){r=!0}),a=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),s=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,i=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=i.top-a.offset;null!=(r=i.top>=0&&s+t.top<0||!(i.top<a.height&&i.top+t.top+a.lineHeight>window.innerHeight)&&null)&&(o.style.top=s+"px",o.style.left=i.left+"px",o.style.height=a.lineHeight+"px",o.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",i),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var r=this;A.loadModule("./ext/prompt",function(o){o.prompt(r,e,t,n)})}}.call(b.prototype),A.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.renderer.$composition||this.getValue();if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!e&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=b}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,n){"use strict";function f(e){return{row:e.row,column:e.column}}function c(e){if(e=e||this,Array.isArray(e))return e.map(c).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(h).join("\n"):h(e.value)),e.start&&(t+=h(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function h(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function p(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(a(t.start,e.end)>=0)m(t,e,-1);else{if(!(a(t.start,e.start)<=0))return null;m(e,t,1)}else if(n&&!r)if(a(t.start,e.end)>=0)m(t,e,-1);else{if(!(a(t.end,e.start)<=0))return null;m(e,t,-1)}else if(!n&&r)if(a(t.start,e.start)>=0)m(t,e,1);else{if(!(a(t.start,e.start)<=0))return null;m(e,t,1)}else if(!n&&!r)if(a(t.start,e.start)>=0)m(t,e,1);else{if(!(a(t.end,e.start)<=0))return null;m(e,t,-1)}return[t,e]}function d(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!p(e[n],t[r])){for(;n<e.length;){for(;r--;)p(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function v(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)a(e.start,t.start)<0?m(t,e,1):m(e,t,1);else if(n&&!r)a(e.start,t.end)>=0?m(e,t,-1):a(e.start,t.start)<=0?m(t,e,1):(m(e,o.fromPoints(t.start,e.start),-1),m(t,e,1));else if(!n&&r)a(t.start,e.end)>=0?m(t,e,-1):a(t.start,e.start)<=0?m(e,t,1):(m(t,o.fromPoints(e.start,t.start),-1),m(e,t,1));else if(!n&&!r)if(a(t.start,e.end)>=0)m(t,e,-1);else{var i,s;if(!(a(t.end,e.start)<=0))return a(e.start,t.start)<0&&(i=e,e=y(e,t.start)),a(e.end,t.end)>0&&(s=y(e,t.end)),g(t.end,e.start,e.end,-1),s&&!i&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,i,s].filter(Boolean);m(e,t,-1)}return[t,e]}function m(e,t,n){g(e.start,t.start,t.end,n),g(e.end,t.start,t.end,n)}function g(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function y(e,t){var n=e.lines,r=e.end;e.end=f(t);var o=e.end.row-e.start.row,i=n.splice(o,n.length),a=o?t.column:t.column-e.start.column;return n.push(i[0].substring(0,a)),i[0]=i[0].substr(a),{start:f(t),end:r,lines:i,action:e.action}}function b(e,t){t=function l(e){return{start:f(e.start),end:f(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],o=0;o<r.length;o++){var i=v(r[o],t);t=i[0],2!=i.length&&(i[2]?(r.splice(o+1,1,i[1],i[2]),o++):i[1]||(r.splice(o,1),o--))}r.length||e.splice(n,1)}return e}var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var o=n[r][0];if(o.id<=e)break;o.id<t&&(o.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var o=n[r];if(o.rev<e)return t&&(o=n[r+1]),o}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,o=0,i=n.length;i--;){var a=n[i][0];if(a.id<t&&!r&&(r=i+1),a.id<=e){o=i+1;break}}return n.slice(o,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.validateDeltaBoundaries=function(e,t,n){return!!e&&e.every(function(e){var r=e.action;switch(n&&"insert"===e.action&&(r="remove"),n&&"remove"===e.action&&(r="insert"),r){case"insert":return e.start.row<=t;case"remove":return e.start.row<t&&e.end.row<t;default:return!0}})},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function i(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var o=d(e[n],e[n+1]);e[n]=o[0],e[n+1]=o[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),o=null;return this.validateDeltaBoundaries(r,e.getLength(),!0)&&(o=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function w(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;o++)b(e,r[o])})(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var r=this.$redoStack.pop(),o=null;return this.validateDeltaBoundaries(r,e.getLength(),!1)&&(o=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?c(e):c(this.$undoStack)+"\n---\n"+c(this.$redoStack)}}).call(r.prototype);var o=e("./range").Range,a=o.comparePoints;o.comparePoints;t.UndoManager=r}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../lib/dom"),o=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,o=Math.floor(r/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-o*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,o){var i=this.cellCache.pop();if(!i){var a=r.createElement("div");o&&o(a),this.element.appendChild(a),i={element:a,text:"",row:e}}return i.row=e,i}}).call(o.prototype),t.Lines=o}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,n){"use strict";function f(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}var r=e("../lib/dom"),o=e("../lib/oop"),i=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,s=e("./lines").Lines,l=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};(function(){o.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,o=this.$annotations[r];o||(o=this.$annotations[r]={text:[]});var a=n.text;a=a?i.escapeHTML(a):n.html||"",-1===o.text.indexOf(a)&&o.text.push(a);var s=n.type;"error"==s?o.className=" ace_error":"warning"==s&&" ace_error"!=o.className?o.className=" ace_warning":"info"==s&&!o.className&&(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0!==n)if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(n),i=o?o.start.row:1/0,a=null,s=-1,l=n;;){if(l>i&&(l=o.end.row+1,i=(o=t.getNextFoldLine(l,o))?o.start.row:1/0),l>r){for(;this.$lines.getLength()>s+1;)this.$lines.pop();break}(a=this.$lines.get(++s))?a.row=l:(a=this.$lines.createCell(l,e,this.session,f),this.$lines.push(a)),this.$renderCell(a,e,o,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+r-1);var i=n?n.getWidth(t,o,e):o.toString().length*e.characterWidth,a=this.$padding||this.$computePadding();(i+=a.left+a.right)!==this.gutterWidth&&!isNaN(i)&&(this.gutterWidth=i,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",i))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&o&&o.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(r>n)for(o=this.session.getFoldedRowCount(n+1,r);o>0;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var r=[],o=t,i=this.session.getNextFoldLine(o),a=i?i.start.row:1/0;o>a&&(o=i.end.row+1,a=(i=this.session.getNextFoldLine(o,i))?i.start.row:1/0),!(o>n);){var s=this.$lines.createCell(o,e,this.session,f);this.$renderCell(s,e,i,o),r.push(s),o++}return r},this.$renderCell=function(e,t,n,o){var i=e.element,a=this.session,s=i.childNodes[0],l=i.childNodes[1],c=a.$firstLineNumber,u=a.$breakpoints,d=a.$decorations,f=a.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&a.foldWidgets,h=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||n&&o<this.$cursorRow&&o>=h&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[o]&&(g+=u[o]),d[o]&&(g+=d[o]),this.$annotations[o]&&(g+=this.$annotations[o].className),i.className!=g&&(i.className=g),p){var m=p[o];null==m&&(m=p[o]=a.getFoldWidget(o))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&o==h&&o<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var A=t.lineHeight+"px";r.setStyle(l.style,"height",A),r.setStyle(l.style,"display","inline-block")}else l&&r.setStyle(l.style,"display","none");var v=(f?f.getText(a,o):o+c).toString();return v!==s.data&&(s.data=v),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(o,t,a)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(o,t,a)+"px"),e.text=v,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,n,r){"use strict";var o=t("../range").Range,i=t("../lib/dom"),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var o=r.range.clipRows(e.firstRow,e.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),r.renderer){var i=this.$getTop(o.start.row,e),a=this.$padding+o.start.column*e.characterWidth;r.renderer(t,o,a,i,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,o,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,o,r.clazz,e):o.isMultiLine()?"text"==r.type?this.drawTextMarker(t,o,r.clazz,e):this.drawMultiLineMarker(t,o,r.clazz,e):this.drawSingleLineMarker(t,o,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,r,i,a){for(var s=this.session,l=n.start.row,c=n.end.row,u=l,d=0,f=0,p=s.getScreenLastRowColumn(u),h=new o(u,n.start.column,u,f);u<=c;u++)h.start.row=h.end.row=u,h.start.column=u==l?n.start.column:s.getRowWrapIndent(u),h.end.column=p,d=f,f=p,p=u+1<c?s.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,h,r+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,d<f,f>p,u==c),i,u==c?0:1,a)},this.drawMultiLineMarker=function(e,t,n,r,o){var i=this.$padding,a=r.lineHeight,s=this.$getTop(t.start.row,r),l=i+t.start.column*r.characterWidth;(o=o||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",r,null,o)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+s+"px;left:"+l+"px;"+(o||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",r,null,o)}else{s=this.$getTop(t.end.row,r);var u=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+a+"px;width:"+u+"px;top:"+s+"px;left:"+i+"px;"+(o||""))}if(!((a=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){s=this.$getTop(t.start.row+1,r);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(d?" ace_br"+d:""),"height:"+a+"px;right:0;top:"+s+"px;left:"+i+"px;"+(o||""))}},this.drawSingleLineMarker=function(e,t,n,r,o,i){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,o,i);var a=r.lineHeight,s=(t.end.column+(o||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+a+"px;width:"+s+"px;top:"+l+"px;left:"+c+"px;"+(i||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,o,i){var a=r.lineHeight,s=this.$getTop(t.start.row,r),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(e){this.elt(n,"height:"+a+"px;width:"+e.width+(o||0)+"px;top:"+s+"px;left:"+(l+e.left)+"px;"+(i||""))},this)},this.drawFullLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-i),this.elt(n,"height:"+a+"px;top:"+i+"px;left:0;right:0;"+(o||""))},this.drawScreenLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),a=r.lineHeight;this.elt(n,"height:"+a+"px;top:"+i+"px;left:0;right:0;"+(o||""))}}).call(a.prototype),n.Marker=a}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/dom"),i=e("../lib/lang"),a=e("./lines").Lines,s=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)};(function(){r.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)if(this.showInvisibles){(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=i.stringRepeat(this.TAB_CHAR,n),t.push(r)}else t.push(this.dom.createTextNode(i.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,o="ace_indent-guide",a="",s="";if(this.showInvisibles){o+=" ace_invisible",a=" ace_invisible_space",s=" ace_invisible_tab";var l=i.stringRepeat(this.SPACE_CHAR,this.tabSize),c=i.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=l=i.stringRepeat(" ",this.tabSize);(r=this.dom.createElement("span")).className=o+a,r.textContent=l,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=o+s,r.textContent=c,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),o=Math.min(n,e.lastRow),i=this.element.childNodes,a=0,s=e.firstRow;s<r;s++){if(l=this.session.getFoldLine(s)){if(l.containsRow(r)){r=l.start.row;break}s=l.end.row}a++}for(var l,c=!1,u=(s=r,(l=this.session.getNextFoldLine(s))?l.start.row:1/0);s>u&&(s=l.end.row+1,u=(l=this.session.getNextFoldLine(s,l))?l.start.row:1/0),!(s>o);){var d=i[a++];if(d){this.dom.removeChildren(d),this.$renderLine(d,s,s==u&&l),c&&(d.style.top=this.$lines.computeLineTop(s,e,this.session)+"px");var f=e.lineHeight*this.session.getRowLength(s)+"px";d.style.height!=f&&(c=!0,d.style.height=f)}s++}if(c)for(;a<this.$lines.cells.length;){var p=this.$lines.cells[a++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(t.lastRow>e.lastRow)for(o=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);o>0;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var r=[],i=t,a=this.session.getNextFoldLine(i),s=a?a.start.row:1/0;i>s&&(i=a.end.row+1,s=(a=this.session.getNextFoldLine(i,a))?a.start.row:1/0),!(i>n);){var l=this.$lines.createCell(i,e,this.session),c=l.element;this.dom.removeChildren(c),o.setStyle(c.style,"height",this.$lines.computeLineHeight(i,e,this.session)+"px"),o.setStyle(c.style,"top",this.$lines.computeLineTop(i,e,this.session)+"px"),this.$renderLine(c,i,i==s&&a),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),i++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){for(var o,a=this,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;o=s.exec(r);){var u=o[1],d=o[2],f=o[3],p=o[4],h=o[5];if(a.showInvisibles||!d){var g=c!=o.index?r.slice(c,o.index):"";if(c=o.index+o[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),u){var m=a.session.getScreenTabSize(t+o.index);l.appendChild(a.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(d)if(a.showInvisibles){(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=i.stringRepeat(a.SPACE_CHAR,d.length),l.appendChild(v)}else l.appendChild(this.com.createTextNode(d,this.element));else if(f){(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=i.stringRepeat(a.SPACE_CHAR,f.length),l.appendChild(v)}else if(p){t+=1,(v=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",v.className=a.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=a.showInvisibles?a.SPACE_CHAR:p,l.appendChild(v)}else if(h){t+=1,(v=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",v.className="ace_cjk",v.textContent=h,l.appendChild(v)}}}if(l.appendChild(this.dom.createTextNode(c?r.slice(c):r,this.element)),this.$textToken[n.type])e.appendChild(l);else{var A="ace_"+n.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=A,v.appendChild(l),e.appendChild(v)}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var o=(r-=r%this.tabSize)/this.tabSize,i=0;i<o;i++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if("\t"==t[0]){for(i=0;i<r;i++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,o=0,a=n[0],s=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(r=d.length,!(d=this.renderIndentGuide(l,d,a)))continue;r-=d.length}if(r+d.length<a)s=this.$renderToken(l,s,u,d),r+=d.length;else{for(;r+d.length>=a;)s=this.$renderToken(l,s,u,d.substring(0,a-r)),d=d.substring(a-r),r=a,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(i.stringRepeat(" ",n.indent),this.element)),s=0,a=n[++o]||Number.MAX_VALUE;0!=d.length&&(r+=d.length,s=this.$renderToken(l,s,u,d))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,s,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],o=r.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(n=this.$renderToken(e,n,r,o));for(var i=1;i<t.length;i++){if(n+(o=(r=t[i]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,o);n=this.$renderToken(e,n,r,o)}},this.$renderOverflowMessage=function(e,t,n,r,o){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var i=this.dom.createElement("span");i.className="ace_inline_button ace_keyword ace_toggle_wrap",i.textContent=o?"<hide>":"<click to see more...>",e.appendChild(i)},this.$renderLine=function(e,t,n){if(!n&&0!=n&&(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var o=e;if(r.length){var i=this.session.getRowSplitData(t);if(i&&i.length){this.$renderWrappedLine(e,r,i);o=e.lastChild}else{o=e;this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,r)}}else this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o));if(this.showInvisibles&&o){n&&(t=n.end.row);var a=this.dom.createElement("span");a.className="ace_invisible ace_invisible_eol",a.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(a)}},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[],o=n.getTokens(e);return t.walk(function(e,t,a,s,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=n.getTokens(t)),o.length&&function i(e,t,n){for(var o=0,i=0;i+e[o].value.length<t;)if(i+=e[o].value.length,++o==e.length)return;for(i!=t&&((a=e[o].value.substring(t-i)).length>n-t&&(a=a.substring(0,n-t)),r.push({type:e[o].type,value:a}),i=t+a.length,o+=1);i<n&&o<e.length;){var a;(a=e[o].value).length+i>n?r.push({type:e[o].type,value:a.substring(0,n-i)}):r.push(e[o]),i+=a.length,o+=1}}(o,s,a))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,o=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var i=t.length;n<i;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var s=this.cursors[o++]||this.addCursor(),l=s.style;this.drawCursor?this.drawCursor(s,a,e,t[n],this.session):this.isCursorInView(a,e)?(r.setStyle(l,"display","block"),r.translate(s,a.left,a.top),r.setStyle(l,"width",Math.round(e.characterWidth)+"px"),r.setStyle(l,"height",e.lineHeight+"px")):r.setStyle(l,"display","none")}}for(;this.cursors.length>o;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,s=32768,l=function(e){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,i.addListener(this.element,"scroll",this.onScroll.bind(this)),i.addListener(this.element,"mousedown",i.preventDefault)};(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=o.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>s?(this.coeff=s/e,e=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),o=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(o.prototype),t.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,n,a){var l=e("../lib/oop"),c=e("../lib/dom"),d=e("../lib/lang"),f=e("../lib/event"),p=e("../lib/useragent"),h=e("../lib/event_emitter").EventEmitter,g=256,m="function"==typeof ResizeObserver,A=200,v=n.FontMetrics=function(e){this.el=c.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=c.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=c.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.innerHTML=d.stringRepeat("X",g),this.$characterSize={width:0,height:0},m?this.$addObserver():this.checkForSizeChanges()};(function(){l.implement(this,h),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",p.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){var n=t[0].contentRect;e.checkForSizeChanges({height:n.height,width:n.width/g})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=f.onIdle(function t(){e.checkForSizeChanges(),f.onIdle(t,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/g};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=d.stringRepeat(e,g),this.$main.getBoundingClientRect().width/g},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=c.buildDom([e(0,0),e(A,0),e(0,A),e(A,A)],this.el)},this.transformCoordinates=function(e,t){function r(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function u(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e));this.els||this.$initTransformMeasureNodes();var n=u(this.els[0]),a=u(this.els[1]),l=u(this.els[2]),c=u(this.els[3]),d=r(i(c,a),i(c,l),i(s(a,l),s(c,n))),f=o(1+d[0],i(a,n)),p=o(1+d[1],i(l,n));if(t){var h=t,g=d[0]*h[0]/A+d[1]*h[1]/A+1,m=s(o(h[0],f),o(h[1],p));return s(o(1/g/A,m),n)}var v=i(e,n),y=r(i(f,o(d[0],v)),i(p,o(d[1],v)),v);return o(A,y)}}).call(v.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),a=e("./config"),s=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,d=e("./scrollbar").HScrollBar,f=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,h=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',A=e("./lib/useragent"),v=A.isIE;i.importCssString(m,"ace_editor.css");var y=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new h(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!A.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),a.resetOptions(this),a._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var o=this.container;r||(r=o.clientHeight||o.scrollHeight),n||(n=o.clientWidth||o.scrollWidth);var i=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(i|this.$changes,!0):this.$loop.schedule(i|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,a=this.$size,s={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(r&&(e||a.height!=r)&&(a.height=r,o|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||a.width!=n)){o|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",l),i.setStyle(this.scroller.style,"right",l),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return a.$dirty=!n||!r,o&&this._signal("resize",s),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,o=n.top,a=n.left;o-=r.offset;var s=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>r.height-s)i.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-s;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(a-=this.scrollLeft)>this.$size.scrollerWidth-l&&(a=this.$size.scrollerWidth-l),a+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",s+"px"),i.setStyle(e,"width",l+"px"),i.translate(this.textarea,Math.min(a,this.$size.scrollerWidth-l),Math.min(o,c))}}}else i.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|r,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull()},this.setMargin=function(e,t,n,r){var o=this.margin;o.top=0|e,o.bottom=0|t,o.right=0|r,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",a=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",a)}return e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):e&this.CHANGE_SCROLL?(this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):(e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender",e))}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var o=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,o=this.$getLongestLine(),i=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==i;a&&(this.$horizScroll=i,this.scrollBarH.setVisible(i));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,r-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+u.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+c<0||this.scrollTop>u.top),f=s!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,h,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,A=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),v=A+m,y=this.lineHeight;A=e.screenToDocumentRow(A,0);var b=e.getFoldLine(A);b&&(A=b.start.row),p=e.documentToScreenRow(A,0),h=e.getRowLength(A)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*y+h,g=this.scrollTop-p*y;var w=0;return(this.layerConfig.width!=o||a)&&(w=this.CHANGE_H_SCROLL),(a||f)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:A,firstRowScreen:p,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:g,gutterOffset:y?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),o=r.left,i=r.top,a=n&&n.top||0,s=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+a>i?(t&&l+a>i+this.lineHeight&&(i-=t*this.$size.scrollerHeight),0===i&&(i=-this.scrollMargin.top),this.session.setScrollTop(i)):l+this.$size.scrollerHeight-s<i+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<i-this.lineHeight&&(i+=t*this.$size.scrollerHeight),this.session.setScrollTop(i+this.lineHeight+s-this.$size.scrollerHeight));var c=this.scrollLeft;c>o?(o<this.$padding+2*this.layerConfig.characterWidth&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):c+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&o-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,o=n.top-r*(t||0);return this.session.setScrollTop(o),o},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,o=[],i=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)o.push(i(n/this.STEPS,e,t-e));return o},this.scrollToLine=function(e,t,n,r){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(o-=this.$size.scrollerHeight/2);var i=this.scrollTop;this.session.setScrollTop(o),!1!==n&&this.animateScrolling(i,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==n)return}var i=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:i},clearInterval(this.$timer),r.session.setScrollTop(i.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){i.length?(r.session.setScrollTop(i.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-n.left-this.$padding,i=o/this.characterWidth,a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=this.$blockCursor?Math.floor(i):Math.round(i);return{row:a,column:s,side:i-s>0?1:-1,offsetX:o}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-n.left-this.$padding,i=o/this.characterWidth,a=this.$blockCursor?Math.floor(i):Math.round(i),s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(s,Math.max(a,0),o)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),o=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),i=r.row*this.lineHeight;return{pageX:n.left+o-this.scrollLeft,pageY:n.top+i-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),e.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(e,t,n,r){var o=this.session;o.bgTokenizer.lines[n]=null;var i={type:t,value:e},a=o.getTokens(n);if(null==r)a.push(i);else for(var s=0,l=0;l<a.length;l++){var c=a[l];if(r<=(s+=c.value.length)){var u=c.value.length-(s-r),d=c.value.slice(0,u),f=c.value.slice(u);a.splice(l,1,{type:c.type,value:d},i,{type:c.type,value:f});break}}this.updateLines(n,n)},this.setTheme=function(e,t){function o(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)o(e);else{var r=e||this.$options.theme.initialValue;a.loadModule(["theme",r],o)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(m,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(y.prototype),a.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!A.isMobile&&!A.isIE}}),t.VirtualRenderer=y}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,n){"use strict";function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function u(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var r=e("../lib/oop"),o=e("../lib/net"),i=e("../lib/event_emitter").EventEmitter,s=e("../config"),l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,i),this.$createWorkerFromOldConfig=function(t,n,r,o,i){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)o=o||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;o=o||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach(function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(o),i&&this.send("importScripts",i),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var r=null,o=!1,a=Object.create(i),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),r&&(o?setTimeout(d):d())}});u.setEmitSync=function(e){o=e};var d=function(){var e=c.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],function(e){for(r=new e[n](a);c.length;)d()}),u},t.WorkerClient=l,t.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,o=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),a=function(e,t,n,r,o,i){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){i.implement(this,o),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=n.addMarker(new r(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,i=t.start.column-this.pos.column;if(this.updateAnchors(e),o&&(this.length+=n),o&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s={row:(l=this.others[a]).row,column:l.column+i};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(a=this.others.length-1;a>=0;a--){var l;s={row:(l=this.others[a]).row,column:l.column+i};this.doc.remove(new r(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,o){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),o,null,!1)};n(this.pos,this.mainClass);for(var o=this.others.length;o--;)n(this.others[o],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),t.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function s(e,t){return e.row==t.row&&e.column==t.column}var r=e("../lib/event"),i=e("../lib/useragent");t.onMouseDown=function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&i.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,d=e.editor,f=d.selection,p=d.inMultiSelectMode,h=e.getDocumentPosition(),g=f.getCursor(),m=e.inSelection()||f.isEmpty()&&s(h,g),A=e.x,v=e.y,y=d.session,b=d.renderer.pixelToScreenCoordinates(A,v),w=b;if(d.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=o?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&o)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&m)return;if(!p){var _=f.toOrientedRange();d.addSelectionMarker(_)}var E=f.rangeList.rangeAtPoint(h);d.inVirtualSelectionMode=!0,o&&(E=null,_=f.ranges[0]||_,d.removeSelectionMarker(_)),d.once("mouseup",function(){var e=f.toOrientedRange();E&&e.isEmpty()&&s(E.cursor,e.cursor)?f.substractPoint(e.cursor):(o?f.substractPoint(_.cursor):_&&(d.removeSelectionMarker(_),f.addRange(_)),f.addRange(e)),d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var C,S=[],T=function(){var e=d.renderer.pixelToScreenCoordinates(A,v),t=y.screenToDocumentPosition(e.row,e.column,e.offsetX);s(w,e)&&s(t,f.lead)||(w=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=f.rectangularRangeBlock(w,b),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};p&&!l?f.toSingleRange():!p&&l&&(C=f.toOrientedRange(),d.addSelectionMarker(C)),o?b=y.documentToScreenPosition(f.lead):f.moveToPosition(h),w={row:-1,column:-1};var x=T;r.capture(d.container,function(e){A=e.clientX,v=e.clientY},function(e){T(),clearInterval(O),d.removeSelectionMarkers(S),S.length||(S=[f.toOrientedRange()]),C&&(d.removeSelectionMarker(C),f.toSingleRange(C));for(var t=0;t<S.length;t++)f.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null});var O=setInterval(function(){x()},20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(A.defaultCommands),function g(e){function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;d.addListener(t,"keydown",function(t){var o=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&o?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),d.addListener(t,"keyup",r),d.addListener(t,"blur",r)}(e))}var o=e("./range_list").RangeList,i=e("./range").Range,a=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,d=e("./lib/event"),p=e("./lib/lang"),A=e("./commands/multi_select_commands");t.commands=A.defaultCommands.concat(A.multiSelectCommands);var y=new(0,e("./search").Search),b=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(b.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,a=r.end.row;if(o===a)t.push(r.clone());else{for(t.push(new i(o,r.start.column,o,this.session.getLine(o).length));++o<a;)t.push(this.getLineRange(o,!0));t.push(new i(a,0,a,r.end.column))}0==n&&!this.isBackwards()&&(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var a=e.column,s=t.column,l=e.offsetX,c=t.offsetX;else a=t.column,s=e.column,l=t.offsetX,c=e.offsetX;var u,d=e.row<t.row;if(d)var f=e.row,p=t.row;else f=t.row,p=e.row;a<0&&(a=0),f<0&&(f=0),f==p&&(n=!0);for(var h=f;h<=p;h++){var g=i.fromPoints(this.session.screenToDocumentPosition(h,a,l),this.session.screenToDocumentPosition(h,s,c));if(g.isEmpty()){if(u&&v(g.end,u))break;u=g.end}g.cursor=o?g.start:g.end,r.push(g)}if(d&&r.reverse(),!n){for(var m=r.length-1;r[m].isEmpty()&&m>0;)m--;if(m>0)for(var A=0;r[A].isEmpty();)A++;for(var y=m;y>=A;y--)r[y].isEmpty()&&r.splice(y,1)}return r}}.call(a.prototype);var w=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var o=t.indexOf(r);-1!=o&&t.splice(o,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(A.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(A.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,o=n&&n.keepOrder,i=1==n||n&&n.$byLines,s=this.session,l=this.selection,c=l.rangeList,u=(o?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var f=new a(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(i)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;f.fromOrientedRange(u[p]),f.index=p,this.selection=s.selection=f;var h=e.exec?e.exec(this,t||{}):e(this,t||{});!r&&void 0!==h&&(r=h),f.toOrientedRange(u[p])}f.detach(),this.selection=s.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var o=this.session.getDocument().getNewLineCharacter();(e=n.join(o)).length==(n.length-1)*o.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var o=this.$search.findAll(this.session);if(!o.length)return 0;var i=this.multiSelect;n||i.toSingleRange(o[0]);for(var a=o.length;a--;)i.addRange(o[a],!0);return r&&i.rangeList.rangeAtPoint(r.start)&&i.addRange(r,!0),o.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var a,s=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=s;else var l=this.session.documentToScreenPosition(r?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);r?(a=i.fromPoints(s,c)).cursor=a.start:(a=i.fromPoints(c,s)).cursor=a.end;if(a.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(a),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,o=r.length;o--;){if((s=r[o]).isEmpty()){var i=t.getWordRange(s.start.row,s.start.column);s.start.row=i.start.row,s.start.column=i.start.column,s.end.row=i.end.row,s.end.column=i.end.column}}n.mergeOverlappingRanges();var a=[];for(o=r.length;o--;){var s=r[o];a.unshift(t.getTextRange(s))}e<0?a.unshift(a.pop()):a.push(a.shift());for(o=r.length;o--;){i=(s=r[o]).clone();t.replace(s,a[o]),s.start.row=i.start.row,s.start.column=i.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,o=r.multiSelect.toOrientedRange();if(!o.isEmpty()||((o=r.getWordRange(o.start.row,o.start.column)).cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!n)){var i=function h(e,t,n){return y.$options.wrap=!0,y.$options.needle=t,y.$options.backwards=-1==n,y.find(e)}(r,r.getTextRange(o),e);i&&(i.cursor=-1==e?i.start:i.end,this.session.unfold(i),this.multiSelect.addRange(i),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(n.length&&o.length!=n.length-1){o.forEach(function(e){t.substractPoint(e.cursor)});var a=0,s=1/0,l=n.map(function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>a&&(a=n.column),r<s&&(s=r),r});n.forEach(function(t,n){var r=t.cursor,o=a-r.column,c=l[n]-s;o>c?e.insert(r,p.stringRepeat(" ",o-c)):e.remove(new i(r.row,r.column,r.row,r.column-o+c)),t.start.column=t.end.column=a,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,f=u==d;if(f){var h,g=this.session.getLength();do{h=this.session.getLine(d)}while(/[=:]/.test(h)&&++d<g);do{h=this.session.getLine(u)}while(/[=:]/.test(h)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,f),this.session.insert({row:u,column:0},m.join("\n")+"\n"),f||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function u(e){return p.stringRepeat(" ",e)}function f(e){return e[2]?u(n)+e[2]+u(r-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var n,r,o,i=!0,a=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,o=t[3].length,t):(n+r+o!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(i=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?f:i?a?function l(e){return e[2]?u(n+r-e[2].length)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:f:function c(e){return e[2]?u(n)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(w.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e("./config").defineOptions(w.prototype,"editor",{enableMultiselect:{set:function(e){m(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,o=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var o=/\S/,i=e.getLine(t),a=i.search(o);if(-1!=a){for(var s=n||i.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(o);if(-1!=d){if(d<=a){var f=e.getTokenAt(t,0);if(!f||"string"!==f.type)break}u=t}}if(u>c){var p=e.getLine(u).length;return new r(c,s,u,p)}}},this.openingBracketBlock=function(e,t,n,o,i){var a={row:n,column:o+1},s=e.$findClosingBracket(t,a,i);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,o,i){var a={row:n,column:o},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,r.fromPoints(s,a)}}).call(o.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=e("./lib/dom");(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,o=r.start.row,i=r.end.row,a="add"==e.action,s=o+1;s<i;s++)n[s]&&(n[s].hidden=a);n[i]&&(a?n[o]?n[i].hidden=a:n[o]=n[i]:(n[o]==n[i]&&(n[o]=void 0),n[i].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0!==r)if("remove"==e.action){var o=t.splice(n+1,r);!t[n]&&o[o.length-1]&&(t[n]=o.pop()),o.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var i=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,i.unshift(n,0),t.splice.apply(t,i),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var o=this.session.lineWidgets;e.row!=n.end.row||o[n.start.row]?e.hidden=!0:o[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var o=1/0,i=0;i<n.length;i++){var a=n[i];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&((s-=this.session.getRowLineCount(a.row))<0&&(s=0)),a.rowCount!=s&&(a.rowCount=s,a.row<o&&(o=a.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var o=Math.min(this.firstRow,n.firstRow),i=Math.max(this.lastRow,n.lastRow,r.length);o>0&&!r[o];)o--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=o;a<=i;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(c-=t.scrollLeft),s.el.style.left=c+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function u(e,t,n){var r=e.getAnnotations().sort(a.comparePoints);if(r.length){var i=function o(e,t,n){for(var r=0,o=e.length-1;r<=o;){var i=r+o>>1,a=n(t,e[i]);if(a>0)r=i+1;else{if(!(a<0))return i;o=i-1}}return-(r+1)}(r,{row:t,column:-1},a.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var s=r[i];if(s&&n){if(s.row===t){do{s=r[i+=n]}while(s&&s.row===t);if(!s)return r.slice()}var l=[];t=s.row;do{l[n<0?"unshift":"push"](s),s=r[i+=n]}while(s&&s.row==t);return l.length&&l}}}var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,s=n.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];s?s.destroy():a-=t;var l,c=u(n,a,t);if(c){var d=c[0];o.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,o.row=d.row,l=e.renderer.$gutterLayer.$annotations[o.row]}else{if(s)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var f={row:o.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},p=f.el.appendChild(i.createElement("div")),h=f.el.appendChild(i.createElement("div"));h.className="error_widget_arrow "+l.className;var g=e.renderer.$cursorLayer.getPixelPosition(o).left;h.style.left=g+e.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",p.className="error_widget "+l.className,p.innerHTML=l.text.join("<br>"),p.appendChild(i.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return f.destroy(),{command:"null"}};f.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(f),e.off("changeSelection",f.destroy),e.off("changeSession",f.destroy),e.off("mouseup",f.destroy),e.off("change",f.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",f.destroy),e.on("changeSession",f.destroy),e.on("mouseup",f.destroy),e.on("change",f.destroy),e.session.widgetManager.addLineWidget(f),f.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var o=e("./lib/dom"),i=e("./lib/event"),a=e("./range").Range,s=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,u=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n(480),t.edit=function(e,n){if("string"==typeof e){var r=e;if(!(e=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=o.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var c=t.createEditSession(a),d=new s(new u(e),c,n),f={document:c,editor:d,onResize:d.resize.bind(d,null)};return l&&(f.textarea=l),i.addListener(window,"resize",f.onResize),d.on("destroy",function(){i.removeListener(window,"resize",f.onResize),f.editor.container.env=null}),d.container.env=d.env=f,d},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=a,t.Editor=s,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=u,t.version=t.config.version}),ace.require(["ace/ace"],function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)})}).call(this,n(120)(e))},function(e,t,n){"use strict";(function(e){var r=n(530),o=n.n(r),i=n(284),a=n.n(i),s=n(68),c=n(737),u=n(29),d=n(184),f=n(0),p=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=function(t){function ButtonGroupBlockView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroupBlockView),_possibleConstructorReturn(this,_getPrototypeOf(ButtonGroupBlockView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ButtonGroupBlockView,s["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ButtonGroupBlockView,[{key:"showResizer",value:function showResizer(){Builder.isExpertModeEnabled()&&(this.$el.find(".left-resizer").html(a.a),this.$el.find(".right-resizer").html(a.a),this.$el.find(".buttonSpacer").html(a.a))}},{key:"hideResizer",value:function hideResizer(){this.$el.find(".left-resizer").html(""),this.$el.find(".right-resizer").html(""),this.$el.find(".buttonSpacer").html("")}},{key:"initialize",value:function initialize(){var e=this;if(this.model.column.view.el instanceof Element){var t=Object(c.a)(this.render.bind(this),20,{leading:!1,trailing:!0});new d.a(t).observe(this.model.column.view.el)}this.setTemplate(o.a),this.hoverActions={styles:{hovered:{color:"#0000003d",offset:0},selected:{color:"#000000",offset:0},button:{position:"top-inside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag block"},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy block",onclick:this.duplicate},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove block",onclick:function onclick(){e.remove()}}]},this.listenTo(this.model,"change",function(){e.render(),e.model.is_modified=!0}),this.listenTo(this,"preRender",function(){e.setWidthClasses()})}},{key:"setWidthClasses",value:function setWidthClasses(){var e=this.getModelAttributes(),t="100%";e.fullWidth||(t="auto"),this.model.set({width:t,msoHeight:2*e.height+parseInt(e.fontSize)},{silent:!0})}},{key:"handleThemeCustomize",value:function handleThemeCustomize(e,t){var n=this;return Builder.isThemeOverrideEnabled()&&Object(u.a)(t,function(e){"backgroundColor"===e&&Object(u.a)(n.model.get("buttons"),function(e){e.backgroundColor=null}),n.model.set(e,null,{silent:!0})}),this.render()}},{key:"initResize",value:function initResize(t){var n=this;t.preventDefault(),t.stopPropagation(),this.prev=e(t.currentTarget).parent().prev(),this.next=e(t.currentTarget).parent().next(),this.totalWidth=this.prev.width()+this.next.width(),this.prevStartWidth=parseFloat(this.prev.attr("width")),this.nextStartWidth=parseFloat(this.next.attr("width")),this.prevWidth=this.prevStartWidth,this.nextWidth=this.nextStartWidth,this.prevKey="string"==typeof this.prev.data("key")?this.prev.data("key"):"buttons."+this.prev.data("key")+".containerWidth",this.nextKey="string"==typeof this.next.data("key")?this.next.data("key"):"buttons."+this.next.data("key")+".containerWidth",this.pixelWidthRatio=this.totalWidth/(this.prevStartWidth+this.nextStartWidth),this.prevMinWidth=this.getMinWidth(this.prev),this.nextMinWidth=this.getMinWidth(this.next),this.xStart=t.clientX,this.delegate("mousemove",null,function(e){n.resize(e)}),this.delegate("mouseup",null,function(){n.stopResizing()})}},{key:"getMinWidth",value:function getMinWidth(e){return"string"==typeof e.data("key")?0:(1+e.find(".button-text").width()+2*(parseFloat(e.find("a").css("border-left-width"))+parseFloat(e.find(".button-table").css("border-left-width"))))/this.pixelWidthRatio}},{key:"resize",value:function resize(e){var t=(e.clientX-this.xStart)/this.pixelWidthRatio,n=this.prevStartWidth+t,r=this.nextStartWidth-t;if(n<this.prevMinWidth||r<this.nextMinWidth)return!1;n<1&&(r+=n,n=0),r<1&&(n+=r,r=0),this.prevWidth=n,this.nextWidth=r,this.prev.attr("width",this.prevWidth+"%"),this.next.attr("width",this.nextWidth+"%")}},{key:"stopResizing",value:function stopResizing(){this.model.set(this.prevKey,this.prevWidth,{silent:!0}),this.model.set(this.nextKey,this.nextWidth,{silent:!0}),this.undelegate("mousemove"),this.undelegate("mouseup"),this.next=null,this.prev=null,this.prevStartWidth=null,this.nextStartWidth=null,this.nextWidth=null,this.prevWidth=null,this.prevMinWidth=null,this.nextMinWidth=null,this.xStart=null}},{key:"className",get:function get(){return _get(_getPrototypeOf(ButtonGroupBlockView.prototype),"className",this)+" ButtonGroupBlockView"}},{key:"events",get:function get(){var e=this;return{click:function click(t){t.preventDefault(),t.stopPropagation(),e.onSelect()},mouseenter:function mouseenter(){f.a.publish(p.b.HOVER.ENTER,e),e.showResizer()},mouseleave:function mouseleave(){f.a.publish(p.b.HOVER.LEAVE,e),e.hideResizer()},"mousedown .button-resizer":"initResize"}}}]),ButtonGroupBlockView}();t.a=h}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s,l=e.lambda,c=e.escapeExpression;return'                    <td class="left-spacing" width="'+c(l(null!=t?t.leftSpacing:t,t))+'%" data-key="leftSpacing"></td>\n                    <td class="left-resizer" width="0">\n                    \x3c!--hover sizer--\x3e\n                    </td>\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.buttons:t,{name:"each",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                    <td class="right-resizer" width="0">\n                    \x3c!--hover sizer--\x3e\n                    </td>\n                    <td class="right-spacing" width="'+c(l(null!=t?t.rightSpacing:t,t))+'%" data-key="rightSpacing"></td>\n'},2:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f=e.lambda;return(null!=(s=(n.ifNotEquals||t&&t.ifNotEquals||u).call(c,o&&o.key,"0",{name:"ifNotEquals",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                        <td width="'+d("function"==typeof(l=null!=(l=n.containerWidth||(null!=t?t.containerWidth:t))?l:u)?l.call(c,{name:"containerWidth",hash:{},data:o}):l)+'%" data-key="'+d("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:u)?l.call(c,{name:"key",hash:{},data:o}):l)+'" border="0" cellpadding="0" cellspacing="0">\n                            <table class="button-table" align="'+d(f(null!=a[1]?a[1].align:a[1],t))+'" '+(null!=(s=n.if.call(c,null!=a[1]?a[1].fullWidth:a[1],{name:"if",hash:{},fn:e.program(5,o,0,i,a),inverse:e.noop,data:o}))?s:"")+' bgcolor="'+d((n.OR||t&&t.OR||u).call(c,null!=t?t.backgroundColor:t,null!=a[1]?a[1].backgroundColor:a[1],{name:"OR",hash:{},data:o}))+'" cellpadding="0" cellspacing="0" style="\n                                    border-radius: '+d(f(null!=a[1]?a[1].borderRadius:a[1],t))+"px;\n                                    border:"+d(f(null!=a[1]?a[1].borderWidth:a[1],t))+"px "+d(f(null!=a[1]?a[1].borderStyle:a[1],t))+" "+d(f(null!=a[1]?a[1].borderColor:a[1],t))+';\n                                    border-collapse: separate !important;\n                                    margin:auto;\n                                    ">\n                                <tr>\n                                    \x3c!--[if mso]>\n                                    <td width="'+d(f(null!=a[1]?a[1].paddingY:a[1],t))+'" height="'+d(f(null!=a[1]?a[1].msoHeight:a[1],t))+'"></td>\n                                    <![endif]--\x3e\n                                    <td valign="middle" align="center" style="\n                                            vertical-align: middle;\n                                            ">\n                                        <a valign="middle" align="center" href="'+d(f(null!=t?t.href:t,t))+'" style="\n                                                /*box-sizing: border-box;*/\n                                                text-align: center;\n                                                display: block;\n                                                line-height: '+d(f(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                                border-radius: "+d(f(null!=a[1]?a[1].borderRadius:a[1],t))+"px;\n                                                border: "+d(f(null!=a[1]?a[1].height:a[1],t))+"px solid "+d((n.OR||t&&t.OR||u).call(c,null!=t?t.backgroundColor:t,null!=a[1]?a[1].backgroundColor:a[1],{name:"OR",hash:{},data:o}))+";\n                                                padding: 0px "+d(f(null!=a[1]?a[1].paddingY:a[1],t))+'px;\n                                                ">\n                                                <span class="button-text" style="font-size:'+d(f(null!=a[1]?a[1].fontSize:a[1],t))+"px;\n                                                            font-family: "+d(f(null!=a[1]?a[1].fontFamily:a[1],t))+";\n                                                            color: "+d(f(null!=a[1]?a[1].color:a[1],t))+";\n                                                            text-decoration: "+d(f(null!=a[1]?a[1].fontDecoration:a[1],t))+";\n                                                            font-weight: "+d(f(null!=a[1]?a[1].fontWeight:a[1],t))+";\n                                                            font-style:"+d(f(null!=a[1]?a[1].fontStyle:a[1],t))+';">'+(null!=(s=f(null!=t?t.text:t,t))?s:"")+'</span>\n                                        </a>\n                                    </td>\n                                    \x3c!--[if mso]>\n                                    <td width="'+d(f(null!=a[1]?a[1].paddingY:a[1],t))+'" height="'+d(f(null!=a[1]?a[1].msoHeight:a[1],t))+'"></td>\n                                    <![endif]--\x3e\n                                </tr>\n                            </table>\n                        </td>\n'},3:function(e,t,n,r,o,i,a){return'                        <td class = "buttonSpacer" width="0" style="padding-left: '+e.escapeExpression(e.lambda(null!=a[1]?a[1].buttonSpacing:a[1],t))+'px !important">\n                            \x3c!--hover sizer--\x3e\n                        </td>\n'},5:function(e,t,n,r,o){return'width="100%"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d="function",f=e.escapeExpression;return'<tr class="dragMe">\n    <td bgcolor="'+f(typeof(l=null!=(l=n.blockBackgroundColor||(null!=t?t.blockBackgroundColor:t))?l:u)===d?l.call(c,{name:"blockBackgroundColor",hash:{},data:o}):l)+'" class="internal-top-level-td text-hover" style="\n            padding-left: '+f(typeof(l=null!=(l=n.paddingLeft||(null!=t?t.paddingLeft:t))?l:u)===d?l.call(c,{name:"paddingLeft",hash:{},data:o}):l)+"px;\n            padding-top: "+f(typeof(l=null!=(l=n.paddingTop||(null!=t?t.paddingTop:t))?l:u)===d?l.call(c,{name:"paddingTop",hash:{},data:o}):l)+"px;\n            padding-right: "+f(typeof(l=null!=(l=n.paddingRight||(null!=t?t.paddingRight:t))?l:u)===d?l.call(c,{name:"paddingRight",hash:{},data:o}):l)+"px;\n            padding-bottom: "+f(typeof(l=null!=(l=n.paddingBottom||(null!=t?t.paddingBottom:t))?l:u)===d?l.call(c,{name:"paddingBottom",hash:{},data:o}):l)+'px">\n        <table width="100%" border="0" cellpadding="0" cellspacing="0" class="internal-content-table">\n            <tr>\n'+(null!=(s=n.if.call(c,null!=t?t.buttons:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"            </tr>\n        </table>\n    </td>\n</tr>"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";var r=n(13),o=n(532),i=n.n(o);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function RedactorToolbarView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RedactorToolbarView),_possibleConstructorReturn(this,_getPrototypeOf(RedactorToolbarView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(RedactorToolbarView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(RedactorToolbarView,[{key:"initialize",value:function initialize(e){this.setTemplate(i.a)}},{key:"adjustWidth",value:function adjustWidth(e){var t=this.content,n=e-t.offset().left-10,r=0;t.find("a").each(function(e){r+=55}),t.width(r+5);var o=n-t.width(),i=-1;o<0&&(i=o),this.$el.css({top:t.innerHeight()+15,transform:"translateY(-".concat(t.innerHeight()+5,"px) translateX(").concat(i,"px)")})}},{key:"className",get:function get(){return"RedactorToolbarView"}},{key:"selector",get:function get(){return"#se-redactor-"+this.model.uuid}},{key:"content",get:function get(){return this.$el.find(".se-redactor-toolbar-content")}}]),RedactorToolbarView}();t.a=a},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<div class="se-redactor-toolbar-content" id="se-redactor-'+e.escapeExpression("function"==typeof(i=null!=(i=n.uuid||(null!=t?t.uuid:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uuid",hash:{},data:o}):i)+'">\n\n</div>\n'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<tr>\n    <td align="'+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+'"\n        class="internal-top-level-td"\n        bgcolor="'+u(typeof(a=null!=(a=n.backgroundColor||(null!=t?t.backgroundColor:t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:o}):a)+'"\n        style="padding-top: '+u(typeof(a=null!=(a=n.paddingTop||(null!=t?t.paddingTop:t))?a:l)===c?a.call(s,{name:"paddingTop",hash:{},data:o}):a)+"px;\n               padding-right: "+u(typeof(a=null!=(a=n.paddingRight||(null!=t?t.paddingRight:t))?a:l)===c?a.call(s,{name:"paddingRight",hash:{},data:o}):a)+"px;\n               padding-bottom: "+u(typeof(a=null!=(a=n.paddingBottom||(null!=t?t.paddingBottom:t))?a:l)===c?a.call(s,{name:"paddingBottom",hash:{},data:o}):a)+"px;\n               padding-left: "+u(typeof(a=null!=(a=n.paddingLeft||(null!=t?t.paddingLeft:t))?a:l)===c?a.call(s,{name:"paddingLeft",hash:{},data:o}):a)+"px;\n               overflow: hidden;\n               text-align: "+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+";\n               font-family: "+u(typeof(a=null!=(a=n.fontFamily||(null!=t?t.fontFamily:t))?a:l)===c?a.call(s,{name:"fontFamily",hash:{},data:o}):a)+";\n               font-size: "+u(typeof(a=null!=(a=n.fontSize||(null!=t?t.fontSize:t))?a:l)===c?a.call(s,{name:"fontSize",hash:{},data:o}):a)+"px;\n               color: "+u(typeof(a=null!=(a=n.color||(null!=t?t.color:t))?a:l)===c?a.call(s,{name:"color",hash:{},data:o}):a)+";\n               mso-line-height-rule: exactly;\n               line-height: "+u(typeof(a=null!=(a=n.lineHeight||(null!=t?t.lineHeight:t))?a:l)===c?a.call(s,{name:"lineHeight",hash:{},data:o}):a)+'%">\n        <div class="redactor_element_'+u(e.lambda(null!=t?t.uuid:t,t))+' redactor-editable-div"\n             style="mso-line-height-rule: exactly; line-height: '+u(typeof(a=null!=(a=n.lineHeight||(null!=t?t.lineHeight:t))?a:l)===c?a.call(s,{name:"lineHeight",hash:{},data:o}):a)+'%;" contenteditable="true" placeholder= '+u((n.l||t&&t.l||l).call(s,"Click to edit text...",{name:"l",hash:{},data:o}))+">"+(null!=(i=typeof(a=null!=(a=n.text||(null!=t?t.text:t))?a:l)===c?a.call(s,{name:"text",hash:{},data:o}):a)?i:"")+"</div>\n    </td>\n</tr>\n"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'<tr>\n    <td align="'+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+'"\n        class="internal-top-level-td"\n        bgcolor="'+u(typeof(a=null!=(a=n.backgroundColor||(null!=t?t.backgroundColor:t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:o}):a)+'"\n        style="padding-top: '+u(typeof(a=null!=(a=n.paddingTop||(null!=t?t.paddingTop:t))?a:l)===c?a.call(s,{name:"paddingTop",hash:{},data:o}):a)+"px;\n               padding-right: "+u(typeof(a=null!=(a=n.paddingRight||(null!=t?t.paddingRight:t))?a:l)===c?a.call(s,{name:"paddingRight",hash:{},data:o}):a)+"px;\n               padding-bottom: "+u(typeof(a=null!=(a=n.paddingBottom||(null!=t?t.paddingBottom:t))?a:l)===c?a.call(s,{name:"paddingBottom",hash:{},data:o}):a)+"px;\n               padding-left: "+u(typeof(a=null!=(a=n.paddingLeft||(null!=t?t.paddingLeft:t))?a:l)===c?a.call(s,{name:"paddingLeft",hash:{},data:o}):a)+"px;\n               overflow: hidden;\n               text-align: "+u(typeof(a=null!=(a=n.align||(null!=t?t.align:t))?a:l)===c?a.call(s,{name:"align",hash:{},data:o}):a)+";\n               font-family: "+u(typeof(a=null!=(a=n.fontFamily||(null!=t?t.fontFamily:t))?a:l)===c?a.call(s,{name:"fontFamily",hash:{},data:o}):a)+";\n               font-size: "+u(typeof(a=null!=(a=n.fontSize||(null!=t?t.fontSize:t))?a:l)===c?a.call(s,{name:"fontSize",hash:{},data:o}):a)+"px;\n               color: "+u(typeof(a=null!=(a=n.color||(null!=t?t.color:t))?a:l)===c?a.call(s,{name:"color",hash:{},data:o}):a)+";\n               mso-line-height-rule: exactly;\n               line-height: "+u(typeof(a=null!=(a=n.lineHeight||(null!=t?t.lineHeight:t))?a:l)===c?a.call(s,{name:"lineHeight",hash:{},data:o}):a)+'%">\n        <div class="redactor_element_'+u(e.lambda(null!=t?t.uuid:t,t))+' redactor-editable-div"\n             style="mso-line-height-rule: exactly; line-height: '+u(typeof(a=null!=(a=n.lineHeight||(null!=t?t.lineHeight:t))?a:l)===c?a.call(s,{name:"lineHeight",hash:{},data:o}):a)+'%;" contenteditable="true" >'+(null!=(i=typeof(a=null!=(a=n.text||(null!=t?t.text:t))?a:l)===c?a.call(s,{name:"text",hash:{},data:o}):a)?i:"")+"</div>\n    </td>\n</tr>\n"},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(536),o=n(5),i=n(0),a=n(1),s=n(29),c=n(735),u=n(11),d=n(611),f=n(610),p=n(55),h=(n(446),n(537)),g=n.n(h),m=n(538),A=n.n(m),v=n(539),y=n.n(v);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var b={TEMPLATE_1:g.a,TEMPLATE_2:A.a,TEMPLATE_3:y.a},w=[{title:"Image",type:"image",alias:"Product.image",map:"data.image"},{title:"Product title",type:"text",alias:"Product.title",map:"data.name"},{title:"Product description",type:"richText",alias:"Product.description",map:"data.description"},{title:"Product price",type:"text",alias:"Product.price",map:"data.price"},{title:"Special price",type:"text",alias:"Product.specialPrice",map:"data.special_price"},{type:"map",alias:"Product.currencySymbol",map:"data.currencySymbol"},{type:"map",alias:"Product.currency",map:"data.currency"},{type:"map",alias:"Product.url",map:"dataUrl"}],_=function(t){function ProductBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProductBlock),_possibleConstructorReturn(this,_getPrototypeOf(ProductBlock).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ProductBlock,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ProductBlock,[{key:"initialize",value:function initialize(){var e=this;_get(_getPrototypeOf(ProductBlock.prototype),"initialize",this).call(this),this.listenTo(this,"change:template",function(){e.set("code",b[e.get("template")])})}},{key:"getAttributes",value:function getAttributes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=window.Builder.find("Email.model.theme.attributes.data"),n=this.toJSON(),r={};return Object(s.a)(n.styles,function(e,n){r[n]=Object(c.a)({},e,t[n],function(e,t){return null===e?t:e})}),n.styles=r,""!==e?Object(u.a)(n,e):n}},{key:"makeRequest",value:function makeRequest(){var e=this;this.attributes.dataUrl&&this.attributes.dataUrl.length>0?(this.showLoader(),this.getData().then(function(){e.attributes.error?e.hideLoader():i.a.publish(a.k.BUILD,e.settingsScheme)})):o.a.toast({type:null,title:l("Please enter product URL"),timer:4e3})}},{key:"showLoader",value:function showLoader(){this.view.$el.find(".internal-top-level-td").html("").addClass("video-gif-loader")}},{key:"hideLoader",value:function hideLoader(){var e=this;setTimeout(function(){e.view.$el.find(".internal-top-level-td").html(b[e.get("template")]).removeClass("video-gif-loader"),e.view.render()},1500)}},{key:"updateImageWidth",value:function updateImageWidth(){var e=Object(d.a)(this,"collection.column.view.$el.innerWidth")||0;if(0===e)return!1;var t=e;return(t=t/100*this.attributes.styles.ImageBlock.widthPercent)<30&&(t=30),this.set("styles.ImageBlock.widthPixels",Object(f.a)(t),{silent:!0,autosave:!0}),!0}},{key:"defaults",get:function get(){return{is_modified:!1,styles:{template:{vAlign:"middle",specialPrice:!0,backgroundColor:"transparent"},ImageBlock:{borderRadius:0,widthPercent:100,widthPixels:null,align:"center"},HeadlineBlock:{fontFamily:null,h3FontSize:null,h3Color:null,align:null,lineHeight:null},ParagraphBlock:{fontFamily:null,fontSize:null,color:null,lineHeight:null,align:null},ButtonBlock:{borderRadius:null,fontFamily:null,fontSize:null,backgroundColor:null,color:null,buttonText:l("Button text"),align:"center",borderStyle:"solid",borderColor:"#000000",borderWidth:0},Price:{fontSize:12,color:"#000000",fontFamily:"Arial, Helvetica Neue, Helvetica, sans-serif",align:"center"}},dataUrl:null,data:{name:"Product title",image:window.SENDER_ENDPOINT+"/email-editor/static/img/noimage.jpg",description:"Product description",price:35.99,special_price:35.99,currency:"EUR",quantity:1,rating:4.6,currencySymbol:"&#8364;"},handlebars:!0,template:"TEMPLATE_2",code:b.TEMPLATE_2}}},{key:"contentData",get:function get(){return Object(p.a)({},_get(_getPrototypeOf(ProductBlock.prototype),"contentData",this),{Style:this.getAttributes("styles")})}},{key:"settingsScheme",get:function get(){var t=this,n=[{title:"8",value:8},{title:"9",value:9},{title:"10",value:10},{title:"11",value:11},{title:"12",value:12},{title:"13",value:13},{title:"14",value:14},{title:"15",value:15},{title:"16",value:16},{title:"17",value:17},{title:"18",value:18},{title:"19",value:19},{title:"20",value:20},{title:"21",value:21},{title:"22",value:22},{title:"23",value:23},{title:"24",value:24},{title:"25",value:25},{title:"26",value:26},{title:"27",value:27},{title:"28",value:28},{title:"29",value:29},{title:"30",value:30}];return{model:this,tabs:{content:{accordions:[{title:l("Product"),isPro:!1,lockOpen:!1,isOpen:!0,controls:e.concat([{title:l("Product url"),isPro:!1,containerClass:"",parts:[{title:"Url",type:"InputComponent",targetModel:this,options:{bind:["dataUrl"],eventType:"input",prependText:'<i class="fas fa-link"></i>',placeholder:l("Product url"),size:"col-6"}},{title:l("Import"),type:"ButtonComponent",targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Import data"),className:"btn-sm btn-secondary",bind:[""],onClick:function onClick(){t.makeRequest()}}},{title:l("Refresh"),type:"ButtonComponent",isPro:!0,targetModel:this,options:{buttonComponentCustomClass:"appliance-margin",title:l("Refresh data"),className:"btn-sm btn-secondary",bind:[""],onClick:function onClick(){t.makeRequest()}}}]},{title:l("Button text"),isPro:!1,containerClass:"",parts:[{title:"buttonText",type:"InputComponent",targetModel:this,options:{bind:["styles.ButtonBlock.buttonText"],placeholder:l("Button text"),size:"col-6"}}]}],this.generatedControls)}]},customize:{accordions:[{title:"Template settings",isOpen:!0,controls:[{title:l("TEMPLATE"),isPro:!1,parts:[{title:"Template",type:"ButtonGroupComponent",targetModel:this,options:{bind:["template"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"TEMPLATE_1",image:window.SENDER_ENDPOINT+"email-editor/static/img/icon_layout_horizontal_left.svg"},{value:"TEMPLATE_2",image:window.SENDER_ENDPOINT+"email-editor/static/img/icon_layout_vertical.svg"},{value:"TEMPLATE_3",image:window.SENDER_ENDPOINT+"email-editor/static/img/icon_layout_horizontal_right.svg"}]}}]},{title:l("CONTENT VERTICAL ALIGN"),isPro:!1,parts:[{title:"vertical align",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.template.vAlign"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"bottom",text:l("Bottom")},{value:"middle",text:l("Middle")},{value:"top",text:l("Top")}]}}]},{title:l("SPECIAL PRICE"),isPro:!1,parts:[{title:"special price",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.template.specialPrice"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:!0,text:l("Show")},{value:!1,text:l("Hide")}]}}]},{title:l("BACKGROUND COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:this,options:{bind:["styles.template.backgroundColor"]}}]}]},{title:l("Image settings"),isOpen:!1,controls:[{title:l("SIZE"),isPro:!1,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["styles.ImageBlock.widthPercent"],buttonStyle:"outline-secondary",size:"sm",min:1,max:100}}]},{title:l("CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"Border",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.ImageBlock.borderRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:17,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:23,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}]}}]},{title:l("CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:this,options:{bind:["styles.ImageBlock.borderRadius"],buttonStyle:"outline-secondary",size:"sm",min:0,max:40}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.ImageBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]}]},{title:l("Title settings"),isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["styles.HeadlineBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["styles.HeadlineBlock.h3Color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["styles.HeadlineBlock.h3FontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:[{title:"10",value:10},{title:"12",value:12},{title:"14",value:14},{title:"16",value:16},{title:"18",value:18},{title:"20",value:20},{title:"22",value:22},{title:"24",value:24},{title:"26",value:26},{title:"28",value:28},{title:"30",value:30},{title:"36",value:36},{title:"48",value:48},{title:"60",value:60}]}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.HeadlineBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this,options:{buttonStyle:"outline-secondary",size:"sm",bind:["styles.HeadlineBlock.lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}]}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["styles.HeadlineBlock.lineHeight"],min:100,max:300,step:10}}]}]},{title:l("Description settings"),isOpen:!1,controls:[{title:l("DESCRIPTION FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["styles.ParagraphBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["styles.ParagraphBlock.color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["styles.ParagraphBlock.fontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.ParagraphBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:this,options:{buttonStyle:"outline-secondary",size:"sm",bind:["styles.ParagraphBlock.lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}]}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:this,options:{bind:["styles.ParagraphBlock.lineHeight"],min:100,max:300,step:10}}]}]},{title:l("Button settings"),isOpen:!1,controls:[{title:l("TEXT FONT FAMILY"),isPro:!1,parts:[{type:"DropdownComponent",targetModel:this,options:{chevronRight:!0,dropdownMenuClass:"w-100",mapCustomStylesToValue:"font-family",selectedTitle:l("Choose..."),bind:["styles.ButtonBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("TEXT FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["styles.ButtonBlock.color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["styles.ButtonBlock.fontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n}}]},{title:l("BUTTON COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{bind:["styles.ButtonBlock.backgroundColor"]}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.ButtonBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("BORDER STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.ButtonBlock.borderStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"solid",text:'<div style="border-bottom-style:solid; width:15px"> </div>'},{value:"dotted",text:'<div style="border-bottom-style:dotted; width:15px"> </div>'},{value:"dashed",text:'<div style="border-bottom-style:dashed; width:15px"> </div>'},{value:"double",text:'<div style="border-bottom-style:double; width:15px"> </div>'}]}}]},{title:l("BORDER RADIUS"),isPro:!0,parts:[{type:"InputPillComponent",targetModel:this,options:{bind:["styles.ButtonBlock.borderRadius"],min:0,max:50,step:1}}]},{title:l("BORDER WIDTH"),isPro:!0,parts:[{type:"InputPillComponent",targetModel:this,options:{bind:["styles.ButtonBlock.borderWidth"],min:0,max:10,step:1}}]},{title:l("BORDER COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!0,targetModel:this,options:{bind:["styles.ButtonBlock.borderColor"]}}]}]},{title:l("Price settings"),isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:this,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["styles.Price.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}]}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:this,options:{flexSize:"3",marginSize:"5px",bind:["styles.Price.color"]}},{title:"Size",type:"DropdownComponent",targetModel:this,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["styles.Price.fontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:this,options:{bind:["styles.Price.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}]}}]},{title:l("CURRENCY"),isPro:!1,parts:[{title:"Currency",type:"DropdownComponent",targetModel:this,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.currencySymbol"],drops:[{title:"Eur",value:"&#8364;"},{title:"USD",value:"&#36;"},{title:"Pound",value:"&#163;"},{title:"Turkish Lira",value:"&#x20BA;"},{title:"Ruble",value:"&#x20BD;"},{title:"Rial",value:"&#65020;"},{title:"Indian Rupee",value:"&#x20B9;"},{title:"Yen",value:"&#xa5;"}]}}]}]}]}}}}},{key:"dataUrl",get:function get(){return"".concat(window.SENDER_ENDPOINT,"EditorImports/getProductData/?url=").concat(this.get("dataUrl"))}},{key:"settingsMap",get:function get(){return w}}]),ProductBlock}();t.a=_}).call(this,n(24))},function(e,t,n){"use strict";var r=n(268),o=n(29),i=n(469),a=n(55),s=n(0),c=n(1),u=n(18),d=n.n(u),f=n(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function DataBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataBlock),_possibleConstructorReturn(this,_getPrototypeOf(DataBlock).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(DataBlock,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(DataBlock,[{key:"getData",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e=this;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(this.dataUrl).then(function(t){e.set("data",t.data),e.set("error",!1)}).catch(function(){f.a.toast({type:null,title:l("Please enter valid product URL"),timer:4e3}),e.set("error",!0)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee,this)}));return function getData(){return e.apply(this,arguments)}}()},{key:"initialize",value:function initialize(){_get(_getPrototypeOf(DataBlock.prototype),"initialize",this).call(this),this.generatedControls=[],this.mapped={},null!==this.get("data")&&this.parseSchema()}},{key:"parseSchema",value:function parseSchema(){var e=this;this.mapped={},this.generatedControls=[],Object(o.a)(this.settingsMap,function(t){Object(i.a)(e.mapped,t.alias,e.get(t.map));var n={title:t.title,isPro:!1,parts:[]};switch(t.type){case"image":n.parts.push({title:t.title,type:"ImagePreviewComponent",targetModel:e,options:{bind:[t.map],placeholder:window.SENDER_ENDPOINT+"email-editor/static/img/noimage.jpg",imageClick:function imageClick(){s.a.publish(c.g.OPEN,{provider:"UserImages",model:e,key:t.map})}}},{title:t.title,type:"ButtonComponent",targetModel:e,options:{title:l("Change"),className:"btn btn-secondary ml-1",bind:"",onClick:function onClick(){s.a.publish(c.g.OPEN,{provider:"UserImages",model:e,key:t.map})}}});break;case"text":n.parts.push({title:t.title,type:"InputComponent",targetModel:e,options:{bind:[t.map],eventType:"input",placeholder:l(t.title),size:"col-6"}});break;case"richText":n.parts.push({title:t.title,type:"TextareaComponent",targetModel:e,options:{bind:[t.map],eventType:"input",placeholder:l(t.title),size:"col-6"}})}e.generatedControls.push(n)})}},{key:"defaults",get:function get(){return{dataUrl:null,data:null,settingsSchema:null,handlebars:!0,code:"Data block"}}},{key:"settingsMap",get:function get(){return this.get("settingsSchema")}},{key:"settingsScheme",get:function get(){var e=this,t=this;return{model:this,tabs:{content:{hideLabel:!0,accordions:[{title:l("Data url"),isPro:!1,parts:[{title:"Url",type:"InputComponent",targetModel:this,options:{bind:["dataUrl"],eventType:"input",prependText:'<i class="fas fa-link"></i>',placeholder:l("Data url"),size:"col-6"}},{title:"Import data",type:"ButtonComponent",targetModel:this,options:{title:l("Import data"),className:"btn btn-secondary mt-1",bind:"",onClick:function onClick(){t.getData().then(function(){s.a.publish(c.k.BUILD,t.settingsScheme)})}}}]},function(){if(null!==t.get("data"))return{title:l("Data settings"),isPro:!1,lockOpen:!1,isOpen:!1,controls:e.generatedControls}}()]},customize:{hideLabel:!0,hidden:!0}}}}},{key:"contentData",get:function get(){return Object(a.a)({},this.mapped,{_data:this.attributes.data,Theme:window.Builder.find("Email.model.theme.attributes.data",{})})}},{key:"dataUrl",get:function get(){return this.get("dataUrl")}}]),DataBlock}();t.a=p},function(e,t){e.exports='{{#if Product}}\n<table align="center" width="100%" border="0" cellpadding="0" cellspacing="0">\n    <tr>\n        {{#if Product.image}}\n        <td valign="{{Style.template.vAlign}}" align="{{Style.ImageBlock.align}}" bgcolor="{{Style.template.backgroundColor}}" class="sender-6-col">\n            <table role="presentation" border="0" cellpadding="0"\n                   cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent">\n                        <a href = "{{Product.url}}">\n                            <img src="{{Product.image}}"\n                                 style="display: block;\n                                         box-sizing: border-box;\n                                         max-width: 100%;\n                                         border-radius: {{Style.ImageBlock.borderRadius}}%;"\n                                 alt="{{Product.title}}"\n                                 width="{{Style.ImageBlock.widthPixels}}">\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </td>\n        <td class="columnSpacing" bgcolor="{{Style.template.backgroundColor}}" style="padding-left: 20px;"></td>\n        {{/if}}\n\n        <td valign="{{Style.template.vAlign}}" bgcolor="{{Style.template.backgroundColor}}" class="sender-6-col">\n\n            {{#if Product.title}}\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="padding-top: 5px;\n                            padding-right: 0px;\n                            padding-bottom: 5px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.HeadlineBlock.align}};\n                            font-family: {{Style.HeadlineBlock.fontFamily}};\n                            font-size: {{Style.HeadlineBlock.h3FontSize}}px;\n                            color: {{Style.HeadlineBlock.h3Color}};">\n                        <div style="\n                            mso-line-height-rule: exactly;\n                            line-height: {{Style.HeadlineBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                {{{Product.title}}}\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            {{#if Product.description}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="\n                            padding-top: 10px;\n                            padding-right: 0px;\n                            padding-bottom: 10px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.ParagraphBlock.align}};\n                            font-family: {{Style.ParagraphBlock.fontFamily}};\n                            font-size: {{Style.ParagraphBlock.fontSize}}px;\n                            color: {{Style.ParagraphBlock.color}};">\n                        <div style="mso-line-height-rule: exactly; line-height: {{Style.ParagraphBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                <p>\n                                    {{{Product.description}}}\n                                </p>\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td bgcolor="transparent" style="\n                                        padding-left: 0px;\n                                        padding-top: 10px;\n                                        padding-right: 0px;\n                                        padding-bottom: 10px">\n                        <table width="100%" border="0" cellpadding="0" cellspacing="0">\n                            <tr>\n                                <td width="100%" data-key="0" border="0" cellpadding="0" cellspacing="0">\n                                    <table class="button-table" align="{{Style.ButtonBlock.align}}"\n                                           bgcolor="{{Style.ButtonBlock.backgroundColor}}" cellpadding="0"\n                                           cellspacing="0" style="\n                                           border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                           border:{{Style.ButtonBlock.borderWidth}}px {{Style.ButtonBlock.borderStyle }} {{Style.ButtonBlock.borderColor }};\n                                           border-collapse: separate !important;">\n                                        <tr>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                            <td valign="{{Style.template.vAlign}}" align="center" style="vertical-align: middle;">\n                                                <a valign="{{Style.template.vAlign}}" align="center" href="{{Product.link}}"\n                                                   style="text-align: center;\n                                                       display: block;\n                                                       line-height: 13px;\n                                                       border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                                       border: 10px solid {{Style.ButtonBlock.backgroundColor}};\n                                                       padding: 0px 10px;">\n                                        <span class="button-text"\n                                              style="\n                                                      text-align: {{Style.ButtonBlock.align}};\n                                                      font-family: {{Style.ButtonBlock.fontFamily}};\n                                                      font-size: {{Style.ButtonBlock.fontSize}}px;\n                                                      color: {{Style.ButtonBlock.color}};\n                                                      text-decoration: none;\n                                                      font-weight: normal;\n                                                      font-style:normal;">\n\n                                             {{Style.ButtonBlock.buttonText}}\n                                            {{#if Style.template.specialPrice}}\n                                                <s>{{{Product.price}}} {{{Product.currencySymbol}}}</s>\n                                                {{{Product.specialPrice}}} {{{Product.currencySymbol}}}\n                                            {{else}}\n                                                {{{Product.price}}} {{{Product.currencySymbol}}}\n                                            {{/if}}\n                                        </span>\n                                                </a>\n                                            </td>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n{{else}}\n<div style="text-align:center">\n    <h2>Please add product url</h2>\n</div>\n{{/if}}\n'},function(e,t){e.exports='<table align="center" width="100%" border="0" cellpadding="0" cellspacing="0">\n    <tr>\n        <td valign="{{Style.template.vAlign}}" align="{{Style.ImageBlock.align}}" bgcolor="{{Style.template.backgroundColor}}" class="sender-6-col">\n            {{#if Product.image}}\n            <table role="presentation" border="0" cellpadding="0"\n                   cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent">\n                        <a href = "{{Product.url}}">\n                            <img src="{{Product.image}}"\n                                 style="display: block;\n                                         box-sizing: border-box;\n                                         max-width: 100%;\n                                         border-radius: {{Style.ImageBlock.borderRadius}}%;"\n                                 alt="{{Product.title}}"\n                                 width="{{Style.ImageBlock.widthPixels}}">\n                        </a>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            {{#if Product.title}}\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="padding-top: 5px;\n                            padding-right: 0px;\n                            padding-bottom: 5px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.HeadlineBlock.align}};\n                            font-family: {{Style.HeadlineBlock.fontFamily}};\n                            font-size: {{Style.HeadlineBlock.h3FontSize}}px;\n                            color: {{Style.HeadlineBlock.h3Color}};">\n                        <div style="mso-line-height-rule: exactly; line-height: {{Style.HeadlineBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                {{{Product.title}}}\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n\n            {{#if Product.description}}\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="padding-top: 10px;\n                            padding-right: 0px;\n                            padding-bottom: 10px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.ParagraphBlock.align}};\n                            font-family: {{Style.ParagraphBlock.fontFamily}};\n                            font-size: {{Style.ParagraphBlock.fontSize}}px;\n                            color: {{Style.ParagraphBlock.color}};">\n\n                        <div style="\n                        mso-line-height-rule: exactly;\n                        line-height: {{Style.ParagraphBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                <p>\n                                    {{{Product.description}}}\n                                </p>\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            {{#if Product.price}}\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="\n                            padding-top: 5px;\n                            padding-right: 0px;\n                            padding-bottom: 5px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.Price.align}};\n                            font-size: {{Style.Price.fontSize}}px;\n                            color: {{Style.Price.color}};">\n                        <div style="\n                        mso-line-height-rule: exactly;\n                        line-height: {{Style.HeadlineBlock.lineHeight}}%;\n                        font-family: {{Style.Price.fontFamily}};">\n                            {{#if Style.template.specialPrice}}\n                            <s>{{{Product.price}}} {{{Product.currencySymbol}}}</s>\n                            {{{Product.specialPrice}}} {{{Product.currencySymbol}}}\n                            {{else}}\n                            {{{Product.price}}} {{{Product.currencySymbol}}}\n                            {{/if}}\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td bgcolor="transparent" style="\n                                        padding-left: 0px;\n                                        padding-top: 10px;\n                                        padding-right: 0px;\n                                        padding-bottom: 10px">\n                        <table width="100%" border="0" cellpadding="0" cellspacing="0">\n                            <tr>\n                                <td width="100%" data-key="0" border="0" cellpadding="0" cellspacing="0">\n                                    <table class="button-table" align="{{Style.ButtonBlock.align}}"\n                                           bgcolor="{{Style.ButtonBlock.backgroundColor}}" cellpadding="0"\n                                           cellspacing="0" style="\n                                           border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                           border:{{Style.ButtonBlock.borderWidth}}px {{Style.ButtonBlock.borderStyle }} {{Style.ButtonBlock.borderColor }};\n                                           border-collapse: separate !important;">\n                                        <tr>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                            <td valign="middle" align="center" style="vertical-align: middle;">\n                                                <a valign="middle" align="center" href="{{Product.url}}"\n                                                   style="text-align: center;\n                                                       display: block;\n                                                       line-height: 13px;\n                                                       border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                                       border: 10px solid {{Style.ButtonBlock.backgroundColor}};\n                                                       padding: 0px 10px;">\n                                        <span class="button-text"\n                                              style="font-size:{{Style.ButtonBlock.fontSize}}px;\n                                                      font-family: {{Style.ButtonBlock.fontFamily}};\n                                                      color: {{Style.ButtonBlock.color}};\n                                                      text-decoration: none;\n                                                      font-weight: normal;\n                                                      font-style:normal;">\n                                             {{Style.ButtonBlock.buttonText}}\n                                        </span>\n                                                </a>\n                                            </td>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n'},function(e,t){e.exports='{{#if Product}}\n<table align="center" width="100%" border="0" cellpadding="0" cellspacing="0">\n    <tr>\n        <td valign="{{Style.template.vAlign}}" bgcolor="{{Style.template.backgroundColor}}" class="sender-6-col">\n\n            {{#if Product.title}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="\n                            padding-top: 5px;\n                            padding-right: 0px;\n                            padding-bottom: 5px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.HeadlineBlock.align}};\n                            font-family: {{Style.HeadlineBlock.fontFamily}};\n                            font-size: {{Style.HeadlineBlock.h3FontSize}}px;\n                            color: {{Style.HeadlineBlock.h3Color}};">\n\n                        <div style="mso-line-height-rule: exactly; line-height: {{Style.HeadlineBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                {{{Product.title}}}\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            {{#if Product.description}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent" style="padding-top: 10px;\n                            padding-right: 0px;\n                            padding-bottom: 10px;\n                            padding-left: 0px;\n                            overflow: hidden;\n                            text-align: {{Style.ParagraphBlock.align}};\n                            font-family: {{Style.ParagraphBlock.fontFamily}};\n                            font-size: {{Style.ParagraphBlock.fontSize}}px;\n                            color: {{Style.ParagraphBlock.color}};">\n                        <div style="mso-line-height-rule: exactly; line-height: {{Style.ParagraphBlock.lineHeight}}%;">\n                            <a href = "{{Product.url}}">\n                                <p>\n                                    {{{Product.description}}}\n                                </p>\n                            </a>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {{/if}}\n\n            <table width="100%" role="presentation" border="0" cellpadding="0" cellspacing="0">\n                <tr>\n                    <td bgcolor="transparent" style="\n                                        padding-left: 0px;\n                                        padding-top: 10px;\n                                        padding-right: 0px;\n                                        padding-bottom: 10px">\n                        <table width="100%" border="0" cellpadding="0" cellspacing="0">\n                            <tr>\n                                <td width="100%" data-key="0" border="0" cellpadding="0" cellspacing="0">\n                                    <table class="button-table" align="{{Style.ButtonBlock.align}}"\n                                           bgcolor="{{Style.ButtonBlock.backgroundColor}}" cellpadding="0"\n                                           cellspacing="0" style="\n                                           border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                           border:{{Style.ButtonBlock.borderWidth}}px {{Style.ButtonBlock.borderStyle }} {{Style.ButtonBlock.borderColor }};\n                                           border-collapse: separate !important;">\n                                        <tr>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                            <td valign="{{Style.template.vAlign}}"\n                                                align="{{Style.Price.align}}"\n                                                style="\n                                                vertical-align: middle;">\n\n                                                <a valign="{{Style.template.vAlign}}" align="center" href="{{Product.url}}"\n                                                   style="text-align: center;\n                                                       display: block;\n                                                       line-height: 13px;\n                                                       border-radius: {{Style.ButtonBlock.borderRadius}}px;\n                                                       border: 10px solid {{Style.ButtonBlock.backgroundColor}};\n                                                       padding: 0px 10px;">\n                                        <span class="button-text"\n                                              style="\n                                                      font-family: {{Style.ButtonBlock.fontFamily}};\n                                                      font-size: {{Style.ButtonBlock.fontSize}}px;\n                                                      color: {{Style.ButtonBlock.color}};\n                                                      text-decoration: none;\n                                                      font-weight: normal;\n                                                      font-style:normal;">\n\n                                            {{Style.ButtonBlock.buttonText}}\n                                            {{#if Style.template.specialPrice}}\n                                                 <s>{{{Product.price}}} {{{Product.currencySymbol}}}</s>\n                                                {{{Product.specialPrice}}} {{{Product.currencySymbol}}}\n                                            {{else}}\n                                                {{{Product.price}}} {{{Product.currencySymbol}}}\n                                            {{/if}}\n                                        </span>\n                                                </a>\n                                            </td>\n                                            \x3c!--[if mso]>\n                                            <td width="10px" height="33px"></td>\n                                            <![endif]--\x3e\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n        {{#if Product.image}}\n\n        <td class="columnSpacing" bgcolor="{{Style.template.backgroundColor}}" style="padding-left: 20px;"></td>\n        <td valign="{{Style.template.vAlign}}" align="{{Style.ImageBlock.align}}" bgcolor="{{Style.template.backgroundColor}}" class="sender-6-col">\n            <table role="presentation" border="0" cellpadding="0"\n                   cellspacing="0">\n                <tr>\n                    <td align="center" bgcolor="transparent">\n                        <a href = "{{Product.url}}">\n                            <img src="{{Product.image}}"\n                                 style="display: block;\n                                         box-sizing: border-box;\n                                         max-width: 100%;\n                                         border-radius: {{Style.ImageBlock.borderRadius}}%;"\n                                 alt="{{Product.title}}"\n                                 width="{{Style.ImageBlock.widthPixels}}">\n                        </a>\n\n                    </td>\n                </tr>\n            </table>\n        </td>\n        {{/if}}\n    </tr>\n</table>\n{{else}}\n<div style="text-align:center">\n    <h2>Please add product url</h2>\n</div>\n{{/if}}\n'},function(e,t,n){"use strict";(function(e){var r=n(541),o=n(0),i=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(t){function ProductBlockView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProductBlockView),_possibleConstructorReturn(this,_getPrototypeOf(ProductBlockView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ProductBlockView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ProductBlockView,[{key:"initialize",value:function initialize(){var e=this;_get(_getPrototypeOf(ProductBlockView.prototype),"initialize",this).call(this),this.updateImageWidthAttr(),o.a.subscribe(i.f.BLOCK_DRAG_END,function(t,n){void 0!==n.added&&"ProductBlock"===n.added.type&&e.updateImageWidthAttr()}),this.listenTo(this.model,"change:styles",function(){e.model.is_modified=!0,e.updateImageWidthAttr(),e.render()})}},{key:"updateImageWidthAttr",value:function updateImageWidthAttr(){this.model.updateImageWidth(),this.$el.find("img").attr("width",this.model.attributes.styles.ImageBlock.widthPixels)}},{key:"getModelAttributes",value:function getModelAttributes(){return this.model.updateImageWidth(),_get(_getPrototypeOf(ProductBlockView.prototype),"getModelAttributes",this).call(this)}},{key:"events",get:function get(){var t=this;return e.merge({},_get(_getPrototypeOf(ProductBlockView.prototype),"events",this),{contextmenu:function contextmenu(e){e.preventDefault(),t.model.trigger("openEditor")}})}}]),ProductBlockView}();t.a=a}).call(this,n(24))},function(e,t,n){"use strict";var r=n(269),o=n(0),i=n(1);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function DataBlockView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataBlockView),_possibleConstructorReturn(this,_getPrototypeOf(DataBlockView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(DataBlockView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(DataBlockView,[{key:"onClick",value:function onClick(){o.a.publish(i.k.BUILD,this.model.settingsScheme)}},{key:"initialize",value:function initialize(){var e=this;_get(_getPrototypeOf(DataBlockView.prototype),"initialize",this).call(this),this.listenTo(this.model,"change:data",function(){e.model.parseSchema(),e.render()}),this.listenTo(this.model,"openEditor",function(){_get(_getPrototypeOf(DataBlockView.prototype),"onClick",e).call(e)})}}]),DataBlockView}();t.a=a},function(e,t,n){"use strict";(function(e,r){var o=n(0),i=n(1),a=n(13),s=n(55),c=n(41);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(t){function ColumnView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnView),_possibleConstructorReturn(this,_getPrototypeOf(ColumnView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ColumnView,a["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ColumnView,[{key:"initialize",value:function initialize(){var e=this;this.responsiveClasses=["sender-1-col","sender-2-col","sender-3-col","sender-4-col","sender-5-col","sender-6-col","sender-7-col","sender-8-col","sender-9-col","sender-10-col","sender-11-col","sender-12-col"],this.responsivePercentages=[8.333333,16.666667,25,33.333333,41.666667,50,58.333333,66.666667,75,83.333333,91.666667,100],this.listenTo(this.model.blocks,"add",this.onAddBlock),this.listenTo(this.model.blocks,"remove",this.onRemoveBlock),this.listenTo(this.model,"change:valign",function(){e.el.setAttribute("valign",e.model.get("valign"))}),this.listenTo(this.model,"change:bgColor",function(){e.el.setAttribute("bgColor",e.model.get("bgColor"))}),this.listenTo(this.model,"change:hideOnMobile",function(){e.addHideOnMobile()}),o.a.subscribe(i.f.BLOCK_DRAG_START,function(){e.delegateEvents(Object(s.a)(e.events,{dragover:"showPlaceHover",dragleave:"hidePlaceHover"}))}),o.a.subscribe(i.f.BLOCK_DRAG_END,function(){e.stopDrag()})}},{key:"addHideOnMobile",value:function addHideOnMobile(){this.model.get("hideOnMobile")?(this.$el.addClass("hide-on-mobile"),2===this.model.collection.length&&this.model.collection.forEach(function(e){e.view.$el.addClass("neighbour-is-hidden")})):(this.$el.removeClass("hide-on-mobile"),2===this.model.collection.length&&this.model.collection.forEach(function(e){e.view.$el.removeClass("neighbour-is-hidden")}))}},{key:"addResponsiveClass",value:function addResponsiveClass(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===t&&(t=this),null===n&&(n=t.model.get("className")),e?t.$el.removeClass().addClass(n):t.$el.removeClass().addClass(n+"-"+(t.responsiveClasses.indexOf(n)+1)+"-responsive")}},{key:"stopDrag",value:function stopDrag(){this.el.classList.contains("place-hover")&&this.$el.removeClass("place-hover"),this.undelegate("dragover"),this.undelegate("dragleave")}},{key:"showPlaceHover",value:function showPlaceHover(){this.el.classList.contains("empty")&&this.$el.addClass("place-hover")}},{key:"hidePlaceHover",value:function hidePlaceHover(){this.el.classList.contains("place-hover")&&this.$el.removeClass("place-hover")}},{key:"onAddBlock",value:function onAddBlock(e,t){t.length>0&&(this.$el.removeClass("empty"),this.hidePlaceHover()),this.$el.insertAt(e.get("pos"),e.view.render().el),e.view.$el.animateCss("zoomIn",null,200)}},{key:"onRemoveBlock",value:function onRemoveBlock(e,t){t.length<1&&this.$el.addClass("empty")}},{key:"resetSenderClass",value:function resetSenderClass(){for(var e=1;e<=12;e++)this.$el.removeClass("sender-"+e+"-col");this.$el.addClass(this.model.get("className"))}},{key:"remove",value:function remove(){var e=this.$el.prev(),t=this.$el.next(),n=e.hasClass("columnSpacing")?e:!!t.hasClass("columnSpacing")&&t;return n&&n.remove(),_get(_getPrototypeOf(ColumnView.prototype),"remove",this).call(this)}},{key:"render",value:function render(){this.addResponsiveClass(!0);var e=[];return this.model.blocks.each(function(t){e.push(t.view.render().el)}),this.$el.html(e),0===this.model.blocks.length&&this.$el.addClass("empty"),this.addHideOnMobile(),this.initSortable(),this}},{key:"getSortable",value:function getSortable(){var e=this,t=window.Builder.find("Email.view").getIframeWindow().Sortable;return new Promise(function(n){void 0===t?setTimeout(function(){n(e.getSortable())},100):n(t)})}},{key:"initSortable",value:function initSortable(){var t=this,n=window,a=this;this.getSortable().then(function(u){u.create(t.el,Object(s.a)({},c.b,{handle:".dragMe",group:{name:"elements"},scroll:window.Builder.find("Email.view").getIframeWindow().document.documentElement,setData:function setData(e,t){t.setAttribute("empty_text",l("DROP ELEMENTS HERE")),e.setData("Text",t.textContent);var r=t.dataset.type,o=n.document.querySelector("[data-element='".concat(r,"']"));o&&e.setDragImage(o,0,0)},onAdd:function onAdd(t){if(e(t.item).data("collectionTo",a.model.blocks),"sidebar-elements-container"===t.from.id){var n=e(t.item).data("element");e(t.item).remove();var s={type:n,id:r.uniqueId(n+Date.now()),col:a.model.attributes.position,pos:t.newIndex},l=a.model.blocks.add(s,{at:t.newIndex});l.set("is_modified",!0),o.a.publish(i.f.BLOCK_DRAG_END,{event:t,model:a,sortable:this,added:s}),l.view.onSelect()}},onStart:function onStart(e){a.model.blocks.length-1==0?a.$el.addClass("empty"):(a.$el.removeClass("empty"),a.hidePlaceHover()),o.a.publish(i.f.BLOCK_DRAG_START,{event:e,model:a,sortable:this})},onEnd:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t){var n,r,s,l,c;return regeneratorRuntime.wrap(function _callee2$(u){for(;;)switch(u.prev=u.next){case 0:return n=e(t.item).data("collectionTo")||a.model.blocks,(r=a.model.blocks.get(e(t.item).data("id"))).view.$el.find("tr").hide(),s=r.get("col"),l=r.get("pos"),a.model.blocks.remove(r),r.set({col:n.column.get("position"),pos:t.newIndex},{silent:!0}),u.next=9,n.add(r,{at:t.newIndex,silent:!0});case 9:return c=u.sent,u.next=12,n.trigger("add",c,n);case 12:o.a.publish(i.f.BLOCK_DRAG_END,{event:t,model:a,sortable:this,added:c}),(s!==n.column.get("position")||s===n.column.get("position")&&l!==t.newIndex||t.from!==t.to)&&setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:c.attributes.type.replace(/([a-z])([A-Z])/g,"$1 $2")+" changed position in email",section_uuid:c.section.uuid}]);case 1:case"end":return e.stop()}},_callee)})),400);case 14:case"end":return u.stop()}},_callee2,this)}));return function onEnd(e){return t.apply(this,arguments)}}()}))})}},{key:"tagName",get:function get(){return"td"}},{key:"attributes",get:function get(){return{valign:this.model.get("valign"),bgColor:this.model.get("bgColor"),empty_text:l("DROP ELEMENTS HERE"),cid:this.model.cid}}},{key:"events",get:function get(){}}]),ColumnView}();t.a=u}).call(this,n(22),n(24))},function(e,t,n){"use strict";(function(e,r){var o=n(461),i=n.n(o),a=n(462),s=n.n(a),c=n(544),u=n.n(c),d=n(545),f=n.n(d),p=n(546),h=n.n(p),g=n(0),m=n(1),A=n(13),v=n(5),y=n(231),b=n(463),w=n(11),_=n(55),E=n(29);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(t){function SectionView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionView),_possibleConstructorReturn(this,_getPrototypeOf(SectionView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SectionView,A["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SectionView,[{key:"solveHideOnMobile",value:function solveHideOnMobile(){return this.model.get("data.hideOnMobile")?(this.$el.addClass("hide-on-mobile"),!0):(this.$el.removeClass("hide-on-mobile"),!1)}},{key:"breakOnMobile",value:function breakOnMobile(){return this.model.get("data.DontBrakeOnMobile")?(this.$el.find(".columnSpacing").removeClass("break-on-mobile"),e.forEach(this.model.columns.models,function(e){e.view.$el.removeClass("break-on-mobile")}),!0):(e.forEach(this.model.columns.models,function(e){e.view.$el.addClass("break-on-mobile")}),this.$el.find(".columnSpacing").addClass("break-on-mobile"),!1)}},{key:"handleRemoveColumn",value:function handleRemoveColumn(e){if(1===this.model.columns.models.length)return v.a.toast({type:null,title:l("Can not delete last column")}),!1;var t=this.findColumnFromResizerClick(e);this.model.removeColumn(t.model)}},{key:"handleAddColumn",value:function handleAddColumn(e){if(this.model.columns.models.length>3)return v.a.toast({type:null,title:l("Maximum 4 columns allowed per section")}),!1;var t=this.findColumnFromResizerClick(e);this.model.addColumn(t.index).view}},{key:"findColumnFromResizerClick",value:function findColumnFromResizerClick(e){var t=r(e.currentTarget).parents(".col-edit-holder").prev().attr("cid");return{model:Object(y.a)(this.model.columns.models,{cid:t}),index:Object(b.a)(this.model.columns.models,{cid:t})}}},{key:"onSelect",value:function onSelect(){var e=this;this.selected||(this.selected=!0,g.a.publishSync(m.f.DESELECT,this),g.a.subscribeOnce(m.f.DESELECT,function(t,n){e.onGlobalDeselect(n)}),g.a.subscribeOnce(m.f.DRAG_END,function(t,n){e.onGlobalDeselect(n)}),g.a.publish(m.i.SELECTED,this),g.a.publish(m.k.BUILD,Object(w.a)(this,"model.settingsScheme")))}},{key:"onGlobalDeselect",value:function onGlobalDeselect(e){Object(w.a)(e,"uuid")!==this.uuid&&(this.selected=!1,g.a.publish(m.i.DESELECTED,this),this.model.is_modified&&(Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:this.model.attributes.title+" section in position "+this.model.attributes.position+" modified",section_uuid:this.model.uuid}]),this.model.is_modified=!1))}},{key:"initialize",value:function initialize(){var e=this;this._selected=!1,this.setTemplate(i.a),this.listenTo(this.model,"change:data",function(){e.model.is_modified=!0,e.updateStyles()}),this.listenTo(this.model,"change",function(){e.model.sectionWidthValidation()}),this.listenTo(this,"postRender",function(){e.renderColumns(),e.model.sectionWidthValidation(),g.a.subscribe(m.g.IMAGE.INSERTED,function(t,n){if(!(n.getSection().columns.models.length<2)){n.getSection().updateElements();var r=e.getAllSectionImages(n),o=Math.min.apply(null,r.map(function(e){return e.height})),i=Math.max.apply(null,r.map(function(e){return e.height}));e.initImageCropAction(r,i,o)}}),e.breakOnMobile()}),g.a.subscribe(m.b.DESELECTED,function(){e.model.sectionWidthValidation()}),g.a.subscribe(m.f.DRAG_END,function(){e.model.sectionWidthValidation()}),this.listenTo(this.model,"change:editColumnsMode",this.toggleEditColumn),this.listenToTheme()}},{key:"getAllSectionImages",value:function getAllSectionImages(t){var n=[],r=t.getSection().columns.models;return e.forEach(r,function(t){e.forEach(t.blocks.models,function(e){if("ImageBlock"===e.attributes.type){var t=e.view.$el.find("img")[0].height,r=e.view.$el.find("img")[0].width;n.push({image:e,width:r,height:t})}})}),n}},{key:"initImageCropAction",value:function initImageCropAction(t,n,r){e.forEach(t,function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var t,o;return regeneratorRuntime.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.height===n&&n>r)){i.next=6;break}return i.next=3,v.a.confirm({type:null,imageUrl:e.image.attributes.src,title:l("This image aspect ratio is not equal to other images in this section! Do you want to crop it?"),text:l(" "),confirmButtonText:l("Yes"),cancelButtonText:l("No")});case 3:t=i.sent,t.value&&(o={croppingHeight:r,croppingWidth:e.width,imageUrl:e.image.attributes.src},e.image.view.openLib(),g.a.publish(m.g.IMAGE.RESIZE,o));case 6:case"end":return i.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}())}},{key:"toggleEditColumn",value:function toggleEditColumn(){return this.model.get("editColumnsMode")?this.showColumnTools():this.hideColumnTools()}},{key:"showColumnTools",value:function showColumnTools(){this.$el.find(".columnSpacing").each(function(){r(this).append(u()({}))});var e=this.$el.find(".section-content-wrapper");e.prepend(f()({})),e.append(h()({}))}},{key:"hideColumnTools",value:function hideColumnTools(){this.$el.find(".col-edit-removable").each(function(){r(this).remove()})}},{key:"updateStyles",value:function updateStyles(){this.updateSpacing();var e=this.$el.find(".section-content-wrapper").contents();return e.detach(),this.$el.html(i()(this.getModelAttributes())),this.$el.find(".section-content-wrapper").html(e),this.solveHideOnMobile(),this.breakOnMobile(),this.trigger("postRender.updateStyles"),this}},{key:"updateSpacing",value:function updateSpacing(){this.$el.find(".columnSpacing").css("padding-right",this.model.getAttributes("data.columnSpacing")+"px")}},{key:"listenToTheme",value:function listenToTheme(){var e=this;g.a.subscribe(m.p.CHANGED.ALL,function(){e.updateStyles()}),g.a.subscribe(m.p.EDIT[this.model.eventName],function(t,n){e.handleThemeCustomize(t,n)}),g.a.subscribe(m.n.RESET[this.model.eventName],function(t,n){for(var r={},o=0;o<n.length;o++)r[n[o]]=null;Object(_.a)(e.model.attributes.data,r),e.render()})}},{key:"handleThemeCustomize",value:function handleThemeCustomize(e,t){var n=this;return Builder.isThemeOverrideEnabled()&&Object(E.a)(t,function(e){n.model.set(e.replace("Section.",""),null)}),this.updateStyles()}},{key:"renderColumns",value:function renderColumns(){var e=this,t=[],n=this.model.getAttributes("data.columnSpacing");return this.model.columns.each(function(r,o){t.push(r.view.render().el),o!==e.model.columns.size()-1&&t.push(s()({spacerWidth:n}))}),this.$el.find(".section-content-wrapper").html(t),this}},{key:"pushColumn",value:function pushColumn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[s()({spacerWidth:this.model.getAttributes("data.columnSpacing")})];t?(n.push(e.view.render().el),this.$el.find("td[cid='"+t+"']").after(n)):(n.unshift(e.view.render().el),this.$el.find(".section-content-wrapper").prepend(n)),this.hideColumnTools(),this.showColumnTools()}},{key:"copy",value:function copy(){var e=this.model.get("position")+1,t=this.model.copy();t.is_modified=!0,this.model.collection.add(t,{at:e,wait:!1}),setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:Builder.find("Email.model.snapshot").createNewSnapshot([{element:"section",message:t.title+" copied",section_uuid:t.uuid}]);case 1:case"end":return e.stop()}},_callee2)})),250)}},{key:"initResize",value:function initResize(e){var t=this;e.preventDefault(),e.stopPropagation(),this.prev=r(e.currentTarget).prev(),this.next=r(e.currentTarget).next(),this.prevModel=Object(y.a)(this.model.columns.models,{cid:this.prev.attr("cid")}),this.nextModel=Object(y.a)(this.model.columns.models,{cid:this.next.attr("cid")}),this.prevSenderColumn=this.prevModel.get("senderColumn"),this.nextSenderColumn=this.nextModel.get("senderColumn"),this.pixelToColRatio=(this.prev.width()+this.next.width())/(this.prevSenderColumn+this.nextSenderColumn),this.xStart=e.clientX,this.delegate("mousemove",null,function(e){t.resize(e)}),this.delegate("mouseup",null,function(){t.stopResizing()})}},{key:"parseSenderClassName",value:function parseSenderClassName(e){var t=!1,n=e.className.split(" ");return Object(E.a)(n,function(e){var n=e.split("-");if("sender"===n[0]&&"col"===n[2])return t=n[1],!1}),t}},{key:"resize",value:function resize(e){var t=(e.clientX-this.xStart)/this.pixelToColRatio,n=t>0?Math.floor(t):Math.ceil(t);n<1&&n>-1||this.prevSenderColumn+n<2||this.nextSenderColumn-n<2||(this.nextSenderColumn-=n,this.prevSenderColumn+=n,this.nextModel.set("senderColumn",this.nextSenderColumn),this.prevModel.set("senderColumn",this.prevSenderColumn),this.xStart=e.clientX)}},{key:"stopResizing",value:function stopResizing(){this.undelegate("mousemove"),this.undelegate("mouseup"),this.next=null,this.prev=null,this.prevModel=null,this.nextModel=null,this.prevSenderColumn=null,this.nextSenderColumn=null,this.xStart=null}},{key:"tagName",get:function get(){return"table"}},{key:"attributes",get:function get(){return{id:"section_"+this.model.uuid,"data-uuid":this.model.uuid,"data-id":this.model.id,"data-columns":this.model.get("data.columns").length,role:"presentation",border:0,cellpadding:0,cellspacing:0,width:"100%"}}},{key:"className",get:function get(){return"section table-block"}},{key:"events",get:function get(){var e=this;return{click:function click(t){t.preventDefault(),t.stopPropagation(),e.onSelect()},mouseenter:function mouseenter(){g.a.publish(m.i.HOVER.ENTER,e)},mouseleave:function mouseleave(){g.a.publish(m.i.HOVER.LEAVE,e)},"click .remove-column":"handleRemoveColumn","click .add-column":"handleAddColumn"}}},{key:"selected",get:function get(){return this._selected},set:function set(e){this._selected=e}},{key:"hoverActions",get:function get(){var e=this;return{styles:{button:{position:"top-outside"}},buttons:[{title:l("Drag"),icon:"fa-expand-arrows-alt",tooltipText:"Click and drag section"},{title:l("Settings"),icon:"fa-cog",tooltipText:"Section settings",onclick:function onclick(){g.a.publish(m.i.SELECTED,e),g.a.publish(m.k.BUILD,e.model.settingsScheme)}},{title:l("Copy"),icon:"fa-copy",tooltipText:"Copy section",onclick:this.copy},{title:l("Save"),icon:"fa-save",tooltipText:"Save section",onclick:function onclick(){g.a.publish(m.j.SAVE_SECTION,e)}},{title:l("Remove"),icon:"fa-trash",tooltipText:"Remove section",onclick:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(1!==e.model.collection.length){n.next=5;break}return v.a.toast({type:null,title:l("Cannot delete last section!")}),n.abrupt("return",!1);case 5:return n.next=7,v.a.confirm({type:null,text:l("You are going to delete your section!"),title:l("Are you sure?"),confirmButtonText:l("Delete section"),cancelButtonText:l("Cancel")});case 7:if(t=n.sent,!t.value){n.next=15;break}e.model.collection.remove(e.model),e.remove(),Builder.find("Email.model.snapshot").createNewSnapshot([{element:"block",message:e.model.attributes.title+" section removed from email",section_uuid:"email"}]),n.next=16;break;case 15:return n.abrupt("return");case 16:case"end":return n.stop()}},_callee3)}));return function onclick(){return t.apply(this,arguments)}}()}]}}}]),SectionView}();t.a=C}).call(this,n(24),n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<span class="column-editing col-edit-removable">\n    <span class="resizer"></span>\n    <span class="resizer-background"></span>\n    <span class="add-column"></span>\n    <span class="remove-column"></span>\n</span>\n'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<td class="col-edit-holder col-edit-removable">\n    <span class="column-editing">\n        <span class="add-column"></span>\n    </span>\n</td>>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<td class="col-edit-holder col-edit-removable">\n    <span class="column-editing">\n        <span class="add-column"></span>\n        <span class="remove-column"></span>\n    </span>\n</td>'},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(5),o=n(3),i=n(21),a=n(18),s=n.n(a),c=n(0),u=n(1),d=n(11),f=n(29),p=n(195),h=n.n(p),g=n(47),m=n(55),A=n(160),v=n.n(A);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var y=function(t){function Snapshot(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Snapshot),_possibleConstructorReturn(this,_getPrototypeOf(Snapshot).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Snapshot,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Snapshot,[{key:"parse",value:function parse(e,t){return _get(_getPrototypeOf(Snapshot.prototype),"parse",this).call(this,e.EmailSnapshot,t)}},{key:"getWorkingSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.localStorage.getItem(this.wsTitle);case 2:if(e=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}},_callee,this)}));return function getWorkingSnapshot(){return e.apply(this,arguments)}}()},{key:"saveWorkingSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.localStorage.setItem(this.wsTitle,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee2,this)}));return function saveWorkingSnapshot(t){return e.apply(this,arguments)}}()},{key:"initialize",value:function initialize(){var e=this;this.wsTitle="WS_"+window.HTML_ID,this.psTitle="PS_"+window.HTML_ID,this.localStorage=Snapshot.initLocalStorage(),this.clearLocalStorage(),this.poolingInterval=null,this.loadLocalWorkingSnapshot(),c.a.subscribe(u.m.SAVE.REMOTE,_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createNewSnapshot();case 2:case"end":return t.stop()}},_callee3)}))),c.a.subscribe(u.m.SAVE.LOCAL,function(){e.updateAttributes(),e.updateWorkingSnapshot()})}},{key:"clearLocalStorage",value:function clearLocalStorage(){h.a.length().then(function(e){parseInt(e)>2&&h.a.iterate(function(t,n,r){r<parseInt(e)-2&&h.a.removeItem(n)})})}},{key:"updateAttributes",value:function updateAttributes(){return this.set({data:window.Builder.run("Email.model.sections.getLatest"),theme:window.Builder.run("Email.model.theme.toJSON"),last_modified:o.a.timestamp}),this}},{key:"loadTemplate",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(e){var t;return regeneratorRuntime.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.toJSON({deep:!0}),this.set({id:null,data:t.data,theme:t.theme,html_id:HTML_ID,email_template_id:t.id,last_modified:o.a.timestamp}),n.next=4,this.updateWorkingSnapshot();case 4:return t=null,n.abrupt("return",this.getWorkingSnapshot());case 6:case"end":return n.stop()}},_callee4,this)}));return function loadTemplate(t){return e.apply(this,arguments)}}()},{key:"loadLocalWorkingSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.getWorkingSnapshot();case 3:if(e.t1=e.sent,e.t1){e.next=6;break}e.t1={};case 6:return e.t2=e.t1,e.t0.set.call(e.t0,e.t2),e.abrupt("return",this);case 9:case"end":return e.stop()}},_callee5,this)}));return function loadLocalWorkingSnapshot(){return e.apply(this,arguments)}}()},{key:"updateWorkingSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveWorkingSnapshot(this.toJSON());case 2:return c.a.publish(u.m.UPDATED,this),e.abrupt("return",this);case 4:case"end":return e.stop()}},_callee6,this)}));return function updateWorkingSnapshot(){return e.apply(this,arguments)}}()},{key:"createNewLocalHistorySnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.localStorage,e.t1=this.psTitle+this.get("last_modified"),e.next=4,this.getWorkingSnapshot();case 4:return e.t2=e.sent,e.next=7,e.t0.setItem.call(e.t0,e.t1,e.t2);case 7:return e.abrupt("return",this);case 8:case"end":return e.stop()}},_callee7,this)}));return function createNewLocalHistorySnapshot(){return e.apply(this,arguments)}}()},{key:"createNewSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(e){var t,n,r;return regeneratorRuntime.wrap(function _callee8$(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(t=Object(m.a)(this.getChangedData(),e)).length){i.next=3;break}return i.abrupt("return",this);case 3:return window.Builder.find("Topbar.model").changeUndoButtonToSaveIcon(),i.prev=4,n=t[0].section_uuid,void 0!==t[0].type&&"ImageBlock"==t[0].type&&(n="email"),i.next=9,this.makeSnapshotElementThumbnail(n).then(function(e){return e.toDataURL("image/png")});case 9:r=i.sent,i.next=15;break;case 12:i.prev=12,i.t0=i.catch(4),ld("failed to save email preview");case 15:return this.updateAttributes(),this.set({id:null,html_id:HTML_ID+"",html:window.Builder.run("Email.getEmailBodyHtml")||null,last_modified:o.a.timestamp+"",changed:JSON.stringify(t),thumbnail:r}),i.prev=17,i.next=20,this.save(null,{});case 20:i.next=25;break;case 22:return i.prev=22,i.t1=i.catch(17),i.abrupt("return",this);case 25:return c.a.publish(u.m.SAVED_TO_REMOTE,this),i.next=28,this.undoModifiedAttribute();case 28:return i.next=30,this.updateWorkingSnapshot();case 30:return window.Builder.find("Topbar.model").changeUndoButtonToUndoIcon(),i.abrupt("return",this);case 32:case"end":return i.stop()}},_callee8,this,[[4,12],[17,22]])}));return function createNewSnapshot(t){return e.apply(this,arguments)}}()},{key:"getChangedData",value:function getChangedData(){var e=[];return Builder.find("Email.model.sections.models").forEach(function(t){t.columns.forEach(function(t){t.blocks.forEach(function(t){if(t.is_modified){var n=t.section.attributes.position+1;e.push({element:"block",message:"Changes in section "+n+" ("+t.attributes.type.replace(/([a-z])([A-Z])/g,"$1 $2")+")",section_uuid:t.section.uuid})}})})}),Builder.find("Email.model.sections").forEach(function(t){t.is_modified&&e.push({element:"section",message:"section in position: "+(t.attributes.position+1)+" changed",section_uuid:t.uuid})}),Builder.find("Email.model.theme").is_modified&&e.push({element:"theme",message:"Theme settings changed",section_uuid:"email"}),e}},{key:"undoModifiedAttribute",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:Builder.find("Email.model.sections.models").forEach(function(e){e.columns.forEach(function(e){e.blocks.forEach(function(e){e.is_modified=!1})})}),Builder.find("Email.model.sections").forEach(function(e){e.is_modified=!1}),Builder.find("Email.model.theme").is_modified=!1;case 3:case"end":return e.stop()}},_callee9)}));return function undoModifiedAttribute(){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(){return regeneratorRuntime.wrap(function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWorkingSnapshot();case 2:if(e.sent){e.next=6;break}return e.next=5,this.loadLatestRemoteSnapshot();case 5:return e.abrupt("return",!!e.sent);case 6:return e.next=8,this.isLatest();case 8:if(!e.sent){e.next=11;break}return c.a.publish(u.m.LOADED.LOCAL,this),e.abrupt("return",!0);case 11:return e.next=13,this.shouldOverwriteFromServer();case 13:if(!e.sent){e.next=18;break}return e.next=16,this.loadLatestRemoteSnapshot();case 16:e.next=20;break;case 18:return e.next=20,this.loadLocalWorkingSnapshot();case 20:e.next=23;break;case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}},_callee10,this)}));return function load(){return e.apply(this,arguments)}}()},{key:"loadLatestRemoteSnapshot",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetch({validate:!0});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return c.a.publish(u.m.LOADED.REMOTE,this),e.next=11,this.updateWorkingSnapshot();case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},_callee11,this,[[0,5]])}));return function loadLatestRemoteSnapshot(){return e.apply(this,arguments)}}()},{key:"startVersionCheckInterval",value:function startVersionCheckInterval(){var e=this;this.poolingInterval=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function _callee12(){return regeneratorRuntime.wrap(function _callee12$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isLatest();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",!0);case 4:return clearInterval(e.poolingInterval),e.poolingInterval=null,t.next=8,e.shouldOverwriteFromServer();case 8:if(!t.sent){t.next=11;break}return t.next=11,e.loadLatestRemoteSnapshot();case 11:e.startVersionCheckInterval();case 12:case"end":return t.stop()}},_callee12)})),8e3)}},{key:"shouldOverwriteFromServer",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(){var e,t;return regeneratorRuntime.wrap(function _callee13$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.confirm({type:null,title:l("Newer version available"),text:l("We have found a newer version in the server. Which one would you like to use?"),confirmButtonText:l("Server"),cancelButtonText:l("Local")});case 2:return e=n.sent,t=e.value,n.abrupt("return",t||!1);case 5:case"end":return n.stop()}},_callee13)}));return function shouldOverwriteFromServer(){return e.apply(this,arguments)}}()},{key:"isLatest",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(){var e,t,n;return regeneratorRuntime.wrap(function _callee14$(r){for(;;)switch(r.prev=r.next){case 0:return e=window.SENDER_ENDPOINT+window.DS+"email_snapshots"+window.DS+"is_latest"+window.DS+window.HTML_ID+window.DS+this.get("last_modified"),r.prev=1,r.next=4,s.a.get(e);case 4:return t=r.sent,(n=Object(d.a)(t,"data.isLatest",!1))||c.a.publish(u.m.OUTDATED,this),r.abrupt("return",n);case 10:return r.prev=10,r.t0=r.catch(1),c.a.publish(u.f.ERROR,{error:new g.a(l("Failed to check snapshot version: ")+r.t0.message,r.t0.message,r.t0.status)}),r.abrupt("return",!0);case 14:case"end":return r.stop()}},_callee14,this,[[1,10]])}));return function isLatest(){return e.apply(this,arguments)}}()},{key:"enableDebug",value:function enableDebug(){c.a.subscribe(u.m.ALL,function(e,t){ld("PubSub Message: "+e),ld("Payload: ",t)})}},{key:"getUndoSnapshots",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(){return regeneratorRuntime.wrap(function _callee15$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(this.url+"all").then(function(e){if(200===e.status)return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee15,this)}));return function getUndoSnapshots(){return e.apply(this,arguments)}}()},{key:"setSnapshot",value:function setSnapshot(e){var t=this;c.a.publishSync(u.f.DESELECT);var n=e.EmailSnapshot.changed;return this.set(e.EmailSnapshot||e.attributes),window.Builder.find("Email.model").loadSnapshotToEmail(),this.removeOldSnapshot(e.EmailSnapshot.id),setTimeout(function(){return t.createNewSnapshot(JSON.parse(n))},200),this}},{key:"removeOldSnapshot",value:function removeOldSnapshot(e){return s.a.delete(window.SENDER_ENDPOINT+"email_snapshots"+window.DS+e)}},{key:"makeSnapshotElementThumbnail",value:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee17(t){var n,r,o,i,a;return regeneratorRuntime.wrap(function _callee17$(s){for(;;)switch(s.prev=s.next){case 0:if("email"!==t){s.next=6;break}return s.next=3,window.Builder.find("Email.view").getIframe("body")[0];case 3:t=s.sent,s.next=19;break;case 6:return s.next=8,window.Builder.run("Email.view.getIframeWindow");case 8:return n=s.sent,r=n.document.children[0],o=r.cloneNode(!0),s.next=13,o.getElementsByTagName("head")[0].remove();case 13:return s.next=15,document.body.appendChild(o);case 15:return s.next=17,e(document).find("table[data-uuid='"+t+"']");case 17:i=s.sent,t=i[0];case 19:return s.next=21,v()(t,{logging:!1,allowTaint:!1,backgroundColor:null,onclone:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee16(t){var n;return regeneratorRuntime.wrap(function _callee16$(r){for(;;)switch(r.prev=r.next){case 0:if(0===(n=t.getElementsByClassName("se-action-buttons")).length){r.next=4;break}return r.next=4,Object(f.a)(n,function(t){e(t).hide()});case 4:case"end":return r.stop()}},_callee16)}));return function onclone(e){return t.apply(this,arguments)}}(),removeContainer:!0,useCORS:!0,x:10,windowWidth:800!==window.Builder.find("Email.model.theme.attributes.data.Email.width")?670:window.Builder.find("Email.model.theme.attributes.data.Email.width"),width:800!==window.Builder.find("Email.model.theme.attributes.data.Email.width")?670:window.Builder.find("Email.model.theme.attributes.data.Email.width")});case 21:return a=s.sent,void 0!==o&&document.body.removeChild(o),s.abrupt("return",a);case 24:case"end":return s.stop()}},_callee17)}));return function makeSnapshotElementThumbnail(e){return t.apply(this,arguments)}}()},{key:"url",get:function get(){return window.SENDER_ENDPOINT+"email_snapshots"+window.DS+window.HTML_ID+window.DS}},{key:"defaults",get:function get(){return{id:null,html_id:null,html:null,email_template_id:null,theme:null,data:null,last_modified:null,hideErrorMessages:!0,changed:null}}},{key:"loaded",get:function get(){return!!this.get("data")}}],[{key:"initLocalStorage",value:function initLocalStorage(){return h.a.config({name:"Sender Editor",version:1,storeName:"sender_email_builder"}),h.a}}]),Snapshot}();t.a=y}).call(this,n(22))},function(e,t,n){"use strict";(function(e){/*! shepherd.js 2.10.0 */
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=function isObjectLike(e){return!!e&&"object"==typeof e};function isFunction(e){return"function"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}var r=Object.prototype.hasOwnProperty;function assignValue(e,t,n){var o=e[t];r.call(e,t)&&function eq(e,t){return e===t||e!=e&&t!=t}(o,n)&&(void 0!==n||t in e)||(e[t]=n)}for(var o=function zipObject(e,t){return function baseZipObject(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],assignValue)},i="undefined"!=typeof window&&"undefined"!=typeof document,a=["Edge","Trident","Firefox"],s=0,l=0
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */;l<a.length;l+=1)if(i&&navigator.userAgent.indexOf(a[l])>=0){s=1;break}var c=i&&window.Promise?function microtaskDebounce(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function taskDebounce(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},s))}};function isFunction$1(e){return e&&"[object Function]"==={}.toString.call(e)}function getStyleComputedProperty(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function getParentNode(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function getScrollParent(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=getStyleComputedProperty(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:getScrollParent(getParentNode(e))}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),d=i&&/MSIE 10/.test(navigator.userAgent);function isIE(e){return 11===e?u:10===e?d:u||d}function getOffsetParent(e){if(!e)return document.documentElement;for(var t=isIE(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===getStyleComputedProperty(n,"position")?getOffsetParent(n):n:e?e.ownerDocument.documentElement:document.documentElement}function getRoot(e){return null!==e.parentNode?getRoot(e.parentNode):e}function findCommonOffsetParent(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return function isOffsetContainer(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||getOffsetParent(e.firstElementChild)===e)}(a)?a:getOffsetParent(a);var s=getRoot(e);return s.host?findCommonOffsetParent(s.host,t):findCommonOffsetParent(e,getRoot(t).host)}function getScroll(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function getBordersSize(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function getSize(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],isIE(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function getWindowSizes(e){var t=e.body,n=e.documentElement,r=isIE(10)&&getComputedStyle(n);return{height:getSize("Height",t,n,r),width:getSize("Width",t,n,r)}}var f=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),h=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function getClientRect(e){return g({},e,{right:e.left+e.width,bottom:e.top+e.height})}function getBoundingClientRect(e){var t={};try{if(isIE(10)){t=e.getBoundingClientRect();var n=getScroll(e,"top"),r=getScroll(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?getWindowSizes(e.ownerDocument):{},a=i.width||e.clientWidth||o.right-o.left,s=i.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=getStyleComputedProperty(e);l-=getBordersSize(u,"x"),c-=getBordersSize(u,"y"),o.width-=l,o.height-=c}return getClientRect(o)}function getOffsetRectRelativeToArbitraryNode(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=isIE(10),o="HTML"===t.nodeName,i=getBoundingClientRect(e),a=getBoundingClientRect(t),s=getScrollParent(e),l=getStyleComputedProperty(t),c=parseFloat(l.borderTopWidth,10),u=parseFloat(l.borderLeftWidth,10);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=getClientRect({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var f=parseFloat(l.marginTop,10),p=parseFloat(l.marginLeft,10);d.top-=c-f,d.bottom-=c-f,d.left-=u-p,d.right-=u-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function includeScroll(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=getScroll(t,"top"),o=getScroll(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(d,t)),d}function getFixedPositionOffsetParent(e){if(!e||!e.parentElement||isIE())return document.documentElement;for(var t=e.parentElement;t&&"none"===getStyleComputedProperty(t,"transform");)t=t.parentElement;return t||document.documentElement}function getBoundaries(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,t);if("viewport"===r)i=function getViewportOffsetRectRelativeToArtbitraryNode(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=getOffsetRectRelativeToArbitraryNode(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:getScroll(n),s=t?0:getScroll(n,"left");return getClientRect({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=getScrollParent(getParentNode(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=getOffsetRectRelativeToArbitraryNode(s,a,o);if("HTML"!==s.nodeName||function isFixed(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===getStyleComputedProperty(e,"position"))return!0;var n=getParentNode(e);return!!n&&isFixed(n)}(a))i=l;else{var c=getWindowSizes(e.ownerDocument),u=c.height,d=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var f="number"==typeof(n=n||0);return i.left+=f?n:n.left||0,i.top+=f?n:n.top||0,i.right-=f?n:n.right||0,i.bottom-=f?n:n.bottom||0,i}function computeAutoPlacement(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=getBoundaries(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return g({key:e},s[e],{area:function getArea(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function getReferenceOffsets(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(n,r?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,n),r)}function getOuterSizes(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function getOppositePlacement(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function getPopperOffsets(e,t,n){n=n.split("-")[0];var r=getOuterSizes(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[getOppositePlacement(s)],o}function find(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function runModifiers(e,t,n){return(void 0===n?e:e.slice(0,function findIndex(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=find(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&isFunction$1(n)&&(t.offsets.popper=getClientRect(t.offsets.popper),t.offsets.reference=getClientRect(t.offsets.reference),t=n(t,e))}),t}function isModifierEnabled(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function getSupportedPropertyName(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function getWindow(e){var t=e.ownerDocument;return t?t.defaultView:window}function setupEventListeners(e,t,n,r){n.updateBound=r,getWindow(e).addEventListener("resize",n.updateBound,{passive:!0});var o=getScrollParent(e);return function attachToScrollParents(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||attachToScrollParents(getScrollParent(i.parentNode),t,n,r),r.push(i)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(e,t){return getWindow(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function isNumeric(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function setStyles(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&isNumeric(t[n])&&(r="px"),e.style[n]=t[n]+r})}var m=i&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(e,t,n){var r=find(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var A=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],v=A.slice(3);function clockwise(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=v.indexOf(e),r=v.slice(n+1).concat(v.slice(0,n));return t?r.reverse():r}var y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(find(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function toValue(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return getClientRect(s)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){isNumeric(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}var b={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:h({},l,i[l]),end:h({},l,i[l]+i[c]-a[c])};e.offsets.popper=g({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function offset(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=isNumeric(+n)?[+n,0]:parseOffset(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(e,t){var n=t.boundariesElement||getOffsetParent(e.instance.popper);e.instance.reference===n&&(n=getOffsetParent(n));var r=getSupportedPropertyName("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=getBoundaries(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function primary(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),h({},e,n)},secondary:function secondary(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),h({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=g({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function arrow(e,t){var n;if(!isModifierRequired(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",g=getOuterSizes(r)[c];s[p]-g<a[d]&&(e.offsets.popper[d]-=a[d]-(s[p]-g)),s[d]+g>a[p]&&(e.offsets.popper[d]+=s[d]+g-a[p]),e.offsets.popper=getClientRect(e.offsets.popper);var m=s[d]+s[c]/2-g/2,A=getStyleComputedProperty(e.instance.popper),v=parseFloat(A["margin"+u],10),y=parseFloat(A["border"+u+"Width"],10),b=m-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(a[c]-g,b),0),e.arrowElement=r,e.offsets.arrow=(h(n={},d,Math.round(b)),h(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(e,t){if(isModifierEnabled(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=getBoundaries(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=getOppositePlacement(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case y.FLIP:a=[r,o];break;case y.CLOCKWISE:a=clockwise(r);break;case y.COUNTERCLOCKWISE:a=clockwise(r,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=getOppositePlacement(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),A=d(c.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&A,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&m||!y&&"end"===i&&A),w=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&A||!y&&"end"===i&&m),_=b||w;(f||v||_)&&(e.flipped=!0,(f||v)&&(r=a[l+1]),_&&(i=function getOppositeVariation(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=g({},e.offsets.popper,getPopperOffsets(e.instance.popper,e.offsets.reference,e.placement)),e=runModifiers(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=getOppositePlacement(t),e.offsets.popper=getClientRect(o),e}},hide:{order:800,enabled:!0,fn:function hide(e){if(!isModifierRequired(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=find(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=find(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=getOffsetParent(e.instance.popper),l=getBoundingClientRect(s),c={position:o.position},u=function getRoundedOffsets(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function noRound(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2==c%2?i:a:s,p=t?i:s;return{left:f(l%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!m),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=getSupportedPropertyName("transform"),h=void 0,A=void 0;if(A="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,h="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&p)c[p]="translate3d("+h+"px, "+A+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===f?-1:1;c[d]=A*v,c[f]=h*y,c.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=g({},b,e.attributes),e.styles=g({},c,e.styles),e.arrowStyles=g({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(e){return setStyles(e.instance.popper,e.styles),function setAttributes(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&setStyles(e.arrowElement,e.arrowStyles),e},onLoad:function applyStyleOnLoad(e,t,n,r,o){var i=getReferenceOffsets(o,t,e,n.positionFixed),a=computeAutoPlacement(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),setStyles(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},w=function(){function Popper(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=c(this.update.bind(this)),this.options=g({},Popper.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(g({},Popper.Defaults.modifiers,r.modifiers)).forEach(function(e){n.options.modifiers[e]=g({},Popper.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return g({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&isFunction$1(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return p(Popper,[{key:"update",value:function update$$1(){return function update(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=computeAutoPlacement(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=getPopperOffsets(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=runModifiers(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function destroy$$1(){return function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();w.Utils=("undefined"!=typeof window?window:e).PopperUtils,w.placements=A,w.Defaults=b;function _extends$2(){return(_extends$2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _="undefined"!=typeof window&&"undefined"!=typeof document,E=_?navigator.userAgent:"",C=/MSIE |Trident\//.test(E),S=/UCBrowser\//.test(E),T=_&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,x={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function appendTo(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function onHidden(){},onHide:function onHide(){},onMount:function onMount(){},onShow:function onShow(){},onShown:function onShown(){},onTrigger:function onTrigger(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},O=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],k=_?Element.prototype:{},B=k.matches||k.matchesSelector||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector;function arrayFrom(e){return[].slice.call(e)}function closest(e,t){return closestCallback(e,function(e){return B.call(e,t)})}function closestCallback(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}var P={passive:!0},I=4,R="x-placement",L="x-out-of-boundaries",M="tippy-iOS",D="tippy-active",N="tippy-popper",F="tippy-tooltip",U="tippy-content",H="tippy-backdrop",j="tippy-arrow",Q="tippy-roundarrow",z=".".concat(N),$=".".concat(F),V=".".concat(U),G=".".concat(H),W=".".concat(j),K=".".concat(Q),q=!1;function onDocumentTouch(){q||(q=!0,T&&document.body.classList.add(M),window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}var Y=0;function onDocumentMouseMove(){var e=performance.now();e-Y<20&&(q=!1,document.removeEventListener("mousemove",onDocumentMouseMove),T||document.body.classList.remove(M)),Y=e}function onWindowBlur(){var e=document.activeElement;e&&e.blur&&e._tippy&&e.blur()}var X=Object.keys(x);function hasOwnProperty$1(e,t){return{}.hasOwnProperty.call(e,t)}function getValue(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?n:r}return e}function debounce$1(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)};var n}function getModifier(e,t){return e&&e.modifiers&&e.modifiers[t]}function includes(e,t){return e.indexOf(t)>-1}function isRealElement(e){return e instanceof Element}function isSingular(e){return!(!e||!hasOwnProperty$1(e,"isVirtual"))||isRealElement(e)}function invokeWithArgsOrReturn(e,t){return"function"==typeof e?e.apply(null,t):e}function setFlipModifierEnabled(e,t){e.filter(function(e){return"flip"===e.name})[0].enabled=t}function div(){return document.createElement("div")}function setTransitionDuration(e,t){e.forEach(function(e){e&&(e.style.transitionDuration="".concat(t,"ms"))})}function setVisibilityState(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function evaluateProps(e,t){var n=_extends$2({},t,{content:invokeWithArgsOrReturn(t.content,[e])},t.ignoreAttributes?{}:function getDataAttributeOptions(e){return X.reduce(function(t,n){var r=(e.getAttribute("data-tippy-".concat(n))||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{})}(e));return(n.arrow||S)&&(n.animateFill=!1),n}function validateOptions(e,t){Object.keys(e).forEach(function(e){if(!hasOwnProperty$1(t,e))throw new Error("[tippy]: `".concat(e,"` is not a valid option"))})}function setInnerHTML(e,t){e.innerHTML=isRealElement(t)?t.innerHTML:t}function setContent(e,t){if(isRealElement(t.content))setInnerHTML(e,""),e.appendChild(t.content);else if("function"!=typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function getChildren(e){return{tooltip:e.querySelector($),backdrop:e.querySelector(G),content:e.querySelector(V),arrow:e.querySelector(W)||e.querySelector(K)}}function addInertia(e){e.setAttribute("data-inertia","")}function createArrowElement(e){var t=div();return"round"===e?(t.className=Q,setInnerHTML(t,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):t.className=j,t}function createBackdropElement(){var e=div();return e.className=H,e.setAttribute("data-state","hidden"),e}function addInteractive(e,t){e.setAttribute("tabindex","-1"),t.setAttribute("data-interactive","")}function updateTransitionEndListener(e,t,n){var r=S&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";e[t+"EventListener"](r,n)}function getBasicPlacement(e){var t=e.getAttribute(R);return t?t.split("-")[0]:""}function updateTheme(e,t,n){n.split(" ").forEach(function(n){e.classList[t](n+"-theme")})}function createPopperElement(e,t){var n=div();n.className=N,n.id="tippy-".concat(e),n.style.zIndex=""+t.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",t.role&&n.setAttribute("role",t.role);var r=div();r.className=F,r.style.maxWidth=t.maxWidth+("number"==typeof t.maxWidth?"px":""),r.setAttribute("data-size",t.size),r.setAttribute("data-animation",t.animation),r.setAttribute("data-state","hidden"),updateTheme(r,"add",t.theme);var o=div();return o.className=U,o.setAttribute("data-state","hidden"),t.interactive&&addInteractive(n,r),t.arrow&&r.appendChild(createArrowElement(t.arrowType)),t.animateFill&&(r.appendChild(createBackdropElement()),r.setAttribute("data-animatefill","")),t.inertia&&addInertia(r),setContent(o,t),r.appendChild(o),n.appendChild(r),n}function updatePopperElement(e,t,n){var r=getChildren(e),o=r.tooltip,i=r.content,a=r.backdrop,s=r.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-size",n.size),o.setAttribute("data-animation",n.animation),o.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?e.setAttribute("role",n.role):e.removeAttribute("role"),t.content!==n.content&&setContent(i,n),!t.animateFill&&n.animateFill?(o.appendChild(createBackdropElement()),o.setAttribute("data-animatefill","")):t.animateFill&&!n.animateFill&&(o.removeChild(a),o.removeAttribute("data-animatefill")),!t.arrow&&n.arrow?o.appendChild(createArrowElement(n.arrowType)):t.arrow&&!n.arrow&&o.removeChild(s),t.arrow&&n.arrow&&t.arrowType!==n.arrowType&&o.replaceChild(createArrowElement(n.arrowType),s),!t.interactive&&n.interactive?addInteractive(e,o):t.interactive&&!n.interactive&&function removeInteractive(e,t){e.removeAttribute("tabindex"),t.removeAttribute("data-interactive")}(e,o),!t.inertia&&n.inertia?addInertia(o):t.inertia&&!n.inertia&&function removeInertia(e){e.removeAttribute("data-inertia")}(o),t.theme!==n.theme&&(updateTheme(o,"remove",t.theme),updateTheme(o,"add",n.theme))}var J=1,Z=[];function createTippy(e,t){var n,r,o,i,a,s=evaluateProps(e,t);if(!s.multiple&&e._tippy)return null;var l,c,u,d,f=!1,p=!1,h=!1,g=!1,m=[],A=debounce$1(onMouseMove,s.interactiveDebounce),v=J++,y=createPopperElement(v,s),b=getChildren(y),_={id:v,reference:e,popper:y,popperChildren:b,popperInstance:null,props:s,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:clearDelayTimeouts,set:set,setContent:function setContent(e){set({content:e})},show:show,hide:hide,enable:function enable(){_.state.isEnabled=!0},disable:function disable(){_.state.isEnabled=!1},destroy:function destroy(t){if(_.state.isDestroyed)return;p=!0,_.state.isMounted&&hide(0);removeTriggersFromReference(),delete e._tippy;var n=_.props.target;n&&t&&isRealElement(e)&&arrayFrom(e.querySelectorAll(n)).forEach(function(e){e._tippy&&e._tippy.destroy()});_.popperInstance&&_.popperInstance.destroy();p=!1,_.state.isDestroyed=!0}};return e._tippy=_,y._tippy=_,addTriggersToReference(),s.lazy||createPopperInstance(),s.showOnInit&&scheduleShow(),!s.a11y||s.target||function canReceiveFocus(e){return!isRealElement(e)||B.call(e,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!e.hasAttribute("disabled")}(getEventListenersTarget())||getEventListenersTarget().setAttribute("tabindex","0"),y.addEventListener("mouseenter",function(e){_.props.interactive&&_.state.isVisible&&"mouseenter"===n&&scheduleShow(e,!0)}),y.addEventListener("mouseleave",function(){_.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",A)}),_;function removeFollowCursorListener(){document.removeEventListener("mousemove",positionVirtualReferenceNearCursor)}function cleanupInteractiveMouseListeners(){document.body.removeEventListener("mouseleave",scheduleHide),document.removeEventListener("mousemove",A),Z=Z.filter(function(e){return e!==A})}function getEventListenersTarget(){return _.props.triggerTarget||e}function addDocumentClickListener(){document.addEventListener("click",onDocumentClick,!0)}function getTransitionableElements(){return[_.popperChildren.tooltip,_.popperChildren.backdrop,_.popperChildren.content]}function getIsInLooseFollowCursorMode(){var e=_.props.followCursor;return e&&"focus"!==n||q&&"initial"===e}function onTransitionEnd(e,t){var n=_.popperChildren.tooltip;function listener(e){e.target===n&&(updateTransitionEndListener(n,"remove",listener),t())}if(0===e)return t();updateTransitionEndListener(n,"remove",u),updateTransitionEndListener(n,"add",listener),u=listener}function on(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];getEventListenersTarget().addEventListener(e,t,n),m.push({eventType:e,handler:t,options:n})}function addTriggersToReference(){_.props.touchHold&&!_.props.target&&(on("touchstart",onTrigger,P),on("touchend",onMouseLeave,P)),_.props.trigger.trim().split(" ").forEach(function(e){if("manual"!==e)if(_.props.target)switch(e){case"mouseenter":on("mouseover",onDelegateShow),on("mouseout",onDelegateHide);break;case"focus":on("focusin",onDelegateShow),on("focusout",onDelegateHide);break;case"click":on(e,onDelegateShow)}else switch(on(e,onTrigger),e){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(C?"focusout":"blur",onBlur)}})}function removeTriggersFromReference(){m.forEach(function(e){var t=e.eventType,n=e.handler,r=e.options;getEventListenersTarget().removeEventListener(t,n,r)}),m=[]}function positionVirtualReferenceNearCursor(t){var n=r=t,o=n.clientX,i=n.clientY;if(d){var a=closestCallback(t.target,function(t){return t===e}),s=e.getBoundingClientRect(),l=_.props.followCursor,c="horizontal"===l,u="vertical"===l,f=includes(["top","bottom"],getBasicPlacement(y)),p=y.getAttribute(R),h=!!p&&!!p.split("-")[1],g=f?y.offsetWidth:y.offsetHeight,m=g/2,A=f?0:h?g:m,v=f?h?g:m:0;!a&&_.props.interactive||(_.popperInstance.reference=_extends$2({},_.popperInstance.reference,{clientWidth:0,clientHeight:0,getBoundingClientRect:function getBoundingClientRect(){return{width:f?g:0,height:f?0:g,top:(c?s.top:i)-A,bottom:(c?s.bottom:i)+A,left:(u?s.left:o)-v,right:(u?s.right:o)+v}}}),_.popperInstance.update()),"initial"===l&&_.state.isVisible&&removeFollowCursorListener()}}function onTrigger(e){_.state.isEnabled&&!isEventListenerStopped(e)&&(_.state.isVisible||(n=e.type,e instanceof MouseEvent&&(r=e,Z.forEach(function(t){return t(e)}))),"click"===e.type&&!1!==_.props.hideOnClick&&_.state.isVisible?scheduleHide():scheduleShow(e))}function onMouseMove(t){var n=closest(t.target,z)===y,r=closestCallback(t.target,function(t){return t===e});n||r||function isCursorOutsideInteractiveBorder(e,t,n,r){if(!e)return!0;var o=n.clientX,i=n.clientY,a=r.interactiveBorder,s=r.distance,l=t.top-i>("top"===e?a+s:a),c=i-t.bottom>("bottom"===e?a+s:a),u=t.left-o>("left"===e?a+s:a),d=o-t.right>("right"===e?a+s:a);return l||c||u||d}(getBasicPlacement(y),y.getBoundingClientRect(),t,_.props)&&(cleanupInteractiveMouseListeners(),scheduleHide())}function onMouseLeave(e){if(!isEventListenerStopped(e))return _.props.interactive?(document.body.addEventListener("mouseleave",scheduleHide),document.addEventListener("mousemove",A),void Z.push(A)):void scheduleHide()}function onBlur(e){e.target===getEventListenersTarget()&&(_.props.interactive&&e.relatedTarget&&y.contains(e.relatedTarget)||scheduleHide())}function onDelegateShow(e){closest(e.target,_.props.target)&&scheduleShow(e)}function onDelegateHide(e){closest(e.target,_.props.target)&&scheduleHide()}function isEventListenerStopped(e){var t="ontouchstart"in window,n=includes(e.type,"touch"),r=_.props.touchHold;return t&&q&&r&&!n||q&&!r&&n}function runMountCallback(){!g&&c&&(g=!0,function reflow(e){e.offsetHeight}(y),c())}function createPopperInstance(){var t=_.props.popperOptions,n=_.popperChildren,r=n.tooltip,o=n.arrow,i=getModifier(t,"preventOverflow");function applyMutations(e){_.props.flip&&!_.props.flipOnUpdate&&(e.flipped&&(_.popperInstance.options.placement=e.placement),setFlipModifierEnabled(_.popperInstance.modifiers,!1)),r.setAttribute(R,e.placement),!1!==e.attributes[L]?r.setAttribute(L,""):r.removeAttribute(L),l&&l!==e.placement&&h&&(r.style.transition="none",requestAnimationFrame(function(){r.style.transition=""})),l=e.placement,h=_.state.isVisible;var t=getBasicPlacement(y),n=r.style;n.top=n.bottom=n.left=n.right="",n[t]=function getOffsetDistanceInPx(e){return-(e-10)+"px"}(_.props.distance);var o=i&&void 0!==i.padding?i.padding:I,a="number"==typeof o,s=_extends$2({top:a?o:o.top,bottom:a?o:o.bottom,left:a?o:o.left,right:a?o:o.right},!a&&o);s[t]=a?o+_.props.distance:(o[t]||0)+_.props.distance,_.popperInstance.modifiers.filter(function(e){return"preventOverflow"===e.name})[0].padding=s,d=s}var a=_extends$2({eventsEnabled:!1,placement:_.props.placement},t,{modifiers:_extends$2({},t?t.modifiers:{},{preventOverflow:_extends$2({boundariesElement:_.props.boundary,padding:I},i),arrow:_extends$2({element:o,enabled:!!o},getModifier(t,"arrow")),flip:_extends$2({enabled:_.props.flip,padding:_.props.distance+I,behavior:_.props.flipBehavior},getModifier(t,"flip")),offset:_extends$2({offset:_.props.offset},getModifier(t,"offset"))}),onCreate:function onCreate(e){applyMutations(e),runMountCallback(),t&&t.onCreate&&t.onCreate(e)},onUpdate:function onUpdate(e){applyMutations(e),runMountCallback(),t&&t.onUpdate&&t.onUpdate(e)}});_.popperInstance=new w(e,y,a)}function scheduleShow(e,n){if(clearDelayTimeouts(),!_.state.isVisible){if(_.props.target)return function createDelegateChildTippy(e){if(e){var n=closest(e.target,_.props.target);n&&!n._tippy&&createTippy(n,_extends$2({},_.props,{content:invokeWithArgsOrReturn(t.content,[n]),appendTo:t.appendTo,target:"",showOnInit:!0}))}}(e);if(f=!0,e&&!n&&_.props.onTrigger(_,e),_.props.wait)return _.props.wait(_,e);getIsInLooseFollowCursorMode()&&!_.state.isMounted&&(_.popperInstance||createPopperInstance(),document.addEventListener("mousemove",positionVirtualReferenceNearCursor)),addDocumentClickListener();var r=getValue(_.props.delay,0,x.delay);r?o=setTimeout(function(){show()},r):show()}}function scheduleHide(){if(clearDelayTimeouts(),!_.state.isVisible)return removeFollowCursorListener();f=!1;var e=getValue(_.props.delay,1,x.delay);e?i=setTimeout(function(){_.state.isVisible&&hide()},e):a=requestAnimationFrame(function(){hide()})}function onDocumentClick(e){if(!_.props.interactive||!y.contains(e.target)){if(getEventListenersTarget().contains(e.target)){if(q)return;if(_.state.isVisible&&includes(_.props.trigger,"click"))return}!0===_.props.hideOnClick&&(clearDelayTimeouts(),hide())}}function clearDelayTimeouts(){clearTimeout(o),clearTimeout(i),cancelAnimationFrame(a)}function set(t){validateOptions(t=t||{},x),removeTriggersFromReference();var n=_.props,o=evaluateProps(e,_extends$2({},_.props,t,{ignoreAttributes:!0}));o.ignoreAttributes=hasOwnProperty$1(t,"ignoreAttributes")?t.ignoreAttributes||!1:n.ignoreAttributes,_.props=o,addTriggersToReference(),cleanupInteractiveMouseListeners(),A=debounce$1(onMouseMove,o.interactiveDebounce),updatePopperElement(y,n,o),_.popperChildren=getChildren(y),_.popperInstance&&(O.some(function(e){return hasOwnProperty$1(t,e)&&t[e]!==n[e]})?(_.popperInstance.destroy(),createPopperInstance(),_.state.isVisible&&_.popperInstance.enableEventListeners(),_.props.followCursor&&r&&positionVirtualReferenceNearCursor(r)):_.popperInstance.update())}function show(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue(_.props.duration,0,x.duration[1]);if(!_.state.isDestroyed&&_.state.isEnabled&&(!q||_.props.touch)&&!getEventListenersTarget().hasAttribute("disabled")&&!1!==_.props.onShow(_)){addDocumentClickListener(),y.style.visibility="visible",_.state.isVisible=!0,_.props.interactive&&getEventListenersTarget().classList.add(D);var n=getTransitionableElements();setTransitionDuration(n.concat(y),0),c=function currentMountCallback(){if(_.state.isVisible){var e=getIsInLooseFollowCursorMode();e&&r?positionVirtualReferenceNearCursor(r):e||_.popperInstance.update(),_.popperChildren.backdrop&&(_.popperChildren.content.style.transitionDelay=Math.round(t/12)+"ms"),_.props.sticky&&function makeSticky(){setTransitionDuration([y],C?0:_.props.updateDuration),function updatePosition(){_.popperInstance.scheduleUpdate(),_.state.isMounted?requestAnimationFrame(updatePosition):setTransitionDuration([y],0)}()}(),setTransitionDuration([y],_.props.updateDuration),setTransitionDuration(n,t),setVisibilityState(n,"visible"),function onTransitionedIn(e,t){onTransitionEnd(e,t)}(t,function(){_.props.aria&&getEventListenersTarget().setAttribute("aria-".concat(_.props.aria),y.id),_.props.onShown(_),_.state.isShown=!0})}},function mount(){g=!1;var t=getIsInLooseFollowCursorMode();_.popperInstance?(setFlipModifierEnabled(_.popperInstance.modifiers,_.props.flip),t||(_.popperInstance.reference=e,_.popperInstance.enableEventListeners()),_.popperInstance.scheduleUpdate()):(createPopperInstance(),t||_.popperInstance.enableEventListeners());var n=_.props.appendTo,r="parent"===n?e.parentNode:invokeWithArgsOrReturn(n,[e]);r.contains(y)||(r.appendChild(y),_.props.onMount(_),_.state.isMounted=!0)}()}}function hide(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getValue(_.props.duration,1,x.duration[1]);if(!_.state.isDestroyed&&(_.state.isEnabled||p)&&(!1!==_.props.onHide(_)||p)){!function removeDocumentClickListener(){document.removeEventListener("click",onDocumentClick,!0)}(),y.style.visibility="hidden",_.state.isVisible=!1,_.state.isShown=!1,h=!1,_.props.interactive&&getEventListenersTarget().classList.remove(D);var t=getTransitionableElements();setTransitionDuration(t,e),setVisibilityState(t,"hidden"),function onTransitionedOut(e,t){onTransitionEnd(e,function(){!_.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&t()})}(e,function(){f||removeFollowCursorListener(),_.props.aria&&getEventListenersTarget().removeAttribute("aria-".concat(_.props.aria)),_.popperInstance.disableEventListeners(),_.popperInstance.options.placement=_.props.placement,y.parentNode.removeChild(y),_.props.onHidden(_),_.state.isMounted=!1})}}}var ee=!1;function tippy(e,t){validateOptions(t||{},x),ee||(!function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouch,P),window.addEventListener("blur",onWindowBlur)}(),ee=!0);var n=_extends$2({},x,t);(function isBareVirtualElement(e){return"[object Object]"==={}.toString.call(e)&&!e.addEventListener})(e)&&function polyfillElementPrototypeProperties(e){var t={isVirtual:!0,attributes:e.attributes||{},contains:function contains(){},setAttribute:function setAttribute(t,n){e.attributes[t]=n},getAttribute:function getAttribute(t){return e.attributes[t]},removeAttribute:function removeAttribute(t){delete e.attributes[t]},hasAttribute:function hasAttribute(t){return t in e.attributes},addEventListener:function addEventListener(){},removeEventListener:function removeEventListener(){},classList:{classNames:{},add:function add(t){e.classList.classNames[t]=!0},remove:function remove(t){delete e.classList.classNames[t]},contains:function contains(t){return t in e.classList.classNames}}};for(var n in t)e[n]=t[n]}(e);var r=function getArrayOfElements(e){if(isSingular(e))return[e];if(e instanceof NodeList)return arrayFrom(e);if(Array.isArray(e))return e;try{return arrayFrom(document.querySelectorAll(e))}catch(e){return[]}}(e).reduce(function(e,t){var r=t&&createTippy(t,n);return r&&e.push(r),e},[]);return isSingular(e)?r[0]:r}tippy.version="4.3.4",tippy.defaults=x,tippy.setDefaults=function(e){Object.keys(e).forEach(function(t){x[t]=e[t]})},tippy.hideAll=function hideAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.exclude,n=e.duration;arrayFrom(document.querySelectorAll(z)).forEach(function(e){var r=e._tippy;if(r){var o=!1;t&&(o=function isReferenceElement(e){return!!e._tippy&&!B.call(e,z)}(t)?r.reference===t:e===t.popper),o||r.hide(n)}})},tippy.group=function group(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?e[0].props.delay:n,o=t.duration,i=void 0===o?0:o,a=!1;function setIsAnyTippyOpen(e){a=e,updateInstances()}function onShow(t){t._originalProps.onShow(t),e.forEach(function(e){e.set({duration:i}),e.state.isVisible&&e.hide()}),setIsAnyTippyOpen(!0)}function onHide(e){e._originalProps.onHide(e),setIsAnyTippyOpen(!1)}function onShown(e){e._originalProps.onShown(e),e.set({duration:e._originalProps.duration})}function updateInstances(){e.forEach(function(e){e.set({onShow:onShow,onShown:onShown,onHide:onHide,delay:a?[0,Array.isArray(r)?r[1]:r]:r,duration:a?i:e._originalProps.duration})})}e.forEach(function(e){e._originalProps?e.set(e._originalProps):e._originalProps=_extends$2({},e.props)}),updateInstances()},_&&setTimeout(function autoInit(){arrayFrom(document.querySelectorAll("[data-tippy]")).forEach(function(e){var t=e.getAttribute("data-tippy");t&&tippy(e,{content:t})})}),function injectCSS(e){if(_){var t=document.createElement("style");t.type="text/css",t.textContent=e,t.setAttribute("data-tippy-stylesheet","");var n=document.head,r=n.firstChild;r?n.insertBefore(t,r):n.appendChild(t)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px) rotateX(0);transform:perspective(700px) translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(60deg);transform:perspective(700px) translateY(0) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px) rotateX(0);transform:perspective(700px) translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateY(0) rotateX(-60deg);transform:perspective(700px) translateY(0) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px) rotateY(0);transform:perspective(700px) translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(-60deg);transform:perspective(700px) translateX(0) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px) rotateY(0);transform:perspective(700px) translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) translateX(0) rotateY(60deg);transform:perspective(700px) translateX(0) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=visible]{opacity:1}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');var te="Using the attachment feature of Shepherd requires the Tippy.js library",ne={enabled:!0,fn:function fn(e){return e.instance.popper.classList.add("shepherd-popper"),e}},re={computeStyle:{enabled:!0,fn:function fn(e){return e.styles=_extends({},e.styles,{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),e}},addShepherdClass:ne},oe={positionFixed:!0,modifiers:{addShepherdClass:ne}};function createFromHTML(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function setupTooltip(){if(isUndefined(tippy))throw new Error(te);this.tooltip&&this.tooltip.destroy();var e=this.parseAttachTo();this.tooltip=function _makeTippyInstance(e){if(!e.element)return function _makeCenteredTippy(){var e=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,n[t])})}return e}({content:this.el,placement:"top"},this.options.tippyOptions);e.arrow=!1,e.popperOptions=e.popperOptions||{};var t=_extends({},oe,e.popperOptions,{modifiers:_extends(re,e.popperOptions.modifiers)});return e.popperOptions=t,tippy(document.body,e)}.call(this);var t=function _makeAttachedTippyOptions(e){var t={content:this.el,flipOnUpdate:!0,placement:e.on||"right"};if(_extends(t,this.options.tippyOptions),this.options.title){var n=t.theme;t.theme=n?"".concat(n," shepherd-has-title"):"shepherd-has-title"}this.options.tippyOptions&&this.options.tippyOptions.popperOptions&&_extends(oe,this.options.tippyOptions.popperOptions);return t.popperOptions=oe,t}.call(this,e);return tippy(e.element,t)}.call(this,e),this.target=e.element||document.body,this.el.classList.add("shepherd-element")}function parseAttachTo(){var e=function _parseAttachToOpts(e){if(n(e))return e.hasOwnProperty("element")&&e.hasOwnProperty("on")?e:null;var t=/^(.+) ((auto|top|left|right|bottom)(-start|-end)?)$/.exec(e);return t?{element:t[1],on:t[2]}:null}(this.options.attachTo)||{},t=_extends({},e);if(isString(e.element)){try{t.element=document.querySelector(e.element)}catch(e){}t.element||console.error("The element for this Shepherd step was not found ".concat(e.element))}return t}var ie=function(){function Evented(){_classCallCheck(this,Evented)}return _createClass(Evented,[{key:"on",value:function on(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];isUndefined(this.bindings)&&(this.bindings={}),isUndefined(this.bindings[e])&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function once(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function off(e,t){var n=this;if(isUndefined(this.bindings)||isUndefined(this.bindings[e]))return!1;isUndefined(t)?delete this.bindings[e]:this.bindings[e].forEach(function(r,o){r.handler===t&&n.bindings[e].splice(o,1)})}},{key:"trigger",value:function trigger(e){var t=this;if(!isUndefined(this.bindings)&&this.bindings[e]){var n=function drop(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Array.isArray(e)?e.slice(t):[]}(Array.prototype.slice.call(arguments));this.bindings[e].forEach(function(r,o){var i=r.ctx,a=r.handler,s=r.once,l=i||t;a.apply(l,n),s&&t.bindings[e].splice(o,1)})}}}]),Evented}(),ae="[object Object]";var se=Function.prototype,le=Object.prototype,ce=se.toString,ue=le.hasOwnProperty,de=ce.call(Object),fe=le.toString,pe=function overArg(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);function isObjectLike$1(e){return!!e&&"object"==typeof e}var he=function isElement(e){return!!e&&1===e.nodeType&&isObjectLike$1(e)&&!function isPlainObject(e){if(!isObjectLike$1(e)||fe.call(e)!=ae||function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=pe(e);if(null===t)return!0;var n=ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==de}(e)};function bindAdvance(){var e=function parseShorthand(e,t){if(null===e||isUndefined(e))return e;if(n(e))return e;var r=e.split(" ");return o(t,r)}(this.options.advanceOn,["selector","event"]),t=e.event,r=e.selector,i=function _setupAdvanceOnHandler(e){var t=this;return function(n){if(t.isOpen()){var r=t.el&&n.target===t.el;(!isUndefined(e)&&n.target.matches(e)||r)&&t.tour.next()}}}.call(this,r),a=document.querySelector(r);!isUndefined(r)&&a?a.addEventListener(t,i):document.body.addEventListener(t,i,!0),this.on("destroy",function(){return document.body.removeEventListener(t,i,!0)})}function bindMethods(e){var t=this;e.map(function(e){t[e]=t[e].bind(t)})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var ge=function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){!function(){e.exports={polyfill:function polyfill(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var n=e.HTMLElement||e.Element,r=468,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||scrollElement,scrollIntoView:n.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=function isMicrosoftBrowser(e){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)}(e.navigator.userAgent)?1:0;e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?smoothScroll.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(shouldBailOut(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):smoothScroll.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==shouldBailOut(arguments[0])){var e=arguments[0].left,t=arguments[0].top;smoothScroll.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==shouldBailOut(arguments[0])){var n=function findScrollableParent(e){for(;e!==t.body&&!1===isScrollable(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),i=this.getBoundingClientRect();n!==t.body?(smoothScroll.call(this,n,n.scrollLeft+i.left-r.left,n.scrollTop+i.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function scrollElement(e,t){this.scrollLeft=e,this.scrollTop=t}function shouldBailOut(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function canOverflow(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function isScrollable(e){var t=hasScrollableSpace(e,"Y")&&canOverflow(e,"Y"),n=hasScrollableSpace(e,"X")&&canOverflow(e,"X");return t||n}function step(t){var n,o,a,s=(i()-t.startTime)/r;n=function ease(e){return.5*(1-Math.cos(Math.PI*e))}(s=s>1?1:s),o=t.startX+(t.x-t.startX)*n,a=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,o,a),o===t.x&&a===t.y||e.requestAnimationFrame(step.bind(e,t))}function smoothScroll(n,r,a){var s,l,c,u,d=i();n===t.body?(s=e,l=e.scrollX||e.pageXOffset,c=e.scrollY||e.pageYOffset,u=o.scroll):(s=n,l=n.scrollLeft,c=n.scrollTop,u=scrollElement),step({scrollable:s,method:u,startTime:d,startX:l,startY:c,x:r,y:a})}}}}()});ge.polyfill;ge.polyfill();var me,Ae=(me=0,function(){return++me}),ve=function(e){function Step(e,t){var n;return _classCallCheck(this,Step),(n=_possibleConstructorReturn(this,_getPrototypeOf(Step).call(this,e,t))).tour=e,bindMethods.call(_assertThisInitialized(n),["_show","cancel","complete","destroy","hide","isOpen","scrollTo","setupElements","show"]),n.setOptions(t),n.bindAdvance=bindAdvance.bind(_assertThisInitialized(n)),n.bindButtonEvents=function bindButtonEvents(e,t){var n=this;e.events=e.events||{},isUndefined(e.action)||(e.events.click=e.action),e.events&&Object.entries(e.events).forEach(function(e){var r=_slicedToArray(e,2),o=r[0],i=r[1];if(isString(i)){var a=i;i=function handler(){return n.tour.show(a)}}t.dataset.buttonEvent=!0,t.addEventListener(o,i),n.on("destroy",function(){t.removeAttribute("data-button-event"),t.removeEventListener(o,i)})})}.bind(_assertThisInitialized(n)),n.bindCancelLink=function bindCancelLink(e){var t=this;e.addEventListener("click",function(e){e.preventDefault(),t.cancel()})}.bind(_assertThisInitialized(n)),n.setupTooltip=setupTooltip.bind(_assertThisInitialized(n)),n.parseAttachTo=parseAttachTo.bind(_assertThisInitialized(n)),_possibleConstructorReturn(n,_assertThisInitialized(n))}return _inherits(Step,ie),_createClass(Step,[{key:"_addButtons",value:function _addButtons(e){var t=this;if(Array.isArray(this.options.buttons)&&this.options.buttons.length){var n=document.createElement("footer"),r=createFromHTML('<ul class="shepherd-buttons"></ul>');n.classList.add("shepherd-footer"),this.options.buttons.map(function(e){var n=createFromHTML('<li><a class="shepherd-button '.concat(e.classes||"",'" tabindex="0">').concat(e.text,"</a>"));r.appendChild(n),t.bindButtonEvents(e,n.querySelector("a"))}),n.appendChild(r),e.appendChild(n)}}},{key:"_addCancelLink",value:function _addCancelLink(e,t){if(this.options.showCancelLink){var n=createFromHTML('<a href class="shepherd-cancel-link"></a>');t.appendChild(n),e.classList.add("shepherd-has-cancel-link"),this.bindCancelLink(n)}}},{key:"_addContent",value:function _addContent(e){var t=createFromHTML('<div class="shepherd-text"></div>'),n=this.options.text;isFunction(n)&&(n=n.call(this,t)),n instanceof HTMLElement?t.appendChild(n):(isString(n)&&(n=[n]),n.map(function(e){t.innerHTML+="<p>".concat(e,"</p>")})),e.appendChild(t)}},{key:"_createTooltipContent",value:function _createTooltipContent(){var e=document.createElement("div"),t=this.options.classes||"",n=createFromHTML('<div class="'.concat(t,'" data-shepherd-step-id="').concat(this.id,'">')),r=document.createElement("header");if(this.options.title){var o=document.createElement("h3");o.classList.add("shepherd-title"),o.innerHTML="".concat(this.options.title),r.appendChild(o),n.classList.add("shepherd-has-title")}return e.classList.add("shepherd-content"),r.classList.add("shepherd-header"),n.appendChild(e),e.appendChild(r),isUndefined(this.options.text)||this._addContent(e),this._addButtons(e),this._addCancelLink(n,r),n}},{key:"getTour",value:function getTour(){return this.tour}},{key:"cancel",value:function cancel(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function complete(){this.tour.complete(),this.trigger("complete")}},{key:"destroy",value:function destroy(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),he(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this.target&&this._updateStepTargetOnHide(),this.trigger("destroy")}},{key:"hide",value:function hide(){this.tour.modal.hide(),this.trigger("before-hide"),document.body.removeAttribute("data-shepherd-step"),this.target&&this._updateStepTargetOnHide(),this.tooltip&&this.tooltip.hide(),this.trigger("hide")}},{key:"isOpen",value:function isOpen(){return Boolean(this.tooltip&&this.tooltip.state&&this.tooltip.state.isVisible)}},{key:"setupElements",value:function setupElements(){isUndefined(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&this.bindAdvance(),this.setupTooltip()}},{key:"scrollTo",value:function scrollTo(e){var t=this.parseAttachTo().element;isFunction(this.options.scrollToHandler)?this.options.scrollToHandler(t):he(t)&&t.scrollIntoView(e)}},{key:"setOptions",value:function setOptions(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t;var n=this.options.when;this.destroy(),this.id=this.options.id||"step-".concat(Ae()),n&&Object.entries(n).forEach(function(t){var n=_slicedToArray(t,2),r=n[0],o=n[1];e.on(r,o,e)})}},{key:"show",value:function show(){var e=this;if(isFunction(this.options.beforeShowPromise)){var t=this.options.beforeShowPromise();if(!isUndefined(t))return t.then(function(){return e._show()})}this._show()}},{key:"_show",value:function _show(){var e=this;this.tour.beforeShowStep(this),this.trigger("before-show"),this.el||this.setupElements(),this.target.classList.add("shepherd-enabled","shepherd-target"),document.body.setAttribute("data-shepherd-step",this.id),this.options.scrollTo&&setTimeout(function(){e.scrollTo(e.options.scrollTo)}),this.tooltip.show(),this.trigger("show")}},{key:"_updateStepTargetOnHide",value:function _updateStepTargetOnHide(){this.options.highlightClass&&this.target.classList.remove(this.options.highlightClass),this.target.classList.remove("shepherd-enabled","shepherd-target")}}]),Step}(),ye="http://www.w3.org/2000/svg",be={modalOverlay:"shepherdModalOverlayContainer",modalOverlayMask:"shepherdModalMask",modalOverlayMaskRect:"shepherdModalMaskRect",modalOverlayMaskOpening:"shepherdModalMaskOpening"},we={isVisible:"shepherd-modal-is-visible",modalTarget:"shepherd-modal-target"};function createModalOverlay(){var e=function _createModalContainer(){var e=document.createElementNS(ye,"svg");return e.setAttributeNS(null,"id",be.modalOverlay),e}(),t=document.createElementNS(ye,"defs"),n=function _createMaskContainer(){var e=document.createElementNS(ye,"mask");return _setAttributes(e,{height:"100%",id:be.modalOverlayMask,width:"100%",x:"0",y:"0"}),e}(),r=function _createMaskRect(){var e=document.createElementNS(ye,"rect");return _setAttributes(e,{fill:"#FFFFFF",height:"100%",id:be.modalOverlayMaskRect,width:"100%",x:"0",y:"0"}),e}(),o=function _createMaskOpening(){var e=document.createElementNS(ye,"rect");return _setAttributes(e,{fill:"#000000",id:be.modalOverlayMaskOpening}),e}(),i=function _createMaskConsumer(){var e=document.createElementNS(ye,"rect");return _setAttributes(e,{height:"100%",width:"100%",x:"0",y:"0"}),e.setAttribute("mask","url(#".concat(be.modalOverlayMask,")")),e}();return n.appendChild(r),n.appendChild(o),t.appendChild(n),e.appendChild(t),e.appendChild(i),e}function positionModalOpening(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.getBoundingClientRect&&t instanceof SVGElement){var r=e.getBoundingClientRect(),o=r.x,i=r.y,a=r.width,s=r.height,l=r.left,c=r.top;_setAttributes(t,{x:(o||l)-n,y:(i||c)-n,width:a+2*n,height:s+2*n})}}function preventModalBodyTouch(e){e.preventDefault()}function preventModalOverlayTouch(e){e.stopPropagation()}function _setAttributes(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function getElementForStep(e){var t=e.options.attachTo;if(!t)return null;var n=_typeof(t);return"string"===n?function getElementFromString(e){var t=_slicedToArray(e.split(" "),1)[0];return document.querySelector(t)}(t):"object"===n?function getElementFromObject(e){var t=e.element;return t instanceof HTMLElement?t:document.querySelector(t)}(t):null}var _e="Expected a function";var Ee=Math.max;var Ce=function baseRest(e,t){return t=Ee(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Ee(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(function(e,t){return function baseDelay(e,t,n){if("function"!=typeof e)throw new TypeError(_e);return setTimeout(function(){e.apply(void 0,n)},t)}(e,1,t)}),Se=function(){function Modal(e){return _classCallCheck(this,Modal),this.createModalOverlay(),this.options=e,this}return _createClass(Modal,[{key:"cleanup",value:function cleanup(){var e=this;Ce(function(){var t=e._modalOverlayElem;t&&t instanceof SVGElement&&t.parentNode.removeChild(t),e._modalOverlayElem=null,document.body.classList.remove(we.isVisible)})}},{key:"createModalOverlay",value:function createModalOverlay$1(){this._modalOverlayElem||(this._modalOverlayElem=createModalOverlay(),this._modalOverlayOpening=function getModalMaskOpening(e){return e.querySelector("#".concat(be.modalOverlayMaskOpening))}(this._modalOverlayElem),this.hide(),document.body.appendChild(this._modalOverlayElem))}},{key:"hide",value:function hide(){document.body.classList.remove(we.isVisible),this._modalOverlayElem&&(this._modalOverlayElem.style.display="none")}},{key:"setupForStep",value:function setupForStep(e){this.options.useModalOverlay?(this._styleForStep(e),this.show()):this.hide()}},{key:"show",value:function show(){document.body.classList.add(we.isVisible),this._modalOverlayElem&&(this._modalOverlayElem.style.display="block")}},{key:"_styleForStep",value:function _styleForStep(e){var t=this._modalOverlayOpening,n=getElementForStep(e),r=e.options.modalOverlayOpeningPadding;n?(positionModalOpening(n,t,r),this._onScreenChange=function debounce$2(e,t,n){var r;return function(){var o=this,i=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function later(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}}(positionModalOpening.bind(this,n,t,r),0),function addStepEventListeners(){"function"==typeof this._onScreenChange&&(window.removeEventListener("resize",this._onScreenChange,!1),window.removeEventListener("scroll",this._onScreenChange,!0)),window.addEventListener("resize",this._onScreenChange,!1),window.addEventListener("scroll",this._onScreenChange,!0);var e=document.querySelector("#".concat(be.modalOverlay));window.addEventListener("touchmove",preventModalBodyTouch,{passive:!1}),e&&e.addEventListener("touchmove",preventModalOverlayTouch,!1)}.call(this)):function closeModalOpening(e){e&&e instanceof SVGElement&&_setAttributes(e,{height:"0",x:"0",y:"0",width:"0"})}(this._modalOverlayOpening)}}]),Modal}(),Te={trigger:"manual",arrow:!0,animation:"fade",duration:420,flip:!0,animateFill:!1,interactive:!0,hideOnClick:"toggle",multiple:!0};var xe=function(){var e=0;return function(){return++e}}(),Oe=new ie,ke=function(e){function Tour(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Tour),e=_possibleConstructorReturn(this,_getPrototypeOf(Tour).call(this,t)),bindMethods.call(_assertThisInitialized(e),["back","cancel","complete","hide","next"]),e.options=t,e.steps=e.options.steps||[];return["active","cancel","complete","inactive","show","start"].map(function(t){var n;n=t,e.on(n,function(t){(t=t||{}).tour=_assertThisInitialized(e),Oe.trigger(n,t)})}),e.modal=new Se(t),e._setTooltipDefaults(),e._setTourID(),_possibleConstructorReturn(e,_assertThisInitialized(e))}return _inherits(Tour,ie),_createClass(Tour,[{key:"addStep",value:function addStep(e,t){var n,r;return isUndefined(t)?r=e:(n=e,r=t),r instanceof ve?r.tour=this:r=this.setupStep(r,n),this.steps.push(r),r}},{key:"back",value:function back(){var e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}},{key:"cancel",value:function cancel(){if(this.options.confirmCancel){var e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(e)&&this.done("cancel")}else this.done("cancel")}},{key:"complete",value:function complete(){this.done("complete")}},{key:"done",value:function done(e){Array.isArray(this.steps)&&this.steps.forEach(function(e){return e.destroy()}),function cleanupStepEventListeners(){"function"==typeof this._onScreenChange&&(window.removeEventListener("resize",this._onScreenChange,!1),window.removeEventListener("scroll",this._onScreenChange,!1),this._onScreenChange=null),window.removeEventListener("touchmove",preventModalBodyTouch,{passive:!1})}.call(this),function cleanupSteps(e){e&&e.steps.forEach(function(e){if(e.options&&!1===e.options.canClickTarget&&e.options.attachTo){var t=getElementForStep(e);t instanceof HTMLElement&&(t.style.pointerEvents="auto")}})}(this.tourObject),this.modal.cleanup(),this.trigger(e),Oe.activeTour=null,this._removeBodyAttrs(),this.trigger("inactive",{tour:this})}},{key:"getById",value:function getById(e){return this.steps.find(function(t){return t.id===e})}},{key:"getCurrentStep",value:function getCurrentStep(){return this.currentStep}},{key:"hide",value:function hide(){var e=this.getCurrentStep();if(e)return e.hide()}},{key:"isActive",value:function isActive(){return Oe.activeTour===this}},{key:"next",value:function next(){var e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}},{key:"removeStep",value:function removeStep(e){var t=this,n=this.getCurrentStep();this.steps.some(function(n,r){if(n.id===e)return n.isOpen()&&n.hide(),n.destroy(),t.steps.splice(r,1),!0}),n&&n.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}},{key:"setupStep",value:function setupStep(e,t){return(isString(t)||function isNumber(e){return"number"==typeof e}(t))&&(e.id=t.toString()),e=_extends({},this.options.defaultStepOptions,e),new ve(this,e)}},{key:"beforeShowStep",value:function beforeShowStep(e){this.modal.setupForStep(e),this._styleTargetElementForStep(e)}},{key:"show",value:function show(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=isString(e)?this.getById(e):this.steps[e];n&&(this._updateStateBeforeShow(),isFunction(n.options.showOn)&&!n.options.showOn()?this._skipStep(n,t):(this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep=n,n.show()))}},{key:"start",value:function start(){this.trigger("start"),this.currentStep=null,this._setupActiveTour(),this.next()}},{key:"_setupActiveTour",value:function _setupActiveTour(){this.modal.createModalOverlay(),this._addBodyAttrs(),this.trigger("active",{tour:this}),Oe.activeTour=this}},{key:"_styleTargetElementForStep",value:function _styleTargetElementForStep(e){var t=getElementForStep(e);t&&(!function toggleShepherdModalClass(e){var t=document.querySelector("".concat(we.modalTarget));t&&t.classList.remove(we.modalTarget),e.classList.add(we.modalTarget)}(t),e.options.highlightClass&&t.classList.add(e.options.highlightClass),!1===e.options.canClickTarget&&(t.style.pointerEvents="none"))}},{key:"_skipStep",value:function _skipStep(e,t){var n=this.steps.indexOf(e),r=t?n+1:n-1;this.show(r,t)}},{key:"_setTooltipDefaults",value:function _setTooltipDefaults(){tippy.setDefaults(Te)}},{key:"_updateStateBeforeShow",value:function _updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}},{key:"_setTourID",value:function _setTourID(){var e=this.options.tourName||"tour",t=xe();this.id="".concat(e,"--").concat(t)}},{key:"_addBodyAttrs",value:function _addBodyAttrs(){document.body.setAttribute("data-shepherd-active-tour",this.id),document.body.classList.add("shepherd-active")}},{key:"_removeBodyAttrs",value:function _removeBodyAttrs(){document.body.removeAttribute("data-shepherd-active-tour"),document.body.classList.remove("shepherd-active")}}]),Tour}();_extends(Oe,{Tour:ke,Step:ve,Evented:ie}),t.a=Oe}).call(this,n(71))},function(e,t,n){"use strict";(function(e){var r=n(550),o=n.n(r),i=n(464),a=n.n(i),s=n(1),c=n(0),u=n(13),d=n(55),f=n(11),p=n(736),h=n(741),g=n(5),m=n(3),A=n(41);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var v=function(t){function EmailView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailView),_possibleConstructorReturn(this,_getPrototypeOf(EmailView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailView,u["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(EmailView,[{key:"initialize",value:function initialize(){this.isLoaded=!1,this._startListening()}},{key:"_startListening",value:function _startListening(){var e=this;this.listenTo(this.model.sections,"add",this.onSectionAdd),c.a.subscribe(s.f.SECTION_DRAG_START,function(){e.editorZoomIn()}),this.listenTo(this.model.sections,"add",function(t){e.editorZoomOut(t)}),c.a.subscribe(s.f.SECTION_DRAG_END,function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(t,n){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:n.changed_position&&Builder.find("Email.model.snapshot").createNewSnapshot([{element:"section",message:"Section changed position",section_uuid:n.event.item.dataset.uuid}]),e.editorZoomOut(n);case 2:case"end":return t.stop()}},_callee)}));return function(e,n){return t.apply(this,arguments)}}()),c.a.subscribe(s.e.LOADED,function(){e.render()})}},{key:"updateStyles",value:function updateStyles(){var e=this.getIframe(".content-wrapper-tr").contents();e.detach(),this.getIframe("body").html(a()(Object(d.a)(this.model.currentTheme,{emailContentBackgroundColor:this.model.theme.attributes.data.Section.contentBackgroundColor}))),"transparent"===this.model.currentTheme.backgroundColor&&(this.model.currentTheme.backgroundColor="#ffffff"),this.getIframe("body").css("background-color",this.model.currentTheme.backgroundColor),this.getIframe(".content-wrapper-tr").html(e)}},{key:"onSectionAdd",value:function onSectionAdd(e){var t=e.view;return this.getIframe(".contentWrapper").insertAt(e.get("position"),t.render().el),t.$el.animateCss("zoomIn",null,200),e}},{key:"_preventIframeEvents",value:function _preventIframeEvents(){this.getIframeWindow().addEventListener("drop",function(e){e.preventDefault()}),this.getIframeWindow().addEventListener("dragover",function(e){e.preventDefault()}),this.getIframeWindow().addEventListener("click",function(e){c.a.publish(s.c.IFRAME,e)}),e(this.getIframeWindow()).on("click .browser-preview-unsubscribe-section-link",function(e){e.preventDefault()})}},{key:"render",value:function render(){var t=this;if(this.isLoaded)return this._renderSections(),this;this.isLoaded=!0;var n=e(o()(this.model.toJSON()));return n.on("load",function(){t.getIframe("body").html(a()(t.model.currentTheme)),t._listenToTheme(),t._preventIframeEvents(),t._renderSections()}),this.$el.html(n),this}},{key:"_listenToTheme",value:function _listenToTheme(){var e=this;c.a.subscribe(s.p.EDIT.EMAIL,function(){e.updateStyles()}),c.a.subscribe(s.p.CHANGED.ALL,function(){e.updateStyles()})}},{key:"_renderSections",value:function _renderSections(){var e=[];return this.model.sections.length>0?(window.Builder.hideLoader(),this.model.sections.each(function(t){e.push(t.view.render().el)}),this.getIframe(".contentWrapper").html(e).animateCss("fadeIn"),this.initEmailSectionsSortable(),c.a.publish(s.d.SECTIONS.READY,this),this.model.showTour()):this.model.sections.add({data:{align:"center",width:"640px",position:0,contentBackgroundColor:"transparent",backgroundColor:"transparent",backgroundUrl:"",backgroundSize:"cover",backgroundRepeat:"repeat",backgroundType:"content",paddingLeft:"15px",paddingTop:"30px",paddingRight:"15px",paddingBottom:"30px",html:"",breakOnMobile:!0,columnSpacing:"10px 0",columnVerticalAlign:"top",hideOnMobile:!1,columnCount:1,elements:[],columns:[{position:1,className:"sender-6-col",type:"Column"},{position:2,className:"sender-3-col",type:"Column"},{position:3,className:"sender-3-col",type:"Column"}]}},{}),this.getIframe("body").css("background-color",this.model.currentTheme.backgroundColor),this}},{key:"getSortable",value:function getSortable(){var e=this,t=this.getIframeWindow().Sortable;return new Promise(function(n){void 0===t?setTimeout(function(){n(e.getSortable())},100):n(t)})}},{key:"initEmailSectionsSortable",value:function initEmailSectionsSortable(){var t=this,n=window,r=this;this.getSortable().then(function(o){new o(t.getIframe(".contentWrapper")[0],Object(d.a)({},A.b,{handle:".dragMe",group:{name:"sections"},scroll:r.getIframeWindow().document.documentElement,draggable:".section",dataIdAttr:"data-uuid",store:{get:function get(e){return Object(f.a)(r,"model.sections.models",[])},set:function set(e){r.model.sections.updatePositions(e.toArray())}},setData:function setData(e,t){e.setData("Text",t.textContent);var r=n.document.querySelector(".section-t-".concat(t.dataset.columns));r&&e.setDragImage(r,0,0)},onStart:function onStart(e){c.a.publish(s.f.SECTION_DRAG_START,{event:e,model:r,sortable:this})},onEnd:function onEnd(e){c.a.publish(s.f.SECTION_DRAG_END,{event:e,model:r,sortable:this,changed_position:e.oldIndex!==e.newIndex})},onAdd:function onAdd(t){var o=n.Builder.find("ContentLibrary.templates",null),i=o.get(Object(f.a)(t,"item.dataset.sectionid"),null);if(!o||!i)return r.sectionCreateError(t,this);e(t.item).remove();var a=Object(p.a)(i.toJSON(),m.a.removeIds),l=r.model.sections.add(a,{at:t.newIndex});l.section_template_id=i.id,l.updateElements(),Object(h.a)(l.get("data.elements"))&&c.a.publish(s.l.TAB_CHANGE,{index:0,sidebar:"SectionContent"}),2!=l.attributes.category_id&&setTimeout(function(){Builder.find("Email.model.snapshot").createNewSnapshot([{element:"section",message:a.title+" section was added to email",section_uuid:a.uuid}])},500),c.a.publish(s.f.SECTION_DRAG_END,{event:t,model:r,sortable:this}),r.model.sections.updatePositions(this.toArray())}}))})}},{key:"sectionCreateError",value:function sectionCreateError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g.a.toast({type:null,title:l("Could not add section")}),c.a.publish(s.f.SECTION_DRAG_END,{event:e,model:this,sortable:t})}},{key:"getIframe",value:function getIframe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.iframe.contents().find(e):this.iframe.contents()}},{key:"getIframeWindow",value:function getIframeWindow(){return this.iframe[0].contentWindow}},{key:"editorZoomIn",value:function editorZoomIn(){var t=window.Builder.find("Email.view").getIframeWindow().document,n=e("html, body",t,"html").get(0),r=e(n,"html").find("table").get(0),o=e(n).scrollTop(),i=e(n).get(0).scrollHeight;this.model.set("initialScrollTopPx",o),this.model.set("initialScrollHeightPx",i),this.model.set("initialScrollPercentage",this.editorPixelsToPercent(o,i));var a=.5*i;this.model.set("minimizedScrollHeightPx",a),e(r).removeClass("emailZoomIn").addClass("emailZoomOut");var s=this.editorPercentToPixels(this.model.get("initialScrollPercentage"),this.model.get("minimizedScrollHeightPx"));e("html, body",t).animate({scrollTop:s},0,"linear")}},{key:"editorPixelsToPercent",value:function editorPixelsToPercent(e,t){var n=e/t*100;return this.model.set("scrollPositionPercent",n),n}},{key:"editorPercentToPixels",value:function editorPercentToPixels(e,t){return t*(e/100)}},{key:"editorZoomOut",value:function editorZoomOut(t){var n=window.Builder.find("Email.view").getIframeWindow().document,r=e("html, body",n,"html").get(0),o=e(r,"html").find("table").get(0);if(e(o).removeClass("emailZoomOut").addClass("emailZoomIn"),void 0!==t.event&&void 0===t.view){if(""!==t.event.item.id){t.event.item.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"});var i=n.children[0].clientHeight,a=this.prevSiblings(t.event.item,0);e("html, body",n).animate({scrollTop:a-i/2},0,"linear")}}else{t.view.el.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"});var s=n.children[0].clientHeight,l=this.prevSiblings(t.view.el,0);e("html, body",n).animate({scrollTop:l-s/2},0,"linear")}}},{key:"prevSiblings",value:function prevSiblings(e,t){return t+=e.clientHeight,null===e.previousElementSibling?t:this.prevSiblings(e.previousElementSibling,t)}},{key:"iframe",get:function get(){return this.$("#email-frame")}}]),EmailView}();t.a=v}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'<iframe id="email-frame" src="'+s((n.global||t&&t.global||a).call(i,"IFRAME_URL","/iframe.html",{name:"global",hash:{},data:o}))+'" class="se-email-iframe" frameborder="0"></iframe>\n<div style="position: absolute;left: -1000px;z-index: -10;bottom: 0;">\n    <div class="section-t section-t-1" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/one-section.png)"></div>\n    <div class="section-t section-t-2" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/two-section.png)"></div>\n    <div class="section-t section-t-3" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/three-section.png)"></div>\n    <div class="section-t section-t-4" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/four-section.png)"></div>\n    <div class="section-t section-t-6" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/one-section.png)"></div>\n    <div class="section-t section-t-7" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/one-section.png)"></div>\n    <div class="section-t section-t-8" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/one-section.png)"></div>\n    <div class="section-t section-t-9" style="background-image: url('+s((n.global||t&&t.global||a).call(i,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'/email-editor/static/img/section_templates/one-section.png)"></div>\n</div>'},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(13),o=n(180),i=n(607),a=n(11),s=n(0),c=n(1),u=n(556),d=n.n(u);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(t){function EmailTemplatePickerView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplatePickerView),_possibleConstructorReturn(this,_getPrototypeOf(EmailTemplatePickerView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailTemplatePickerView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(EmailTemplatePickerView,[{key:"initialize",value:function initialize(t){var n=this;this.setTemplate(d.a),this.listenTo(this,"postRender",this.onPostRender),s.a.publish(c.q.ADD_TO_DROPDOWN,{dropId:3,button:{position:1,icon:"fa-file-image",title:l("Change template"),click:this.show,context:this}}),s.a.publish(c.q.ADD_TO_DROPDOWN,{dropId:3,button:{position:2,icon:"fa-save",title:l("Save as template"),separatorAfter:!0,click:this.saveTemplate,context:this}}),s.a.subscribe(c.o.OPEN_SELECTION,function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(t,r){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e(".ql_container").animateCss("fadeOut",function(){e(".ql_container").remove()}),t.next=3,n.show();case 3:r&&n.$el.find(".email-template-picker-close").hide();case 4:case"end":return t.stop()}},_callee)}));return function(e,n){return t.apply(this,arguments)}}()),s.a.subscribe(c.o.SELECTED,function(){n.hide()})}},{key:"show",value:function show(){return this.render(),this.$el.appendTo("body"),this.delegateEvents(null),this.$el.animateCss("fadeIn"),this}},{key:"hide",value:function hide(){var e=this;return this.$el.animateCss("fadeOut",function(){e.$el.remove()}),this.model.trigger("emailTemplatePicker:hide"),this}},{key:"saveTemplate",value:function saveTemplate(){s.a.publish(c.o.SAVE)}},{key:"onPostRender",value:function onPostRender(){new i.a({el:this.$el.find(".email-template-list"),model:this.model}).render(),Object(a.a)(this.model,"categories.length",0)>0&&new o.a({el:this.$el.find(".email-template-categories"),model:this.model}).render()}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"EmailTemplatePickerView "}},{key:"events",get:function get(){return{"click .email-template-picker-close":"hide","click .email-template-save-button":"saveTemplate"}}}]),EmailTemplatePickerView}();t.a=f}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s;return'    <div class="p-1 text-center">\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"    </div>\n"},2:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f=e.lambda;return'            <span class="theme-category-bubble lm-tag badge '+(null!=(s=(n.ifContains||t&&t.ifContains||u).call(c,null!=a[1]?a[1].selectedCategories:a[1],null!=t?t.id:t,{name:"ifContains",hash:{},fn:e.program(3,o,0,i,a),inverse:e.program(5,o,0,i,a),data:o}))?s:"")+'" data-index="'+d("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" data-id="'+d(f(null!=t?t.id:t,t))+'">\n                '+d(f(null!=(s=null!=t?t.attributes:t)?s.title:s,t))+"\n            </span>\n"},3:function(e,t,n,r,o){return"active"},5:function(e,t,n,r,o){return" badge-outline-light"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.categories:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:""},useData:!0,useDepths:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="p-5">\n    <div class="loader"></div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="p-3 text-center mx-auto" style="color: #989898;">\n    <i class="far fa-folder-open fa-3x d-block"></i>\n    <span>'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Empty...",{name:"l",hash:{},data:o}))+"</span>\n</div>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <div class="template-select-delete" title="'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Delete",{name:"l",hash:{},data:o}))+'">\n        <span class="fa-stack fa-1x" style="text-align:center;">\n            <i class="fas fa-trash fa-stack-1x"></i>\n        </span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="template-thumbnail-image-container">\n    <div class="template-select-img"\n         style="background-color: #f2f2f2; background-image: url('+l((n.global||t&&t.global||s).call(a,"BASE_ASSETS_URL",{name:"global",hash:{},data:o}))+l((n.OR||t&&t.OR||s).call(a,null!=(i=null!=t?t.thumbnail:t)?i.url:i,null!=t?t.missingImageUrl:t,{name:"OR",hash:{},data:o}))+');">\n'+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||s).call(a,null!=t?t.public:t,!0,{name:"ifNotEquals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'    </div>\n</div>\n<div class="email-template-title">\n    <span> '+l((n.truncate||t&&t.truncate||s).call(a,null!=t?t.title:t,28,{name:"truncate",hash:{},data:o}))+" </span>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="email-template-main-view container-fluid px-0">\n    <div class="row no-gutters" style="padding: 20px; border-bottom: 1px solid #ccc;">\n        <div class="col">\n            <span style="font-weight: bold; font-size: 18px;">\n                '+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Email Templates",{name:"l",hash:{},data:o}))+'\n            </span>\n        </div>\n        <div class="email-template-picker-close c-pointer ml-auto">\n            <i class="fas fa-times"></i>\n        </div>\n    </div>\n    <div class="row no-gutters pt-1 pb-2 px-3">\n        <div class="w-100">\n            <div class="email-template-categories float-left">\n            </div>\n        </div>\n    </div>\n    \x3c!--<div class="email-template-list row no-gutters h-100">--\x3e\n    <div class="email-template-list p-1 d-flex flex-wrap justify-content-center align-content-start">\n\n    </div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" "},3:function(e,t,n,r,o){var i=e.escapeExpression;return"\n            <h3>"+i((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Error",{name:"l",hash:{},data:o}))+": <strong>"+i(e.lambda(null!=t?t.uuid:t,t))+"</strong></h3>\n"},5:function(e,t,n,r,o){var i;return" "+e.escapeExpression("function"==typeof(i=null!=(i=n.detailText||(null!=t?t.detailText:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"detailText",hash:{},data:o}):i)+" "},7:function(e,t,n,r,o){return e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"This error has been logged and will be reviewed shortly. If the issue persists, just leave us a message.",{name:"l",hash:{},data:o}))},9:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'\n            <div class="d-block pt-3 pb-1">\n                <button class="btn btn-large btn-secondary mr-2 editor-reload">'+s((n.l||t&&t.l||a).call(i,"Reload editor",{name:"l",hash:{},data:o}))+'</button>\n                <button class="btn btn-large btn-primary mr-2 editor-open-chat">'+s((n.l||t&&t.l||a).call(i,"Contact Us",{name:"l",hash:{},data:o}))+"</button>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.escapeExpression;return s(n.log.call(a,t,{name:"log",hash:{},data:o}))+'\n<div style="padding: 100px; width: 100vw; height: 100vh; background: #1e1e1e; position: fixed; z-index: 2000;">\n    <div class="error-container animated zoomIn w-25 mx-auto text-left bg-white p-3 rounded">\n        <img class="pb-2 debug-cat" src="https://thumbs.gfycat.com/InferiorAnxiousAustralianfreshwatercrocodile-size_restricted.gif" alt="Error cat">\n        '+(null!=(i=n.if.call(a,null!=t?t.hideButtons:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+"        <h5>"+s(e.lambda(null!=t?t.message:t,t))+'</h5>\n        <span class="d-block mb-1">\n            '+s((n.l||t&&t.l||n.helperMissing).call(a,"Sorry about that.",{name:"l",hash:{},data:o}))+"\n        </span>\n        <span>\n            "+(null!=(i=n.if.call(a,null!=t?t.detailText:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?i:"")+"\n        </span>\n        "+(null!=(i=n.if.call(a,null!=t?t.hideButtons:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+"    </div>\n</div>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s,l,c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{},f=n.helperMissing;return'        <div class="se-actions-button-container"\n             >\n            \x3c!--style="background-color: '+u(c(null!=(s=null!=(s=null!=a[1]?a[1].styles:a[1])?s.event:s)?s.color:s,t))+';"--\x3e\n                <span class="ee-action-button fa-stack fa-1x dragMe" data-key="'+u("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:f)?l.call(d,{name:"key",hash:{},data:o}):l)+'">\n                    <i class="fas '+u(c(null!=t?t.icon:t,t))+' fa-stack-1x fa-inverse" title="'+u((n.l||t&&t.l||f).call(d,null!=t?t.tooltipText:t,{name:"l",hash:{},data:o}))+'" ></i>\n                </span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l=e.lambda,c=e.escapeExpression;return'<div class="se-action-buttons action-buttons-'+c(l(null!=(s=null!=(s=null!=t?t.styles:t)?s.button:s)?s.position:s,t))+'" style="background-color:'+c(l(null!=(s=null!=(s=null!=t?t.styles:t)?s.event:s)?s.color:s,t))+';">\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.actions:t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"</div>"},useData:!0,useDepths:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f=e.lambda;return'            <label data-id="'+d("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" class="se-tab-button w-50 d-flex align-items-center justify-content-center btn btn-squared btn-tab '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=a[1]?a[1].selectedTab:a[1],o&&o.index,{name:"ifEquals",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'">\n                <input type="radio" name="buttonGroup_'+d(f(o&&o.cid,t))+'" id="buttonGroup_'+d(f(o&&o.cid,t))+'" checked="">\n'+(null!=(s=n.if.call(c,null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(4,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                <span class="se-sidebar-tab-title">'+d(f(null!=t?t.title:t,t))+"</span>\n            </label>\n"},2:function(e,t,n,r,o){return"active"},4:function(e,t,n,r,o){return'                    <i class="'+e.escapeExpression(e.lambda(null!=t?t.icon:t,t))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s;return'<div class="se-library-container">\n    <div class="se-sidebar-tabs-container btn-group btn-group-toggle d-flex">\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.tabs:t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'    </div>\n\n    <div class="se-sidebar-content">\n    </div>\n</div>\n'},useData:!0,useDepths:!0})},function(e,t,n){"use strict";(function(e){var r=n(13),o=n(561),i=n.n(o),a=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){function SidebarContentView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SidebarContentView),_possibleConstructorReturn(this,_getPrototypeOf(SidebarContentView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SidebarContentView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SidebarContentView,[{key:"initialize",value:function initialize(e){this.setTemplate(i.a),this.render(),this.listenTo(this.model,"change:selectedTab",this.renderContent),this.listenTo(this.model,"selectTabContent",this.renderContent)}},{key:"renderContent",value:function renderContent(){this.render(),this.model.getSelectedTab()&&(Object(a.a)(this.model.getSelectedTab(),"autoRender",!1)&&this.model.getSelectedTab().view.render(),this.$el.html(this.model.getSelectedTab().view.el),null!==Builder.find("Email.model.theme")&&Builder.find("Email.model.theme").is_modified&&Builder.find("Email.model.snapshot").createNewSnapshot([{element:"theme",message:"Changed theme settings",section_uuid:"email"}]),this.model.getSelectedTab().view.el.classList.contains("BlockLibraryView")?e(this.model.getSelectedTab().view.el).parent(".se-sidebar-content").css("scrollbar-width","none"):e(this.model.getSelectedTab().view.el).parent(".se-sidebar-content").css("scrollbar-width","auto"))}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"SidebarContentView w-100"}},{key:"events",get:function get(){return{}}}]),SidebarContentView}();t.a=s}).call(this,n(22))},function(e,t){e.exports=function(){return""}},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return"            background-image: url("+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.Email:i)?i.backgroundUrl:i,t))+");\n            background-position: center;\n            background-repeat: no-repeat;\n            background-size: cover;\n"},3:function(e,t,n,r,o){var i;return"            background-color: "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.Email:i)?i.backgroundColor:i,t))+";\n        "},5:function(e,t,n,r,o){return'        <div class="theme-preview-delete" title="'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Delete",{name:"l",hash:{},data:o}))+'">\n        <span class="fa-stack fa-1x" style="text-align:center;">\n            <i class="fas fa-trash fa-stack-1x"></i>\n        </span>\n        </div>\n'},7:function(e,t,n,r,o){var i;return"                background-image: url("+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.Section:i)?i.backgroundUrl:i,t))+");\n                background-position: center;\n                background-repeat: no-repeat;\n                background-size: cover;\n"},9:function(e,t,n,r,o){var i;return"                background-color: "+e.escapeExpression(e.lambda(null!=(i=null!=(i=null!=t?t.data:t)?i.Section:i)?i.contentBackgroundColor:i,t))+";\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.lambda,c=e.escapeExpression;return'<div class="se-theme-first shadow-sm card py-2 px-2 mx-1 my-1" style="\n'+(null!=(i=n.if.call(a,null!=(i=null!=(i=null!=t?t.data:t)?i.Email:i)?i.backgroundUrl:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+'" >\n'+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||s).call(a,null!=t?t.public:t,!0,{name:"ifNotEquals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'\n    <div class="se-theme-thumb-content text-center card rounded-0 shadow-none" style="background-color: transparent;">\n        <div class="card-header rounded-0 pt-1 px-1 pb-0 text-left" style="border-bottom: none; background-color: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.Section:i)?i.contentBackgroundColor:i,t))+'">\n            <span style="\n                    font-family: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.HeadlineBlock:i)?i.fontFamily:i,t))+";\n                    color:"+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.HeadlineBlock:i)?i.h1Color:i,t))+';\n                    height: 22px;\n                    line-height: 22px;\n                    white-space: nowrap;\n                    width: 170px !important;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    display: block;">\n                <strong>'+c(l(null!=t?t.title:t,t))+'</strong>\n            </span>\n        </div>\n        <div class="card-body p-1" style="\n'+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||s).call(a,null!=(i=null!=(i=null!=t?t.data:t)?i.Section:i)?i.backgroundUrl:i,"",{name:"ifNotEquals",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+'        ">\n            <div class="container">\n                <div class="row mb-1">\n                    <div class="col-7 mr-2" style="height: 6px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.HeadlineBlock:i)?i.h2Color:i,t))+';"></div>\n                    <div class="col-3" style="height: 6px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.HeadlineBlock:i)?i.h3Color:i,t))+';"></div>\n                </div>\n                <div class="row mb-2" style="display:none;">\n                    <div class="col-8" style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.HeadlineBlock:i)?i.linkColor:i,t))+';"></div>\n                </div>\n                <div class="row mb-1">\n                    <div class="col" style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ParagraphBlock:i)?i.color:i,t))+';">\n                    </div>\n                </div>\n                <div class="row mb-1">\n                    <div class="col-6 mr-1" style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ParagraphBlock:i)?i.color:i,t))+';">\n                    </div>\n                    <div class="col-1 mr-1"\n                         style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ParagraphBlock:i)?i.linkColor:i,t))+';">\n                    </div>\n                    <div class="col" style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ParagraphBlock:i)?i.color:i,t))+';">\n                    </div>\n                </div>\n                <div class="row mb-2">\n                    <div class="col-10" style="height: 2px; background: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ParagraphBlock:i)?i.color:i,t))+';">\n                    </div>\n                </div>\n                <div class="row mb-1">\n                    <div class="col-4 mr-2"\n                         style="height: 7px; border-radius: '+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ButtonBlock:i)?i.borderRadius:i,t))+"px; background: "+c(l(null!=(i=null!=(i=null!=t?t.data:t)?i.ButtonBlock:i)?i.backgroundColor:i,t))+';">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="p-5">\n    <div class="loader"></div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="theme-picker-categories se-categories-container d-flex flex-row flex-wrap justify-content-center">\n</div>\n<div class="theme-picker-list px-2 pt-2 pb-5">\n    <div class="loader"></div>\n</div>'},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(128),o=n(0),i=n(1),a=n(566),s=n(11),c=n(589),u=n.n(c),d=n(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(t){function ThemeCustomizeView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeCustomizeView),_possibleConstructorReturn(this,_getPrototypeOf(ThemeCustomizeView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ThemeCustomizeView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ThemeCustomizeView,[{key:"resetTheme",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.confirm({type:null,title:l("Are you sure?"),text:l("This will reset current theme to the template default theme."),confirmButtonText:l("Reset"),cancelButtonText:l("Cancel")});case 2:e=t.sent,e.value&&o.a.publish(i.p.SELECTED,this.themeTemplate);case 5:case"end":return t.stop()}},_callee,this)}));return function resetTheme(){return e.apply(this,arguments)}}()},{key:"initialize",value:function initialize(e){var t=this;this.settings={},this.data=Object(s.a)(e,"data"),o.a.subscribe(i.p.LOADED,function(){t.render()}),o.a.subscribe(i.p.CHANGED.ALL,function(){t.render()}),o.a.subscribe(i.p.RERENDER,function(){t.render()}),_get(_getPrototypeOf(ThemeCustomizeView.prototype),"initialize",this).call(this,e),o.a.subscribe(i.k.EXPERT_TOGGLE,function(){t.render()}),Builder.find("Email.model.theme")&&this.render()}},{key:"getList",value:function getList(){var e=window.Builder.find("Email.model.theme"),t=[{title:"8",value:8},{title:"9",value:9},{title:"10",value:10},{title:"11",value:11},{title:"12",value:12},{title:"13",value:13},{title:"14",value:14},{title:"15",value:15},{title:"16",value:16},{title:"17",value:17},{title:"18",value:18},{title:"19",value:19},{title:"20",value:20},{title:"21",value:21},{title:"22",value:22},{title:"23",value:23},{title:"24",value:24},{title:"25",value:25}],n=[{title:"10",value:10},{title:"12",value:12},{title:"14",value:14},{title:"16",value:16},{title:"18",value:18},{title:"20",value:20},{title:"22",value:22},{title:"24",value:24},{title:"26",value:26},{title:"28",value:28},{title:"30",value:30},{title:"36",value:36},{title:"48",value:48},{title:"60",value:60}],r=this.parsePreviewAndUnsubTexts();return[{title:l("General"),isOpen:!0,controls:[{title:l("EMAIL WIDTH"),isPro:!0,parts:[{title:"Email width",type:"DropdownComponent",targetModel:e,options:{chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.Email.width"],drops:[{title:l("Wide"),value:800},{title:l("Normal"),value:640},{title:l("Narrow"),value:500}],callback:function callback(){o.a.publish(i.p.EDIT.SECTION,["width"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BACKGROUND COLOR"),isPro:!1,parts:[{type:"ColorPickerComponent",targetModel:e,options:{bind:["data.Email.backgroundColor"],callback:function callback(e,t){o.a.publish(i.p.EDIT.EMAIL,{backgroundColor:t}),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("CONTENT BACKGROUND COLOR"),isPro:!1,parts:[{type:"ColorPickerComponent",targetModel:e,options:{bind:["data.Section.contentBackgroundColor"],callback:function callback(e,t){o.a.publish(i.p.EDIT.SECTION,{contentBackgroundColor:t}),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BACKGROUND IMAGE"),isPro:!1,parts:[{type:"ImagePreviewComponent",targetModel:e,options:{bind:["data.Email.backgroundUrl"],onRemove:function onRemove(){o.a.publish(i.p.EDIT.EMAIL,{backgroundUrl:e.get("data.Email.backgroundUrl")}),Builder.find("Email.model.theme").is_modified=!0},imageClick:function imageClick(){o.a.publish(i.g.OPEN,{model:e,key:"data.Email.backgroundUrl",provider:"Patterns",afterSet:function afterSet(){o.a.publish(i.p.EDIT.EMAIL,{backgroundUrl:e.get("data.Email.backgroundUrl")}),Builder.find("Email.model.theme").is_modified=!0}})}}},{title:l("Image"),type:"ButtonComponent",targetModel:e,options:{title:l("Change"),className:"btn btn-secondary ml-1",bind:"",onClick:function onClick(){o.a.publish(i.g.OPEN,{model:e,key:"data.Email.backgroundUrl",provider:"UserImages",category:"Patterns",afterSet:function afterSet(){o.a.publish(i.p.EDIT.EMAIL,{backgroundUrl:e.get("data.Email.backgroundUrl")}),Builder.find("Email.model.theme").is_modified=!0}})}}}]},{title:l("IMAGE FORMAT"),isPro:!0,parts:[{title:"Type",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.Email.backgroundRepeat"],buttonStyle:"outline-secondary",size:"sm",callback:function callback(e,t){switch(t){case"cover":e.set("data.Email.backgroundSize","cover");break;case"no-repeat":e.set("data.Email.backgroundSize","contain");break;case"repeat":e.set("data.Email.backgroundSize","auto")}o.a.publish(i.p.EDIT.EMAIL,{backgroundColor:t}),Builder.find("Email.model.theme").is_modified=!0},buttons:[{value:"cover",image:SENDER_ENDPOINT+"email-editor/static/img/fillArrow.svg",imgClasses:"invertImageClass"},{value:"no-repeat",image:SENDER_ENDPOINT+"email-editor/static/img/fillFull.svg",imgClasses:"invertImageClass"},{value:"repeat",image:SENDER_ENDPOINT+"email-editor/static/img/fillPattern.svg",imgClasses:"invertImageClass"}]}}]}]},{title:l("Headline typography"),isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:e,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.HeadlineBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["fontFamily"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("HEADLINE FONT STYLE"),isPro:!1,nonPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.HeadlineBlock.h1Color","data.HeadlineBlock.h2Color","data.HeadlineBlock.h3Color"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h1Color"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.HeadlineBlock.h1FontSize","data.HeadlineBlock.h2FontSize","data.HeadlineBlock.h3FontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n,callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h1FontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("H1 STYLING"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.HeadlineBlock.h1Color"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h1Color"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.HeadlineBlock.h1FontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n,callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h1FontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("H2 STYLING"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.HeadlineBlock.h2Color"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h2Color"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.HeadlineBlock.h2FontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n,callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h2FontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("H3 STYLING"),isPro:!0,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.HeadlineBlock.h3Color"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h3Color"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.HeadlineBlock.h3FontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:n,callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["h3FontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.HeadlineBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["align"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINK COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{bind:["data.HeadlineBlock.linkColor"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["linkColor"]),o.a.publish(i.p.EDIT.PARAGRAPH,["linkColor"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:e,options:{buttonStyle:"outline-secondary",size:"sm",bind:["data.HeadlineBlock.lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["lineHeight"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:e,options:{bind:["data.HeadlineBlock.lineHeight"],min:100,max:300,step:10,callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["lineHeight"]),Builder.find("Email.model.theme").is_modified=!0}}}]}]},{title:l("Paragraph typography"),isOpen:!1,controls:[{title:l("PARAGRAPH FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:e,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.ParagraphBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}],callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["fontFamily"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.ParagraphBlock.color"],callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["color"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropdownFlex:1,dropPaddingLeft:"15px",selectedTitle:l("Size"),componentClass:!0,bind:["data.ParagraphBlock.fontSize"],buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:t,callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["fontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("ALIGNMENT"),isPro:!1,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ParagraphBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["align"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINK COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{bind:["data.ParagraphBlock.linkColor"],callback:function callback(){o.a.publish(i.p.EDIT.HEADLINE,["linkColor"]),o.a.publish(i.p.EDIT.PARAGRAPH,["linkColor"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINE HEIGHT"),nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:e,options:{buttonStyle:"outline-secondary",size:"sm",bind:["data.ParagraphBlock.lineHeight"],buttons:[{value:120,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:150,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:170,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:200,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}],callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["lineHeight"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("LINE HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:e,options:{bind:["data.ParagraphBlock.lineHeight"],min:100,max:300,step:10,callback:function callback(){o.a.publish(i.p.EDIT.PARAGRAPH,["lineHeight"]),Builder.find("Email.model.theme").is_modified=!0}}}]}]},{title:l("Buttons"),isOpen:!1,controls:[{title:l("BUTTON COLOR"),isPro:!1,parts:[{title:l("COLOR"),type:"ColorPickerComponent",targetModel:e,options:{bind:["data.ButtonBlock.backgroundColor"],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["backgroundColor"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("ALIGNMENT"),isPro:!0,parts:[{title:"ALIGNMENT",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.align"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:"left",image:window.SENDER_ENDPOINT+"email-editor/static/img/left-align.svg"},{value:"center",image:window.SENDER_ENDPOINT+"email-editor/static/img/mid-align.svg"},{value:"right",image:window.SENDER_ENDPOINT+"email-editor/static/img/right-align.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["align"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("CORNERS"),isPro:!1,nonPro:!0,parts:[{title:"Border",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.borderRadius"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner1.svg"},{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/corner3.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["borderRadius"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("CORNERS"),isPro:!0,parts:[{title:"Border",type:"SliderComponent",targetModel:e,options:{bind:["data.ButtonBlock.borderRadius"],buttonStyle:"outline-secondary",min:0,max:40,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["borderRadius"])}}}]},{title:l("WIDTH"),isPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.fullWidth"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:!1,image:SENDER_ENDPOINT+"email-editor/static/img/minWidth.svg",imgClasses:"invertImageClass"},{value:!0,image:SENDER_ENDPOINT+"email-editor/static/img/maxWidth.svg",imgClasses:"invertImageClass"}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fullWidth"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BUTTON WIDTH"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:e,options:{bind:["data.ButtonBlock.paddingY"],min:5,max:50,step:1,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["paddingY"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BUTTON HEIGHT"),isPro:!1,nonPro:!0,parts:[{type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.height"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:5,image:window.SENDER_ENDPOINT+"email-editor/static/img/1lineHeightSize.svg",imgClasses:"invertImageClass"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/2lineHeightSize.svg",imgClasses:"invertImageClass"},{value:15,image:window.SENDER_ENDPOINT+"email-editor/static/img/3lineHeightSize.svg",imgClasses:"invertImageClass"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/4lineHeightSize.svg",imgClasses:"invertImageClass"}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["height"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BUTTON HEIGHT"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:e,options:{bind:["data.ButtonBlock.height"],min:5,max:50,step:1,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["height"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BUTTON SPACING"),nonPro:!0,parts:[{title:"SIZE",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.buttonSpacing"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,text:l("NONE"),spanMargin:"0 auto",textMargin:".67em 0"},{value:10,text:l("S"),spanMargin:"0 auto",textMargin:".75em 0"},{value:20,text:l("M"),spanMargin:"0 auto",textMargin:".83em 0"},{value:30,text:l("L"),spanMargin:"0 auto",textMargin:".83em 0"}],callback:function callback(){o.a.publish(i.p.EDIT.BLOCK,["buttonSpacing"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BUTTON SPACING"),isPro:!0,parts:[{title:"Size",type:"InputPillComponent",targetModel:e,options:{bind:["data.ButtonBlock.buttonSpacing"],min:0,max:100,step:1,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["paddingTop","paddingBottom"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT FAMILY"),isPro:!1,parts:[{type:"DropdownComponent",targetModel:e,options:{chevronRight:!0,dropdownMenuClass:"w-100",mapCustomStylesToValue:"font-family",selectedTitle:l("Choose..."),bind:["data.ButtonBlock.fontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fontFamily"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:l("COLOR"),type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.ButtonBlock.color"],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["color"]),Builder.find("Email.model.theme").is_modified=!0}}},{type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.ButtonBlock.fontSize"],showTick:!1,buttonClass:"btn btn-sm btn-outline-secondary text-left w-100",drops:t,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fontSize"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT DECORATION"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.fontDecoration"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"none",text:"X"},{value:"underline",text:'<div align ="center" style="text-decoration:underline;">ABC</div>'},{value:"line-through",text:'<div align="center" style="text-decoration:line-through;">ABC</div>'},{value:"overline",text:'<div align="center" style="text-decoration:overline;">ABC</div>'}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fontDecoration"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT WEIGHT"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.fontWeight"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-weight:normal;">ABC</div>'},{value:"bold",text:'<div align="center" style="font-weight: bold">ABC</div>'}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fontWeight"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.fontStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"normal",text:'<div align ="center" style="font-style:normal;">ABC</div>'},{value:"italic",text:'<div align="center" style="font-style: italic">ABC</div>'}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["fontStyle"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BORDER STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.ButtonBlock.borderStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"solid",text:'<div style="border-bottom-style:solid; width:15px"> </div>'},{value:"dotted",text:'<div style="border-bottom-style:dotted; width:15px"> </div>'},{value:"dashed",text:'<div style="border-bottom-style:dashed; width:15px"> </div>'},{value:"double",text:'<div style="border-bottom-style:double; width:15px"> </div>'}],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["borderStyle"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BORDER WIDTH"),isPro:!1,parts:[{type:"InputPillComponent",targetModel:e,options:{bind:["data.ButtonBlock.borderWidth"],min:0,max:10,step:1,callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["borderWidth"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("BORDER COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{bind:["data.ButtonBlock.borderColor"],callback:function callback(){o.a.publish(i.p.EDIT.BUTTON,["borderColor"]),Builder.find("Email.model.theme").is_modified=!0}}}]}]},{title:l("Separator"),isOpen:!1,controls:[{title:l("STYLE"),isPro:!1,parts:[{title:"Font",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.SeparatorBlock.separatorBorderStyle"],buttonStyle:"outline-secondary btn-sm px-1",buttons:[{value:"none",icon:"ban"},{value:"solid",text:'<div style="border-bottom-style:solid; width:15px"> </div>'},{value:"dotted",text:'<div style="border-bottom-style:dotted; width:15px"> </div>'},{value:"dashed",text:'<div style="border-bottom-style:dashed; width:15px"> </div>'},{value:"double",text:'<div style="border-bottom-style:double; width:15px"> </div>'}],callback:function callback(){o.a.publish(i.p.EDIT.SEPARATOR,["separatorBorderStyle"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("COLOR"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",isPro:!1,targetModel:e,options:{bind:["data.SeparatorBlock.separatorBorderColor"],callback:function callback(){o.a.publish(i.p.EDIT.SEPARATOR,["separatorBorderColor"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("THICKNESS"),isPro:!1,parts:[{title:"Height",type:"InputPillComponent",isPro:!1,targetModel:e,options:{bind:["data.SeparatorBlock.separatorBorderWidth"],min:1,max:20,step:1,callback:function callback(){o.a.publish(i.p.EDIT.SEPARATOR,["separatorBorderWidth"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("WIDTH"),isPro:!1,parts:[{title:"Border",type:"SliderComponent",targetModel:e,options:{bind:["data.SeparatorBlock.separatorWidth"],min:1,max:100,units:"%",callback:function callback(){o.a.publish(i.p.EDIT.SEPARATOR,["separatorWidth"])}}}]}]},{title:l("Spacing"),isOpen:!1,controls:[{title:l("HORIZONTAL SPACING"),nonPro:!0,parts:[{title:"Horizontal",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.Section.paddingLeft","data.Section.paddingRight"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/horizontal3.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.SECTION),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("VERTICAL SPACING"),nonPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.Section.paddingTop","data.Section.paddingBottom"],buttonStyle:"outline-secondary",size:"sm",buttons:[{value:0,icon:"ban c-black fs-20 "},{value:0,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical1.svg"},{value:10,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical2.svg"},{value:20,image:window.SENDER_ENDPOINT+"email-editor/static/img/vertical3.svg"}],callback:function callback(){o.a.publish(i.p.EDIT.SECTION),Builder.find("Email.model.theme").is_modified=!0}}}]},{isPro:!0,parts:[{type:"InputPillComponent",targetModel:e,options:{pillWidth:"auto",title:l("Top"),paddingRight:"5px",bind:["data.Section.paddingTop"],min:0,max:500,step:1,callback:function callback(){o.a.publish(i.p.EDIT.SECTION,["data.Section.paddingTop"]),Builder.find("Email.model.theme").is_modified=!0}}},{type:"InputPillComponent",targetModel:e,options:{pillWidth:"auto",title:l("Bottom"),paddingLeft:"5px",bind:["data.Section.paddingBottom"],min:0,max:500,step:1,callback:function callback(){o.a.publish(i.p.EDIT.SECTION,["data.Section.paddingBottom"]),Builder.find("Email.model.theme").is_modified=!0}}}]},{isPro:!0,parts:[{title:"left spacing",type:"InputPillComponent",targetModel:e,options:{pillWidth:"auto",title:l("Left"),paddingRight:"5px",bind:["data.Section.paddingLeft"],min:0,max:500,step:1,callback:function callback(){o.a.publish(i.p.EDIT.SECTION,["data.Section.paddingLeft"]),Builder.find("Email.model.theme").is_modified=!0}}},{title:"right spacing",type:"InputPillComponent",targetModel:e,options:{pillWidth:"auto",title:l("Right"),paddingLeft:"5px",bind:["data.Section.paddingRight"],min:0,max:500,step:1,callback:function callback(){o.a.publish(i.p.EDIT.SECTION,["data.Section.paddingRight"]),Builder.find("Email.model.theme").is_modified=!0}}}]}]},{title:l("Preview & Unsubscribe"),isOpen:!1,controls:[{title:l("FONT FAMILY"),isPro:!1,parts:[{title:"Font",type:"DropdownComponent",targetModel:e,options:{mapCustomStylesToValue:"font-family",chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.Email.BPUfontFamily"],drops:[{title:"Arial",value:"Arial, Helvetica Neue, Helvetica, sans-serif"},{title:"Comic Sans",value:"Comic Sans MS, Marker Felt-Thin, Arial, sans-serif",disabled:!1},{title:"Courier New",value:"Courier New, Courier, Lucida Sans Typewriter, Lucida Typewriter, monospace"},{title:"Cursive",value:"cursive"},{title:"Georgia",value:"Georgia, Times, Times New Roman, serif",disabled:!1},{title:"Lucida",value:"Lucida Sans Unicode, Lucida Grande, sans-serif;"},{title:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{title:"Trebuchet MS",value:"Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif"},{title:"Verdana",value:"Verdana, Geneva, sans-serif"},{title:"Palatino",value:"Palatino Linotype, Book Antiqua, Palatino, serif"},{title:"Times New Roman",value:"Times New Roman, Times, serif"},{title:"Impact",value:"Impact, Charcoal, sans-serif"},{title:"Lucida Console",value:"Lucida Console, Monaco, monospace"}],callback:function callback(){o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("FONT COLOR & SIZE"),isPro:!1,parts:[{title:"Color",type:"ColorPickerComponent",targetModel:e,options:{flexSize:"3",marginSize:"5px",bind:["data.Email.BPUfontColor"],callback:function callback(){o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0}}},{title:"Size",type:"DropdownComponent",targetModel:e,options:{dropdownWidth:"65px",dropPaddingLeft:"15px",dropdownFlex:1,selectedTitle:l("Size"),bind:["data.Email.BPUfontSize"],componentClass:!0,buttonStyle:"outline-secondary",showTick:!1,buttonClasses:"btn-sm btn-outline-secondary",drops:t,callback:function callback(){o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("Language"),isPro:!1,parts:[{title:"preview language",type:"DropdownComponent",targetModel:e,options:{chevronRight:!0,selectedTitle:l("Choose..."),bind:["data.Email.BPUtextLanguage"],drops:r,callback:function callback(){var t=r.find(function(t){return t.value===e.attributes.data.Email.BPUtextLanguage});e.attributes.data.Email.BPUtextPreview=t.preview,e.attributes.data.Email.BPUtextUnsubscribe=t.unsubscribe,o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0}}}]},{title:l("DISPLAY OF PREVIEW LINK"),isPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.Email.hidePreview"],buttonStyle:"outline-secondary",callback:function callback(){o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0},size:"sm",buttons:[{value:!1,text:l("SHOW")},{value:!0,text:l("HIDE")}]}}]},{title:l("DISPLAY OF UNSUBSCRIBE LINK"),isPro:!0,parts:[{title:"Vertical",type:"ButtonGroupComponent",targetModel:e,options:{bind:["data.Email.hideUnsubscribe"],buttonStyle:"outline-secondary",size:"sm",callback:function callback(){o.a.publish(i.p.EDIT.EMAIL),Builder.find("Email.model.theme").is_modified=!0},buttons:[{value:!1,text:l("SHOW")},{value:!0,text:l("HIDE")}]}}]}]}]}},{key:"saveTheme",value:function saveTheme(){return window.Builder.find("Email.model.theme").saveTheme()}},{key:"render",value:function render(){return this.delegateEvents(null),this.settings.themeOverride=window.Builder.isThemeOverrideEnabled(),this.$el.html(u()(this.settings)),this.$el.find(".theme-customize").html(this.generateElements()),this}},{key:"getElementView",value:function getElementView(){return a.a}},{key:"parsePreviewAndUnsubTexts",value:function parsePreviewAndUnsubTexts(){var t=[];return e.forEach(window.PREVIEW_AND_UNSUB_TEXTS,function(e){t.push({title:l(e[0]),value:e[0],preview:e[2],unsubscribe:e[1]})}),t}},{key:"attributes",get:function get(){return{id:"ThemeCustomizeAccordionView"}}},{key:"className",get:function get(){return"ThemeCustomizeView w-100"}},{key:"events",get:function get(){return{"click .save-theme":"saveTheme","click .se-reset-theme":"resetTheme","change #theme-override":function changeThemeOverride(){Builder.toggleThemeOverride()}}}},{key:"snapshot",get:function get(){return window.Builder.find("Email.model.snapshot")}},{key:"templates",get:function get(){return window.Builder.find("EmailTemplatesModule.templates")}},{key:"themeTemplate",get:function get(){if(!this.templates||!this.snapshot)return{};var e=this.templates.get(this.snapshot.get("email_template_id"));return e?e.get("theme"):{}}}]),ThemeCustomizeView}();t.a=f}).call(this,n(24))},function(e,t,n){"use strict";var r=n(274),o=n(128),i=n(272),a=n.n(i),s=n(11),l=n(3);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function ThemeCustomizeAccordionView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeCustomizeAccordionView),_possibleConstructorReturn(this,_getPrototypeOf(ThemeCustomizeAccordionView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ThemeCustomizeAccordionView,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ThemeCustomizeAccordionView,[{key:"initialize",value:function initialize(e){this.data=Object(s.a)(e,"data"),this.data.uuid="a"+l.a.getShortUid(),this.data.parentId="ThemeCustomizeAccordionView"}},{key:"render",value:function render(){var e=this;return this.$el.html(a()(this.data)),this.$el.find(".se-controls-container").append(this.generateElements()),this.data.isOpen&&this.$el.find("[data-toggle=collapse]").prop("disabled",!0),this.$el.find(".se-controls-container").on("shown.bs.collapse",function(){e.$el.find("[data-toggle=collapse]").prop("disabled",!0)}),this.$el.find(".se-controls-container").on("hidden.bs.collapse",function(){e.$el.find("[data-toggle=collapse]").prop("disabled",!1)}),this}},{key:"remove",value:function remove(){return this.$el.find(".se-controls-container").off(),_get(_getPrototypeOf(ThemeCustomizeAccordionView.prototype),"remove",this).call(this)}},{key:"getList",value:function getList(){return this.data.controls||[]}},{key:"getElementView",value:function getElementView(){return r.a}},{key:"className",get:function get(){return"ThemeCustomizeAccordionView w-100"}},{key:"tagName",get:function get(){return"div"}}]),ThemeCustomizeAccordionView}();t.a=c},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'    <span class="title">\n        '+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n    </span>\n"},3:function(e,t,n,r,o){return"col"},5:function(e,t,n,r,o){return"col-6"},7:function(e,t,n,r,o){var i;return'                <div class="input-group-append">\n                <span class="input-group-text preAppendBorders">\n                    '+e.escapeExpression("function"==typeof(i=null!=(i=n.units||(null!=t?t.units:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"units",hash:{},data:o}):i)+"\n                </span>\n                </div> "},9:function(e,t,n,r,o){return'\n                <div class="input-group-append">\n                <span class="input-group-text preAppendBorders">\n                    % \n                </span>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'<div class="row align-items-center mb-3">\n    <div class="'+(null!=(i=n.if.call(s,null!=t?t.halfWidthInput:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'">\n        <div class="sender-slider my-3">\n        </div>\n    </div>\n    <div class="col">\n        <div class="input-group input-group-sm">\n            <input id="slider-input" type="number" class="form-control" value="'+e.escapeExpression("function"==typeof(a=null!=(a=n.value||(null!=t?t.value:t))?a:n.helperMissing)?a.call(s,{name:"value",hash:{},data:o}):a)+'" style="padding-left:14px">\n'+(null!=(i=n.if.call(s,null!=t?t.units:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+"        </div>\n    </div>\n\n</div>\n"},useData:!0})},function(e,t,n){var r,o,i;/*! nouislider - 11.1.0 - 2018-04-02 11:18:13 */o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e="11.1.0";function isSet(e){return null!==e&&void 0!==e}function preventDefault(e){e.preventDefault()}function isNumeric(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function addClassFor(e,t,n){n>0&&(addClass(e,t),setTimeout(function(){removeClass(e,t)},n))}function limit(e){return Math.max(Math.min(e,100),0)}function asArray(e){return Array.isArray(e)?e:[e]}function countDecimals(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function getPageOffset(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||""),r=t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,o=t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:o}}function subRangeRatio(e,t){return 100/(t-e)}function fromPercentage(e,t){return 100*t/(e[1]-e[0])}function getJ(e,t){for(var n=1;e>=t[n];)n+=1;return n}function toStepping(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=getJ(n,e),o=e[r-1],i=e[r],a=t[r-1],s=t[r];return a+function toPercentage(e,t){return fromPercentage(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([o,i],n)/subRangeRatio(a,s)}function getStep(e,t,n,r){if(100===r)return r;var o=getJ(r,e),i=e[o-1],a=e[o];return n?r-i>(a-i)/2?a:i:t[o-1]?e[o-1]+function closest(e,t){return Math.round(e/t)*t}(r-e[o-1],t[o-1]):r}function handleEntryPoint(t,n,r){var o;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' contains invalid value.");if(!isNumeric(o="min"===t?0:"max"===t?100:parseFloat(t))||!isNumeric(n[0]))throw new Error("noUiSlider ("+e+"): 'range' value isn't numeric.");r.xPct.push(o),r.xVal.push(n[0]),o?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1]),r.xHighestCompleteStep.push(0)}function handleStepPoint(e,t,n){if(!t)return!0;n.xSteps[e]=fromPercentage([n.xVal[e],n.xVal[e+1]],t)/subRangeRatio(n.xPct[e],n.xPct[e+1]);var r=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],o=Math.ceil(Number(r.toFixed(3))-1),i=n.xVal[e]+n.xNumSteps[e]*o;n.xHighestCompleteStep[e]=i}function Spectrum(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var o=[];for(r in e)e.hasOwnProperty(r)&&o.push([e[r],r]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(e,t){return e[0][0]-t[0][0]}):o.sort(function(e,t){return e[0]-t[0]}),r=0;r<o.length;r++)handleEntryPoint(o[r][1],o[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)handleStepPoint(r,this.xNumSteps[r],this)}Spectrum.prototype.getMargin=function(t){var n=this.xNumSteps[0];if(n&&t/n%1!=0)throw new Error("noUiSlider ("+e+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&fromPercentage(this.xVal,t)},Spectrum.prototype.toStepping=function(e){return e=toStepping(this.xVal,this.xPct,e)},Spectrum.prototype.fromStepping=function(e){return function fromStepping(e,t,n){if(n>=100)return e.slice(-1)[0];var r=getJ(n,t),o=e[r-1],i=e[r],a=t[r-1],s=t[r];return function isPercentage(e,t){return t*(e[1]-e[0])/100+e[0]}([o,i],(n-a)*subRangeRatio(a,s))}(this.xVal,this.xPct,e)},Spectrum.prototype.getStep=function(e){return e=getStep(this.xPct,this.xSteps,this.snap,e)},Spectrum.prototype.getNearbySteps=function(e){var t=getJ(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},Spectrum.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(countDecimals);return Math.max.apply(null,e)},Spectrum.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var t={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function validateFormat(t){if(function isValidFormatter(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(t))return!0;throw new Error("noUiSlider ("+e+"): 'format' requires 'to' and 'from' methods.")}function testStep(t,n){if(!isNumeric(n))throw new Error("noUiSlider ("+e+"): 'step' is not numeric.");t.singleStep=n}function testRange(t,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+e+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+e+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new Spectrum(n,t.snap,t.singleStep)}function testStart(t,n){if(n=asArray(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+e+"): 'start' option is incorrect.");t.handles=n.length,t.start=n}function testSnap(t,n){if(t.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'snap' option must be a boolean.")}function testAnimate(t,n){if(t.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animate' option must be a boolean.")}function testAnimationDuration(t,n){if(t.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animationDuration' option must be a number.")}function testConnect(t,n){var r,o=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(r=1;r<t.handles;r++)o.push(n);o.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==t.handles+1)throw new Error("noUiSlider ("+e+"): 'connect' option doesn't match handle count.");o=n}t.connect=o}function testOrientation(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+e+"): 'orientation' option is invalid.")}}function testMargin(t,n){if(!isNumeric(n))throw new Error("noUiSlider ("+e+"): 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw new Error("noUiSlider ("+e+"): 'margin' option is only supported on linear sliders.")}function testLimit(t,n){if(!isNumeric(n))throw new Error("noUiSlider ("+e+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit||t.handles<2)throw new Error("noUiSlider ("+e+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function testPadding(t,n){if(!isNumeric(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!isNumeric(n[0])&&!isNumeric(n[1]))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){if(Array.isArray(n)||(n=[n,n]),t.padding=[t.spectrum.getMargin(n[0]),t.spectrum.getMargin(n[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider ("+e+"): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider ("+e+"): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>=100)throw new Error("noUiSlider ("+e+"): 'padding' option must not exceed 100% of the range.")}}function testDirection(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+e+"): 'direction' option was not recognized.")}}function testBehaviour(t,n){if("string"!=typeof n)throw new Error("noUiSlider ("+e+"): 'behaviour' must be a string containing options.");var r=n.indexOf("tap")>=0,o=n.indexOf("drag")>=0,i=n.indexOf("fixed")>=0,a=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider ("+e+"): 'fixed' behaviour must be used with 2 handles");testMargin(t,t.start[1]-t.start[0])}t.events={tap:r||a,drag:o,fixed:i,snap:a,hover:s}}function testTooltips(t,n){if(!1!==n)if(!0===n){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=asArray(n),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+e+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+e+"): 'tooltips' must be passed a formatter or 'false'.")})}}function testAriaFormat(e,t){e.ariaFormat=t,validateFormat(t)}function testFormat(e,t){e.format=t,validateFormat(t)}function testCssPrefix(t,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+e+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=n}function testCssClasses(t,n){if("object"!=typeof n)throw new Error("noUiSlider ("+e+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var r in t.cssClasses={},n)n.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+n[r]);else t.cssClasses=n}function testOptions(n){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:t,format:t},o={step:{r:!1,t:testStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},animationDuration:{r:!1,t:testAnimationDuration},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},padding:{r:!1,t:testPadding},behaviour:{r:!0,t:testBehaviour},ariaFormat:{r:!1,t:testAriaFormat},format:{r:!1,t:testFormat},tooltips:{r:!1,t:testTooltips},cssPrefix:{r:!0,t:testCssPrefix},cssClasses:{r:!0,t:testCssClasses}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};n.format&&!n.ariaFormat&&(n.ariaFormat=n.format),Object.keys(o).forEach(function(t){if(!isSet(n[t])&&void 0===i[t]){if(o[t].r)throw new Error("noUiSlider ("+e+"): '"+t+"' is required.");return!0}o[t].t(r,isSet(n[t])?n[t]:i[t])}),r.pips=n.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,l=void 0!==a.style.transform;return r.transformRule=l?"transform":s?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function scope(t,n,r){var o,i,a,s,l,c=function getActions(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),u=function getSupportsTouchActionNone(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}(),d=u&&function getSupportsPassive(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),f=t,p=[],h=[],g=0,m=n.spectrum,A=[],v={},y=t.ownerDocument,b=y.documentElement,w=y.body,_="rtl"===y.dir||1===n.ort?0:100;
/*! In this file: Construction of DOM elements; */
function addNodeTo(e,t){var n=y.createElement("div");return t&&addClass(n,t),e.appendChild(n),n}function addOrigin(e,t){var r=addNodeTo(e,n.cssClasses.origin),o=addNodeTo(r,n.cssClasses.handle);return o.setAttribute("data-handle",t),o.setAttribute("tabindex","0"),o.setAttribute("role","slider"),o.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===t?addClass(o,n.cssClasses.handleLower):t===n.handles-1&&addClass(o,n.cssClasses.handleUpper),r}function addConnect(e,t){return!!t&&addNodeTo(e,n.cssClasses.connect)}function addTooltip(e,t){return!!n.tooltips[t]&&addNodeTo(e.firstChild,n.cssClasses.tooltip)}function addMarking(e,t,r){var o=y.createElement("div"),i=[n.cssClasses.valueNormal,n.cssClasses.valueLarge,n.cssClasses.valueSub],a=[n.cssClasses.markerNormal,n.cssClasses.markerLarge,n.cssClasses.markerSub],s=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],l=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function getClasses(e,t){var r=t===n.cssClasses.value,o=r?s:l,c=r?i:a;return t+" "+o[n.ort]+" "+c[e]}return addClass(o,n.cssClasses.pips),addClass(o,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach(function(i){!function addSpread(e,i){i[1]=i[1]&&t?t(i[0],i[1]):i[1];var a=addNodeTo(o,!1);a.className=getClasses(i[1],n.cssClasses.marker),a.style[n.style]=e+"%",i[1]&&((a=addNodeTo(o,!1)).className=getClasses(i[1],n.cssClasses.value),a.setAttribute("data-value",i[0]),a.style[n.style]=e+"%",a.innerText=r.to(i[0]))}(i,e[i])}),o}function removePips(){l&&(function removeElement(e){e.parentElement.removeChild(e)}(l),l=null)}function pips(t){removePips();var n=t.mode,r=t.density||1,o=t.filter||!1,i=t.values||!1,a=t.stepped||!1,s=function getGroup(t,n,r){if("range"===t||"steps"===t)return m.xVal;if("count"===t){if(n<2)throw new Error("noUiSlider ("+e+"): 'values' (>= 2) required for mode 'count'.");var o=n-1,i=100/o;for(n=[];o--;)n[o]=o*i;n.push(100),t="positions"}return"positions"===t?n.map(function(e){return m.fromStepping(r?m.getStep(e):e)}):"values"===t?r?n.map(function(e){return m.fromStepping(m.getStep(m.toStepping(e)))}):n:void 0}(n,i,a),c=function generateSpread(e,t,n){var r={},o=m.xVal[0],i=m.xVal[m.xVal.length-1],a=!1,s=!1,l=0;return(n=function unique(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}(n.slice().sort(function(e,t){return e-t})))[0]!==o&&(n.unshift(o),a=!0),n[n.length-1]!==i&&(n.push(i),s=!0),n.forEach(function(o,i){var c,u,d,f,p,h,g,A,v,y=o,b=n[i+1];if("steps"===t&&(c=m.xNumSteps[i]),c||(c=b-y),!1!==y&&void 0!==b)for(c=Math.max(c,1e-7),u=y;u<=b;u=(u+c).toFixed(7)/1){for(g=(p=(f=m.toStepping(u))-l)/e,v=p/(A=Math.round(g)),d=1;d<=A;d+=1)r[(l+d*v).toFixed(5)]=["x",0];h=n.indexOf(u)>-1?1:"steps"===t?2:0,!i&&a&&(h=0),u===b&&s||(r[f.toFixed(5)]=[u,h]),l=f}}),r}(r,n,s),u=t.format||{to:Math.round};return l=f.appendChild(addMarking(c,o,u))}
/*! In this file: Browser events (not slider events like slide, change); */function baseSize(){var e=o.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||o[t]:e.height||o[t]}function attachEvent(e,t,r,o){var i=function(i){return!!(i=function fixEvent(e,t,n){var r,o,i=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(s=!0),i){var l=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;r=c[0].pageX,o=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;r=u.pageX,o=u.pageY}}return t=t||getPageOffset(y),(a||s)&&(r=e.clientX+t.x,o=e.clientY+t.y),e.pageOffset=t,e.points=[r,o],e.cursor=a||s,e}(i,o.pageOffset,o.target||t))&&!(f.hasAttribute("disabled")&&!o.doNotReject)&&!(function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(f,n.cssClasses.tap)&&!o.doNotReject)&&!(e===c.start&&void 0!==i.buttons&&i.buttons>1)&&(!o.hover||!i.buttons)&&(d||i.preventDefault(),i.calcPoint=i.points[n.ort],void r(i,o))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,i,!!d&&{passive:!0}),a.push([e,i])}),a}function calcPointToPercentage(e){var t=e-function offset(e,t){var n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.documentElement,i=getPageOffset(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),t?n.top+i.y-o.clientTop:n.left+i.x-o.clientLeft}(o,n.ort),r=100*t/baseSize();return r=limit(r),n.dir?100-r:r}function documentLeave(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&eventEnd(e,t)}function eventMove(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return eventEnd(e,t);var r=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint),o=100*r/t.baseSize;moveHandles(r>0,o,t.locations,t.handleNumbers)}function eventEnd(e,t){t.handle&&(removeClass(t.handle,n.cssClasses.active),g-=1),t.listeners.forEach(function(e){b.removeEventListener(e[0],e[1])}),0===g&&(removeClass(f,n.cssClasses.drag),setZindex(),e.cursor&&(w.style.cursor="",w.removeEventListener("selectstart",preventDefault))),t.handleNumbers.forEach(function(e){fireEvent("change",e),fireEvent("set",e),fireEvent("end",e)})}function eventStart(e,t){var r;if(1===t.handleNumbers.length){var o=i[t.handleNumbers[0]];if(o.hasAttribute("disabled"))return!1;r=o.children[0],g+=1,addClass(r,n.cssClasses.active)}e.stopPropagation();var a=[],s=attachEvent(c.move,b,eventMove,{target:e.target,handle:r,listeners:a,startCalcPoint:e.calcPoint,baseSize:baseSize(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:p.slice()}),l=attachEvent(c.end,b,eventEnd,{target:e.target,handle:r,listeners:a,doNotReject:!0,handleNumbers:t.handleNumbers}),u=attachEvent("mouseout",b,documentLeave,{target:e.target,handle:r,listeners:a,doNotReject:!0,handleNumbers:t.handleNumbers});a.push.apply(a,s.concat(l,u)),e.cursor&&(w.style.cursor=getComputedStyle(e.target).cursor,i.length>1&&addClass(f,n.cssClasses.drag),w.addEventListener("selectstart",preventDefault,!1)),t.handleNumbers.forEach(function(e){fireEvent("start",e)})}function eventTap(e){e.stopPropagation();var t=calcPointToPercentage(e.calcPoint),r=function getClosestHandle(e){var t=100,n=!1;return i.forEach(function(r,o){if(!r.hasAttribute("disabled")){var i=Math.abs(p[o]-e);(i<t||100===i&&100===t)&&(n=o,t=i)}}),n}(t);if(!1===r)return!1;n.events.snap||addClassFor(f,n.cssClasses.tap,n.animationDuration),setHandle(r,t,!0,!0),setZindex(),fireEvent("slide",r,!0),fireEvent("update",r,!0),fireEvent("change",r,!0),fireEvent("set",r,!0),n.events.snap&&eventStart(e,{handleNumbers:[r]})}function eventHover(e){var t=calcPointToPercentage(e.calcPoint),n=m.getStep(t),r=m.fromStepping(n);Object.keys(v).forEach(function(e){"hover"===e.split(".")[0]&&v[e].forEach(function(e){e.call(s,r)})})}
/*! In this file: Slider events (not browser events); */
function bindEvent(e,t){v[e]=v[e]||[],v[e].push(t),"update"===e.split(".")[0]&&i.forEach(function(e,t){fireEvent("update",t)})}function fireEvent(e,t,r){Object.keys(v).forEach(function(o){var i=o.split(".")[0];e===i&&v[o].forEach(function(e){e.call(s,A.map(n.format.to),t,A.slice(),r||!1,p.slice())})})}
/*! In this file: Mechanics for slider operation */function toPct(e){return e+"%"}function checkHandlePosition(e,t,r,o,a,s){return i.length>1&&(o&&t>0&&(r=Math.max(r,e[t-1]+n.margin)),a&&t<i.length-1&&(r=Math.min(r,e[t+1]-n.margin))),i.length>1&&n.limit&&(o&&t>0&&(r=Math.min(r,e[t-1]+n.limit)),a&&t<i.length-1&&(r=Math.max(r,e[t+1]-n.limit))),n.padding&&(0===t&&(r=Math.max(r,n.padding[0])),t===i.length-1&&(r=Math.min(r,100-n.padding[1]))),!((r=limit(r=m.getStep(r)))===e[t]&&!s)&&r}function inRuleOrder(e,t){var r=n.ort;return(r?t:e)+", "+(r?e:t)}function moveHandles(e,t,n,r){var o=n.slice(),i=[!e,e],a=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach(function(e,n){var r=checkHandlePosition(o,e,o[e]+t,i[n],a[n],!1);!1===r?t=0:(t=r-o[e],o[e]=r)}):i=a=[!0];var s=!1;r.forEach(function(e,r){s=setHandle(e,n[e]+t,i[r],a[r])||s}),s&&r.forEach(function(e){fireEvent("update",e),fireEvent("slide",e)})}function transformDirection(e,t){return n.dir?100-e-t:e}function setZindex(){h.forEach(function(e){var t=p[e]>50?-1:1,n=3+(i.length+t*e);i[e].style.zIndex=n})}function setHandle(e,t,r,o){return!1!==(t=checkHandlePosition(p,e,t,r,o,!1))&&(function updateHandlePosition(e,t){p[e]=t,A[e]=m.fromStepping(t);var r="translate("+inRuleOrder(toPct(transformDirection(t,0)-_),"0")+")";i[e].style[n.transformRule]=r,updateConnect(e),updateConnect(e+1)}(e,t),!0)}function updateConnect(e){if(a[e]){var t=0,r=100;0!==e&&(t=p[e-1]),e!==a.length-1&&(r=p[e]);var o=r-t,i="translate("+inRuleOrder(toPct(transformDirection(t,o)),"0")+")",s="scale("+inRuleOrder(o/100,"1")+")";a[e].style[n.transformRule]=i+" "+s}}
/*! In this file: All methods eventually exposed in slider.noUiSlider... */function valueSet(e,t){var r=asArray(e),o=void 0===p[0];t=void 0===t||!!t,n.animate&&!o&&addClassFor(f,n.cssClasses.tap,n.animationDuration),h.forEach(function(e){setHandle(e,function resolveToValue(e,t){return null===e||!1===e||void 0===e?p[t]:("number"==typeof e&&(e=String(e)),e=n.format.from(e),!1===(e=m.toStepping(e))||isNaN(e)?p[t]:e)}(r[e],e),!0,!1)}),h.forEach(function(e){setHandle(e,p[e],!0,!0)}),setZindex(),h.forEach(function(e){fireEvent("update",e),null!==r[e]&&t&&fireEvent("set",e)})}function valueGet(){var e=A.map(n.format.to);return 1===e.length?e[0]:e}
/*! In this file: Calls to functions. All other scope_ files define functions only; */
return function addSlider(e){addClass(e,n.cssClasses.target),0===n.dir?addClass(e,n.cssClasses.ltr):addClass(e,n.cssClasses.rtl),0===n.ort?addClass(e,n.cssClasses.horizontal):addClass(e,n.cssClasses.vertical),o=addNodeTo(e,n.cssClasses.base)}(f),function addElements(e,t){var r=addNodeTo(t,n.cssClasses.connects);i=[],(a=[]).push(addConnect(r,e[0]));for(var o=0;o<n.handles;o++)i.push(addOrigin(t,o)),h[o]=o,a.push(addConnect(r,e[o+1]))}(n.connect,o),function bindSliderEvents(e){e.fixed||i.forEach(function(e,t){attachEvent(c.start,e.children[0],eventStart,{handleNumbers:[t]})}),e.tap&&attachEvent(c.start,o,eventTap,{}),e.hover&&attachEvent(c.move,o,eventHover,{hover:!0}),e.drag&&a.forEach(function(t,r){if(!1!==t&&0!==r&&r!==a.length-1){var o=i[r-1],s=i[r],l=[t];addClass(t,n.cssClasses.draggable),e.fixed&&(l.push(o.children[0]),l.push(s.children[0])),l.forEach(function(e){attachEvent(c.start,e,eventStart,{handles:[o,s],handleNumbers:[r-1,r]})})}})}(n.events),valueSet(n.start),s={destroy:function destroy(){for(var e in n.cssClasses)n.cssClasses.hasOwnProperty(e)&&removeClass(f,n.cssClasses[e]);for(;f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider},steps:function getCurrentStep(){return p.map(function(e,t){var n=m.getNearbySteps(e),r=A[t],o=n.thisStep.step,i=null;!1!==o&&r+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-r),i=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?o=null:0===e&&(i=null);var a=m.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(a))),null!==i&&!1!==i&&(i=Number(i.toFixed(a))),[i,o]})},on:bindEvent,off:function removeEvent(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(v).forEach(function(e){var r=e.split(".")[0],o=e.substring(r.length);t&&t!==r||n&&n!==o||delete v[e]})},get:valueGet,set:valueSet,reset:function valueReset(e){valueSet(n.start,e)},__moveHandles:function(e,t,n){moveHandles(e,t,p,n)},options:r,updateOptions:function updateOptions(e,t){var o=valueGet(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(r[t]=e[t])});var a=testOptions(r);i.forEach(function(t){void 0!==e[t]&&(n[t]=a[t])}),m=a.spectrum,n.margin=a.margin,n.limit=a.limit,n.padding=a.padding,n.pips&&pips(n.pips),p=[],valueSet(e.start||o,t)},target:f,removePips:removePips,pips:pips},n.pips&&pips(n.pips),n.tooltips&&function tooltips(){var e=i.map(addTooltip);bindEvent("update",function(t,r,o){if(e[r]){var i=t[r];!0!==n.tooltips[r]&&(i=n.tooltips[r].to(o[r])),e[r].innerHTML=i}})}(),function aria(){bindEvent("update",function(e,t,r,o,a){h.forEach(function(e){var t=i[e],o=checkHandlePosition(p,e,0,!0,!0,!0),s=checkHandlePosition(p,e,100,!0,!0,!0),l=a[e],c=n.ariaFormat.to(r[e]);t.children[0].setAttribute("aria-valuemin",o.toFixed(1)),t.children[0].setAttribute("aria-valuemax",s.toFixed(1)),t.children[0].setAttribute("aria-valuenow",l.toFixed(1)),t.children[0].setAttribute("aria-valuetext",c)})})}(),s}return{version:e,create:function initialize(t,n){if(!t||!t.nodeName)throw new Error("noUiSlider ("+e+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+e+"): Slider was already initialized.");var r=testOptions(n),o=scope(t,r,n);return t.noUiSlider=o,o}}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";(function(e){var r=n(42),o=n(570),i=n.n(o),a=(n(711),n(0)),s=n(1),c=(n(495),n(712),n(55)),u=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=[["#000000","#404040","#808080","#bfbfbf","#ffffff"],["#661414","#b32424","#ff3333","#ff8080","#ffd1d1"],["#66145a","#b3249b","#ff33dd","#ff80ea","#ffd1f7"],["#3d1466","#6b24b3","#9933ff","#bf80ff","#e8d1ff"],["#142266","#243bb3","#3355ff","#8095ff","#d1d9ff"],["#145866","#249bb3","#33ddff","#80eaff","#d1f7ff"],["#14663d","#24b36b","#0fe379","#80ffbf","#d1ffe8"],["#666614","#b3b324","#ffff11","#fdfd94","#ffffd1"],["#664114","#b37224","#ff8d00","#ffc680","#ffead1"]],f=function(t){function ColorPickerComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColorPickerComponent),_possibleConstructorReturn(this,_getPrototypeOf(ColorPickerComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ColorPickerComponent,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ColorPickerComponent,[{key:"getBind",value:function getBind(){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){return e}},{key:"initialize",value:function initialize(e){this.options=e.options,this.model=e.model,this.picker=null,this.setTemplate(i.a),this.listenTo(this,"postRender",this.onPostRender)}},{key:"getModelAttributes",value:function getModelAttributes(){return this.options.value||(this.options.value=this.getModelValue()),Object(c.a)(this.options,{cid:this.cid})}},{key:"onPostRender",value:function onPostRender(){this.destroyPicker(),this.initPicker(),this.$el.addClass(Object(u.a)(this,"options.className","col")),this.$el.css("flex",Object(u.a)(this,"options.flexSize","")),this.$el.css("margin-right",Object(u.a)(this,"options.marginSize",""))}},{key:"initPicker",value:function initPicker(){var e=this;this.picker=this.$el.find("#colorComponent-input-".concat(this.cid)),this.picker.spectrum({color:this.options.value,flat:!1,showInput:!1,showInitial:!0,allowEmpty:!0,localStorageKey:"user_selected_colors",showPaletteOnly:!0,showPalette:!0,palette:d,showButtons:!0,togglePaletteOnly:!0,togglePaletteMoreText:"Color picker",togglePaletteLessText:"Hide color picker",showSelectionPalette:!0,maxSelectionSize:5,chooseText:l("choose"),cancelText:l("cancel"),clickoutFiresChange:!1,containerClassName:"picker-container-"+e.cid,replacerClassName:"btn btn-outline-secondary",preferredFormat:"hex",appendTo:e.el,change:function change(t){e.onColorChange(t)},move:function move(t){e.onColorChange(t)},show:function show(){e.onPickerShow()}}),this.picker.spectrum("set",this.getModelValue())}},{key:"destroyPicker",value:function destroyPicker(){this.picker&&"function"==typeof this.picker.spectrum&&(this.picker.spectrum("destroy"),this.picker.remove()),this.picker=null}},{key:"handleChange",value:function handleChange(t){var n=e(t.currentTarget).val();this.picker.spectrum("set",n),this.updateSetting(n)}},{key:"onColorChange",value:function onColorChange(e){var t=null!==e?"#"+e.toHex():"transparent";if("#000000"===t)return"#ff000000"===(t="#"+e.toHex8())?this.updateSetting("#000000"):(this.$(".settings-color-picker-input").val("transparent"),this.setNewData("transparent"));this.updateSetting(t)}},{key:"onPickerShow",value:function onPickerShow(){var e=this;a.a.subscribeOnce(s.c.IFRAME,function(){e.picker&&e.picker.spectrum("hide")}),a.a.subscribeOnce(s.c.COMPONENT.DROPDOWN,function(){e.picker&&e.picker.spectrum("hide")})}},{key:"updateSetting",value:function updateSetting(e){this.$(".settings-color-picker-input").val(e),this.setNewData(e)}},{key:"remove",value:function remove(){return this.options=null,this.model=null,this.destroyPicker(),_get(_getPrototypeOf(ColorPickerComponent.prototype),"remove",this).call(this)}},{key:"className",get:function get(){return"se-component"}},{key:"events",get:function get(){return{"change .settings-color-picker-input":"handleChange"}}}]),ColorPickerComponent}();t.a=f}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="input-group input-group-sm">\n    <div class="input-group-prepend">\n        <input value="'+l("function"==typeof(i=null!=(i=n.value||(null!=t?t.value:t))?i:s)?i.call(a,{name:"value",hash:{},data:o}):i)+'" id="colorComponent-input-'+l("function"==typeof(i=null!=(i=n.cid||(null!=t?t.cid:t))?i:s)?i.call(a,{name:"cid",hash:{},data:o}):i)+'" type="text" class="sets-colorpicker btn btn-outline-secondary"/>\n    </div>\n    <input type="text" class="d-inline form-control settings-color-picker-input" value="'+l("function"==typeof(i=null!=(i=n.value||(null!=t?t.value:t))?i:s)?i.call(a,{name:"value",hash:{},data:o}):i)+'">\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <input autofocus="autofocus" type="'+l("function"==typeof(i=null!=(i=n.type||(null!=t?t.type:t))?i:s)?i.call(a,{name:"type",hash:{},data:o}):i)+'" placeholder="'+l("function"==typeof(i=null!=(i=n.placeholder||(null!=t?t.placeholder:t))?i:s)?i.call(a,{name:"placeholder",hash:{},data:o}):i)+'" value="'+l("function"==typeof(i=null!=(i=n.value||(null!=t?t.value:t))?i:s)?i.call(a,{name:"value",hash:{},data:o}):i)+'" class="form-control sets-input '+l("function"==typeof(i=null!=(i=n.classes||(null!=t?t.classes:t))?i:s)?i.call(a,{name:"classes",hash:{},data:o}):i)+'" aria-label="Small" aria-describedby="inputGroup-sizing-lg">\n'},3:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return(null!=(i=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+'    <div class="input-group input-group-sm">\n'+(null!=(i=n.if.call(s,null!=t?t.prependText:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+'        <input autofocus="autofocus" type="'+c("function"==typeof(a=null!=(a=n.type||(null!=t?t.type:t))?a:l)?a.call(s,{name:"type",hash:{},data:o}):a)+'" placeholder="'+c("function"==typeof(a=null!=(a=n.placeholder||(null!=t?t.placeholder:t))?a:l)?a.call(s,{name:"placeholder",hash:{},data:o}):a)+'" value="'+c("function"==typeof(a=null!=(a=n.value||(null!=t?t.value:t))?a:l)?a.call(s,{name:"value",hash:{},data:o}):a)+'" class="form-control sets-input '+c("function"==typeof(a=null!=(a=n.classes||(null!=t?t.classes:t))?a:l)?a.call(s,{name:"classes",hash:{},data:o}):a)+'" aria-label="Small" aria-describedby="inputGroup-sizing-lg">\n'+(null!=(i=n.if.call(s,null!=t?t.appendElement:t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o}))?i:"")+"    </div>\n"},4:function(e,t,n,r,o){var i;return'        <span class="title">\n            '+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n        </span>\n"},6:function(e,t,n,r,o){var i,a;return'            <div class="input-group-prepend">\n                <span class="input-group-text preAppendBorders " id="basic-addon3">'+(null!=(i="function"==typeof(a=null!=(a=n.prependText||(null!=t?t.prependText:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"prependText",hash:{},data:o}):a)?i:"")+"</span>\n            </div>\n"},8:function(e,t,n,r,o){var i,a;return'        <div class="input-group-append">\n            '+(null!=(i="function"==typeof(a=null!=(a=n.appendElement||(null!=t?t.appendElement:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"appendElement",hash:{},data:o}):a)?i:"")+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.inputOnly:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <span class="se-controls-title ext-muted" style = "padding-right:'+l("function"==typeof(i=null!=(i=n.paddingRight||(null!=t?t.paddingRight:t))?i:s)?i.call(a,{name:"paddingRight",hash:{},data:o}):i)+"; padding-left: "+l("function"==typeof(i=null!=(i=n.paddingLeft||(null!=t?t.paddingLeft:t))?i:s)?i.call(a,{name:"paddingLeft",hash:{},data:o}):i)+'" >\n        '+l("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:s)?i.call(a,{name:"title",hash:{},data:o}):i)+"\n    </span>\n"},3:function(e,t,n,r,o){var i;return" "+e.escapeExpression("function"==typeof(i=null!=(i=n.pillWidth||(null!=t?t.pillWidth:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"pillWidth",hash:{},data:o}):i)+" "},5:function(e,t,n,r,o){return" 43px"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c="function",u=e.escapeExpression;return'\x3c!--<label for="inputPill'+u(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)===c?a.call(s,{name:"title",hash:{},data:o}):a)+'">'+u(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)===c?a.call(s,{name:"title",hash:{},data:o}):a)+"</label>--\x3e\n"+(null!=(i=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'<div class="input-group input-group-sm" style = "padding-right:'+u(typeof(a=null!=(a=n.paddingRight||(null!=t?t.paddingRight:t))?a:l)===c?a.call(s,{name:"paddingRight",hash:{},data:o}):a)+"; padding-left: "+u(typeof(a=null!=(a=n.paddingLeft||(null!=t?t.paddingLeft:t))?a:l)===c?a.call(s,{name:"paddingLeft",hash:{},data:o}):a)+';">\n    <div class="input-group-prepend">\n        <button class="btn btn-sm btn-outline-secondary pill-input-subtract" style = "width: '+(null!=(i=n.if.call(s,null!=t?t.pillWidth:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+';" type="button"><i class="fas fa-minus"></i></button>\n    </div>\n    <input type="number" id="inputPill'+u(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)===c?a.call(s,{name:"title",hash:{},data:o}):a)+'" class="form-control pill-input-field" value="'+u(typeof(a=null!=(a=n.value||(null!=t?t.value:t))?a:l)===c?a.call(s,{name:"value",hash:{},data:o}):a)+'" min="'+u(typeof(a=null!=(a=n.min||(null!=t?t.min:t))?a:l)===c?a.call(s,{name:"min",hash:{},data:o}):a)+'" max="'+u(typeof(a=null!=(a=n.max||(null!=t?t.max:t))?a:l)===c?a.call(s,{name:"max",hash:{},data:o}):a)+'" step="'+u(typeof(a=null!=(a=n.step||(null!=t?t.step:t))?a:l)===c?a.call(s,{name:"step",hash:{},data:o}):a)+'">\n    <div class="input-group-append">\n        <button class="btn btn-sm btn-outline-secondary pill-input-add" style = "width: '+(null!=(i=n.if.call(s,null!=t?t.pillWidth:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+';" type="button"><i class="fas fa-plus"></i></button>\n    </div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <div class="icon-remove-image">\n            <i class="fas fa-times fa-inverse"></i>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return"<div style=\"\n    display: block;\n    width: 100%;\n    height: 57px;\n    background: url('"+e.escapeExpression(e.lambda(null!=t?t.image:t,t))+'\') no-repeat center center;\n    background-origin: border-box;\n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n        "\n     class="img-thumbnail rounded img-fluid img-circle"\n>\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div>\n    <button class="se-btn-component-click shadow-none '+l((n.OR||t&&t.OR||s).call(a,null!=t?t.className:t,"btn btn-secondary",{name:"OR",hash:{},data:o}))+" image-choose "+l("function"==typeof(i=null!=(i=n.buttonComponentCustomClass||(null!=t?t.buttonComponentCustomClass:t))?i:s)?i.call(a,{name:"buttonComponentCustomClass",hash:{},data:o}):i)+'">'+l(e.lambda(null!=t?t.title:t,t))+"</button>\n</div>\n"},useData:!0})},function(e,t,n){"use strict";(function(e,r){var o=n(42),i=n(576),a=n.n(i);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){function ButtonGroupComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroupComponent),_possibleConstructorReturn(this,_getPrototypeOf(ButtonGroupComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ButtonGroupComponent,o["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ButtonGroupComponent,[{key:"initialize",value:function initialize(e){this.options=e.options,this.listenTo(this.model,"change:".concat(this.options.bind),this.render)}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){return this.$(e.currentTarget).data().value}},{key:"handleClick",value:function handleClick(t){this.$el.find(".buttonGroup-button").each(function(t,n){e(n).parent().removeClass("active")}),e(t.currentTarget).parent().button("toggle"),this.setNewData(t)}},{key:"render",value:function render(){return this.delegateEvents(),this.options.value=this.getModelValue(),this.$el.html(a()(this.options)),this}},{key:"className",get:function get(){return r.get(this.options,"className","col")}},{key:"events",get:function get(){return{"click .buttonGroup-button":"handleClick"}}}]),ButtonGroupComponent}();t.a=s}).call(this,n(22),n(24))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a;return'    <span class="title d-block">\n        '+(null!=(i="function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):a)?i:"")+"\n    </span>\n"},3:function(e,t,n,r,o){var i;return"btn-group-"+e.escapeExpression("function"==typeof(i=null!=(i=n.size||(null!=t?t.size:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"size",hash:{},data:o}):i)},5:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.lambda,f=e.escapeExpression;return'        <label class="d-flex shadow-none  justify-content-center  align-items-center '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=a[1]?a[1].value:a[1],null!=t?t.value:t,{name:"ifEquals",hash:{},fn:e.program(6,o,0,i,a),inverse:e.noop,data:o}))?s:"")+" btn "+f(d(null!=t?t.class:t,t))+" "+(null!=(s=n.if.call(c,null!=t?t.type:t,{name:"if",hash:{},fn:e.program(8,o,0,i,a),inverse:e.program(10,o,0,i,a),data:o}))?s:"")+'">\n            <input  data-bind="'+(null!=(s=n.if.call(c,null!=t?t.bind:t,{name:"if",hash:{},fn:e.program(12,o,0,i,a),inverse:e.program(14,o,0,i,a),data:o}))?s:"")+'"\n                    data-value="'+f(d(null!=t?t.value:t,t))+'"\n                    data-index="'+f("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'"\n                    class="buttonGroup-button" type="radio" name="buttonGroup'+f(d(null!=a[1]?a[1].id:a[1],t))+"_"+f("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" id="buttonGroup'+f(d(null!=a[1]?a[1].id:a[1],t))+"_"+f("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" autocomplete="off" checked>\n'+(null!=(s=n.if.call(c,null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(16,o,0,i,a),inverse:e.noop,data:o}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.image:t,{name:"if",hash:{},fn:e.program(18,o,0,i,a),inverse:e.noop,data:o}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.text:t,{name:"if",hash:{},fn:e.program(23,o,0,i,a),inverse:e.noop,data:o}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(25,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"        </label>\n"},6:function(e,t,n,r,o){return" active "},8:function(e,t,n,r,o){return"btn-"+e.escapeExpression(e.lambda(null!=t?t.type:t,t))},10:function(e,t,n,r,o,i,a){return"btn-"+e.escapeExpression(e.lambda(null!=a[1]?a[1].buttonStyle:a[1],t))},12:function(e,t,n,r,o){return e.escapeExpression(e.lambda(null!=t?t.bind:t,t))},14:function(e,t,n,r,o,i,a){return e.escapeExpression(e.lambda(null!=a[1]?a[1].bind:a[1],t))},16:function(e,t,n,r,o){return'                <i class="fas fa-'+e.escapeExpression(e.lambda(null!=t?t.icon:t,t))+'"></i>\n'},18:function(e,t,n,r,o){var i;return'                <img src="'+e.escapeExpression(e.lambda(null!=t?t.image:t,t))+'" alt="Button icon"  class="'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.imgClasses:t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.program(21,o,0),data:o}))?i:"")+'">\n'},19:function(e,t,n,r,o){var i,a;return" "+(null!=(i="function"==typeof(a=null!=(a=n.imgClasses||(null!=t?t.imgClasses:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"imgClasses",hash:{},data:o}):a)?i:"")+" "},21:function(e,t,n,r,o){return"p-1"},23:function(e,t,n,r,o){var i,a,s=e.lambda,l=e.escapeExpression;return'                <span style="font-size: '+l(s(null!=t?t.fontSize:t,t))+"; font-weight: "+l(s(null!=t?t.fontWeight:t,t))+"; margin: "+(null!=(i="function"==typeof(a=null!=(a=n.spanMargin||(null!=t?t.spanMargin:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"spanMargin",hash:{},data:o}):a)?i:"")+';"> '+(null!=(i=s(null!=t?t.text:t,t))?i:"")+" </span>\n"},25:function(e,t,n,r,o){var i;return"                "+(null!=(i=e.lambda(null!=t?t.title:t,t))?i:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{};return(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'<div class="btn-group btn-group-toggle mb-1 d-flex '+e.escapeExpression("function"==typeof(l=null!=(l=n.containerClass||(null!=t?t.containerClass:t))?l:n.helperMissing)?l.call(c,{name:"containerClass",hash:{},data:o}):l)+" "+(null!=(s=n.if.call(c,null!=t?t.size:t,{name:"if",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'"\n     role="group">\n'+(null!=(s=n.each.call(c,null!=t?t.buttons:t,{name:"each",hash:{},fn:e.program(5,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"</div>"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";(function(e){var r=n(578),o=n.n(r),i=n(42),a=n(0),s=n(1),l=n(29),c=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(t){function DropdownComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DropdownComponent),_possibleConstructorReturn(this,_getPrototypeOf(DropdownComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(DropdownComponent,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(DropdownComponent,[{key:"initialize",value:function initialize(e){this.options=e.options}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(t){return e(t.currentTarget).data("value")}},{key:"updateSetting",value:function updateSetting(e){return this.setNewData(e),this.render(),this}},{key:"render",value:function render(){var e=this;return this.delegateEvents(null),this.$el.attr(this.options.attributes||{}),this.options.selected=this.getModelValue(),Object(l.a)(this.options.drops,function(t){t.value===e.options.selected&&(e.options.selectedTitle=t.title)}),this.$el.html(o()(this.options)),this.$el.addClass(Object(c.a)(this,"options.componentClass","col")),this}},{key:"make",value:function make(){return this.render().$el.contents()}},{key:"dropdownCLicked",value:function dropdownCLicked(){a.a.publish(s.c.COMPONENT.DROPDOWN)}},{key:"events",get:function get(){return{"click .sets-dropdown":"updateSetting",mouseup:"dropdownCLicked"}}},{key:"className",get:function get(){return"se-component dropdown"}}]),DropdownComponent}();t.a=u}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" font-dropdown"},3:function(e,t,n,r,o,i,a){var s,l=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'        <a        style="'+(null!=(s=n.if.call(l,null!=a[1]?a[1].mapCustomStylesToValue:a[1],{name:"if",hash:{},fn:e.program(4,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'"\n                  class="dropdown-item sets-dropdown '+(null!=(s=(n.ifEquals||t&&t.ifEquals||n.helperMissing).call(l,null!=t?t.value:t,null!=a[1]?a[1].selected:a[1],{name:"ifEquals",hash:{},fn:e.program(6,o,0,i,a),inverse:e.noop,data:o}))?s:"")+" "+u(c(null!=a[1]?a[1].customItemClass:a[1],t))+" "+u(c(null!=t?t.className:t,t))+'"\n           href="#" data-title="'+u(c(null!=t?t.title:t,t))+'" data-value="'+u(c(null!=t?t.value:t,t))+'">\n            '+(null!=(s=c(null!=t?t.title:t,t))?s:"")+"\n        </a>\n"},4:function(e,t,n,r,o,i,a){var s=e.lambda,l=e.escapeExpression;return l(s(null!=a[1]?a[1].mapCustomStylesToValue:a[1],t))+":"+l(s(null!=t?t.value:t,t))+";"},6:function(e,t,n,r,o){return" active "},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f="function";return'<button class="'+d((n.OR||t&&t.OR||u).call(c,null!=t?t.buttonClass:t,"btn btn-sm shadow-none btn-outline-secondary",{name:"OR",hash:{},data:o}))+"\n                "+d((n.OR||t&&t.OR||u).call(c,null!=t?t.textAlign:t,"text-left",{name:"OR",hash:{},data:o}))+"\n                "+d((n.OR||t&&t.OR||u).call(c,null!=t?t.width:t,"w-100",{name:"OR",hash:{},data:o}))+"  dropdown-toggle\n                "+(null!=(s=n.if.call(c,null!=t?t.chevronRight:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'" type="button"\n        id="dropdownMenuButton_'+d(typeof(l=null!=(l=n.bind||(null!=t?t.bind:t))?l:u)===f?l.call(c,{name:"bind",hash:{},data:o}):l)+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style=" padding-left: '+d(typeof(l=null!=(l=n.dropPaddingLeft||(null!=t?t.dropPaddingLeft:t))?l:u)===f?l.call(c,{name:"dropPaddingLeft",hash:{},data:o}):l)+";width:"+d(typeof(l=null!=(l=n.dropdownWidth||(null!=t?t.dropdownWidth:t))?l:u)===f?l.call(c,{name:"dropdownWidth",hash:{},data:o}):l)+"!important; flex:"+d(typeof(l=null!=(l=n.dropdownFlex||(null!=t?t.dropdownFlex:t))?l:u)===f?l.call(c,{name:"dropdownFlex",hash:{},data:o}):l)+';">\n    '+(null!=(s=(n.OR||t&&t.OR||u).call(c,null!=t?t.selectedTitle:t,null!=t?t.emptyPlaceholder:t,null!=t?t.l:t,"Choose...",{name:"OR",hash:{},data:o}))?s:"")+'\n</button>\n<div class="sender-settings-dropdown shadow-none dropdown-menu pre-scrollable '+d((n.OR||t&&t.OR||u).call(c,null!=t?t.textAlign:t,"text-left",{name:"OR",hash:{},data:o}))+" "+d((n.OR||t&&t.OR||u).call(c,null!=t?t.width:t,"w-100",{name:"OR",hash:{},data:o}))+" "+d(typeof(l=null!=(l=n.dropdownMenuClass||(null!=t?t.dropdownMenuClass:t))?l:u)===f?l.call(c,{name:"dropdownMenuClass",hash:{},data:o}):l)+'" aria-labelledby="dropdownMenuButton_'+d(typeof(l=null!=(l=n.bind||(null!=t?t.bind:t))?l:u)===f?l.call(c,{name:"bind",hash:{},data:o}):l)+'">\n'+(null!=(s=n.each.call(c,null!=t?t.drops:t,{name:"each",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";(function(e){var r=n(580),o=n.n(r),i=n(42),a=(n(237),n(581)),s=n(29),l=n(11),c=n(3),u=n(1),d=n(0);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(t){function SortingComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SortingComponent),_possibleConstructorReturn(this,_getPrototypeOf(SortingComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SortingComponent,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SortingComponent,[{key:"initialize",value:function initialize(e){this.options=e.options,this.icons=this.model.get(this.options.bind),this.listenTo(this.model,"change:styleType",this.render)}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){return this.icons}},{key:"changeIcon",value:function changeIcon(t){var n=this,r=e(t.currentTarget).data("key");"custom"===e(t.currentTarget).data("value")&&(this.icons[r].customUrl=window.SENDER_ENDPOINT+"/email-editor/static/img/socialIconPlaceholder.png",d.a.publish(u.g.OPEN,{provider:"UserImages",model:this.model,beforeSet:function beforeSet(e){n.icons[r].customUrl=e.attributes.previewUrl,n.setNewData(t,function(){n.render()})}})),this.icons[r].mediaType=e(t.currentTarget).data("value"),this.setNewData(t,function(){n.render()})}},{key:"changeHref",value:function changeHref(t){var n=this,r=e(t.currentTarget).data("key");this.icons[r].href=t.currentTarget.value,this.setNewData(t,function(){n.render()})}},{key:"changeTextPosition",value:function changeTextPosition(t){var n=this,r=e(t.currentTarget).data("key"),o=e(t.currentTarget).data("val");this.icons[r].textPosition=o,this.setNewData(t,function(){n.render()})}},{key:"changeText",value:function changeText(t){var n=e(t.currentTarget).data("key");this.icons[n].text=t.currentTarget.value,this.setNewData()}},{key:"removeIcon",value:function removeIcon(t){var n=this,r=e(t.currentTarget).data("key");this.icons.splice(r,1),this.setNewData(t,function(){n.render()})}},{key:"addDefaultIcon",value:function addDefaultIcon(e){var t=this;this.icons.push({title:"Facebook",href:"https://www.facebook.com",mediaType:"facebook",textPosition:"right"}),this.setNewData(e,function(){t.render()})}},{key:"render",value:function render(){var e=this;this.delegateEvents(),this.$el.html(o()(this.options));var t=this.options;t.styleType=this.model.getAttributes("styleType");var n=this.$el.find(".sortable-holder"),r=[];Object(s.a)(this.icons,function(n,o){0===o||e.icons.length;t.icon=n,t.key=o;var i=new a.a({options:t,setting:e});r.push(i.render().el)}),n.append(r);var i=this;return this.$el.find(".sortable-holder").sortable({group:r,handle:".sorting-handle",animation:150,onEnd:function onEnd(e){if(e.oldIndex===e.newIndex)return!0;i.icons=c.a.sortArrayByChange(i.icons,e.oldIndex,e.newIndex),i.setNewData()}}),this}},{key:"className",get:function get(){return Object(l.a)(this.options,"className","col")}},{key:"events",get:function get(){return{"click .add-social-icon":"addDefaultIcon"}}}]),SortingComponent}();t.a=f}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'\n<div class="sortable-holder container-fluid">\n\n</div>\n<div class="sorting-component-add-sortable">\n    <button class="float-left sorting-component-add-sortable add-social-icon btn btn-secondary">'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Add social icon",{name:"l",hash:{},data:o}))+"</button>\n</div>\n"},useData:!0})},function(e,t,n){"use strict";var r=n(582),o=n.n(r),i=(n(237),n(227)),a=n(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function SortableComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SortableComponent),_possibleConstructorReturn(this,_getPrototypeOf(SortableComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SortableComponent,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SortableComponent,[{key:"initialize",value:function initialize(e){this.options=e.options,this.setting=e.setting}},{key:"changeIcon",value:function changeIcon(e){this.setting.changeIcon(e),this.setting.render()}},{key:"changeHref",value:function changeHref(e){return this.setting.changeHref(e)}},{key:"changeTextPosition",value:function changeTextPosition(e){return this.setting.changeTextPosition(e)}},{key:"changeText",value:function changeText(e){return this.setting.changeText(e)}},{key:"removeIcon",value:function removeIcon(e){return 1===this.setting.icons.length?(a.a.toast({type:null,title:l("Cannot delete last social icon!")}),!1):this.setting.removeIcon(e)}},{key:"render",value:function render(){return this.delegateEvents(),this.$el.html(o()(this.options)),this}},{key:"className",get:function get(){return"mb-2 sortable-component data-key-"+this.cid}},{key:"events",get:function get(){return{"click .social-icon-remove":"removeIcon","click .social-icon-change":"changeIcon","click .position-arrow":"changeTextPosition","change .social-icon-href":"changeHref","input .social-icon-text":"changeText"}}}]),SortableComponent}();t.a=s},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return'                            <img srcset="'+s(a(null!=(i=null!=t?t.icon:t)?i.customUrl:i,t))+'"\n                                 src="'+s(a(null!=(i=null!=t?t.icon:t)?i.customUrl:i,t))+'"\n                                 width="22px"\n                                 alt="'+s(a(null!=(i=null!=t?t.icon:t)?i.mediaType:i,t))+s((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"icon",{name:"l",hash:{},data:o}))+'">\n'},3:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'                            <img srcset="'+c("function"==typeof(a=null!=(a=n.iconsFolder||(null!=t?t.iconsFolder:t))?a:l)?a.call(s,{name:"iconsFolder",hash:{},data:o}):a)+"/128/"+c("function"==typeof(a=null!=(a=n.styleType||(null!=t?t.styleType:t))?a:l)?a.call(s,{name:"styleType",hash:{},data:o}):a)+"/"+c(u(null!=(i=null!=t?t.icon:t)?i.mediaType:i,t))+'.png 2x"\n                                 src="'+c("function"==typeof(a=null!=(a=n.iconsFolder||(null!=t?t.iconsFolder:t))?a:l)?a.call(s,{name:"iconsFolder",hash:{},data:o}):a)+"/64/"+c("function"==typeof(a=null!=(a=n.styleType||(null!=t?t.styleType:t))?a:l)?a.call(s,{name:"styleType",hash:{},data:o}):a)+"/"+c(u(null!=(i=null!=t?t.icon:t)?i.mediaType:i,t))+'.png"\n                                 width="22px"\n                                 alt="'+c(u(null!=(i=null!=t?t.icon:t)?i.mediaType:i,t))+c((n.l||t&&t.l||l).call(s,"icon",{name:"l",hash:{},data:o}))+'">\n'},5:function(e,t,n,r,o,i,a){var s;return null!=(s=(n.ifEquals||t&&t.ifEquals||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(s=i[0][0])?s.value:s,"custom",{name:"ifEquals",hash:{},fn:e.program(6,o,0,i,a),inverse:e.program(8,o,0,i,a),data:o,blockParams:i}))?s:""},6:function(e,t,n,r,o,i,a){var s=e.escapeExpression,l=e.lambda;return'                            <span class="social-icon-change social-custom-icon" title="'+s((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Add custom icon",{name:"l",hash:{},data:o}))+'" data-key="'+s(l(null!=a[1]?a[1].key:a[1],t))+'" data-value="'+s(l(null!=t?t.value:t,t))+'">\n                                <i class="fas fa-plus-circle" style = "\n                                    font-size: 1.63333em;\n                                    line-height: 0.75em;\n                                    vertical-align: -0.2033em;"></i>\n                            </span>\n'},8:function(e,t,n,r,o,i,a){var s=e.lambda,l=e.escapeExpression;return'                            <span class="social-icon-change" data-key="'+l(s(null!=a[1]?a[1].key:a[1],t))+'" data-value="'+l(s(null!=t?t.value:t,t))+'">\n                            <img srcset="'+l(s(null!=a[1]?a[1].iconsFolder:a[1],t))+"/128/"+l(s(null!=a[1]?a[1].styleType:a[1],t))+"/"+l(s(null!=t?t.value:t,t))+'.png 2x"\n                                 src="'+l(s(null!=a[1]?a[1].iconsFolder:a[1],t))+"/64/"+l(s(null!=a[1]?a[1].styleType:a[1],t))+"/"+l(s(null!=t?t.value:t,t))+'.png"\n                                 width="32px"\n                                 alt="'+l(s(null!=t?t.value:t,t))+l((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"icon",{name:"l",hash:{},data:o}))+'">\n                        </span>\n'},10:function(e,t,n,r,o){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f="function",p=e.lambda;return'<div class="row no-gutters d-flex sortable-row">\n    <div class="col">\n        <span class="sorting-handle pr-1">\n            <img src="'+d((n.global||t&&t.global||u).call(c,"SENDER_ENDPOINT",{name:"global",hash:{},data:o,blockParams:i}))+'email-editor/static/img/drag_icon.svg" alt="'+d((n.l||t&&t.l||u).call(c,null!=t?t.drag:t,{name:"l",hash:{},data:o,blockParams:i}))+'">\n        </span>\n        <span class="button-text"> '+d((n.l||t&&t.l||u).call(c,"SOCIAL ICON",{name:"l",hash:{},data:o,blockParams:i}))+'</span>\n        <span class="float-right social-icon-remove" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" >\n            <img src="'+d((n.global||t&&t.global||u).call(c,"SENDER_ENDPOINT",{name:"global",hash:{},data:o,blockParams:i}))+'email-editor/static/img/remove_icon.png" alt="'+d((n.l||t&&t.l||u).call(c,"remove",{name:"l",hash:{},data:o,blockParams:i}))+'">\n        </span>\n    </div>\n</div>\n<div class="row no-gutters mt-1">\n    <div class="col">\n        <div class="input-group input-group-sm">\n            <div class="input-group-prepend">\n                <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    <span class="icon-selected">\n'+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=(s=null!=t?t.icon:t)?s.mediaType:s,"custom",{name:"ifEquals",hash:{},fn:e.program(1,o,0,i,a),inverse:e.program(3,o,0,i,a),data:o,blockParams:i}))?s:"")+'                    </span>\n                </button>\n                <div class="dropdown-menu scrollable text-center" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 34px, 0px);">\n'+(null!=(s=n.each.call(c,null!=t?t.availableIcons:t,{name:"each",hash:{},fn:e.program(5,o,1,i,a),inverse:e.noop,data:o,blockParams:i}))?s:"")+'                </div>\n            </div>\n            <input type="text" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" style="font-size:11px;" class="form-control social-icon-text" aria-label="Text input with dropdown button" value="'+d(p(null!=(s=null!=t?t.icon:t)?s.text:s,t))+'">\n            <div class="input-group-append">\n                <span class="input-group-text icon-position-arrows">\n                    <div class="row no-gutters">\n                        <div data-val="left" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" class="col left-arrow position-arrow '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=(s=null!=t?t.icon:t)?s.textPosition:s,"left",{name:"ifEquals",hash:{},fn:e.program(10,o,0,i,a),inverse:e.noop,data:o,blockParams:i}))?s:"")+'"><i class="fas fa-angle-left"></i></div>\n                        <div class="col">\n                            <div  data-val="top" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" class="row no-gutters up-arrow position-arrow '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=(s=null!=t?t.icon:t)?s.textPosition:s,"top",{name:"ifEquals",hash:{},fn:e.program(10,o,0,i,a),inverse:e.noop,data:o,blockParams:i}))?s:"")+'">\n                                <i class="fas fa-angle-up"></i>\n                            </div>\n                            <div  data-val="bottom" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" class="row no-gutters down-arrow position-arrow '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=(s=null!=t?t.icon:t)?s.textPosition:s,"bottom",{name:"ifEquals",hash:{},fn:e.program(10,o,0,i,a),inverse:e.noop,data:o,blockParams:i}))?s:"")+'">\n                                <i class="fas fa-angle-down"></i>\n                            </div>\n                        </div>\n                        <div data-val="right" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" class="col right-arrow position-arrow '+(null!=(s=(n.ifEquals||t&&t.ifEquals||u).call(c,null!=(s=null!=t?t.icon:t)?s.textPosition:s,"right",{name:"ifEquals",hash:{},fn:e.program(10,o,0,i,a),inverse:e.noop,data:o,blockParams:i}))?s:"")+'"><i class="fas fa-angle-right"></i></div>\n                    </div>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="row no-gutters d-flex align-items-center mt-1">\n    <div class="input-group input-group-sm">\n        <div class="input-group-prepend">\n                    <span class="input-group-text preAppendBorders">\n                        <i class="fas fa-link"></i>\n                    </span>\n        </div>\n        <input type="text" data-key="'+d(typeof(l=null!=(l=n.key||(null!=t?t.key:t))?l:u)===f?l.call(c,{name:"key",hash:{},data:o,blockParams:i}):l)+'" style="font-size:11px;" class="form-control social-icon-href" aria-label="Text input with dropdown button" value="'+d(p(null!=(s=null!=t?t.icon:t)?s.href:s,t))+'">\n    </div>\n</div>'},useData:!0,useDepths:!0,useBlockParams:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=e.escapeExpression;return'<div class="p-0" id="'+i((n.camel||t&&t.camel||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.title:t,{name:"camel",hash:{},data:o}))+'_group">\n    <span>\n        <small class="se-controls-title ext-muted">'+i(e.lambda(null!=t?t.title:t,t))+'</small>\n    </span>\n</div>\n<div class="px-0 pt-1 pb-2 bg-white ">\n    <div class="se-elements-container row no-gutters" style="display: flex;">\n\n    </div>\n    \x3c!--Elements--\x3e\n</div>\n'},useData:!0})},function(e,t,n){"use strict";(function(e,r){var o=n(585),i=n.n(o),a=n(42),s=(n(237),n(586)),c=n(29),u=n(469),d=n(3),f=(n(495),n(5));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(t){function ButtonGroupSortingComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ButtonGroupSortingComponent),_possibleConstructorReturn(this,_getPrototypeOf(ButtonGroupSortingComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ButtonGroupSortingComponent,a["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ButtonGroupSortingComponent,[{key:"initialize",value:function initialize(e){this.options=e.options,this.buttons=this.model.get(this.options.bind)}},{key:"getBind",value:function getBind(e){return this.options.bind}},{key:"getUserInputValue",value:function getUserInputValue(e){return this.buttons}},{key:"changeHref",value:function changeHref(t){var n=e(t.currentTarget).data("key");this.buttons[n].href=t.currentTarget.value,this.setNewData()}},{key:"removeIcon",value:function removeIcon(t){var n=this,r=e(t.currentTarget).data("key");this.buttons.splice(r,1),this.resetWidth(function(){n.setNewData(t)}),this.render()}},{key:"changeText",value:function changeText(t){var n=e(t.currentTarget).data("key");this.buttons[n].text=t.currentTarget.value,this.setNewData()}},{key:"addDefaultIcon",value:function addDefaultIcon(e){var t=this;if(this.buttons.length>=7)return f.a.toast(l("Maximum 7 buttons alloed")),!1;this.buttons.push({backgroundColor:null,href:"https://www.sender.net",text:l("Button text")}),this.resetWidth(function(){t.setNewData(e)}),this.render()}},{key:"changeColor",value:function changeColor(e,t){this.buttons[t].backgroundColor=e,this.setNewData()}},{key:"render",value:function render(){var e=this;this.delegateEvents(),this.$el.html(i()({buttons:this.buttons}));var t=this.options,n=this.$el.find(".sortable-holder"),r=[];Object(c.a)(this.buttons,function(n,o){var i=0===o?"-down":o===e.buttons.length-1?"-up":"";t.button=n,t.key=o,t.position=i;var a=new s.a({options:t,setting:e,model:e.model});r.push(a.render().el)}),n.append(r);var o=this;return this.$el.find(".sortable-holder").sortable({group:r,handle:".sorting-handle",animation:150,onEnd:function onEnd(e){if(e.oldIndex===e.newIndex)return!0;o.buttons=d.a.sortArrayByChange(o.buttons,e.oldIndex,e.newIndex),o.setNewData(),o.render()}}),this}},{key:"resetWidth",value:function resetWidth(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.buttons.length;Object(c.a)(this.buttons,function(t,r){Object(u.a)(e,"buttons."+r+".containerWidth",100/n)}),this.model.set({leftSpacing:0,rightSpacing:0},{silent:!0}),"function"==typeof t&&t()}},{key:"className",get:function get(){return r.get(this.options,"className","col")}},{key:"events",get:function get(){return{"click .sorting-component-add-sortable":"addDefaultIcon"}}}]),ButtonGroupSortingComponent}();t.a=p}).call(this,n(22),n(24))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" disabled "},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'\n<div class="sortable-holder container-fluid">\n\n</div>\n<div>\n    <button class="float-left add-sortable-button sorting-component-add-sortable btn btn-secondary" '+(null!=(i=(n.longerThan||t&&t.longerThan||s).call(a,null!=t?t.buttons:t,6,{name:"longerThan",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+">"+e.escapeExpression((n.l||t&&t.l||s).call(a,"Add button",{name:"l",hash:{},data:o}))+"</button>\n</div>\n"},useData:!0})},function(e,t,n){"use strict";var r=n(587),o=n.n(r),i=(n(237),n(227),n(0)),a=n(1),s=n(11),c=n(5),u=n(42);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=[["#000000","#404040","#808080","#bfbfbf","#ffffff"],["#661414","#b32424","#ff3333","#ff8080","#ffd1d1"],["#66145a","#b3249b","#ff33dd","#ff80ea","#ffd1f7"],["#3d1466","#6b24b3","#9933ff","#bf80ff","#e8d1ff"],["#142266","#243bb3","#3355ff","#8095ff","#d1d9ff"],["#145866","#249bb3","#33ddff","#80eaff","#d1f7ff"],["#14663d","#24b36b","#0fe379","#80ffbf","#d1ffe8"],["#666614","#b3b324","#ffff11","#fdfd94","#ffffd1"],["#664114","#b37224","#ff8d00","#ffc680","#ffead1"]],f=function(e){function SortableButtonComponent(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SortableButtonComponent),_possibleConstructorReturn(this,_getPrototypeOf(SortableButtonComponent).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SortableButtonComponent,u["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SortableButtonComponent,[{key:"initialize",value:function initialize(e){this.options=e.options,this.setting=e.setting,this.picker=null,this.setTemplate(o.a),this.listenTo(this,"postRender",this.onPostRender)}},{key:"changeText",value:function changeText(e){return this.setting.changeText(e)}},{key:"changeHref",value:function changeHref(e){return this.setting.changeHref(e)}},{key:"removeIcon",value:function removeIcon(e){return 1===this.setting.buttons.length?(c.a.toast({type:null,title:l("Cannot delete last button!")}),!1):this.setting.removeIcon(e)}},{key:"onPostRender",value:function onPostRender(){this.destroyPicker(),this.initPicker(),this.$el.addClass(Object(s.a)(this,"options.className","col"))}},{key:"initPicker",value:function initPicker(){var e=this,t=this;this.picker=this.$el.find(".spectrum-holder"),this.picker.spectrum({color:this.options.value,flat:!1,showInput:!0,showInitial:!0,allowEmpty:!0,localStorageKey:"user_selected_colors",showPaletteOnly:!0,showPalette:!0,palette:d,showButtons:!0,togglePaletteOnly:!0,togglePaletteMoreText:"Color picker",togglePaletteLessText:"Hide color picker",showSelectionPalette:!0,maxSelectionSize:5,chooseText:l("choose"),cancelText:l("cancel"),clickoutFiresChange:!0,containerClassName:"picker-container-"+t.cid,replacerClassName:"btn btn-outline-secondary",preferredFormat:"hex",appendTo:t.el,change:function change(n){t.onColorChange(n,e.picker.data("key"))},move:function move(n){t.onColorChange(n,e.picker.data("key"))},show:function show(){t.onPickerShow()}}),this.picker.spectrum("set",this.options.button.backgroundColor||this.model.attributes.backgroundColor||this.model.currentTheme.backgroundColor)}},{key:"onColorChange",value:function onColorChange(e,t){var n=null!==e?"#"+e.toHex():"transparent";if("#000000"===n)return"#ff000000"===(n="#"+e.toHex8())?this.setting.changeColor("#000000",t):this.setting.changeColor("transparent",t);this.setting.changeColor(n,t)}},{key:"onPickerShow",value:function onPickerShow(){var e=this;i.a.subscribeOnce(a.c.IFRAME,function(){e.picker&&e.picker.spectrum("hide")})}},{key:"destroyPicker",value:function destroyPicker(){this.picker&&"function"==typeof this.picker.spectrum&&(this.picker.spectrum("destroy"),this.picker.remove()),this.picker=null}},{key:"getModelAttributes",value:function getModelAttributes(){return this.options}},{key:"className",get:function get(){return"mb-2 sortable-component data-key-"+this.cid}},{key:"events",get:function get(){return{"click .icon-remove":"removeIcon","change .button-href":"changeHref","input .button-text-input":"changeText"}}}]),SortableButtonComponent}();t.a=f},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression,u=e.lambda;return'<div class="row no-gutters d-flex">\n    <div class="col-10">\n        <span class="sorting-handle pr-1">\n            <img src="'+c((n.global||t&&t.global||l).call(s,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'email-editor/static/img/drag_icon.svg" alt="'+c((n.l||t&&t.l||l).call(s,null!=t?t.drag:t,{name:"l",hash:{},data:o}))+'">\n        </span>\n        <span class="button-text"> '+c((n.l||t&&t.l||l).call(s,"BUTTON",{name:"l",hash:{},data:o}))+'</span>\n    </div>\n    <div class="col d-flex justify-content-end">\n        <span class="pull-right icon-remove" data-key="'+c("function"==typeof(a=null!=(a=n.key||(null!=t?t.key:t))?a:l)?a.call(s,{name:"key",hash:{},data:o}):a)+'" >\n            <img src="'+c((n.global||t&&t.global||l).call(s,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'email-editor/static/img/remove_icon.png" alt="'+c((n.l||t&&t.l||l).call(s,"remove",{name:"l",hash:{},data:o}))+'">\n        </span>\n    </div>\n</div>\n<div class="row no-gutters">\n    <div class="col">\n        <div class="row no-gutters d-flex align-items-center mt-1">\n            <div class="col">\n                <div class="input-group input-group-sm">\n                    <div class="input-group-prepend">\n                        <input data-key="'+c("function"==typeof(a=null!=(a=n.key||(null!=t?t.key:t))?a:l)?a.call(s,{name:"key",hash:{},data:o}):a)+'" value="'+c(u(null!=(i=null!=t?t.button:t)?i.color:i,t))+'" type="text" class="spectrum-holder input-group-text"/>\n                    </div>\n                    <input type="text" data-key="'+c("function"==typeof(a=null!=(a=n.key||(null!=t?t.key:t))?a:l)?a.call(s,{name:"key",hash:{},data:o}):a)+'" class="form-control button-text-input" aria-label="Text input with dropdown button" value="'+c(u(null!=(i=null!=t?t.button:t)?i.text:i,t))+'">\n                </div>\n            </div>\n        </div>\n        <div class="row no-gutters d-flex align-items-center mt-1">\n            <div class="input-group input-group-sm">\n                <div class="input-group-prepend">\n                    <span class="input-group-text preAppendBorders">\n                        <i class="fas fa-link"></i>\n                    </span>\n                </div>\n                <input type="text" data-key="'+c("function"==typeof(a=null!=(a=n.key||(null!=t?t.key:t))?a:l)?a.call(s,{name:"key",hash:{},data:o}):a)+'" style="font-size:11px;" class="form-control button-href" aria-label="Text input with dropdown button" value="'+c(u(null!=(i=null!=t?t.button:t)?i.href:i,t))+'">\n            </div>\n        </div>\n    </div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <textarea class="form-control sets-input '+l("function"==typeof(i=null!=(i=n.classes||(null!=t?t.classes:t))?i:s)?i.call(a,{name:"classes",hash:{},data:o}):i)+'" rows="6" placeholder="'+l("function"==typeof(i=null!=(i=n.placeholder||(null!=t?t.placeholder:t))?i:s)?i.call(a,{name:"placeholder",hash:{},data:o}):i)+'" style="height: 200px !important;">'+l("function"==typeof(i=null!=(i=n.value||(null!=t?t.value:t))?i:s)?i.call(a,{name:"value",hash:{},data:o}):i)+"</textarea>\n"},3:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return(null!=(i=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+'    <div class="form-group">\n        <textarea class="form-control sets-input '+c("function"==typeof(a=null!=(a=n.classes||(null!=t?t.classes:t))?a:l)?a.call(s,{name:"classes",hash:{},data:o}):a)+'" rows="6" placeholder="'+c("function"==typeof(a=null!=(a=n.placeholder||(null!=t?t.placeholder:t))?a:l)?a.call(s,{name:"placeholder",hash:{},data:o}):a)+'" style="height: 200px !important;">'+c("function"==typeof(a=null!=(a=n.value||(null!=t?t.value:t))?a:l)?a.call(s,{name:"value",hash:{},data:o}):a)+"</textarea>\n    </div>\n"},4:function(e,t,n,r,o){var i;return'        <span class="title">\n            '+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.inputOnly:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" checked "},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="theme-customize">\n\n</div>\n<div class="p-2 text-center" style="position: fixed; width: 260px; z-index: 2; border-top: 1px solid #ddd; bottom: 0; background: #fff">\n\n    <div align = "left" class="custom-control custom-checkbox mb-3">\n        <input type="checkbox" class="custom-control-input" id="theme-override" '+(null!=(i=n.if.call(a,null!=t?t.themeOverride:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'>\n        <label class="custom-control-label" for="theme-override">'+l((n.l||t&&t.l||s).call(a,"Override content styling",{name:"l",hash:{},data:o}))+'</label>\n    </div>\n\n    <div class="d-flex justify-content-center">\n        <button class="btn btn-primary save-theme mr-2 w-50">\n            '+l((n.l||t&&t.l||s).call(a,"Save",{name:"l",hash:{},data:o}))+'\n        </button>\n        <button class="btn btn-danger se-reset-theme w-50">\n            '+l((n.l||t&&t.l||s).call(a,"Reset",{name:"l",hash:{},data:o}))+"\n        </button>\n    </div>\n</div>"},useData:!0})},function(e,t,n){"use strict";(function(e){var r=n(591),o=n.n(r),i=n(13),a=n(0),s=n(1),l=n(29),c=n(742);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(t){function TopbarView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopbarView),_possibleConstructorReturn(this,_getPrototypeOf(TopbarView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TopbarView,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(TopbarView,[{key:"preRender",value:function preRender(){var e=this,t=[];Object(l.a)(this.model.get("buttons"),function(n){n.dropDown&&(n.drops=Object(c.a)(e.model.get("dropdown"+n.dropId),["position"],"asc")),t.push(n)}),this.model.set("buttons",t,{silent:!0})}},{key:"initialize",value:function initialize(){this.setTemplate(o.a),this.listenTo(this.model,"change",this.render),this.listenTo(this,"preRender",this.preRender),this.render(),a.a.publish(s.q.LOADED,this.model)}},{key:"events",get:function get(){var t=this,n=arguments;return{"click .btn-secondary.pseudo-arrow":function clickBtnSecondaryPseudoArrow(t){e(".hover-listener").hover(function(t,n,r){null!==t.target.id.replace(/^\D+/g,"")&&void 0!==t.target.id.replace(/^\D+/g,"")&&e("#thumbnail-"+t.target.id.replace(/^\D+/g,"")).css({left:350,top:t.pageY-15}).show()},function(t){if(null!==t.target.id.replace(/^\D+/g,"")&&void 0!==t.target.id.replace(/^\D+/g,""))for(var n=0;n<10;n++)e("#thumbnail-"+n).css({left:350,top:t.pageY-15}).hide()})},"click .dont-close-dropdown":function clickDontCloseDropdown(e){e.stopPropagation()},click:function click(){a.a.publishSync(s.f.DESELECT,t),a.a.publish(s.k.HIDE,t),a.a.publish(s.c.BAR.TOP,t)},"click .se-topbar-button":function clickSeTopbarButton(r){r.stopPropagation();var o=e(r.currentTarget),i=o.data("key"),a=o.data("parent");void 0!==a&&(o.closest(".dropdown-menu").removeClass("show"),o.closest(".dropdown").removeClass("show"));var s=void 0!==a?t.model.get("buttons."+a+".drops."+i):t.model.get("buttons."+i);s.click&&s.click.apply(s.context||t,n)},"click .btn-toggle":function clickBtnToggle(t){e(t.currentTarget).toggleClass("active")}}}}]),TopbarView}();t.a=u}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.buttons:t,{name:"each",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:""},2:function(e,t,n,r,o,i,a){var s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.dropDown:t,{name:"if",hash:{},fn:e.program(3,o,0,i,a),inverse:e.program(18,o,0,i,a),data:o}))?s:""},3:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=e.escapeExpression;return'                    <li class="topbar-dropdown se-topbar-item nav-item mb-1 mb-lg-0">\n                        <div class="btn-group">\n                            <button class="btn se-topbar-button '+(null!=(s=n.if.call(c,null!=t?t.className:t,{name:"if",hash:{},fn:e.program(4,o,0,i,a),inverse:e.program(6,o,0,i,a),data:o}))?s:"")+'" data-key="'+u("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:n.helperMissing)?l.call(c,{name:"index",hash:{},data:o}):l)+'">\n                                <i class="fas '+u(e.lambda(null!=t?t.icon:t,t))+'"></i>\n'+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(8,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                            </button>\n                            <button type="button" class="btn '+(null!=(s=n.if.call(c,null!=t?t.className:t,{name:"if",hash:{},fn:e.program(4,o,0,i,a),inverse:e.program(6,o,0,i,a),data:o}))?s:"")+' dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                                <span class="sr-only">Toggle Dropdown</span>\n                            </button>\n                            <div class="dropdown-menu">\n'+(null!=(s=n.each.call(c,null!=t?t.drops:t,{name:"each",hash:{},fn:e.program(10,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"                            </div>\n                        </div>\n                    </li>\n"},4:function(e,t,n,r,o){return e.escapeExpression(e.lambda(null!=t?t.className:t,t))},6:function(e,t,n,r,o){return"btn-secondary "},8:function(e,t,n,r,o){var i;return'                                    <span class="ml-1">'+(null!=(i=(n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.title:t,{name:"l",hash:{},data:o}))?i:"")+"</span>\n"},10:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=e.escapeExpression,d=e.lambda;return'                                    <div  class="dropdown-item">\n                                        <a href="#" class="w-100 bm-1 se-topbar-button '+(null!=(s=n.if.call(c,null!=t?t.toggle:t,{name:"if",hash:{},fn:e.program(11,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'"\n                                           data-key="'+u("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:n.helperMissing)?l.call(c,{name:"index",hash:{},data:o}):l)+'" data-parent="'+u(d(e.data(o,1)&&e.data(o,1).key,t))+'">\n                                            <i class="fas '+u(d(null!=t?t.icon:t,t))+'"></i>\n'+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(14,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"                                        </a>\n                                    </div>\n"+(null!=(s=n.if.call(c,null!=t?t.separatorAfter:t,{name:"if",hash:{},fn:e.program(16,o,0,i,a),inverse:e.noop,data:o}))?s:"")},11:function(e,t,n,r,o){var i;return"btn-toggle "+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.toggleState:t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?i:"")},12:function(e,t,n,r,o){return"active"},14:function(e,t,n,r,o){var i;return'                                                <span class="ml-1">'+(null!=(i=(n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.title:t,{name:"l",hash:{},data:o}))?i:"")+"</span>\n"},16:function(e,t,n,r,o){return'                                        <div class="dropdown-divider"></div>\n'},18:function(e,t,n,r,o,i,a){var s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.dropDownButton:t,{name:"if",hash:{},fn:e.program(19,o,0,i,a),inverse:e.program(44,o,0,i,a),data:o}))?s:""},19:function(e,t,n,r,o,i,a){var s,l=null!=t?t:e.nullContext||{};return'                    <li class="topbar-dropdown one-dropdown-button se-topbar-item nav-item mb-1 mb-lg-0" style="position: relative">\n                        <button type="button" class="btn '+(null!=(s=n.if.call(l,null!=t?t.className:t,{name:"if",hash:{},fn:e.program(4,o,0,i,a),inverse:e.program(20,o,0,i,a),data:o}))?s:"")+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="fas '+e.escapeExpression(e.lambda(null!=t?t.icon:t,t))+'"></i>\n'+(null!=(s=n.if.call(l,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(22,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'                        </button>\n                            <div class="dropdown-menu  '+(null!=(s=n.if.call(l,null!=t?t.dropdownClassName:t,{name:"if",hash:{},fn:e.program(24,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'">\n                                <div class="dropdown-drops-holder">\n'+(null!=(s=n.each.call(l,null!=t?t.drops:t,{name:"each",hash:{},fn:e.program(26,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"                                </div>\n                        </div>\n                    </li>\n"},20:function(e,t,n,r,o){return"btn-secondary"},22:function(e,t,n,r,o){var i;return'                                <span class="ml-1">'+(null!=(i=(n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.title:t,{name:"l",hash:{},data:o}))?i:"")+"</span>\n"},24:function(e,t,n,r,o){return e.escapeExpression(e.lambda(null!=t?t.dropdownClassName:t,t))+" "},26:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression,f=e.lambda;return'                                        <div id="popup-refer-'+d("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" '+(null!=(s=n.if.call(c,null!=t?t.changed:t,{name:"if",hash:{},fn:e.program(27,o,0,i,a),inverse:e.noop,data:o}))?s:"")+' class="dropdown-item '+(null!=(s=n.if.call(c,null!=t?t.customClass:t,{name:"if",hash:{},fn:e.program(29,o,0,i,a),inverse:e.noop,data:o}))?s:"")+" "+(null!=(s=n.if.call(c,null!=t?t.dontCloseOnNotLinkClick:t,{name:"if",hash:{},fn:e.program(31,o,0,i,a),inverse:e.noop,data:o}))?s:"")+" no-hover-color-change "+(null!=(s=n.if.call(c,null!=t?t.addBorder:t,{name:"if",hash:{},fn:e.program(33,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'">\n                                            <i class="fas '+d(f(null!=t?t.icon:t,t))+'"></i>\n                                            '+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(35,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'\n                                            <a href="#" class="w-100 bm-1 se-topbar-button" data-key="'+d("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'" data-parent="'+d(f(e.data(o,1)&&e.data(o,1).key,t))+'">\n                                                '+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(37,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'\n                                            </a>\n                                        </div>\n                                        <div id="thumbnail-'+d("function"==typeof(l=null!=(l=n.index||o&&o.index)?l:u)?l.call(c,{name:"index",hash:{},data:o}):l)+'"  class="thumbnail-popup" style="display:none;"><img src="'+(null!=(s=n.if.call(c,null!=t?t.additionalInfo:t,{name:"if",hash:{},fn:e.program(42,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'"></div>\n'},27:function(e,t,n,r,o){return'data-toggle="popover" title="'+e.escapeExpression(e.lambda(null!=t?t.changed:t,t))+'"'},29:function(e,t,n,r,o){return" "+e.escapeExpression(e.lambda(null!=t?t.customClass:t,t))+" "},31:function(e,t,n,r,o){return"dont-close-dropdown"},33:function(e,t,n,r,o){return" dropdown-item-border-bottom"},35:function(e,t,n,r,o){var i;return'<span class="">'+(null!=(i=(n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.title:t,{name:"l",hash:{},data:o}))?i:"")+"</span>"},37:function(e,t,n,r,o){var i;return"<span>"+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.itemClass:t,{name:"if",hash:{},fn:e.program(38,o,0),inverse:e.program(40,o,0),data:o}))?i:"")+"</span>"},38:function(e,t,n,r,o){return"Current "},40:function(e,t,n,r,o){return' <span style="color:#0000FF">Restore</span> '},42:function(e,t,n,r,o){return e.escapeExpression(e.lambda(null!=t?t.additionalInfo:t,t))},44:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.escapeExpression;return'                    <li class="se-topbar-item nav-item mb-1 mb-lg-0">\n                        <a href="#" class="se-topbar-button btn '+(null!=(i=n.if.call(s,null!=t?t.className:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o}))?i:"")+(null!=(i=n.if.call(s,null!=t?t.toggle:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+'" data-key="'+l("function"==typeof(a=null!=(a=n.index||o&&o.index)?a:n.helperMissing)?a.call(s,{name:"index",hash:{},data:o}):a)+'">\n                            <i class="fas '+l(e.lambda(null!=t?t.icon:t,t))+'"></i>\n'+(null!=(i=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.noop,data:o}))?i:"")+"                        </a>\n                    </li>\n                "},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l=null!=t?t:e.nullContext||{},c=n.helperMissing,u=e.escapeExpression;return'<a class="navbar-brand" href='+u((n.global||t&&t.global||c).call(l,"SENDER_HREF",{name:"global",hash:{},data:o}))+'>\n    <img src="'+u((n.global||t&&t.global||c).call(l,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+'logo_builder.png" alt="Sender.net logo" style="height: 50px; padding: 5px;">\n</a>\n\n<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#editorControls" aria-controls="editorControls" aria-expanded="false" aria-label="Toggle editor controls">\n    <span class="navbar-toggler-icon"></span>\n</button>\n\n<div class="collapse navbar-collapse" id="editorControls">\n    <ul class="navbar-nav ml-auto">\n'+(null!=(s=n.if.call(l,null!=t?t.buttons:t,{name:"if",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"    </ul>\n</div>"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";(function(e){var r=n(28),o=n(192),i=n(0),a=n(1),s=n(3),c=n(468),u=n(11),d=n(23),f=n(743);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(t){function SettingModule(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SettingModule),_possibleConstructorReturn(this,_getPrototypeOf(SettingModule).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SettingModule,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SettingModule,[{key:"initialize",value:function initialize(){this._currentSettingScheme=null,this.sidebar=new o.a({title:"RightSettingsSidebar",element:"#se-right-settings-sidebar",selectedTab:0,tabs:[{title:l("Content"),autoRender:!0,view:new c.a({tabKey:"content",model:this,load:!0})},{title:l("Customize"),autoRender:!0,view:new c.a({tabKey:"customize",model:this,load:!1})}]}),this.selectedTab=null,this.subscribeEvents()}},{key:"subscribeEvents",value:function subscribeEvents(){var e=this;i.a.subscribe(a.k.BUILD,function(t,n){e.buildSettings(n)}),i.a.subscribe(a.k.DESTROY,function(){e.destroySettings()}),i.a.subscribe(a.f.DRAG_START,function(){e.destroySettings()}),i.a.subscribe(a.k.EXPERT_TOGGLE,function(){e.selectedTab=e.sidebar.get("selectedTab"),e.set("expertMode",!e.get("expertMode")),e.buildSettings(e.currentSettingScheme),e.sidebar.selectTab(e.selectedTab)}),i.a.subscribe(a.c.BAR.TOP,function(){e.destroySettings()}),i.a.subscribe(a.b.DELETED,function(t,n){s.a.isNullOrUndef(e.currentSettingScheme)||s.a.isNullOrUndef(e.currentSettingScheme.model)||e.currentSettingScheme.model.uuid!==n.uuid||e.destroySettings()})}},{key:"getTabData",value:function getTabData(e,t){return Object(u.a)(this.currentSettingScheme,"tabs.".concat(e,".").concat(t),{})}},{key:"buildSettings",value:function buildSettings(e){return SettingModule.checkScheme(e)?(this.currentSettingScheme=e,this.trigger("settings:loaded"),this.showSettings(),this):this}},{key:"destroySettings",value:function destroySettings(){null!==this.currentSettingScheme&&(this.trigger("settings:clear"),this.currentSettingScheme=null,this.hideSettings())}},{key:"showSettings",value:function showSettings(){this.toggleTabVisibility(),this.hideLabel(),this.sidebar.selectTab(Object(u.a)(this.currentSettingScheme,"tabs.selectedTab",this.selectedtab||0)),e("#se-right-sidebar").addClass("setting-d-none"),e("#se-right-settings-sidebar").removeClass("setting-d-none")}},{key:"hideSettings",value:function hideSettings(){this.toggleTabVisibility(),this.hideLabel(),e("#se-right-settings-sidebar").addClass("setting-d-none"),e("#se-right-sidebar").removeClass("setting-d-none")}},{key:"toggleTabVisibility",value:function toggleTabVisibility(){e("#se-right-settings-sidebar").find(".se-tab-button").addClass("d-flex").show();var t=Object(u.a)(this.currentSettingScheme,"tabs",{});Object(u.a)(t,"content.hide")&&e("#se-right-settings-sidebar").find(".se-tab-button[data-id=0]").removeClass("d-flex").hide(),Object(u.a)(t,"customize.hide")&&e("#se-right-settings-sidebar").find(".se-tab-button[data-id=1]").removeClass("d-flex").hide()}},{key:"hideLabel",value:function hideLabel(){var t=Object(u.a)(this.currentSettingScheme,"tabs",{});Object(u.a)(t,"content.hideLabel")&&e("#se-right-settings-sidebar").find(".se-tab-button[data-id=0]").attr("style","display: none!important"),Object(u.a)(t,"customize.hideLabel")&&e("#se-right-settings-sidebar").find(".se-tab-button[data-id=1]").attr("style","display: none!important")}},{key:"currentSettingScheme",get:function get(){return this._currentSettingScheme},set:function set(e){this._currentSettingScheme=e}},{key:"defaults",get:function get(){return{}}}],[{key:"checkScheme",value:function checkScheme(e){return!!Object(d.a)(e)&&(!!s.a.isModel(e.model)&&Object(f.a)(e.tabs)>=1)}}]),SettingModule}();t.a=p}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'--\x3e\n            \x3c!--<button class="btn btn-outline-primary make-default align-items-stretch flex-fill mx-1">--\x3e\n                \x3c!--'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Set as default",{name:"l",hash:{},data:o}))+"--\x3e\n            \x3c!--</button>--\x3e\n        \x3c!--"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<div class="accordions-content">\n\n</div>\n\x3c!--<div class="px-1 py-2 text-center" style="position: fixed; width: 260px; z-index: 2; border-top: 1px solid #ddd; bottom: 0; background: #fff">--\x3e\n    \x3c!--<div class="d-flex flex-row">--\x3e\n        \x3c!--'+(null!=(i=n.if.call(a,null!=t?t.isPro:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'--\x3e\n            \x3c!--<button class="btn btn-primary apply-to-all flex-fill mx-1">--\x3e\n                \x3c!--'+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(a,"Apply to all",{name:"l",hash:{},data:o}))+"--\x3e\n            \x3c!--</button>--\x3e\n    \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var s,l,c=null!=t?t:e.nullContext||{},u=n.helperMissing,d=e.escapeExpression;return'    <div class="block-library-block '+(null!=(s=n.if.call(c,null!=t?t.isPro:t,{name:"if",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'" data-element="'+d("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:u)?l.call(c,{name:"key",hash:{},data:o}):l)+'">\n        <div class="block-library-block-content se-draggable">\n            <img srcset="'+d((n.global||t&&t.global||u).call(c,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+"email-editor/static/img/block_images/"+d((n.camel||t&&t.camel||u).call(c,o&&o.key,{name:"camel",hash:{},data:o}))+'2x.png 2x"\n                 src="'+d((n.global||t&&t.global||u).call(c,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+"email-editor/static/img/block_images/"+d((n.camel||t&&t.camel||u).call(c,o&&o.key,{name:"camel",hash:{},data:o}))+'.png"\n                 alt="'+d("function"==typeof(l=null!=(l=n.key||o&&o.key)?l:u)?l.call(c,{name:"key",hash:{},data:o}):l)+'">\n        </div>\n        <div style="font-size: 13px; font-family: Open Sans; position:relative; bottom: 10px; font-weight: 600; letter-spacing: normal; color: #000000">'+d((n.l||t&&t.l||u).call(c,null!=t?t.title:t,{name:"l",hash:{},data:o}))+"</div>\n    </div>\n"},2:function(e,t,n,r,o,i,a){var s;return null!=(s=n.unless.call(null!=t?t:e.nullContext||{},null!=a[1]?a[1].isPro:a[1],{name:"unless",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:""},3:function(e,t,n,r,o){return"d-none"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.blocks:t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:""},useData:!0,useDepths:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="section-picker-categories se-categories-container d-flex flex-row flex-wrap justify-content-center">\n</div>\n<div class="section-picker-list px-2 pt-2 pb-5">\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="p-5">\n    <div class="loader"></div>\n</div>'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <img src="'+l((n.global||t&&t.global||s).call(a,"SENDER_ENDPOINT",{name:"global",hash:{},data:o}))+l((n.OR||t&&t.OR||s).call(a,null!=(i=null!=t?t.thumbnail:t)?i.url:i,"/email-editor/static/img/noimage.jpg",{name:"OR",hash:{},data:o}))+'"\n'},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <img src="'+l((n.global||t&&t.global||s).call(a,"BASE_ASSETS_URL",{name:"global",hash:{},data:o}))+l((n.OR||t&&t.OR||s).call(a,null!=(i=null!=t?t.thumbnail:t)?i.url:i,"/email-editor/static/img/noimage.jpg",{name:"OR",hash:{},data:o}))+'"\n'},5:function(e,t,n,r,o){return'        <div class="section-preview-delete">\n        <span class="fa-stack fa-1x">\n            <i class="fas fa-trash fa-stack-1x fa-inverse"></i>\n        </span>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="shadow-sm card py-1 px-3 mx-1 mt-1 mb-3"\n     data-toggle="tooltip"\n     data-placement="bottom"\n     title="'+l((n.l||t&&t.l||s).call(a,null!=t?t.title:t,{name:"l",hash:{},data:o}))+'" >\n\n'+(null!=(i=n.if.call(a,null!=t?t.public:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+'         class="card-img-top"\n         alt="'+l((n.l||t&&t.l||s).call(a,null!=t?t.title:t,{name:"l",hash:{},data:o}))+'">\n\n'+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||s).call(a,null!=t?t.public:t,!0,{name:"ifNotEquals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){"use strict";var r=n(21),o=n(599);n(714);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){function TestEmailModule(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TestEmailModule),_possibleConstructorReturn(this,_getPrototypeOf(TestEmailModule).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TestEmailModule,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(TestEmailModule,[{key:"initialize",value:function initialize(){new o.a({model:this})}}]),TestEmailModule}();t.a=i},function(e,t,n){"use strict";(function(e){var r=n(13),o=n(600),i=n.n(o),a=n(0),s=n(1),c=(n(713),n(24));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(t){function TestEmailView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TestEmailView),_possibleConstructorReturn(this,_getPrototypeOf(TestEmailView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TestEmailView,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(TestEmailView,[{key:"initialize",value:function initialize(e){this.setTemplate(i.a),a.a.publish(s.q.ADD_BUTTON,{position:1,icon:"fa-eye",title:l("Email preview"),className:"shepherd-email-preview btn-secondary",click:this.show,context:this}),this.render()}},{key:"getModelAttributes",value:function getModelAttributes(){return Object(c.merge)(_get(_getPrototypeOf(TestEmailView.prototype),"getModelAttributes",this).call(this),{senderEndpoint:SENDER_ENDPOINT,campaignId:CAMPAIGN_ID})}},{key:"show",value:function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var t,n,r;return regeneratorRuntime.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return this.render(),this.$el.appendTo("body"),this.delegateEvents(null),this.$el.animateCss("fadeIn"),t=Builder.find("Email.model.snapshot"),o.next=7,t.createNewSnapshot();case 7:return this.$el.find(".mac_screen_content").html(e('<iframe class="sender-email-preview-macbook row w-100 h-100"  src="'.concat(SENDER_ENDPOINT).concat(CAMPAIGN_TYPE,"/preview/").concat(CAMPAIGN_ID,'"></iframe>'))),this.$el.find(".screen").html(e('<iframe class="sender-email-preview-iphone row w-100 h-100"  src="'.concat(SENDER_ENDPOINT).concat(CAMPAIGN_TYPE,"/preview/").concat(CAMPAIGN_ID,'"></iframe>'))),n=this.el.querySelector(".sender-email-preview-macbook").contentWindow,r=this.el.querySelector(".sender-email-preview-iphone").contentWindow,n.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}),r.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}),o.abrupt("return",this);case 14:case"end":return o.stop()}},_callee,this)}));return function show(){return t.apply(this,arguments)}}()},{key:"hide",value:function hide(){var e=this;return this.$el.animateCss("fadeOut",function(){e.$el.remove()}),this.model.trigger("test-email-close:hide"),this}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"TestEmailView "}},{key:"events",get:function get(){return{"click .test-email-close":"hide"}}}]),TestEmailView}();t.a=u}).call(this,n(22))},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="sender-test-email-view container-fluid">\n    <div class="row align-items-center">\n        <div class="col-11">\n            <h3 class="m-0" style="margin-top:10px!important; font-weight: bold; color: #ffffff">\n                '+e.escapeExpression((n.l||t&&t.l||n.helperMissing).call(null!=t?t:e.nullContext||{},"Email preview",{name:"l",hash:{},data:o}))+'\n            </h3>\n        </div>\n        <div class="col text-right">\n            <i class="test-email-close p-2 fas fa-times fa-2x c-pointer"></i>\n        </div>\n    </div>\n    <div>\n        <hr style="border-top: 2px solid #ffffff;">\n    </div>\n<div class="devices-wrapper row">\n\n    <div class="mac_container">\n        <div class="mac_scaler">\n            <div class="mac_holder">\n                <div class="mac_screen">\n                    <div class="mac_camera"></div>\n                    <div class="mac_screen_content">\n                        \x3c!-- iframe --\x3e\n                    </div>\n                </div>\n                <div class="mac_bottom">\n                    <div class="mac_bottom_top_half">\n                        <div class="mac_thumb_space"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="phone">\n        <div class="volume-buttons">\n            <ul>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n        </div>\n\n        <div class="top">\n            <div class="camera"></div>\n            <div class="speaker"> </div>\n        </div>\n\n        <div class="screen">\n        \x3c!-- iframe--\x3e\n        </div>\n\n        <div class="home-button">\n        </div>\n    </div>\n\n</div>\n\n</div>\n'},useData:!0})},function(e,t,n){"use strict";var r=n(28),o=n(190),i=n(469),a=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function SectionTemplate(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplate),_possibleConstructorReturn(this,_getPrototypeOf(SectionTemplate).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(SectionTemplate,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(SectionTemplate,[{key:"validate",value:function validate(e,t){}},{key:"parse",value:function parse(e,t){return Object(i.a)(e,"SectionTemplate.thumbnail",Object(a.a)(e,"Thumbnail")),_get(_getPrototypeOf(SectionTemplate.prototype),"parse",this).call(this,e.SectionTemplate,t)}},{key:"initialize",value:function initialize(){}},{key:"urlRoot",get:function get(){return SENDER_ENDPOINT+"section_templates"}},{key:"defaults",get:function get(){return{id:null,category_id:null,title:null,data:null,public:null}}}]),SectionTemplate}(),c=n(182);function SectionTemplateCollection_typeof(e){return(SectionTemplateCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SectionTemplateCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SectionTemplateCollection_possibleConstructorReturn(e,t){return!t||"object"!==SectionTemplateCollection_typeof(t)&&"function"!=typeof t?function SectionTemplateCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SectionTemplateCollection_getPrototypeOf(e){return(SectionTemplateCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionTemplateCollection_setPrototypeOf(e,t){return(SectionTemplateCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function SectionTemplateCollection(){return function SectionTemplateCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplateCollection),SectionTemplateCollection_possibleConstructorReturn(this,SectionTemplateCollection_getPrototypeOf(SectionTemplateCollection).apply(this,arguments))}return function SectionTemplateCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionTemplateCollection_setPrototypeOf(e,t)}(SectionTemplateCollection,c["a"]),function SectionTemplateCollection_createClass(e,t,n){return t&&SectionTemplateCollection_defineProperties(e.prototype,t),n&&SectionTemplateCollection_defineProperties(e,n),e}(SectionTemplateCollection,[{key:"initialize",value:function initialize(){}},{key:"getAllItemsCategory",value:function getAllItemsCategory(){return"0"}},{key:"url",get:function get(){return SENDER_ENDPOINT+"section_templates"}},{key:"model",get:function get(){return s}}]),SectionTemplateCollection}(),d=n(192),f=n(13),p=n(1),h=n(594),g=n.n(h),m=n(273),A=n(0),v=n(41),y=n(55);function BlockLibraryView_typeof(e){return(BlockLibraryView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BlockLibraryView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BlockLibraryView_possibleConstructorReturn(e,t){return!t||"object"!==BlockLibraryView_typeof(t)&&"function"!=typeof t?function BlockLibraryView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BlockLibraryView_getPrototypeOf(e){return(BlockLibraryView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BlockLibraryView_setPrototypeOf(e,t){return(BlockLibraryView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var b={name:"elements",pull:"clone",put:!1},w=function(e){function BlockLibraryView(){return function BlockLibraryView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlockLibraryView),BlockLibraryView_possibleConstructorReturn(this,BlockLibraryView_getPrototypeOf(BlockLibraryView).apply(this,arguments))}return function BlockLibraryView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BlockLibraryView_setPrototypeOf(e,t)}(BlockLibraryView,f["a"]),function BlockLibraryView_createClass(e,t,n){return t&&BlockLibraryView_defineProperties(e.prototype,t),n&&BlockLibraryView_defineProperties(e,n),e}(BlockLibraryView,[{key:"getSortable",value:function getSortable(){var e=this,t=window.Builder.find("Email.view").getIframeWindow().Sortable;return new Promise(function(n){void 0===t?setTimeout(function(){n(e.getSortable())},100):n(t)})}},{key:"initialize",value:function initialize(){var e=this;A.a.subscribe(p.d.SECTIONS.READY,function(){e.initBlockSortable()}),A.a.subscribe(p.k.EXPERT_TOGGLE,function(){e.render(),e.initBlockSortable()}),this.setTemplate(g.a),this.render()}},{key:"getModelAttributes",value:function getModelAttributes(){return{isPro:Builder.isExpertModeEnabled(),blocks:m.a.getAvailableBlocks()}}},{key:"initBlockSortable",value:function initBlockSortable(){var e=this,t=this;return this.getSortable().then(function(n){new n(e.el,Object(y.a)({},v.b,{sort:!1,scroll:window.Builder.find("Email.view").getIframeWindow().document.documentElement,group:b,onChoose:function onChoose(){t.$el.find('[data-toggle="tooltip"]').tooltip("hide")},onStart:function onStart(e){A.a.publish(p.f.BLOCK_DRAG_START,{event:e,model:t,sortable:this})},onEnd:function onEnd(e){"sidebar-elements-container"===e.to.id&&A.a.publish(p.f.BLOCK_DRAG_END,{event:e,model:t,sortable:this}),t.$el.find('[data-toggle="tooltip"]').tooltip()}}))}),this.$el.find('[data-toggle="tooltip"]').tooltip(),this}},{key:"attributes",get:function get(){return{id:"sidebar-elements-container"}}},{key:"className",get:function get(){return"BlockLibraryView block-library-blocks-container"}},{key:"tagName",get:function get(){return"div"}}]),BlockLibraryView}(),_=n(595),E=n.n(_),C=n(596),S=n.n(C),T=n(181),x=n(285),O=n(597),k=n.n(O),B=n(5);n(47);function SectionTemplateThumbnailView_typeof(e){return(SectionTemplateThumbnailView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function SectionTemplateThumbnailView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SectionTemplateThumbnailView_possibleConstructorReturn(e,t){return!t||"object"!==SectionTemplateThumbnailView_typeof(t)&&"function"!=typeof t?function SectionTemplateThumbnailView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SectionTemplateThumbnailView_getPrototypeOf(e){return(SectionTemplateThumbnailView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionTemplateThumbnailView_setPrototypeOf(e,t){return(SectionTemplateThumbnailView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function SectionTemplateThumbnailView(){return function SectionTemplateThumbnailView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplateThumbnailView),SectionTemplateThumbnailView_possibleConstructorReturn(this,SectionTemplateThumbnailView_getPrototypeOf(SectionTemplateThumbnailView).apply(this,arguments))}return function SectionTemplateThumbnailView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionTemplateThumbnailView_setPrototypeOf(e,t)}(SectionTemplateThumbnailView,f["a"]),function SectionTemplateThumbnailView_createClass(e,t,n){return t&&SectionTemplateThumbnailView_defineProperties(e.prototype,t),n&&SectionTemplateThumbnailView_defineProperties(e,n),e}(SectionTemplateThumbnailView,[{key:"initialize",value:function initialize(){this.setTemplate(k.a)}},{key:"onDelete",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(e){var t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),e.stopPropagation(),n.next=4,B.a.confirm({type:null,text:l("You are going to delete ")+"".concat(this.model.get("title"))+"?",confirmButtonText:l("Delete"),cancelButtonText:l("Cancel")});case 4:t=n.sent,t.value&&(this.model.collection.remove(this.model),this.remove(),this.model.destroy());case 7:case"end":return n.stop()}},_callee,this)}));return function onDelete(t){return e.apply(this,arguments)}}()},{key:"attributes",get:function get(){return{"data-sectionId":this.model.id}}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"SectionTemplateThumbnailView w-100 mb-1"}},{key:"events",get:function get(){return{"click .section-preview-delete":"onDelete"}}}]),SectionTemplateThumbnailView}();function SectionTemplateListView_typeof(e){return(SectionTemplateListView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SectionTemplateListView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SectionTemplateListView_possibleConstructorReturn(e,t){return!t||"object"!==SectionTemplateListView_typeof(t)&&"function"!=typeof t?function SectionTemplateListView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SectionTemplateListView_getPrototypeOf(e){return(SectionTemplateListView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionTemplateListView_setPrototypeOf(e,t){return(SectionTemplateListView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function SectionTemplateListView(){return function SectionTemplateListView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplateListView),SectionTemplateListView_possibleConstructorReturn(this,SectionTemplateListView_getPrototypeOf(SectionTemplateListView).apply(this,arguments))}return function SectionTemplateListView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionTemplateListView_setPrototypeOf(e,t)}(SectionTemplateListView,T["a"]),function SectionTemplateListView_createClass(e,t,n){return t&&SectionTemplateListView_defineProperties(e.prototype,t),n&&SectionTemplateListView_defineProperties(e,n),e}(SectionTemplateListView,[{key:"initialize",value:function initialize(e){var t=this;this.setTemplate(S.a),this.listenTo(this.model.templates,"update",this.renderList),this.listenTo(this.model.templates,"sync",this.renderList),this.listenTo(this.model.templates,"error",this.renderList),this.listenTo(this.model,"change:selectedCategories",this.renderList),A.a.subscribe(p.d.SECTIONS.READY,function(){t.initSectionTemplateSortable()})}},{key:"getFiltered",value:function getFiltered(){return Object(a.a)(this,"model.categories.length",0)<1?Object(x.a)(this,"model.templates.toArray",[]):this.model.templates.filter("category_id",this.model.get("selectedCategories"))}},{key:"getListItem",value:function getListItem(){return P}},{key:"getSortable",value:function getSortable(){var e=this,t=window.Builder.find("Email.view").getIframeWindow().Sortable;return new Promise(function(n){void 0===t?setTimeout(function(){n(e.getSortable())},100):n(t)})}},{key:"initSectionTemplateSortable",value:function initSectionTemplateSortable(){var e=this,t=window,n=this;this.getSortable().then(function(r){new r(e.el,Object(y.a)({},v.b,{sort:!1,scroll:window.Builder.find("Email.view").getIframeWindow().document.documentElement,group:{name:"sections",pull:"clone",put:!1},setData:function setData(e,n){e.setData("Text",n.textContent);var r=t.document.querySelector(".section-t-1");r&&e.setDragImage(r,0,0)},onChoose:function onChoose(){n.$el.find('[data-toggle="tooltip"]').tooltip("hide")},onStart:function onStart(e){A.a.publish(p.f.SECTION_DRAG_START,{sortable:this,model:n,event:e})},onEnd:function onEnd(e){A.a.publish(p.f.SECTION_DRAG_END,{sortable:this,model:n,event:e}),n.$el.find('[data-toggle="tooltip"]').tooltip()}}))}),this.$el.find('[data-toggle="tooltip"]').tooltip()}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"SectionTemplateListView text-center mx-3"}}]),SectionTemplateListView}(),R=n(180);function SectionTemplatePickerView_typeof(e){return(SectionTemplatePickerView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SectionTemplatePickerView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SectionTemplatePickerView_possibleConstructorReturn(e,t){return!t||"object"!==SectionTemplatePickerView_typeof(t)&&"function"!=typeof t?function SectionTemplatePickerView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SectionTemplatePickerView_getPrototypeOf(e){return(SectionTemplatePickerView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionTemplatePickerView_setPrototypeOf(e,t){return(SectionTemplatePickerView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function SectionTemplatePickerView(){return function SectionTemplatePickerView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplatePickerView),SectionTemplatePickerView_possibleConstructorReturn(this,SectionTemplatePickerView_getPrototypeOf(SectionTemplatePickerView).apply(this,arguments))}return function SectionTemplatePickerView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionTemplatePickerView_setPrototypeOf(e,t)}(SectionTemplatePickerView,f["a"]),function SectionTemplatePickerView_createClass(e,t,n){return t&&SectionTemplatePickerView_defineProperties(e.prototype,t),n&&SectionTemplatePickerView_defineProperties(e,n),e}(SectionTemplatePickerView,[{key:"initialize",value:function initialize(e){this.setTemplate(E.a),this.listenTo(this,"postRender",this.onPostRender),this.render()}},{key:"onPostRender",value:function onPostRender(){new I({el:this.$el.find(".section-picker-list"),model:this.model}).render(),Object(a.a)(this.model,"categories.length",0)>0&&new R.a({el:this.$el.find(".section-picker-categories"),model:this.model}).render()}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"SectionTemplatePickerView "}}]),SectionTemplatePickerView}(),M=n(3),D=n(160),N=n.n(D);function SectionTemplateModule_typeof(e){return(SectionTemplateModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SectionTemplateModule_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function SectionTemplateModule_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){SectionTemplateModule_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){SectionTemplateModule_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function SectionTemplateModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SectionTemplateModule_possibleConstructorReturn(e,t){return!t||"object"!==SectionTemplateModule_typeof(t)&&"function"!=typeof t?function SectionTemplateModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SectionTemplateModule_getPrototypeOf(e){return(SectionTemplateModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SectionTemplateModule_setPrototypeOf(e,t){return(SectionTemplateModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function SectionTemplateModule(){return function SectionTemplateModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionTemplateModule),SectionTemplateModule_possibleConstructorReturn(this,SectionTemplateModule_getPrototypeOf(SectionTemplateModule).apply(this,arguments))}return function SectionTemplateModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SectionTemplateModule_setPrototypeOf(e,t)}(SectionTemplateModule,r["a"]),function SectionTemplateModule_createClass(e,t,n){return t&&SectionTemplateModule_defineProperties(e.prototype,t),n&&SectionTemplateModule_defineProperties(e,n),e}(SectionTemplateModule,[{key:"initialize",value:function(){var e=SectionTemplateModule_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e=this;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return this.categories=new o.a,t.next=3,this.initCategories();case 3:this.templates=new u,this.templates.fetch({validate:!0}),this.registerSidebar(),A.a.subscribe(p.j.SAVE_SECTION,function(t,n){e.saveSection(n)});case 7:case"end":return t.stop()}},_callee,this)}));return function initialize(){return e.apply(this,arguments)}}()},{key:"initCategories",value:function(){var e=SectionTemplateModule_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e=this;return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return this.categories.type="section_template",t.abrupt("return",new Promise(function(t){e.categories.fetch({validate:!0,success:function success(){t()},error:function error(){t()}})}));case 2:case"end":return t.stop()}},_callee2,this)}));return function initCategories(){return e.apply(this,arguments)}}()},{key:"registerSidebar",value:function registerSidebar(){return new d.a({title:"SectionContent",element:"#se-left-sidebar",selectedTab:0,deselectAllOnClick:!0,tabs:[{title:l("Elements"),autoRender:!1,view:new w({model:this})},{title:l("Sections"),autoRender:!1,view:new L({model:this})}]}),this}},{key:"saveSection",value:function(){var e=SectionTemplateModule_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t,n,r,o,i,a,c;return regeneratorRuntime.wrap(function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:if(M.a.isView(e)){u.next=2;break}return u.abrupt("return",this);case 2:return A.a.publish(p.f.DESELECT),t=e.model.toJSON(),n=e.$el.html(),u.next=7,B.a.input({title:l("Section title"),input:"text",html:'<div class="text-left"><label style = "font-weight: 600!important; color: #777777!important;">'.concat(l("Name"),"</label></div>"),confirmButtonText:l("Save"),inputValue:t.title||"",inputValidator:function inputValidator(e){return e.length<3&&l("Title must be at least 3 characters long")}});case 7:if(r=u.sent,o=r.value){u.next=11;break}return u.abrupt("return");case 11:return A.a.publish(p.f.DESELECT),u.next=14,this.makeThumbnail(e.$el).then(function(e){return e.toDataURL("image/png")});case 14:return i=u.sent,a=o===t.title&&!t.public,Object(y.a)(t,{id:a?t.section_template_id:null,uuid:a?t.uuid:M.a.generateUuid(),public:!1,category_id:1,title:o,data:t.data,html:n,thumbnailBase64:i}),c=new s(t,{validate:!0}),u.prev=18,u.next=21,c.save(null,{});case 21:delete c.attributes.thumbnailBase64,this.templates.add(c,{at:0,validate:!0,merge:a}),u.next=28;break;case 25:return u.prev=25,u.t0=u.catch(18),u.abrupt("return",!1);case 28:B.a.toast({type:null,title:a?l("Section updated"):l("Section created")});case 29:case"end":return u.stop()}},_callee3,this,[[18,25]])}));return function saveSection(t){return e.apply(this,arguments)}}()},{key:"makeThumbnail",value:function(){var e=SectionTemplateModule_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t,n,r,o,i,a,s=arguments;return regeneratorRuntime.wrap(function _callee4$(l){for(;;)switch(l.prev=l.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:null,t=window.Builder.run("Email.view.getIframeWindow"),n=t.document.children[0],r=n.cloneNode(!0),document.body.appendChild(r),o=document.getElementById(e.get(0).id),i=o.getElementsByClassName("internal-content-td")[0],l.next=9,N()(i,{logging:!1,scale:3,allowTaint:!1,useCORS:!0});case 9:return a=l.sent,document.body.removeChild(r),l.abrupt("return",a);case 12:case"end":return l.stop()}},_callee4)}));return function makeThumbnail(){return e.apply(this,arguments)}}()},{key:"defaults",get:function get(){return{selectedCategories:["1"]}}}]),SectionTemplateModule}();t.a=F},function(e,t,n){"use strict";var r=n(28),o=n(271),i=n(182);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function ThemeCollection(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeCollection),_possibleConstructorReturn(this,_getPrototypeOf(ThemeCollection).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ThemeCollection,i["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ThemeCollection,[{key:"initialize",value:function initialize(){}},{key:"getAllItemsCategory",value:function getAllItemsCategory(){return"0"}},{key:"url",get:function get(){return SENDER_ENDPOINT+DS+"themes"}},{key:"model",get:function get(){return o.a}}]),ThemeCollection}(),s=n(190),c=n(192),u=n(13),d=n(562),f=n.n(d),p=n(0),h=n(1),g=n(5),m=n(55);n(47);function ThemeThumbnailView_typeof(e){return(ThemeThumbnailView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ThemeThumbnailView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ThemeThumbnailView_possibleConstructorReturn(e,t){return!t||"object"!==ThemeThumbnailView_typeof(t)&&"function"!=typeof t?function ThemeThumbnailView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ThemeThumbnailView_getPrototypeOf(e){return(ThemeThumbnailView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ThemeThumbnailView_setPrototypeOf(e,t){return(ThemeThumbnailView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function ThemeThumbnailView(){return function ThemeThumbnailView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeThumbnailView),ThemeThumbnailView_possibleConstructorReturn(this,ThemeThumbnailView_getPrototypeOf(ThemeThumbnailView).apply(this,arguments))}return function ThemeThumbnailView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ThemeThumbnailView_setPrototypeOf(e,t)}(ThemeThumbnailView,u["a"]),function ThemeThumbnailView_createClass(e,t,n){return t&&ThemeThumbnailView_defineProperties(e.prototype,t),n&&ThemeThumbnailView_defineProperties(e,n),e}(ThemeThumbnailView,[{key:"initialize",value:function initialize(){var e=this;this.setTemplate(f.a),p.a.subscribe(h.m.SAVED_TO_REMOTE,function(){e.applySelectedClass()}),p.a.subscribe(h.p.SELECTED,function(){e.applySelectedClass()}),this.listenTo(this,"postRender",function(){e.applySelectedClass()})}},{key:"applySelectedClass",value:function applySelectedClass(){Builder.find("Email.model.theme.id")===this.model.id?this.$el.find(".se-theme-first").addClass("active"):this.$el.find(".se-theme-first").removeClass("active")}},{key:"onDelete",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(e){var t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),e.stopPropagation(),n.next=4,g.a.confirm({type:null,title:l("You are going to delete ")+"".concat(this.model.get("title"))+"?",confirmButtonText:l("Delete"),cancelButtonText:l("Cancel")});case 4:t=n.sent,t.value&&(this.model.collection.remove(this.model),this.remove(),this.model.destroy());case 7:case"end":return n.stop()}},_callee,this)}));return function onDelete(t){return e.apply(this,arguments)}}()},{key:"onClick",value:function onClick(){p.a.publish(h.p.SELECTED,this.model.toJSON())}},{key:"getModelAttributes",value:function getModelAttributes(){return Object(m.a)(this.model.toJSON(),{selected:Builder.find("Email.model.theme.id","0")})}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"ThemeThumbnailView w-100"}},{key:"events",get:function get(){return{click:"onClick","click .theme-preview-delete":"onDelete"}}}]),ThemeThumbnailView}(),v=n(563),y=n.n(v),b=n(181),w=n(11),_=n(285);function ThemeListView_typeof(e){return(ThemeListView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ThemeListView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ThemeListView_possibleConstructorReturn(e,t){return!t||"object"!==ThemeListView_typeof(t)&&"function"!=typeof t?function ThemeListView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ThemeListView_getPrototypeOf(e){return(ThemeListView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ThemeListView_setPrototypeOf(e,t){return(ThemeListView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function ThemeListView(){return function ThemeListView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeListView),ThemeListView_possibleConstructorReturn(this,ThemeListView_getPrototypeOf(ThemeListView).apply(this,arguments))}return function ThemeListView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ThemeListView_setPrototypeOf(e,t)}(ThemeListView,b["a"]),function ThemeListView_createClass(e,t,n){return t&&ThemeListView_defineProperties(e.prototype,t),n&&ThemeListView_defineProperties(e,n),e}(ThemeListView,[{key:"initialize",value:function initialize(){this.setTemplate(y.a),this.listenTo(this.model.themes,"update",this.renderList),this.listenTo(this.model.themes,"sync",this.renderList),this.listenTo(this.model.themes,"error",this.renderList),this.listenTo(this.model,"change:selectedCategories",this.renderList)}},{key:"getFiltered",value:function getFiltered(){return Object(w.a)(this,"model.categories.length",0)<1?Object(_.a)(this,"model.themes.toArray",[]):this.model.themes.filter("category_id",this.model.get("selectedCategories"))}},{key:"getListItem",value:function getListItem(){return A}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"ThemeListView text-center mx-3"}}]),ThemeListView}(),C=n(564),S=n.n(C),T=n(180);function ThemePickerView_typeof(e){return(ThemePickerView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ThemePickerView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ThemePickerView_possibleConstructorReturn(e,t){return!t||"object"!==ThemePickerView_typeof(t)&&"function"!=typeof t?function ThemePickerView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ThemePickerView_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ThemePickerView_getPrototypeOf(e){return(ThemePickerView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ThemePickerView_setPrototypeOf(e,t){return(ThemePickerView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function ThemePickerView(){return function ThemePickerView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemePickerView),ThemePickerView_possibleConstructorReturn(this,ThemePickerView_getPrototypeOf(ThemePickerView).apply(this,arguments))}return function ThemePickerView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ThemePickerView_setPrototypeOf(e,t)}(ThemePickerView,u["a"]),function ThemePickerView_createClass(e,t,n){return t&&ThemePickerView_defineProperties(e.prototype,t),n&&ThemePickerView_defineProperties(e,n),e}(ThemePickerView,[{key:"initialize",value:function initialize(e){this.setTemplate(S.a),this.render()}},{key:"render",value:function render(){return _get(ThemePickerView_getPrototypeOf(ThemePickerView.prototype),"render",this).call(this),new E({el:this.$el.find(".theme-picker-list"),model:this.model}).render(),Object(w.a)(this.model,"categories.length",0)>0&&new T.a({el:this.$el.find(".theme-picker-categories"),model:this.model}).render(),this}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"ThemePickerView "}},{key:"attributes",get:function get(){return{}}}]),ThemePickerView}(),O=n(565);function ThemeModule_typeof(e){return(ThemeModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ThemeModule_asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ThemeModule_asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){ThemeModule_asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){ThemeModule_asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function ThemeModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ThemeModule_possibleConstructorReturn(e,t){return!t||"object"!==ThemeModule_typeof(t)&&"function"!=typeof t?function ThemeModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ThemeModule_getPrototypeOf(e){return(ThemeModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ThemeModule_setPrototypeOf(e,t){return(ThemeModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function ThemeModule(){return function ThemeModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThemeModule),ThemeModule_possibleConstructorReturn(this,ThemeModule_getPrototypeOf(ThemeModule).apply(this,arguments))}return function ThemeModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ThemeModule_setPrototypeOf(e,t)}(ThemeModule,r["a"]),function ThemeModule_createClass(e,t,n){return t&&ThemeModule_defineProperties(e.prototype,t),n&&ThemeModule_defineProperties(e,n),e}(ThemeModule,[{key:"initialize",value:function(){var e=ThemeModule_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.categories=new s.a,e.next=3,this.initCategories();case 3:this.themes=new a,this.themes.fetch({validate:!0}),new c.a({title:"RightSidebar",element:"#se-right-sidebar",selectedTab:0,tabs:[{title:l("Themes"),autoRender:!1,view:new x({model:this,load:!0})},{title:l("Customize"),autoRender:!1,view:new O.a({model:this})}]});case 6:case"end":return e.stop()}},_callee,this)}));return function initialize(){return e.apply(this,arguments)}}()},{key:"initCategories",value:function(){var e=ThemeModule_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e=this;return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return this.categories.type="theme",t.abrupt("return",new Promise(function(t){e.categories.fetch({validate:!0,success:function success(){t()},error:function error(){t()}})}));case 2:case"end":return t.stop()}},_callee2,this)}));return function initCategories(){return e.apply(this,arguments)}}()},{key:"defaults",get:function get(){return{selectedCategories:["1"]}}}]),ThemeModule}();t.a=k},function(e,t,n){"use strict";var r=n(21),o=n(273),i=n(542);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function Column(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Column),_possibleConstructorReturn(this,_getPrototypeOf(Column).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Column,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Column,[{key:"initialize",value:function initialize(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.blocks=new o.a,this.view=new i.a({model:this}),this.blocks.column=this;var t=this.get("senderColumn");null!==t?this.set("className","sender-"+t+"-col"):this.set("senderColumn",parseInt(this.get("className").split("-")[1])),this.listenTo(this,"change:senderColumn",function(){e.set("className","sender-"+e.get("senderColumn")+"-col"),e.view.resetSenderClass()}),this.blocks.add(this.collection.section.getColumnElements(this.get("position")),{silent:!0})}},{key:"defaults",get:function get(){return{id:null,position:1,className:"sender-12-col",bgcolor:"none",valign:"top",bgColor:"transparent",senderColumn:null,hideOnMobile:!1}}}]),Column}(),s=n(178),c=n(29);function columnCollection_typeof(e){return(columnCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function columnCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function columnCollection_possibleConstructorReturn(e,t){return!t||"object"!==columnCollection_typeof(t)&&"function"!=typeof t?function columnCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function columnCollection_getPrototypeOf(e){return(columnCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function columnCollection_setPrototypeOf(e,t){return(columnCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function ColumnCollection(){return function columnCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColumnCollection),columnCollection_possibleConstructorReturn(this,columnCollection_getPrototypeOf(ColumnCollection).apply(this,arguments))}return function columnCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&columnCollection_setPrototypeOf(e,t)}(ColumnCollection,s["a"]),function columnCollection_createClass(e,t,n){return t&&columnCollection_defineProperties(e.prototype,t),n&&columnCollection_defineProperties(e,n),e}(ColumnCollection,[{key:"resetColumnSenderClasses",value:function resetColumnSenderClasses(){Object(c.a)(this.models,function(e){e.view.resetSenderClass()})}},{key:"comparator",get:function get(){return"position"}},{key:"model",get:function get(){return a}}]),ColumnCollection}(),d=n(543),f=n(734),p=n(738),h=n(612),g=n(735),m=n(11),A=n(55),v=n(86),y=n(3),b=n(5);function section_typeof(e){return(section_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function section_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function section_possibleConstructorReturn(e,t){return!t||"object"!==section_typeof(t)&&"function"!=typeof t?function section_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=section_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function section_getPrototypeOf(e){return(section_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function section_setPrototypeOf(e,t){return(section_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function Section(){return function section_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Section),section_possibleConstructorReturn(this,section_getPrototypeOf(Section).apply(this,arguments))}return function section_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&section_setPrototypeOf(e,t)}(Section,r["a"]),function section_createClass(e,t,n){return t&&section_defineProperties(e.prototype,t),n&&section_defineProperties(e,n),e}(Section,[{key:"initialize",value:function initialize(){var e=this;this.columns=new u,this.columns.section=this,Object(c.a)(this.get("data.columns"),function(t,n){var r=e.columns.add(t,{silent:!1});e.attributes.data.columns[n]=r.attributes}),this.view=new d.a({model:this})}},{key:"addColumn",value:function addColumn(e){var t=this,n=!1;y.a.isNullOrUndef(this.columns.models[e])||(n=Object(f.a)(this.columns.models[e].cid||!1));var r=12/this.get("data.columns").length,o=this.columns.add({senderColumn:r,position:-1},{at:e+1}),i=[];Object(c.a)(this.get("data.columns"),function(e){i.push(e.senderColumn)}),i.splice(e+1,0,r);var a=this.resizeColumns(i,12);return Object(c.a)(a,function(e,n){t.columns.models[n].set({senderColumn:e})}),this.columns.sort(),this.updateColumns(),this.columns.resetColumnSenderClasses(),this.view.pushColumn(o,n),o}},{key:"removeColumn",value:function removeColumn(e){var t=this;e.view.remove(),this.columns.remove(e);var n=[];Object(c.a)(this.columns.models,function(e){n.push(e.get("senderColumn"))});var r=this.resizeColumns(n,12);Object(c.a)(r,function(e,n){t.columns.models[n].set({senderColumn:e,position:n})}),this.columns.resetColumnSenderClasses(),this.updateColumns()}},{key:"resizeColumns",value:function resizeColumns(e,t){var n=t/e.reduce(function(e,t){return e+t}),r=[],o=0,i=0;return e=Object(p.a)(e,function(e,t){var a=e*n,s=a-Math.floor(a);return s>i&&(i=s,o=t),r.push(s),a}),e=Object(p.a)(e,function(e,t){return t===o?Math.ceil(e):Math.floor(e)})}},{key:"getColumnElements",value:function getColumnElements(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(h.a)(this.get("data.elements"),function(t){return t.col===e})}},{key:"updateElements",value:function updateElements(){var e=[];this.columns.each(function(t,n){t.blocks.each(function(t){e.push(t.toJSON())})}),this.set("data.elements",e,{silent:!0})}},{key:"updateColumns",value:function updateColumns(){var e=[];this.columns.each(function(t,n){t.set("position",n+1),e.push(t.toJSON())}),this.set("data.columns",e,{silent:!0})}},{key:"getAttributes",value:function getAttributes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.toJSON(),n=Object(g.a)({},t.data,this.currentTheme,function(e,t){return null===e?t:e});return t.data=n,t.data.width=Builder.find("Email.model.theme.attributes.data.Email.width"),""!==e?Object(m.a)(t,e):t}},{key:"toJSON",value:function toJSON(e){return this.updateElements(),_get(section_getPrototypeOf(Section.prototype),"toJSON",this).call(this,e)}},{key:"sectionWidthValidation",value:function sectionWidthValidation(){var e=this;void 0!==this.view&&this.view.$el.find(".section-content-wrapper").ready(function(){var t=e.view.$el.find(".internal-content-table")[0].width;e.view.el.querySelector(".section-content-wrapper").clientWidth>t?(e.view.$el.find(".width-validator").css({"border-width":"4px","border-style":"solid","border-color":"red"}).attr("title",l("Width of this section is not valid, please make it smaller")),b.a.toast({title:l("Sections which will ruin email are marked with red border, please reduce width!"),timer:5e3,type:null})):e.view.$el.find(".width-validator").css({"border-width":"","border-style":"","border-color":""}).attr("title",l(""))})}},{key:"defaults",get:function get(){return{id:null,category_id:null,section_template_id:null,title:null,thumbnail:null,is_modified:!1,last_modified:null,position:null,editColumnsMode:!1,data:{align:null,width:null,columnCount:null,contentBackgroundColor:null,backgroundColor:null,backgroundUrl:null,backgroundSize:null,backgroundRepeat:null,backgroundType:null,borderTopRadius:null,borderBottomRadius:null,elements:null,columns:null,paddingLeft:null,paddingTop:null,paddingRight:null,paddingBottom:null,breakOnMobile:null,columnSpacing:null,columnVerticalAlign:null,hideOnMobile:null,DontBrakeOnMobile:null}}}},{key:"settingsScheme",get:function get(){return this.sectionSettings=new v.a,this.sectionSettings.section=this,{model:this,tabs:{selectedTab:1,content:{hide:!0,accordions:[]},customize:{hide:!1,hideLabel:!0,accordions:[Object(A.a)(this.sectionSettings.getSettings(),{isOpen:!0})]}}}}},{key:"eventName",get:function get(){return"SECTION"}}]),Section}(),_=n(0),E=n(1);function sectionCollection_typeof(e){return(sectionCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sectionCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sectionCollection_possibleConstructorReturn(e,t){return!t||"object"!==sectionCollection_typeof(t)&&"function"!=typeof t?function sectionCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sectionCollection_getPrototypeOf(e){return(sectionCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sectionCollection_setPrototypeOf(e,t){return(sectionCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function SectionCollection(){return function sectionCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SectionCollection),sectionCollection_possibleConstructorReturn(this,sectionCollection_getPrototypeOf(SectionCollection).apply(this,arguments))}return function sectionCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sectionCollection_setPrototypeOf(e,t)}(SectionCollection,s["a"]),function sectionCollection_createClass(e,t,n){return t&&sectionCollection_defineProperties(e.prototype,t),n&&sectionCollection_defineProperties(e,n),e}(SectionCollection,[{key:"initialize",value:function initialize(){var e=this;this.listenTo(this,"remove",function(){_.a.publish(E.a.UPDATE_AND_SAVE),e.updatePositions()}),this.listenTo(this,"add",function(){e.updatePositions()})}},{key:"getLatest",value:function getLatest(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.updateSectionsData(),this.toJSON(e)}},{key:"updateSectionsData",value:function updateSectionsData(){this.each(function(e){e.updateElements()})}},{key:"updatePositions",value:function updatePositions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e||(e=this.getPropsArray("uuid")),this.each(function(t){t.set("position",e.indexOf(t.uuid),{silent:!0,autosave:!0})}),this.sort(),this}},{key:"url",get:function get(){return SENDER_ENDPOINT+"section_templates/"}},{key:"comparator",get:function get(){return"position"}},{key:"model",get:function get(){return w}}]),SectionCollection}(),S=n(547),T=n(271),x=n(733),O=n(160),k=n.n(O),B=n(230),P=n(18),I=n.n(P);function email_typeof(e){return(email_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function email_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function email_possibleConstructorReturn(e,t){return!t||"object"!==email_typeof(t)&&"function"!=typeof t?function email_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function email_getPrototypeOf(e){return(email_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function email_setPrototypeOf(e,t){return(email_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function Email(){return function email_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Email),email_possibleConstructorReturn(this,email_getPrototypeOf(Email).apply(this,arguments))}return function email_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&email_setPrototypeOf(e,t)}(Email,r["a"]),function email_createClass(e,t,n){return t&&email_defineProperties(e.prototype,t),n&&email_defineProperties(e,n),e}(Email,[{key:"initialize",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.theme=new T.a,this.sections=new C,this.snapshot=new S.a,this.subscribeEvents(),e.next=6,this.start();case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},_callee,this)}));return function initialize(){return e.apply(this,arguments)}}()},{key:"subscribeEvents",value:function subscribeEvents(){var e=this;return _.a.publish(E.q.ADD_BUTTON,{dropId:3,position:3,click:this.openThemeSidebar,title:l("Design settings"),icon:"fa-pencil-ruler",drops:[],dropDown:!0,context:this}),_.a.publish(E.q.ADD_TO_DROPDOWN,{dropId:3,button:{icon:"fa-cogs",position:4,title:l("Advanced mode"),click:Builder.toggleExpertMode,toggleState:Builder.isExpertModeEnabled(),toggle:!0,context:Builder}}),_.a.publish(E.q.ADD_BUTTON,{dropId:4,position:6,className:"btn-secondary pseudo-arrow",title:"Undo",icon:"fa-undo",drops:[],dropDownButton:!0,dropdownClassName:"undo-positioning",context:this}),this.generateUndoDropdown(),_.a.publish(E.q.ADD_BUTTON,{position:5,icon:"fa-comments",click:function click(){_urq.push(["Feedback_Open"])},title:l("Feedback"),context:this}),_.a.subscribe(E.p.SELECTED,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(t,n){return regeneratorRuntime.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:e.changeTheme(n),b.a.toast({type:null,title:l("Theme set:")+" <br/>".concat(n.title)}),setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Builder.find("Email.model.snapshot").createNewSnapshot([{element:"theme",message:"Email theme changed to "+n.title,section_uuid:"email"}]));case 1:case"end":return e.stop()}},_callee2)})),600);case 3:case"end":return t.stop()}},_callee3)}));return function(e,n){return t.apply(this,arguments)}}()),_.a.subscribe(E.o.SELECTED,function(t,n){return e.selectTemplate(n),e}),_.a.subscribe(E.o.SAVE,function(){return e.saveAsTemplate(),e}),_.a.publish(E.m.SAVED_TO_REMOTE),this}},{key:"generateUndoDropdown",value:function generateUndoDropdown(){var e=this;_.a.subscribe(E.m.SAVED_TO_REMOTE,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(t){var n;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Builder.find("Topbar.model").clearDropdown(0);case 2:return t.next=4,e.snapshot.getUndoSnapshots();case 4:n=t.sent,Object(c.a)(n,function(t,n,r){var o=new Date(1e3*t.EmailSnapshot.last_modified).toLocaleString("LT"),i=JSON.parse(t.EmailSnapshot.changed),a="",s=[];null!==i&&i.forEach(function(e){a+=e.message.concat("\n"),-1===s.indexOf(e.section_uuid)&&s.push(e.section_uuid)}),_.a.publish(E.q.ADD_TO_DROPDOWN,{dropId:4,buttonId:0,button:{position:7,customClass:"hover-listener",itemClass:t.EmailSnapshot.id===e.snapshot.id?"undo active":"",changed:a||!1,additionalInfo:t.EmailSnapshot.thumbnail||!1,dontCloseOnNotLinkClick:!0,addBorder:n!==r.length-1,title:l("Version made at "+o),click:function click(){e.snapshot.setSnapshot(t)},context:e}})});case 6:case"end":return t.stop()}},_callee4)}));return function(e){return t.apply(this,arguments)}}())}},{key:"openThemeSidebar",value:function openThemeSidebar(){_.a.publish(E.f.DESELECT),_.a.publish(E.k.DESTROY),_.a.publish(E.l.TAB_CHANGE,{index:1,sidebar:"RightSidebar"})}},{key:"loadEmailSections",value:function loadEmailSections(){return _.a.publish(E.e.LOADING,this.sections),this.sections.reset(null,{silent:!0}),this.sections.add(this.snapshot.get("data"),{reset:!1,silent:!0}),_.a.publish(E.e.LOADED,this.sections),this}},{key:"changeTheme",value:function changeTheme(e){return this.theme.set(Object(x.a)(e),{validate:!0}),_.a.publish(E.p.CHANGED.ALL,this.theme),this}},{key:"start",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var e;return regeneratorRuntime.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.snapshot.load();case 2:if(t.sent){t.next=6;break}return e=!0,_.a.publish(E.o.OPEN_SELECTION,e),t.abrupt("return",this);case 6:return this.loadSnapshotToEmail(),t.abrupt("return",this);case 8:case"end":return t.stop()}},_callee5,this)}));return function start(){return e.apply(this,arguments)}}()},{key:"loadSnapshotToEmail",value:function loadSnapshotToEmail(){return this.theme.set(this.snapshot.get("theme"),{validate:!0}),_.a.publish(E.p.LOADED,this.theme),this.loadEmailSections(),this}},{key:"selectTemplate",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(e){var t=this;return regeneratorRuntime.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.snapshot.loadTemplate(e);case 2:return n.next=4,this.loadSnapshotToEmail();case 4:return _.a.publishSync(E.p.EDIT.EMAIL),setTimeout(function(){t.snapshot.createNewSnapshot([{element:"template",message:"Template changed to: "+e.attributes.title,section_uuid:"email"}])},1e3),n.abrupt("return",this);case 7:case"end":return n.stop()}},_callee6,this)}));return function selectTemplate(t){return e.apply(this,arguments)}}()},{key:"saveAsTemplate",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var e,t,n,r,o;return regeneratorRuntime.wrap(function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return _.a.publish(E.f.DESELECT),i.next=3,b.a.input({title:l("Template title"),input:"text",confirmButtonText:l("Save"),html:'<div class="text-left"><label style = "font-weight: 600!important; color: #777777!important;">'.concat(l("Name"),"</label></div>"),inputValue:this.get("title")||l("Title"),inputValidator:function inputValidator(e){return e.length<3&&l("Title must be at least 3 characters long")}});case 3:if(e=i.sent,t=e.value){i.next=7;break}return i.abrupt("return");case 7:return i.next=9,this.makeThumbnail().then(function(e){return e.toDataURL("image/png")});case 9:n=i.sent,r={title:t,category_id:"1",theme:this.theme.toJSON({deep:!0}),data:this.sections.getLatest({deep:!0}),html:window.Builder.run("Email.getEmailBodyHtml"),thumbnail:null,thumbnailBase64:n},o=this,window.Builder.find("EmailTemplatesModule.templates").create(r,{at:0,wait:!0,success:function success(e){o.snapshot.set("email_template_id",e.id),b.a.toast({type:null,title:l("Template saved")})}});case 13:case"end":return i.stop()}},_callee7,this)}));return function saveAsTemplate(){return e.apply(this,arguments)}}()},{key:"makeThumbnail",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return _.a.publish(E.f.DESELECT),e.next=3,k()(window.Builder.find("Email.view").getIframe("body")[0],{logging:!1,allowTaint:!1,useCORS:!0,x:10,windowWidth:800,windowHeight:1300,height:1300,width:780});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},_callee8)}));return function makeThumbnail(){return e.apply(this,arguments)}}()},{key:"makeHtmlThumbnail",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:return _.a.publish(E.f.DESELECT),e.next=3,k()(window.Builder.find("Email.view").getIframe("body")[0],{logging:!1,allowTaint:!1,useCORS:!0,x:10,windowWidth:800,windowHeight:800,height:780,width:780});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},_callee9)}));return function makeHtmlThumbnail(){return e.apply(this,arguments)}}()},{key:"saveHtmlThumbnail",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(){var e;return regeneratorRuntime.wrap(function _callee10$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeHtmlThumbnail().then(function(e){return e.toDataURL("image/png")});case 2:e=t.sent,I.a.post(window.SAVE_HTML_TEMPLATE_ENDPOINT,{name:"thumbnail",base_64:e});case 4:case"end":return t.stop()}},_callee10,this)}));return function saveHtmlThumbnail(){return e.apply(this,arguments)}}()},{key:"showTour",value:function showTour(){var e=this;if("0"===window.USER_EDITOR_TOUR.tour){B.a.initTour();var t=[];t.push({title:l("Drag & Drop elements!"),name:l("Drag & Drop elements!"),text:l("Those are elements which you can drag into email!"),attachToAndDirection:"#se-left-sidebar right"},{title:l("Drag & Drop sections!"),name:l("Drag & Drop sections!"),text:l("Those are sections which you can drag into email, you can make your own custom one!"),attachToAndDirection:"#se-left-sidebar right",beforeShow:function beforeShow(){_.a.publish(E.f.DESELECT),_.a.publish(E.l.TAB_CHANGE,{index:1,sidebar:"SectionContent"})}},{title:l("Custom theme!"),name:l("Custom theme!"),text:l("Here you can select and save your theme!"),attachToAndDirection:"#se-right-sidebar left"},{title:l("Customize your theme!"),name:l("Customize your theme!"),text:l("Here you can update your theme appearance!"),attachToAndDirection:".btn-group  bottom"},{title:l("Change your theme custom settings!"),name:l("Customize your theme!"),text:l("You can design your theme and use it multiple time!"),attachToAndDirection:"#se-right-sidebar left",beforeShow:function beforeShow(){_.a.publish(E.f.DESELECT),_.a.publish(E.k.DESTROY),_.a.publish(E.l.TAB_CHANGE,{index:1,sidebar:"RightSidebar"})}},{title:l("Save your theme!"),name:l("Customize your theme!"),text:l("Dont forget to save your custom theme!"),attachToAndDirection:".save-theme top"},{title:l("Change your section settings!"),name:l("Change your section settings!"),text:l("You can design your section!"),attachToAndDirection:"#se-right-sidebar left",beforeShow:function beforeShow(){e.sections.models[0].view.onSelect()}},{title:l("Preview your email!"),name:l("Preview your email!"),text:l("Before sending your campaign, check how it looks on preview!"),attachToAndDirection:".shepherd-email-preview bottom"},{title:l("Send your email!"),name:l("Send your email!"),text:l("That`s it, send your email!"),attachToAndDirection:".sender-step3-button bottom",dontShow:"d-none",CompleteTourText:l("Complete tour"),beforeShow:function beforeShow(){B.a.endTour()}}),B.a.addStep(t),B.a.beginTour()}}},{key:"undoToLatestSnapshot",value:function undoToLatestSnapshot(){var e=this;I.a.get(window.SENDER_ENDPOINT+"email_snapshots"+window.DS+window.HTML_ID+window.DS).then(function(t){200===t.status&&e.snapshot.setSnapshot(t.data)})}},{key:"url",get:function get(){return window.SENDER_ENDPOINT+"html/new/"+window.HTML_ID}},{key:"defaults",get:function get(){return{id:null,html:null}}}]),Email}();t.a=R},function(e,t,n){"use strict";var r=n(474),o=Backbone.View.extend({constructor:function CmImageItemView(){Backbone.View.apply(this,arguments)},template:r,tagName:"div",className:"image-lib-image2",imageData:{},timer:0,delay:20,prevent:!1,events:function events(){var e=this;return{click:function click(t){e.timer=setTimeout(function(){e.prevent||e.model.collection.contentModel.selectImage(e.model),e.prevent=!1},e.delay)},dblclick:function dblclick(t){clearTimeout(e.timer),e.prevent=!1,e.timer=0,e.model.collection.contentModel.deselectAll(),e.model.collection.contentModel.setImage(e.model)},"change .se-cm-checkbox":function changeSeCmCheckbox(t){e.$(t.currentTarget);e.model.collection.contentModel.selectImage(e.model)},mouseenter:function mouseenter(t){e.$el.find(".card-img-overlay").removeClass("se-cm-hidden")},mouseleave:function mouseleave(){e.$el.find(".se-cm-checkbox").is(":checked")||e.$el.find(".card-img-overlay").addClass("se-cm-hidden")}}},initialize:function initialize(){this.render(),this.startListening()},startListening:function startListening(){var e=this;this.listenTo(this.model.collection.contentModel,"deselectAll",function(t){e.model.set("selected",!1)}),this.listenTo(this.model,"change:selected",this.render)},render:function render(){return this.$el.html(r(this.model.toJSON())),this}}),i=Backbone.Model.extend({constructor:function CmImageItem(){Backbone.Model.apply(this,arguments)},defaults:function defaults(){return{id:null,title:null,previewUrl:null,originalUrl:null,creator:null,dateCreated:null,type:null,extension:null,size:null,selected:!1}},initialize:function initialize(e){this.startListening(),this.set("__view",new o({model:this}))},getView:function getView(){return this.get("__view")},startListening:function startListening(){return this}}),a=Backbone.Collection.extend({constructor:function CmImageItemCollection(){Backbone.Collection.apply(this,arguments)},model:i,initialize:function initialize(){this.startListening()},startListening:function startListening(){return this}});t.a=a},function(e,t,n){"use strict";var r=n(28),o=n(190),i=(n(5),n(551)),a=n(21),s=n(17),l=n(469),c=n(11);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function EmailTemplate(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplate),_possibleConstructorReturn(this,_getPrototypeOf(EmailTemplate).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailTemplate,a["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(EmailTemplate,[{key:"parse",value:function parse(e,t){return Object(s.a)(e)&&(e=e[0]),Object(l.a)(e,"EmailTemplate.thumbnail",Object(c.a)(e,"Thumbnail")),_get(_getPrototypeOf(EmailTemplate.prototype),"parse",this).call(this,e.EmailTemplate,t)}},{key:"initialize",value:function initialize(){}},{key:"urlRoot",get:function get(){return window.SENDER_ENDPOINT+"email_templates"}},{key:"defaults",get:function get(){return{id:null,theme_id:null,data:[],title:null,category_id:null,last_modified:null,thumbnail:null}}}]),EmailTemplate}(),d=n(182);function EmailTemplateCollection_typeof(e){return(EmailTemplateCollection_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EmailTemplateCollection_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EmailTemplateCollection_possibleConstructorReturn(e,t){return!t||"object"!==EmailTemplateCollection_typeof(t)&&"function"!=typeof t?function EmailTemplateCollection_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EmailTemplateCollection_getPrototypeOf(e){return(EmailTemplateCollection_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EmailTemplateCollection_setPrototypeOf(e,t){return(EmailTemplateCollection_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function EmailTemplateCollection(){return function EmailTemplateCollection_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplateCollection),EmailTemplateCollection_possibleConstructorReturn(this,EmailTemplateCollection_getPrototypeOf(EmailTemplateCollection).apply(this,arguments))}return function EmailTemplateCollection_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EmailTemplateCollection_setPrototypeOf(e,t)}(EmailTemplateCollection,d["a"]),function EmailTemplateCollection_createClass(e,t,n){return t&&EmailTemplateCollection_defineProperties(e.prototype,t),n&&EmailTemplateCollection_defineProperties(e,n),e}(EmailTemplateCollection,[{key:"getAllItemsCategory",value:function getAllItemsCategory(){return"0"}},{key:"url",get:function get(){return window.SENDER_ENDPOINT+"email_templates"}},{key:"model",get:function get(){return u}}]),EmailTemplateCollection}();n(708),n(0),n(1),n(47);function EmailTemplatesModule_typeof(e){return(EmailTemplatesModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function EmailTemplatesModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EmailTemplatesModule_possibleConstructorReturn(e,t){return!t||"object"!==EmailTemplatesModule_typeof(t)&&"function"!=typeof t?function EmailTemplatesModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EmailTemplatesModule_getPrototypeOf(e){return(EmailTemplatesModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EmailTemplatesModule_setPrototypeOf(e,t){return(EmailTemplatesModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function EmailTemplatesModule(){return function EmailTemplatesModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplatesModule),EmailTemplatesModule_possibleConstructorReturn(this,EmailTemplatesModule_getPrototypeOf(EmailTemplatesModule).apply(this,arguments))}return function EmailTemplatesModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EmailTemplatesModule_setPrototypeOf(e,t)}(EmailTemplatesModule,r["a"]),function EmailTemplatesModule_createClass(e,t,n){return t&&EmailTemplatesModule_defineProperties(e.prototype,t),n&&EmailTemplatesModule_defineProperties(e,n),e}(EmailTemplatesModule,[{key:"initialize",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.categories=new o.a,e.next=3,this.initCategories();case 3:this.templates=new f,this.templates.fetch({validate:!0}),new i.a({model:this});case 6:case"end":return e.stop()}},_callee,this)}));return function initialize(){return e.apply(this,arguments)}}()},{key:"initCategories",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e=this;return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return this.categories.type="email_template",t.abrupt("return",new Promise(function(t){e.categories.fetch({validate:!0,success:function success(){t()},error:function error(){t()}})}));case 2:case"end":return t.stop()}},_callee2,this)}));return function initCategories(){return e.apply(this,arguments)}}()},{key:"defaults",get:function get(){return{selectedCategories:["1"]}}}]),EmailTemplatesModule}();t.a=p},function(e,t,n){"use strict";var r=n(18),o=n.n(r),i=n(28),a=n(0),s=n(41),c=n(1),u=n(13),d=n(557),f=n.n(d),p=n(55);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function ErrorView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorView),_possibleConstructorReturn(this,_getPrototypeOf(ErrorView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(ErrorView,u["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(ErrorView,[{key:"initialize",value:function initialize(e){this.clickedOnCat=0,this.setTemplate(f.a),this.render(),this.$el.prependTo("body")}},{key:"showDebug",value:function showDebug(){this.clickedOnCat++,5===this.clickedOnCat&&console.dir(this.model.previousErrors)}},{key:"openChat",value:function openChat(){LC_API&&LC_API.show_full_view()}},{key:"reload",value:function reload(){return document.location.reload(!0)}},{key:"getModelAttributes",value:function getModelAttributes(){return Object(p.a)(_get(_getPrototypeOf(ErrorView.prototype),"getModelAttributes",this).call(this),{uuid:this.model.error.uuid,message:this.model.error.message,hideButtons:this.model.error.hideButtons,detailText:this.model.error.detailText})}},{key:"events",get:function get(){return Object(p.a)({},_get(_getPrototypeOf(ErrorView.prototype),"events",this),{"click .debug-cat":"showDebug","click .editor-reload":"reload","click .editor-open-chat":"openChat"})}}]),ErrorView}(),g=n(5),m=n(734),A=n(47),v=n(231),y=n(228),b=n(29);function ErrorModule_typeof(e){return(ErrorModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ErrorModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ErrorModule_possibleConstructorReturn(e,t){return!t||"object"!==ErrorModule_typeof(t)&&"function"!=typeof t?function ErrorModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ErrorModule_getPrototypeOf(e){return(ErrorModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ErrorModule_setPrototypeOf(e,t){return(ErrorModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function ErrorModule(){return function ErrorModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorModule),ErrorModule_possibleConstructorReturn(this,ErrorModule_getPrototypeOf(ErrorModule).apply(this,arguments))}return function ErrorModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ErrorModule_setPrototypeOf(e,t)}(ErrorModule,i["a"]),function ErrorModule_createClass(e,t,n){return t&&ErrorModule_defineProperties(e.prototype,t),n&&ErrorModule_defineProperties(e,n),e}(ErrorModule,[{key:"initialize",value:function initialize(){var e=this;this.bindToBackboneSync(),this.error=null,this.errors=[],this.errorEndpoint=window.SENDER_ENDPOINT+"error_logs",a.a.subscribe(c.f.ERROR,function(t,n){e.handleError(n.error,n.options)}),this.catchError(),this.checkBrowser()}},{key:"catchError",value:function catchError(){var e=this;window.onerror=function(t,n,r,o,i){e.displayCaughtError(t,i.stack)},window.addEventListener("unhandledrejection",function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()})}},{key:"displayCaughtError",value:function displayCaughtError(e,t){var n=new y.a(e);n.severity=s.a.SEVERITY.SERVER_PROBLEM,n.stack=t,this.handleError(n,{logError:!0})}},{key:"bindToBackboneSync",value:function bindToBackboneSync(){var e=this,t=Backbone.sync.bind({});return Backbone.sync=function(n,r,o){var i=o.error.bind({});return o.error=function(t,o,a){i(t,o,a),t.relatedData={model:r,method:n},r.get("hideErrorMessages")||e.handleError(new A.a("Failed to ".concat(n," ").concat(r.constructor.name),t.statusText,t.status))},t(n,r,o)},this}},{key:"handleError",value:function handleError(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Error?(null!==this.error&&this.errors.push(Object(m.a)(this.error.toJSON())),this.error=e,t.logError&&this.logError(),t.notify?this["".concat(t.notify,"Notification")]():(this.showAutoNotification(),this)):this}},{key:"logError",value:function logError(){o.a.post(this.errorEndpoint,this.error.toJSON()).catch(function(e){console.error(e)})}},{key:"showAutoNotification",value:function showAutoNotification(){switch(this.error.severity){case s.a.SEVERITY.INFO:this.consoleNotification();break;case s.a.SEVERITY.WARNING:case s.a.SEVERITY.CLIENT_ERROR:this.toastNotification();break;case s.a.SEVERITY.SERVER_PROBLEM:this.modalNotification()}return this}},{key:"consoleNotification",value:function consoleNotification(){return console.error(this.error),this}},{key:"toastNotification",value:function toastNotification(){return g.a.toast(this.error.message),this}},{key:"modalNotification",value:function modalNotification(){return new h({model:this}),this}},{key:"unsupportedNotification",value:function unsupportedNotification(){return new h({model:this,showButtons:!1,detailtext:l("Currently we only support Chrome, Fir")}),this}},{key:"checkBrowser",value:function checkBrowser(){if(this.setBrowser(),!Object(v.a)(s.c,{name:this.browser})){var e=new y.a(this.browser+" "+l("browser is not supported"));e.severity=s.a.SEVERITY.SERVER_PROBLEM;var t="";Object(b.a)(s.c,function(e,n){t+=e.name,n+2===s.c.length&&(t+=" ",t+=l("and"),t+=" "),s.c.length>n+2&&(t+=", ")}),e.hideButtons=!0,e.detailText=l("Currently, we only support")+" "+t+" "+l("browsers"),this.handleError(e,{logError:!1})}}},{key:"setBrowser",value:function setBrowser(){return this.browser="Chrome",(window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0)&&(this.browser="Opera"),"undefined"!=typeof InstallTrigger&&(this.browser="Firefox"),(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString())&&(this.browser="Safari"),document.documentMode&&(this.browser="IE"),"IE"===this.browser&&window.StyleMedia&&(this.browser="Edge"),window.chrome&&(window.chrome.webstore||window.chrome.runtime)&&(this.browser="Chrome"),this.browser}},{key:"previousErrors",get:function get(){return this.errors}}]),ErrorModule}();t.a=w},function(e,t,n){"use strict";var r=n(553),o=n.n(r),i=n(181),a=n(11),s=n(285),c=n(13),u=n(555),d=n.n(u),f=n(5),p=n(0),h=n(1),g=n(55);n(47);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function EmailTemplateThumbnailView(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplateThumbnailView),_possibleConstructorReturn(this,_getPrototypeOf(EmailTemplateThumbnailView).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EmailTemplateThumbnailView,c["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(EmailTemplateThumbnailView,[{key:"initialize",value:function initialize(){this.setTemplate(d.a)}},{key:"onTemplateSelect",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==Builder.find("Email.model.snapshot.loaded")){t.next=3;break}return p.a.publish(h.o.SELECTED,this.model),t.abrupt("return");case 3:return t.next=5,f.a.confirm({type:null,title:l("Are you sure?"),text:l("Changing templates will result in a loss of current content."),confirmButtonText:l("Yes, proceed"),cancelButtonText:l("Cancel")});case 5:e=t.sent,e.value&&p.a.publish(h.o.SELECTED,this.model);case 8:case"end":return t.stop()}},_callee,this)}));return function onTemplateSelect(){return e.apply(this,arguments)}}()},{key:"onDelete",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),e.stopPropagation(),n.next=4,f.a.confirm({type:null,text:l("You are going to delete ")+"".concat(this.model.get("title"))+"?",confirmButtonText:l("Delete"),cancelButtonText:l("Cancel")});case 4:if(t=n.sent,!t.value){n.next=18;break}return n.prev=7,this.model.collection.remove(this.model),n.next=11,this.model.destroy();case 11:f.a.toast({type:null,title:l("Successfully deleted")}),this.remove(),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(7),f.a.error(n.t0);case 18:case"end":return n.stop()}},_callee2,this,[[7,15]])}));return function onDelete(t){return e.apply(this,arguments)}}()},{key:"getModelAttributes",value:function getModelAttributes(){return Object(g.a)({},_get(_getPrototypeOf(EmailTemplateThumbnailView.prototype),"getModelAttributes",this).call(this),{missingImageUrl:"/email-editor/static/img/no_template.png"})}},{key:"attributes",get:function get(){return{"data-emailTemplateId":this.model.id}}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"EmailTemplateThumbnailView "}},{key:"events",get:function get(){return{click:"onTemplateSelect","click .template-select-delete":"onDelete"}}}]),EmailTemplateThumbnailView}();function EmailTemplateListView_typeof(e){return(EmailTemplateListView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EmailTemplateListView_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EmailTemplateListView_possibleConstructorReturn(e,t){return!t||"object"!==EmailTemplateListView_typeof(t)&&"function"!=typeof t?function EmailTemplateListView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EmailTemplateListView_getPrototypeOf(e){return(EmailTemplateListView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EmailTemplateListView_setPrototypeOf(e,t){return(EmailTemplateListView_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function EmailTemplateListView(){return function EmailTemplateListView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailTemplateListView),EmailTemplateListView_possibleConstructorReturn(this,EmailTemplateListView_getPrototypeOf(EmailTemplateListView).apply(this,arguments))}return function EmailTemplateListView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EmailTemplateListView_setPrototypeOf(e,t)}(EmailTemplateListView,i["a"]),function EmailTemplateListView_createClass(e,t,n){return t&&EmailTemplateListView_defineProperties(e.prototype,t),n&&EmailTemplateListView_defineProperties(e,n),e}(EmailTemplateListView,[{key:"initialize",value:function initialize(e){this.setTemplate(o.a),this.listenTo(this.model.templates,"update",this.renderList),this.listenTo(this.model.templates,"sync",this.renderList),this.listenTo(this.model.templates,"error",this.renderList),this.listenTo(this.model,"change:selectedCategories",this.renderList),this.listenTo(this.model,"emailTemplatePicker:hide",this.remove),this.listenTo(this,"postRender",this.onPostRender)}},{key:"getFiltered",value:function getFiltered(){return Object(a.a)(this,"model.categories.length",0)<1?Object(s.a)(this,"model.templates.toArray",[]):this.model.templates.filter("category_id",this.model.get("selectedCategories"))}},{key:"getListItem",value:function getListItem(){return m}},{key:"onPostRender",value:function onPostRender(){this.renderList()}},{key:"tagName",get:function get(){return"div"}},{key:"className",get:function get(){return"EmailTemplateListView text-center mx-3"}}]),EmailTemplateListView}();t.a=A},function(e,t,n){"use strict";var r=n(21),o=n(3),i=n(0),a=n(1),s=n(737),c=n(119);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=["Block","Theme","Section"],d={leading:!1,trailing:!0},f=function(e){function AutoSave(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AutoSave),_possibleConstructorReturn(this,_getPrototypeOf(AutoSave).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(AutoSave,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(AutoSave,[{key:"initialize",value:function initialize(){var e=this;this.debug("AutoSave: initialize",this),this.coolOff=0,this.lastSaved=19876543210,i.a.publish(a.q.ADD_BUTTON,{position:0,icon:"fa-save",title:l("Save & continue"),className:"btn btn-primary sender-step3-button",click:this.saveAndContinue,context:this}),i.a.subscribeOnce(a.d.SECTIONS.READY,function(){e.subscribeEvents(),e.publishSave()})}},{key:"saveAndContinue",value:function(){var e=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function _next(e){asyncGeneratorStep(i,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,r,o,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return i.a.publishSync(a.f.DESELECT),e=window.Builder.find("Email.model.snapshot"),window.Builder.showLoader(),t.prev=3,t.next=6,e.createNewSnapshot([{element:"email",message:"Saved before exit",section_uuid:"email"}]);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),window.Builder.hideLoader(),t.abrupt("return");case 12:o.a.redirect(window.SENDER_ENDPOINT+window.EXIT_PATH+window.DS+window.HTML_ID);case 13:case"end":return t.stop()}},_callee,null,[[3,8]])}));return function saveAndContinue(){return e.apply(this,arguments)}}()},{key:"subscribeEvents",value:function subscribeEvents(){var e=Object(s.a)(Object(c.a)(this.start,this),5e3,d);return i.a.subscribe(a.h.SET,function(t){o.a.arrayHas(u,t)&&e(t)}),i.a.subscribe(a.a.UPDATE_AND_SAVE,function(t){e(t)}),this}},{key:"confirmExit",value:function confirmExit(e){this.coolOff,0}},{key:"start",value:function start(e){if(this.debug("AutoSave: debounced event - "+e),i.a.publish(a.m.SAVE.LOCAL,this),this.clearTimer(),o.a.timestamp-this.lastSaved>180)return this.debug("AutoSave: force save",this),this.publishSave(),this;this.debug("AutoSave: starting timer - 15000",this),this.coolOff=setTimeout(Object(c.a)(this.publishSave,this),15e3)}},{key:"clearTimer",value:function clearTimer(){0!==this.coolOff&&(this.debug("AutoSave: resetting timer "+this.coolOff,this),clearTimeout(this.coolOff),this.coolOff=0)}},{key:"publishSave",value:function publishSave(){this.debug("AutoSave: published save message - "+a.m.SAVE,this),this.clearTimer(),this.lastSaved=o.a.timestamp,i.a.publish(a.m.SAVE.REMOTE)}},{key:"debug",value:function debug(e){}}]),AutoSave}(),p=n(28);function autosaveModule_typeof(e){return(autosaveModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function autosaveModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function autosaveModule_possibleConstructorReturn(e,t){return!t||"object"!==autosaveModule_typeof(t)&&"function"!=typeof t?function autosaveModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function autosaveModule_getPrototypeOf(e){return(autosaveModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function autosaveModule_setPrototypeOf(e,t){return(autosaveModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function AutoSaveModule(){return function autosaveModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AutoSaveModule),autosaveModule_possibleConstructorReturn(this,autosaveModule_getPrototypeOf(AutoSaveModule).apply(this,arguments))}return function autosaveModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&autosaveModule_setPrototypeOf(e,t)}(AutoSaveModule,p["a"]),function autosaveModule_createClass(e,t,n){return t&&autosaveModule_defineProperties(e.prototype,t),n&&autosaveModule_defineProperties(e,n),e}(AutoSaveModule,[{key:"initialize",value:function initialize(){new f({module:this})}}]),AutoSaveModule}();t.a=h},function(e,t,n){"use strict";var r=n(21),o=n(3),i=n(0),a=n(1),s=n(742);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function TopbarModel(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopbarModel),_possibleConstructorReturn(this,_getPrototypeOf(TopbarModel).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(TopbarModel,r["a"]),function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(TopbarModel,[{key:"initialize",value:function initialize(){var e=this;i.a.subscribe(a.q.ADD_BUTTON,function(t,n){e.addButton(n)}),i.a.subscribe(a.q.ADD_TO_DROPDOWN,function(t,n){e.pushButton(n.dropId,n.button,n.buttonId)})}},{key:"pushButton",value:function pushButton(e,t,n){if(void 0!==n){var r=this.get("buttons."+n+".drops");return r.push(t),this.set("buttons."+n+".drops",r),!0}if(o.a.isNullOrUndef(t))return this;var i=this.get("dropdown"+e)||[];return i.push(t),this.set("dropdown"+e,Object(s.a)(i,["position"],"desc")),this}},{key:"clearDropdown",value:function clearDropdown(e){this.set("buttons."+e+".drops",[])}},{key:"addButton",value:function addButton(e){if(o.a.isNullOrUndef(e))return this;var t=this.get("buttons");return t.push(e),this.set("buttons",Object(s.a)(t,["position"],"desc")),this}},{key:"changeUndoButtonToSaveIcon",value:function changeUndoButtonToSaveIcon(){this.set("buttons.0.icon","fa-save")}},{key:"changeUndoButtonToUndoIcon",value:function changeUndoButtonToUndoIcon(){var e=this;setTimeout(function(){e.set("buttons.0.icon","fa-undo")},1e3)}},{key:"defaults",get:function get(){return{buttons:[]}}}]),TopbarModel}(),c=n(590),u=n(28);function topbarModule_typeof(e){return(topbarModule_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function topbarModule_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function topbarModule_possibleConstructorReturn(e,t){return!t||"object"!==topbarModule_typeof(t)&&"function"!=typeof t?function topbarModule_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function topbarModule_getPrototypeOf(e){return(topbarModule_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function topbarModule_setPrototypeOf(e,t){return(topbarModule_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function TopbarModule(){return function topbarModule_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopbarModule),topbarModule_possibleConstructorReturn(this,topbarModule_getPrototypeOf(TopbarModule).apply(this,arguments))}return function topbarModule_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&topbarModule_setPrototypeOf(e,t)}(TopbarModule,u["a"]),function topbarModule_createClass(e,t,n){return t&&topbarModule_defineProperties(e.prototype,t),n&&topbarModule_defineProperties(e,n),e}(TopbarModule,[{key:"initialize",value:function initialize(){this.model=new l,this.view=new c.a({el:this.get("element"),model:this.model})}}]),TopbarModule}();t.a=d},function(e,t,n){"use strict";var r=n(266),o=Object(r.a)("round");t.a=o},function(e,t,n){"use strict";var r=n(126),o=n(57),i=n(176),a=n(257),s=n(56);var l=function baseInvoke(e,t,n){t=Object(o.a)(t,e);var l=null==(e=Object(a.a)(e,t))?e:e[Object(s.a)(Object(i.a)(t))];return null==l?void 0:Object(r.a)(l,e,n)},c=n(85),u=Object(c.a)(l);t.a=u},function(e,t,n){"use strict";var r=n(239),o=n(187);var i=function baseFilter(e,t){var n=[];return Object(o.a)(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n},a=n(99),s=n(17);t.a=function filter(e,t){return(Object(s.a)(e)?r.a:i)(e,Object(a.a)(t,3))}},function(e,t,n){n(196),e.exports=n(614)},function(e,t,n){"use strict";n.r(t),function(e){n(286),n(288),n(290),n(291),n(292),n(293),n(294),n(296),n(297),n(298),n(299),n(300),n(138),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(313),n(314),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(349),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(218),n(393),n(395),n(396),n(397),n(398),n(399),n(400),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(615),n(617),n(446),n(618),n(620),n(634);var t=n(496),r=n(1),o=n(0),i=n(608),a=n(501),s=n(502),l=n(517),c=n(605),u=n(606),d=n(465),f=n(602),p=n(609),h=n(592),g=n(601),m=n(466),A=n(598);try{Sentry.init({dsn:"https://30e1943b198d415fbe1e52bd494efd45@sentry.io/1494836",release:"editor-v1.7"})}catch(e){}window.addEventListener("click",function(e){o.a.publish(r.c.TOPFRAME,e)}),window.ld=console.log.bind(window.console),window.ldc=function(e,n){n||(n=t.a.getRandomColor(null,null)),ld("%c "+e,"color: "+n)},window.ldd=function(){e.forEach(arguments,function(e){ld(e)})},window.l||(window.l=function(e){return e}),window.Builder=new a.a,Builder.addModules([new u.a({title:"ErrorModule"}),new h.a({title:"SettingModule"}),new p.a({title:"Topbar",element:"#topbar"}),new i.a({title:"AutoSaveModule"}),new c.a({title:"EmailTemplatesModule"}),new g.a({title:"ContentLibrary"}),new f.a({title:"ThemeModule"}),new s.a({title:"ContentModule",element:"body"}),new l.a({title:"Email",element:"#editor"}),new d.a({title:"BlockHoverActions",events:r.b}),new d.a({title:"SectionHoverActions",events:r.i}),new A.a({title:"TestEmail2"}),new m.a({title:m.a})]),o.a.subscribe("LiveChat.loaded",function(){o.a.publish(r.q.ADD_BUTTON,{position:6,icon:"fa-question-circle",className:"se-open-chat btn-secondary",click:function click(){LC_API&&LC_API.show_full_view()},context:void 0})})}.call(this,n(24))},function(e,t,n){
/*!
  * Bootstrap v4.4.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,t,n){"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var r="transitionend";function transitionEndEmulator(e){var n=this,r=!1;return t(this).one(o.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||o.triggerTransitionEnd(n)},e),this}var o={TRANSITION_END:"bsTransitionEnd",getUID:function getUID(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function getSelectorFromElement(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function getTransitionDurationFromElement(e){if(!e)return 0;var n=t(e).css("transition-duration"),r=t(e).css("transition-delay"),o=parseFloat(n),i=parseFloat(r);return o||i?(n=n.split(",")[0],r=r.split(",")[0],1e3*(parseFloat(n)+parseFloat(r))):0},reflow:function reflow(e){return e.offsetHeight},triggerTransitionEnd:function triggerTransitionEnd(e){t(e).trigger(r)},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean(r)},isElement:function isElement(e){return(e[0]||e).nodeType},typeCheckConfig:function typeCheckConfig(e,t,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r],a=t[r],s=a&&o.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(i).test(s))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+i+'".')}var l},findShadowRoot:function findShadowRoot(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?o.findShadowRoot(e.parentNode):null},jQueryDetection:function jQueryDetection(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};o.jQueryDetection(),function setTransitionEndSupport(){t.fn.emulateTransitionEnd=transitionEndEmulator,t.event.special[o.TRANSITION_END]=function getSpecialTransitionEndEvent(){return{bindType:r,delegateType:r,handle:function handle(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}()}();var i=t.fn.alert,a={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},s={ALERT:"alert",FADE:"fade",SHOW:"show"},l=function(){function Alert(e){this._element=e}var e=Alert.prototype;return e.close=function close(e){var t=this._element;e&&(t=this._getRootElement(e));var n=this._triggerCloseEvent(t);n.isDefaultPrevented()||this._removeElement(t)},e.dispose=function dispose(){t.removeData(this._element,"bs.alert"),this._element=null},e._getRootElement=function _getRootElement(e){var n=o.getSelectorFromElement(e),r=!1;return n&&(r=document.querySelector(n)),r||(r=t(e).closest("."+s.ALERT)[0]),r},e._triggerCloseEvent=function _triggerCloseEvent(e){var n=t.Event(a.CLOSE);return t(e).trigger(n),n},e._removeElement=function _removeElement(e){var n=this;if(t(e).removeClass(s.SHOW),t(e).hasClass(s.FADE)){var r=o.getTransitionDurationFromElement(e);t(e).one(o.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(r)}else this._destroyElement(e)},e._destroyElement=function _destroyElement(e){t(e).detach().trigger(a.CLOSED).remove()},Alert._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||(r=new Alert(this),n.data("bs.alert",r)),"close"===e&&r[e](this)})},Alert._handleDismiss=function _handleDismiss(e){return function(t){t&&t.preventDefault(),e.close(this)}},_createClass(Alert,null,[{key:"VERSION",get:function get(){return"4.4.1"}}]),Alert}();t(document).on(a.CLICK_DATA_API,'[data-dismiss="alert"]',l._handleDismiss(new l)),t.fn.alert=l._jQueryInterface,t.fn.alert.Constructor=l,t.fn.alert.noConflict=function(){return t.fn.alert=i,l._jQueryInterface};var c=t.fn.button,u={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},d={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLES:'[data-toggle="buttons"]',DATA_TOGGLE:'[data-toggle="button"]',DATA_TOGGLES_BUTTONS:'[data-toggle="buttons"] .btn',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},f={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api",LOAD_DATA_API:"load.bs.button.data-api"},p=function(){function Button(e){this._element=e}var e=Button.prototype;return e.toggle=function toggle(){var e=!0,n=!0,r=t(this._element).closest(d.DATA_TOGGLES)[0];if(r){var o=this._element.querySelector(d.INPUT);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(u.ACTIVE))e=!1;else{var i=r.querySelector(d.ACTIVE);i&&t(i).removeClass(u.ACTIVE)}else"checkbox"===o.type?"LABEL"===this._element.tagName&&o.checked===this._element.classList.contains(u.ACTIVE)&&(e=!1):e=!1;e&&(o.checked=!this._element.classList.contains(u.ACTIVE),t(o).trigger("change")),o.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(u.ACTIVE)),e&&t(this._element).toggleClass(u.ACTIVE))},e.dispose=function dispose(){t.removeData(this._element,"bs.button"),this._element=null},Button._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.button");n||(n=new Button(this),t(this).data("bs.button",n)),"toggle"===e&&n[e]()})},_createClass(Button,null,[{key:"VERSION",get:function get(){return"4.4.1"}}]),Button}();t(document).on(f.CLICK_DATA_API,d.DATA_TOGGLE_CARROT,function(e){var n=e.target;if(t(n).hasClass(u.BUTTON)||(n=t(n).closest(d.BUTTON)[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))e.preventDefault();else{var r=n.querySelector(d.INPUT);if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void e.preventDefault();p._jQueryInterface.call(t(n),"toggle")}}).on(f.FOCUS_BLUR_DATA_API,d.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(d.BUTTON)[0];t(n).toggleClass(u.FOCUS,/^focus(in)?$/.test(e.type))}),t(window).on(f.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(d.DATA_TOGGLES_BUTTONS)),t=0,n=e.length;t<n;t++){var r=e[t],o=r.querySelector(d.INPUT);o.checked||o.hasAttribute("checked")?r.classList.add(u.ACTIVE):r.classList.remove(u.ACTIVE)}for(var i=0,a=(e=[].slice.call(document.querySelectorAll(d.DATA_TOGGLE))).length;i<a;i++){var s=e[i];"true"===s.getAttribute("aria-pressed")?s.classList.add(u.ACTIVE):s.classList.remove(u.ACTIVE)}}),t.fn.button=p._jQueryInterface,t.fn.button.Constructor=p,t.fn.button.noConflict=function(){return t.fn.button=c,p._jQueryInterface};var h="carousel",g=".bs.carousel",m=t.fn[h],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},y={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},b={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},w={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},_={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},E={TOUCH:"touch",PEN:"pen"},C=function(){function Carousel(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(_.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=Carousel.prototype;return e.next=function next(){this._isSliding||this._slide(y.NEXT)},e.nextWhenVisible=function nextWhenVisible(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},e.prev=function prev(){this._isSliding||this._slide(y.PREV)},e.pause=function pause(e){e||(this._isPaused=!0),this._element.querySelector(_.NEXT_PREV)&&(o.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function to(e){var n=this;this._activeElement=this._element.querySelector(_.ACTIVE_ITEM);var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(b.SLID,function(){return n.to(e)});else{if(r===e)return this.pause(),void this.cycle();var o=e>r?y.NEXT:y.PREV;this._slide(o,this._items[e])}},e.dispose=function dispose(){t(this._element).off(g),t.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function _getConfig(e){return e=_objectSpread2({},A,{},e),o.typeCheckConfig(h,e,v),e},e._handleSwipe=function _handleSwipe(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},e._addEventListeners=function _addEventListeners(){var e=this;this._config.keyboard&&t(this._element).on(b.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&t(this._element).on(b.MOUSEENTER,function(t){return e.pause(t)}).on(b.MOUSELEAVE,function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function _addTouchEventListeners(){var e=this;if(this._touchSupported){var n=function start(t){e._pointerEvent&&E[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},r=function end(t){e._pointerEvent&&E[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval))};t(this._element.querySelectorAll(_.ITEM_IMG)).on(b.DRAG_START,function(e){return e.preventDefault()}),this._pointerEvent?(t(this._element).on(b.POINTERDOWN,function(e){return n(e)}),t(this._element).on(b.POINTERUP,function(e){return r(e)}),this._element.classList.add(w.POINTER_EVENT)):(t(this._element).on(b.TOUCHSTART,function(e){return n(e)}),t(this._element).on(b.TOUCHMOVE,function(t){return function move(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?e.touchDeltaX=0:e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX}(t)}),t(this._element).on(b.TOUCHEND,function(e){return r(e)}))}},e._keydown=function _keydown(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function _getItemIndex(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(_.ITEM)):[],this._items.indexOf(e)},e._getItemByDirection=function _getItemByDirection(e,t){var n=e===y.NEXT,r=e===y.PREV,o=this._getItemIndex(t),i=this._items.length-1,a=r&&0===o||n&&o===i;if(a&&!this._config.wrap)return t;var s=e===y.PREV?-1:1,l=(o+s)%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]},e._triggerSlideEvent=function _triggerSlideEvent(e,n){var r=this._getItemIndex(e),o=this._getItemIndex(this._element.querySelector(_.ACTIVE_ITEM)),i=t.Event(b.SLIDE,{relatedTarget:e,direction:n,from:o,to:r});return t(this._element).trigger(i),i},e._setActiveIndicatorElement=function _setActiveIndicatorElement(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(_.ACTIVE));t(n).removeClass(w.ACTIVE);var r=this._indicatorsElement.children[this._getItemIndex(e)];r&&t(r).addClass(w.ACTIVE)}},e._slide=function _slide(e,n){var r,i,a,s=this,l=this._element.querySelector(_.ACTIVE_ITEM),c=this._getItemIndex(l),u=n||l&&this._getItemByDirection(e,l),d=this._getItemIndex(u),f=Boolean(this._interval);if(e===y.NEXT?(r=w.LEFT,i=w.NEXT,a=y.LEFT):(r=w.RIGHT,i=w.PREV,a=y.RIGHT),u&&t(u).hasClass(w.ACTIVE))this._isSliding=!1;else{var p=this._triggerSlideEvent(u,a);if(!p.isDefaultPrevented()&&l&&u){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(u);var h=t.Event(b.SLID,{relatedTarget:u,direction:a,from:c,to:d});if(t(this._element).hasClass(w.SLIDE)){t(u).addClass(i),o.reflow(u),t(l).addClass(r),t(u).addClass(r);var g=parseInt(u.getAttribute("data-interval"),10);g?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=g):this._config.interval=this._config.defaultInterval||this._config.interval;var m=o.getTransitionDurationFromElement(l);t(l).one(o.TRANSITION_END,function(){t(u).removeClass(r+" "+i).addClass(w.ACTIVE),t(l).removeClass(w.ACTIVE+" "+i+" "+r),s._isSliding=!1,setTimeout(function(){return t(s._element).trigger(h)},0)}).emulateTransitionEnd(m)}else t(l).removeClass(w.ACTIVE),t(u).addClass(w.ACTIVE),this._isSliding=!1,t(this._element).trigger(h);f&&this.cycle()}}},Carousel._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.carousel"),r=_objectSpread2({},A,{},t(this).data());"object"==typeof e&&(r=_objectSpread2({},r,{},e));var o="string"==typeof e?e:r.slide;if(n||(n=new Carousel(this,r),t(this).data("bs.carousel",n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else r.interval&&r.ride&&(n.pause(),n.cycle())})},Carousel._dataApiClickHandler=function _dataApiClickHandler(e){var n=o.getSelectorFromElement(this);if(n){var r=t(n)[0];if(r&&t(r).hasClass(w.CAROUSEL)){var i=_objectSpread2({},t(r).data(),{},t(this).data()),a=this.getAttribute("data-slide-to");a&&(i.interval=!1),Carousel._jQueryInterface.call(t(r),i),a&&t(r).data("bs.carousel").to(a),e.preventDefault()}}},_createClass(Carousel,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return A}}]),Carousel}();t(document).on(b.CLICK_DATA_API,_.DATA_SLIDE,C._dataApiClickHandler),t(window).on(b.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(_.DATA_RIDE)),n=0,r=e.length;n<r;n++){var o=t(e[n]);C._jQueryInterface.call(o,o.data())}}),t.fn[h]=C._jQueryInterface,t.fn[h].Constructor=C,t.fn[h].noConflict=function(){return t.fn[h]=m,C._jQueryInterface};var S="collapse",T=t.fn[S],x={toggle:!0,parent:""},O={toggle:"boolean",parent:"(string|element)"},k={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},B={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},P={WIDTH:"width",HEIGHT:"height"},I={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},R=function(){function Collapse(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(I.DATA_TOGGLE)),r=0,i=n.length;r<i;r++){var a=n[r],s=o.getSelectorFromElement(a),l=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&l.length>0&&(this._selector=s,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=Collapse.prototype;return e.toggle=function toggle(){t(this._element).hasClass(B.SHOW)?this.hide():this.show()},e.show=function show(){var e,n,r=this;if(!(this._isTransitioning||t(this._element).hasClass(B.SHOW)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(I.ACTIVES)).filter(function(e){return"string"==typeof r._config.parent?e.getAttribute("data-parent")===r._config.parent:e.classList.contains(B.COLLAPSE)})).length&&(e=null),e&&(n=t(e).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var i=t.Event(k.SHOW);if(t(this._element).trigger(i),!i.isDefaultPrevented()){e&&(Collapse._jQueryInterface.call(t(e).not(this._selector),"hide"),n||t(e).data("bs.collapse",null));var a=this._getDimension();t(this._element).removeClass(B.COLLAPSE).addClass(B.COLLAPSING),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(B.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var s=a[0].toUpperCase()+a.slice(1),l="scroll"+s,c=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,function complete(){t(r._element).removeClass(B.COLLAPSING).addClass(B.COLLAPSE).addClass(B.SHOW),r._element.style[a]="",r.setTransitioning(!1),t(r._element).trigger(k.SHOWN)}).emulateTransitionEnd(c),this._element.style[a]=this._element[l]+"px"}}},e.hide=function hide(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(B.SHOW)){var n=t.Event(k.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",o.reflow(this._element),t(this._element).addClass(B.COLLAPSING).removeClass(B.COLLAPSE).removeClass(B.SHOW);var i=this._triggerArray.length;if(i>0)for(var a=0;a<i;a++){var s=this._triggerArray[a],l=o.getSelectorFromElement(s);if(null!==l){var c=t([].slice.call(document.querySelectorAll(l)));c.hasClass(B.SHOW)||t(s).addClass(B.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0),this._element.style[r]="";var u=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,function complete(){e.setTransitioning(!1),t(e._element).removeClass(B.COLLAPSING).addClass(B.COLLAPSE).trigger(k.HIDDEN)}).emulateTransitionEnd(u)}}},e.setTransitioning=function setTransitioning(e){this._isTransitioning=e},e.dispose=function dispose(){t.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function _getConfig(e){return(e=_objectSpread2({},x,{},e)).toggle=Boolean(e.toggle),o.typeCheckConfig(S,e,O),e},e._getDimension=function _getDimension(){var e=t(this._element).hasClass(P.WIDTH);return e?P.WIDTH:P.HEIGHT},e._getParent=function _getParent(){var e,n=this;o.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(e.querySelectorAll(r));return t(i).each(function(e,t){n._addAriaAndCollapsedClass(Collapse._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function _addAriaAndCollapsedClass(e,n){var r=t(e).hasClass(B.SHOW);n.length&&t(n).toggleClass(B.COLLAPSED,!r).attr("aria-expanded",r)},Collapse._getTargetFromElement=function _getTargetFromElement(e){var t=o.getSelectorFromElement(e);return t?document.querySelector(t):null},Collapse._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=_objectSpread2({},x,{},n.data(),{},"object"==typeof e&&e?e:{});if(!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new Collapse(this,o),n.data("bs.collapse",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},_createClass(Collapse,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return x}}]),Collapse}();t(document).on(k.CLICK_DATA_API,I.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),r=o.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(r));t(i).each(function(){var e=t(this),r=e.data("bs.collapse"),o=r?"toggle":n.data();R._jQueryInterface.call(e,o)})}),t.fn[S]=R._jQueryInterface,t.fn[S].Constructor=R,t.fn[S].noConflict=function(){return t.fn[S]=T,R._jQueryInterface};var L="dropdown",M=t.fn[L],D=new RegExp("38|40|27"),N={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},F={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},U={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},H={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},j={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Q={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},z=function(){function Dropdown(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=Dropdown.prototype;return e.toggle=function toggle(){if(!this._element.disabled&&!t(this._element).hasClass(F.DISABLED)){var e=t(this._menu).hasClass(F.SHOW);Dropdown._clearMenus(),e||this.show(!0)}},e.show=function show(e){if(void 0===e&&(e=!1),!(this._element.disabled||t(this._element).hasClass(F.DISABLED)||t(this._menu).hasClass(F.SHOW))){var r={relatedTarget:this._element},i=t.Event(N.SHOW,r),a=Dropdown._getParentFromElement(this._element);if(t(a).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=a:o.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(a).addClass(F.POSITION_STATIC),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(a).closest(U.NAVBAR_NAV).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(F.SHOW),t(a).toggleClass(F.SHOW).trigger(t.Event(N.SHOWN,r))}}},e.hide=function hide(){if(!this._element.disabled&&!t(this._element).hasClass(F.DISABLED)&&t(this._menu).hasClass(F.SHOW)){var e={relatedTarget:this._element},n=t.Event(N.HIDE,e),r=Dropdown._getParentFromElement(this._element);t(r).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),t(this._menu).toggleClass(F.SHOW),t(r).toggleClass(F.SHOW).trigger(t.Event(N.HIDDEN,e)))}},e.dispose=function dispose(){t.removeData(this._element,"bs.dropdown"),t(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function _addEventListeners(){var e=this;t(this._element).on(N.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},e._getConfig=function _getConfig(e){return e=_objectSpread2({},this.constructor.Default,{},t(this._element).data(),{},e),o.typeCheckConfig(L,e,this.constructor.DefaultType),e},e._getMenuElement=function _getMenuElement(){if(!this._menu){var e=Dropdown._getParentFromElement(this._element);e&&(this._menu=e.querySelector(U.MENU))}return this._menu},e._getPlacement=function _getPlacement(){var e=t(this._element.parentNode),n=H.BOTTOM;return e.hasClass(F.DROPUP)?(n=H.TOP,t(this._menu).hasClass(F.MENURIGHT)&&(n=H.TOPEND)):e.hasClass(F.DROPRIGHT)?n=H.RIGHT:e.hasClass(F.DROPLEFT)?n=H.LEFT:t(this._menu).hasClass(F.MENURIGHT)&&(n=H.BOTTOMEND),n},e._detectNavbar=function _detectNavbar(){return t(this._element).closest(".navbar").length>0},e._getOffset=function _getOffset(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=_objectSpread2({},t.offsets,{},e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},e._getPopperConfig=function _getPopperConfig(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),_objectSpread2({},e,{},this._config.popperConfig)},Dropdown._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.dropdown"),r="object"==typeof e?e:null;if(n||(n=new Dropdown(this,r),t(this).data("bs.dropdown",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},Dropdown._clearMenus=function _clearMenus(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=[].slice.call(document.querySelectorAll(U.DATA_TOGGLE)),r=0,o=n.length;r<o;r++){var i=Dropdown._getParentFromElement(n[r]),a=t(n[r]).data("bs.dropdown"),s={relatedTarget:n[r]};if(e&&"click"===e.type&&(s.clickEvent=e),a){var l=a._menu;if(t(i).hasClass(F.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(i,e.target))){var c=t.Event(N.HIDE,s);t(i).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),n[r].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),t(l).removeClass(F.SHOW),t(i).removeClass(F.SHOW).trigger(t.Event(N.HIDDEN,s)))}}}},Dropdown._getParentFromElement=function _getParentFromElement(e){var t,n=o.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},Dropdown._dataApiKeydownHandler=function _dataApiKeydownHandler(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(U.MENU).length)):D.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(F.DISABLED))){var n=Dropdown._getParentFromElement(this),r=t(n).hasClass(F.SHOW);if(r||27!==e.which)if(r&&(!r||27!==e.which&&32!==e.which)){var o=[].slice.call(n.querySelectorAll(U.VISIBLE_ITEMS)).filter(function(e){return t(e).is(":visible")});if(0!==o.length){var i=o.indexOf(e.target);38===e.which&&i>0&&i--,40===e.which&&i<o.length-1&&i++,i<0&&(i=0),o[i].focus()}}else{if(27===e.which){var a=n.querySelector(U.DATA_TOGGLE);t(a).trigger("focus")}t(this).trigger("click")}}},_createClass(Dropdown,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return j}},{key:"DefaultType",get:function get(){return Q}}]),Dropdown}();t(document).on(N.KEYDOWN_DATA_API,U.DATA_TOGGLE,z._dataApiKeydownHandler).on(N.KEYDOWN_DATA_API,U.MENU,z._dataApiKeydownHandler).on(N.CLICK_DATA_API+" "+N.KEYUP_DATA_API,z._clearMenus).on(N.CLICK_DATA_API,U.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),z._jQueryInterface.call(t(this),"toggle")}).on(N.CLICK_DATA_API,U.FORM_CHILD,function(e){e.stopPropagation()}),t.fn[L]=z._jQueryInterface,t.fn[L].Constructor=z,t.fn[L].noConflict=function(){return t.fn[L]=M,z._jQueryInterface};var $=t.fn.modal,V={backdrop:!0,keyboard:!0,focus:!0,show:!0},G={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},W={HIDE:"hide.bs.modal",HIDE_PREVENTED:"hidePrevented.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},K={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show",STATIC:"modal-static"},q={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Y=function(){function Modal(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(q.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=Modal.prototype;return e.toggle=function toggle(e){return this._isShown?this.hide():this.show(e)},e.show=function show(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(K.FADE)&&(this._isTransitioning=!0);var r=t.Event(W.SHOW,{relatedTarget:e});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(W.CLICK_DISMISS,q.DATA_DISMISS,function(e){return n.hide(e)}),t(this._dialog).on(W.MOUSEDOWN_DISMISS,function(){t(n._element).one(W.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},e.hide=function hide(e){var n=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var r=t.Event(W.HIDE);if(t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var i=t(this._element).hasClass(K.FADE);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(W.FOCUSIN),t(this._element).removeClass(K.SHOW),t(this._element).off(W.CLICK_DISMISS),t(this._dialog).off(W.MOUSEDOWN_DISMISS),i){var a=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(a)}else this._hideModal()}}},e.dispose=function dispose(){[window,this._element,this._dialog].forEach(function(e){return t(e).off(".bs.modal")}),t(document).off(W.FOCUSIN),t.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function handleUpdate(){this._adjustDialog()},e._getConfig=function _getConfig(e){return e=_objectSpread2({},V,{},e),o.typeCheckConfig("modal",e,G),e},e._triggerBackdropTransition=function _triggerBackdropTransition(){var e=this;if("static"===this._config.backdrop){var n=t.Event(W.HIDE_PREVENTED);if(t(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add(K.STATIC);var r=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,function(){e._element.classList.remove(K.STATIC)}).emulateTransitionEnd(r),this._element.focus()}else this.hide()},e._showElement=function _showElement(e){var n=this,r=t(this._element).hasClass(K.FADE),i=this._dialog?this._dialog.querySelector(q.MODAL_BODY):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass(K.SCROLLABLE)&&i?i.scrollTop=0:this._element.scrollTop=0,r&&o.reflow(this._element),t(this._element).addClass(K.SHOW),this._config.focus&&this._enforceFocus();var a=t.Event(W.SHOWN,{relatedTarget:e}),s=function transitionComplete(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(a)};if(r){var l=o.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(o.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},e._enforceFocus=function _enforceFocus(){var e=this;t(document).off(W.FOCUSIN).on(W.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},e._setEscapeEvent=function _setEscapeEvent(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(W.KEYDOWN_DISMISS,function(t){27===t.which&&e._triggerBackdropTransition()}):this._isShown||t(this._element).off(W.KEYDOWN_DISMISS)},e._setResizeEvent=function _setResizeEvent(){var e=this;this._isShown?t(window).on(W.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(W.RESIZE)},e._hideModal=function _hideModal(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(K.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(W.HIDDEN)})},e._removeBackdrop=function _removeBackdrop(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function _showBackdrop(e){var n=this,r=t(this._element).hasClass(K.FADE)?K.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=K.BACKDROP,r&&this._backdrop.classList.add(r),t(this._backdrop).appendTo(document.body),t(this._element).on(W.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&n._triggerBackdropTransition()}),r&&o.reflow(this._backdrop),t(this._backdrop).addClass(K.SHOW),!e)return;if(!r)return void e();var i=o.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(o.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(K.SHOW);var a=function callbackRemove(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(K.FADE)){var s=o.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(o.TRANSITION_END,a).emulateTransitionEnd(s)}else a()}else e&&e()},e._adjustDialog=function _adjustDialog(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function _resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function _checkScrollbar(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function _setScrollbar(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(q.FIXED_CONTENT)),r=[].slice.call(document.querySelectorAll(q.STICKY_CONTENT));t(n).each(function(n,r){var o=r.style.paddingRight,i=t(r).css("padding-right");t(r).data("padding-right",o).css("padding-right",parseFloat(i)+e._scrollbarWidth+"px")}),t(r).each(function(n,r){var o=r.style.marginRight,i=t(r).css("margin-right");t(r).data("margin-right",o).css("margin-right",parseFloat(i)-e._scrollbarWidth+"px")});var o=document.body.style.paddingRight,i=t(document.body).css("padding-right");t(document.body).data("padding-right",o).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}t(document.body).addClass(K.OPEN)},e._resetScrollbar=function _resetScrollbar(){var e=[].slice.call(document.querySelectorAll(q.FIXED_CONTENT));t(e).each(function(e,n){var r=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=r||""});var n=[].slice.call(document.querySelectorAll(""+q.STICKY_CONTENT));t(n).each(function(e,n){var r=t(n).data("margin-right");void 0!==r&&t(n).css("margin-right",r).removeData("margin-right")});var r=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=r||""},e._getScrollbarWidth=function _getScrollbarWidth(){var e=document.createElement("div");e.className=K.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Modal._jQueryInterface=function _jQueryInterface(e,n){return this.each(function(){var r=t(this).data("bs.modal"),o=_objectSpread2({},V,{},t(this).data(),{},"object"==typeof e&&e?e:{});if(r||(r=new Modal(this,o),t(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)})},_createClass(Modal,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return V}}]),Modal}();t(document).on(W.CLICK_DATA_API,q.DATA_TOGGLE,function(e){var n,r=this,i=o.getSelectorFromElement(this);i&&(n=document.querySelector(i));var a=t(n).data("bs.modal")?"toggle":_objectSpread2({},t(n).data(),{},t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=t(n).one(W.SHOW,function(e){e.isDefaultPrevented()||s.one(W.HIDDEN,function(){t(r).is(":visible")&&r.focus()})});Y._jQueryInterface.call(t(n),a,this)}),t.fn.modal=Y._jQueryInterface,t.fn.modal.Constructor=Y,t.fn.modal.noConflict=function(){return t.fn.modal=$,Y._jQueryInterface};var X=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],J={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Z=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ee=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function sanitizeHtml(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var r=new window.DOMParser,o=r.parseFromString(e,"text/html"),i=Object.keys(t),a=[].slice.call(o.body.querySelectorAll("*")),s=function _loop(e,n){var r=a[e],o=r.nodeName.toLowerCase();if(-1===i.indexOf(r.nodeName.toLowerCase()))return r.parentNode.removeChild(r),"continue";var s=[].slice.call(r.attributes),l=[].concat(t["*"]||[],t[o]||[]);s.forEach(function(e){(function allowedAttribute(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===X.indexOf(n)||Boolean(e.nodeValue.match(Z)||e.nodeValue.match(ee));for(var r=t.filter(function(e){return e instanceof RegExp}),o=0,i=r.length;o<i;o++)if(n.match(r[o]))return!0;return!1})(e,l)||r.removeAttribute(e.nodeName)})},l=0,c=a.length;l<c;l++)s(l);return o.body.innerHTML}var te="tooltip",ne=t.fn.tooltip,re=new RegExp("(^|\\s)bs-tooltip\\S+","g"),oe=["sanitize","whiteList","sanitizeFn"],ie={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ae={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},se={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:J,popperConfig:null},le={SHOW:"show",OUT:"out"},ce={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ue={FADE:"fade",SHOW:"show"},de={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},fe={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},pe=function(){function Tooltip(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=Tooltip.prototype;return e.enable=function enable(){this._isEnabled=!0},e.disable=function disable(){this._isEnabled=!1},e.toggleEnabled=function toggleEnabled(){this._isEnabled=!this._isEnabled},e.toggle=function toggle(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,r=t(e.currentTarget).data(n);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(ue.SHOW))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function dispose(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function show(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var r=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(r);var i=o.findShadowRoot(this.element),a=t.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!a)return;var s=this.getTipElement(),l=o.getUID(this.constructor.NAME);s.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&t(s).addClass(ue.FADE);var c="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();t(s).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(s).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,this._getPopperConfig(u)),t(s).addClass(ue.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var f=function complete(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===le.OUT&&e._leave(null,e)};if(t(this.tip).hasClass(ue.FADE)){var p=o.getTransitionDurationFromElement(this.tip);t(this.tip).one(o.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},e.hide=function hide(e){var n=this,r=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),a=function complete(){n._hoverState!==le.SHOW&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(i),!i.isDefaultPrevented()){if(t(r).removeClass(ue.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[fe.CLICK]=!1,this._activeTrigger[fe.FOCUS]=!1,this._activeTrigger[fe.HOVER]=!1,t(this.tip).hasClass(ue.FADE)){var s=o.getTransitionDurationFromElement(r);t(r).one(o.TRANSITION_END,a).emulateTransitionEnd(s)}else a();this._hoverState=""}},e.update=function update(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function isWithContent(){return Boolean(this.getTitle())},e.addAttachmentClass=function addAttachmentClass(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},e.getTipElement=function getTipElement(){return this.tip=this.tip||t(this.config.template)[0],this.tip},e.setContent=function setContent(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(de.TOOLTIP_INNER)),this.getTitle()),t(e).removeClass(ue.FADE+" "+ue.SHOW)},e.setElementContent=function setElementContent(e,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=sanitizeHtml(n,this.config.whiteList,this.config.sanitizeFn)),e.html(n)):e.text(n):this.config.html?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text())},e.getTitle=function getTitle(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},e._getPopperConfig=function _getPopperConfig(e){var t=this,n={placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:de.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function onCreate(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function onUpdate(e){return t._handlePopperPlacementChange(e)}};return _objectSpread2({},n,{},this.config.popperConfig)},e._getOffset=function _getOffset(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=_objectSpread2({},t.offsets,{},e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},e._getContainer=function _getContainer(){return!1===this.config.container?document.body:o.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},e._getAttachment=function _getAttachment(e){return ae[e.toUpperCase()]},e._setListeners=function _setListeners(){var e=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==fe.MANUAL){var r=n===fe.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,o=n===fe.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,function(t){return e._enter(t)}).on(o,e.config.selector,function(t){return e._leave(t)})}}),this._hideModalHandler=function(){e.element&&e.hide()},t(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=_objectSpread2({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function _fixTitle(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function _enter(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusin"===e.type?fe.FOCUS:fe.HOVER]=!0),t(n.getTipElement()).hasClass(ue.SHOW)||n._hoverState===le.SHOW?n._hoverState=le.SHOW:(clearTimeout(n._timeout),n._hoverState=le.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===le.SHOW&&n.show()},n.config.delay.show):n.show())},e._leave=function _leave(e,n){var r=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(r))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusout"===e.type?fe.FOCUS:fe.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=le.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===le.OUT&&n.hide()},n.config.delay.hide):n.hide())},e._isWithActiveTrigger=function _isWithActiveTrigger(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function _getConfig(e){var n=t(this.element).data();return Object.keys(n).forEach(function(e){-1!==oe.indexOf(e)&&delete n[e]}),"number"==typeof(e=_objectSpread2({},this.constructor.Default,{},n,{},"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),o.typeCheckConfig(te,e,this.constructor.DefaultType),e.sanitize&&(e.template=sanitizeHtml(e.template,e.whiteList,e.sanitizeFn)),e},e._getDelegateConfig=function _getDelegateConfig(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function _cleanTipClass(){var e=t(this.getTipElement()),n=e.attr("class").match(re);null!==n&&n.length&&e.removeClass(n.join(""))},e._handlePopperPlacementChange=function _handlePopperPlacementChange(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function _fixTransition(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(ue.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},Tooltip._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.tooltip"),r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new Tooltip(this,r),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},_createClass(Tooltip,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return se}},{key:"NAME",get:function get(){return te}},{key:"DATA_KEY",get:function get(){return"bs.tooltip"}},{key:"Event",get:function get(){return ce}},{key:"EVENT_KEY",get:function get(){return".bs.tooltip"}},{key:"DefaultType",get:function get(){return ie}}]),Tooltip}();t.fn.tooltip=pe._jQueryInterface,t.fn.tooltip.Constructor=pe,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=ne,pe._jQueryInterface};var he="popover",ge=t.fn.popover,me=new RegExp("(^|\\s)bs-popover\\S+","g"),Ae=_objectSpread2({},pe.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ve=_objectSpread2({},pe.DefaultType,{content:"(string|element|function)"}),ye={FADE:"fade",SHOW:"show"},be={TITLE:".popover-header",CONTENT:".popover-body"},we={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},_e=function(e){function Popover(){return e.apply(this,arguments)||this}!function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(Popover,e);var n=Popover.prototype;return n.isWithContent=function isWithContent(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function addAttachmentClass(e){t(this.getTipElement()).addClass("bs-popover-"+e)},n.getTipElement=function getTipElement(){return this.tip=this.tip||t(this.config.template)[0],this.tip},n.setContent=function setContent(){var e=t(this.getTipElement());this.setElementContent(e.find(be.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(be.CONTENT),n),e.removeClass(ye.FADE+" "+ye.SHOW)},n._getContent=function _getContent(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function _cleanTipClass(){var e=t(this.getTipElement()),n=e.attr("class").match(me);null!==n&&n.length>0&&e.removeClass(n.join(""))},Popover._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.popover"),r="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new Popover(this,r),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},_createClass(Popover,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return Ae}},{key:"NAME",get:function get(){return he}},{key:"DATA_KEY",get:function get(){return"bs.popover"}},{key:"Event",get:function get(){return we}},{key:"EVENT_KEY",get:function get(){return".bs.popover"}},{key:"DefaultType",get:function get(){return ve}}]),Popover}(pe);t.fn.popover=_e._jQueryInterface,t.fn.popover.Constructor=_e,t.fn.popover.noConflict=function(){return t.fn.popover=ge,_e._jQueryInterface};var Ee="scrollspy",Ce=t.fn[Ee],Se={offset:10,method:"auto",target:""},Te={offset:"number",method:"string",target:"(string|element)"},xe={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Oe={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},ke={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Be={OFFSET:"offset",POSITION:"position"},Pe=function(){function ScrollSpy(e,n){var r=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+ke.NAV_LINKS+","+this._config.target+" "+ke.LIST_ITEMS+","+this._config.target+" "+ke.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(xe.SCROLL,function(e){return r._process(e)}),this.refresh(),this._process()}var e=ScrollSpy.prototype;return e.refresh=function refresh(){var e=this,n=this._scrollElement===this._scrollElement.window?Be.OFFSET:Be.POSITION,r="auto"===this._config.method?n:this._config.method,i=r===Be.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var a=[].slice.call(document.querySelectorAll(this._selector));a.map(function(e){var n,a=o.getSelectorFromElement(e);if(a&&(n=document.querySelector(a)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[r]().top+i,a]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},e.dispose=function dispose(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function _getConfig(e){if("string"!=typeof(e=_objectSpread2({},Se,{},"object"==typeof e&&e?e:{})).target){var n=t(e.target).attr("id");n||(n=o.getUID(Ee),t(e.target).attr("id",n)),e.target="#"+n}return o.typeCheckConfig(Ee,e,Te),e},e._getScrollTop=function _getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function _getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function _getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function _process(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length,i=o;i--;){var a=this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1]);a&&this._activate(this._targets[i])}}},e._activate=function _activate(e){this._activeTarget=e,this._clear();var n=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),r=t([].slice.call(document.querySelectorAll(n.join(","))));r.hasClass(Oe.DROPDOWN_ITEM)?(r.closest(ke.DROPDOWN).find(ke.DROPDOWN_TOGGLE).addClass(Oe.ACTIVE),r.addClass(Oe.ACTIVE)):(r.addClass(Oe.ACTIVE),r.parents(ke.NAV_LIST_GROUP).prev(ke.NAV_LINKS+", "+ke.LIST_ITEMS).addClass(Oe.ACTIVE),r.parents(ke.NAV_LIST_GROUP).prev(ke.NAV_ITEMS).children(ke.NAV_LINKS).addClass(Oe.ACTIVE)),t(this._scrollElement).trigger(xe.ACTIVATE,{relatedTarget:e})},e._clear=function _clear(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains(Oe.ACTIVE)}).forEach(function(e){return e.classList.remove(Oe.ACTIVE)})},ScrollSpy._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this).data("bs.scrollspy"),r="object"==typeof e&&e;if(n||(n=new ScrollSpy(this,r),t(this).data("bs.scrollspy",n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},_createClass(ScrollSpy,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"Default",get:function get(){return Se}}]),ScrollSpy}();t(window).on(xe.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(ke.DATA_SPY)),n=e.length,r=n;r--;){var o=t(e[r]);Pe._jQueryInterface.call(o,o.data())}}),t.fn[Ee]=Pe._jQueryInterface,t.fn[Ee].Constructor=Pe,t.fn[Ee].noConflict=function(){return t.fn[Ee]=Ce,Pe._jQueryInterface};var Ie=t.fn.tab,Re={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Le={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Me={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},De=function(){function Tab(e){this._element=e}var e=Tab.prototype;return e.show=function show(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(Le.ACTIVE)||t(this._element).hasClass(Le.DISABLED))){var n,r,i=t(this._element).closest(Me.NAV_LIST_GROUP)[0],a=o.getSelectorFromElement(this._element);if(i){var s="UL"===i.nodeName||"OL"===i.nodeName?Me.ACTIVE_UL:Me.ACTIVE;r=(r=t.makeArray(t(i).find(s)))[r.length-1]}var l=t.Event(Re.HIDE,{relatedTarget:this._element}),c=t.Event(Re.SHOW,{relatedTarget:r});if(r&&t(r).trigger(l),t(this._element).trigger(c),!c.isDefaultPrevented()&&!l.isDefaultPrevented()){a&&(n=document.querySelector(a)),this._activate(this._element,i);var u=function complete(){var n=t.Event(Re.HIDDEN,{relatedTarget:e._element}),o=t.Event(Re.SHOWN,{relatedTarget:r});t(r).trigger(n),t(e._element).trigger(o)};n?this._activate(n,n.parentNode,u):u()}}},e.dispose=function dispose(){t.removeData(this._element,"bs.tab"),this._element=null},e._activate=function _activate(e,n,r){var i=this,a=!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?t(n).children(Me.ACTIVE):t(n).find(Me.ACTIVE_UL),s=a[0],l=r&&s&&t(s).hasClass(Le.FADE),c=function complete(){return i._transitionComplete(e,s,r)};if(s&&l){var u=o.getTransitionDurationFromElement(s);t(s).removeClass(Le.SHOW).one(o.TRANSITION_END,c).emulateTransitionEnd(u)}else c()},e._transitionComplete=function _transitionComplete(e,n,r){if(n){t(n).removeClass(Le.ACTIVE);var i=t(n.parentNode).find(Me.DROPDOWN_ACTIVE_CHILD)[0];i&&t(i).removeClass(Le.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(Le.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),o.reflow(e),e.classList.contains(Le.FADE)&&e.classList.add(Le.SHOW),e.parentNode&&t(e.parentNode).hasClass(Le.DROPDOWN_MENU)){var a=t(e).closest(Me.DROPDOWN)[0];if(a){var s=[].slice.call(a.querySelectorAll(Me.DROPDOWN_TOGGLE));t(s).addClass(Le.ACTIVE)}e.setAttribute("aria-expanded",!0)}r&&r()},Tab._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");if(r||(r=new Tab(this),n.data("bs.tab",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},_createClass(Tab,null,[{key:"VERSION",get:function get(){return"4.4.1"}}]),Tab}();t(document).on(Re.CLICK_DATA_API,Me.DATA_TOGGLE,function(e){e.preventDefault(),De._jQueryInterface.call(t(this),"show")}),t.fn.tab=De._jQueryInterface,t.fn.tab.Constructor=De,t.fn.tab.noConflict=function(){return t.fn.tab=Ie,De._jQueryInterface};var Ne=t.fn.toast,Fe={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Ue={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},He={animation:"boolean",autohide:"boolean",delay:"number"},je={animation:!0,autohide:!0,delay:500},Qe={DATA_DISMISS:'[data-dismiss="toast"]'},ze=function(){function Toast(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var e=Toast.prototype;return e.show=function show(){var e=this,n=t.Event(Fe.SHOW);if(t(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add(Ue.FADE);var r=function complete(){e._element.classList.remove(Ue.SHOWING),e._element.classList.add(Ue.SHOW),t(e._element).trigger(Fe.SHOWN),e._config.autohide&&(e._timeout=setTimeout(function(){e.hide()},e._config.delay))};if(this._element.classList.remove(Ue.HIDE),o.reflow(this._element),this._element.classList.add(Ue.SHOWING),this._config.animation){var i=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,r).emulateTransitionEnd(i)}else r()}},e.hide=function hide(){if(this._element.classList.contains(Ue.SHOW)){var e=t.Event(Fe.HIDE);t(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},e.dispose=function dispose(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ue.SHOW)&&this._element.classList.remove(Ue.SHOW),t(this._element).off(Fe.CLICK_DISMISS),t.removeData(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function _getConfig(e){return e=_objectSpread2({},je,{},t(this._element).data(),{},"object"==typeof e&&e?e:{}),o.typeCheckConfig("toast",e,this.constructor.DefaultType),e},e._setListeners=function _setListeners(){var e=this;t(this._element).on(Fe.CLICK_DISMISS,Qe.DATA_DISMISS,function(){return e.hide()})},e._close=function _close(){var e=this,n=function complete(){e._element.classList.add(Ue.HIDE),t(e._element).trigger(Fe.HIDDEN)};if(this._element.classList.remove(Ue.SHOW),this._config.animation){var r=o.getTransitionDurationFromElement(this._element);t(this._element).one(o.TRANSITION_END,n).emulateTransitionEnd(r)}else n()},Toast._jQueryInterface=function _jQueryInterface(e){return this.each(function(){var n=t(this),r=n.data("bs.toast"),o="object"==typeof e&&e;if(r||(r=new Toast(this,o),n.data("bs.toast",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](this)}})},_createClass(Toast,null,[{key:"VERSION",get:function get(){return"4.4.1"}},{key:"DefaultType",get:function get(){return He}},{key:"Default",get:function get(){return je}}]),Toast}();t.fn.toast=ze._jQueryInterface,t.fn.toast.Constructor=ze,t.fn.toast.noConflict=function(){return t.fn.toast=Ne,ze._jQueryInterface},e.Alert=l,e.Button=p,e.Carousel=C,e.Collapse=R,e.Dropdown=z,e.Modal=Y,e.Popover=_e,e.Scrollspy=Pe,e.Tab=De,e.Toast=ze,e.Tooltip=pe,e.Util=o,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(22),n(616))},function(e,t,n){"use strict";n.r(t),function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function microtaskDebounce(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function taskDebounce(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function getStyleComputedProperty(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function getParentNode(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function getScrollParent(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=getStyleComputedProperty(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:getScrollParent(getParentNode(e))}function getReferenceNode(e){return e&&e.referenceNode?e.referenceNode:e}var i=n&&!(!window.MSInputMethodContext||!document.documentMode),a=n&&/MSIE 10/.test(navigator.userAgent);function isIE(e){return 11===e?i:10===e?a:i||a}function getOffsetParent(e){if(!e)return document.documentElement;for(var t=isIE(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===getStyleComputedProperty(n,"position")?getOffsetParent(n):n:e?e.ownerDocument.documentElement:document.documentElement}function getRoot(e){return null!==e.parentNode?getRoot(e.parentNode):e}function findCommonOffsetParent(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||r.contains(o))return function isOffsetContainer(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||getOffsetParent(e.firstElementChild)===e)}(a)?a:getOffsetParent(a);var s=getRoot(e);return s.host?findCommonOffsetParent(s.host,t):findCommonOffsetParent(e,getRoot(t).host)}function getScroll(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function getBordersSize(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function getSize(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],isIE(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function getWindowSizes(e){var t=e.body,n=e.documentElement,r=isIE(10)&&getComputedStyle(n);return{height:getSize("Height",t,n,r),width:getSize("Width",t,n,r)}}var s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function getClientRect(e){return u({},e,{right:e.left+e.width,bottom:e.top+e.height})}function getBoundingClientRect(e){var t={};try{if(isIE(10)){t=e.getBoundingClientRect();var n=getScroll(e,"top"),r=getScroll(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?getWindowSizes(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=getStyleComputedProperty(e);l-=getBordersSize(u,"x"),c-=getBordersSize(u,"y"),o.width-=l,o.height-=c}return getClientRect(o)}function getOffsetRectRelativeToArbitraryNode(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=isIE(10),o="HTML"===t.nodeName,i=getBoundingClientRect(e),a=getBoundingClientRect(t),s=getScrollParent(e),l=getStyleComputedProperty(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=getClientRect({top:i.top-a.top-c,left:i.left-a.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var f=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=c-f,d.bottom-=c-f,d.left-=u-p,d.right-=u-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function includeScroll(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=getScroll(t,"top"),o=getScroll(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(d,t)),d}function getFixedPositionOffsetParent(e){if(!e||!e.parentElement||isIE())return document.documentElement;for(var t=e.parentElement;t&&"none"===getStyleComputedProperty(t,"transform");)t=t.parentElement;return t||document.documentElement}function getBoundaries(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,getReferenceNode(t));if("viewport"===r)i=function getViewportOffsetRectRelativeToArtbitraryNode(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=getOffsetRectRelativeToArbitraryNode(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:getScroll(n),s=t?0:getScroll(n,"left");return getClientRect({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=getScrollParent(getParentNode(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=getOffsetRectRelativeToArbitraryNode(s,a,o);if("HTML"!==s.nodeName||function isFixed(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===getStyleComputedProperty(e,"position"))return!0;var n=getParentNode(e);return!!n&&isFixed(n)}(a))i=l;else{var c=getWindowSizes(e.ownerDocument),u=c.height,d=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=d+l.left}}var f="number"==typeof(n=n||0);return i.left+=f?n:n.left||0,i.top+=f?n:n.top||0,i.right-=f?n:n.right||0,i.bottom-=f?n:n.bottom||0,i}function computeAutoPlacement(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=getBoundaries(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return u({key:e},s[e],{area:function getArea(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),d=c.length>0?c[0].key:l[0].key,f=e.split("-")[1];return d+(f?"-"+f:"")}function getReferenceOffsets(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(n,r?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,getReferenceNode(n)),r)}function getOuterSizes(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function getOppositePlacement(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function getPopperOffsets(e,t,n){n=n.split("-")[0];var r=getOuterSizes(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[c]:t[getOppositePlacement(s)],o}function find(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function runModifiers(e,t,n){return(void 0===n?e:e.slice(0,function findIndex(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=find(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&isFunction(n)&&(t.offsets.popper=getClientRect(t.offsets.popper),t.offsets.reference=getClientRect(t.offsets.reference),t=n(t,e))}),t}function isModifierEnabled(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function getSupportedPropertyName(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function getWindow(e){var t=e.ownerDocument;return t?t.defaultView:window}function setupEventListeners(e,t,n,r){n.updateBound=r,getWindow(e).addEventListener("resize",n.updateBound,{passive:!0});var o=getScrollParent(e);return function attachToScrollParents(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||attachToScrollParents(getScrollParent(i.parentNode),t,n,r),r.push(i)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(e,t){return getWindow(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function isNumeric(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function setStyles(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&isNumeric(t[n])&&(r="px"),e.style[n]=t[n]+r})}var d=n&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(e,t,n){var r=find(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var f=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],p=f.slice(3);function clockwise(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=p.indexOf(e),r=p.slice(n+1).concat(p.slice(0,n));return t?r.reverse():r}var h={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(find(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function toValue(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return getClientRect(s)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){isNumeric(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}var g={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",d=s?"width":"height",f={start:c({},l,i[l]),end:c({},l,i[l]+i[d]-a[d])};e.offsets.popper=u({},a,f[r])}return e}},offset:{order:200,enabled:!0,fn:function offset(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=isNumeric(+n)?[+n,0]:parseOffset(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(e,t){var n=t.boundariesElement||getOffsetParent(e.instance.popper);e.instance.reference===n&&(n=getOffsetParent(n));var r=getSupportedPropertyName("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=getBoundaries(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var d=t.priority,f=e.offsets.popper,p={primary:function primary(e){var n=f[e];return f[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(f[e],l[e])),c({},e,n)},secondary:function secondary(e){var n="right"===e?"left":"top",r=f[n];return f[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(f[n],l[e]-("right"===e?f.width:f.height))),c({},n,r)}};return d.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";f=u({},f,p[t](e))}),e.offsets.popper=f,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function arrow(e,t){var n;if(!isModifierRequired(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",g=getOuterSizes(r)[u];s[h]-g<a[f]&&(e.offsets.popper[f]-=a[f]-(s[h]-g)),s[f]+g>a[h]&&(e.offsets.popper[f]+=s[f]+g-a[h]),e.offsets.popper=getClientRect(e.offsets.popper);var m=s[f]+s[u]/2-g/2,A=getStyleComputedProperty(e.instance.popper),v=parseFloat(A["margin"+d]),y=parseFloat(A["border"+d+"Width"]),b=m-e.offsets.popper[f]-v-y;return b=Math.max(Math.min(a[u]-g,b),0),e.arrowElement=r,e.offsets.arrow=(c(n={},f,Math.round(b)),c(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(e,t){if(isModifierEnabled(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=getBoundaries(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=getOppositePlacement(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case h.FLIP:a=[r,o];break;case h.CLOCKWISE:a=clockwise(r);break;case h.COUNTERCLOCKWISE:a=clockwise(r,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=getOppositePlacement(r);var c=e.offsets.popper,d=e.offsets.reference,f=Math.floor,p="left"===r&&f(c.right)>f(d.left)||"right"===r&&f(c.left)<f(d.right)||"top"===r&&f(c.bottom)>f(d.top)||"bottom"===r&&f(c.top)<f(d.bottom),h=f(c.left)<f(n.left),g=f(c.right)>f(n.right),m=f(c.top)<f(n.top),A=f(c.bottom)>f(n.bottom),v="left"===r&&h||"right"===r&&g||"top"===r&&m||"bottom"===r&&A,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&h||y&&"end"===i&&g||!y&&"start"===i&&m||!y&&"end"===i&&A),w=!!t.flipVariationsByContent&&(y&&"start"===i&&g||y&&"end"===i&&h||!y&&"start"===i&&A||!y&&"end"===i&&m),_=b||w;(p||v||_)&&(e.flipped=!0,(p||v)&&(r=a[l+1]),_&&(i=function getOppositeVariation(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=u({},e.offsets.popper,getPopperOffsets(e.instance.popper,e.offsets.reference,e.placement)),e=runModifiers(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=getOppositePlacement(t),e.offsets.popper=getClientRect(o),e}},hide:{order:800,enabled:!0,fn:function hide(e){if(!isModifierRequired(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=find(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=find(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=getOffsetParent(e.instance.popper),l=getBoundingClientRect(s),c={position:o.position},f=function getRoundedOffsets(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function noRound(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2==c%2?i:a:s,p=t?i:s;return{left:f(l%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!d),p="bottom"===n?"top":"bottom",h="right"===r?"left":"right",g=getSupportedPropertyName("transform"),m=void 0,A=void 0;if(A="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+f.bottom:-l.height+f.bottom:f.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+f.right:-l.width+f.right:f.left,a&&g)c[g]="translate3d("+m+"px, "+A+"px, 0)",c[p]=0,c[h]=0,c.willChange="transform";else{var v="bottom"===p?-1:1,y="right"===h?-1:1;c[p]=A*v,c[h]=m*y,c.willChange=p+", "+h}var b={"x-placement":e.placement};return e.attributes=u({},b,e.attributes),e.styles=u({},c,e.styles),e.arrowStyles=u({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(e){return setStyles(e.instance.popper,e.styles),function setAttributes(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&setStyles(e.arrowElement,e.arrowStyles),e},onLoad:function applyStyleOnLoad(e,t,n,r,o){var i=getReferenceOffsets(o,t,e,n.positionFixed),a=computeAutoPlacement(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),setStyles(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},m=function(){function Popper(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=o(this.update.bind(this)),this.options=u({},Popper.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(u({},Popper.Defaults.modifiers,r.modifiers)).forEach(function(e){n.options.modifiers[e]=u({},Popper.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return u({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&isFunction(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return l(Popper,[{key:"update",value:function update$$1(){return function update(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=computeAutoPlacement(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=getPopperOffsets(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=runModifiers(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function destroy$$1(){return function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();m.Utils=("undefined"!=typeof window?window:e).PopperUtils,m.placements=f,m.Defaults=g,t.default=m}.call(this,n(71))},function(e,t,n){},function(e,t,n){"use strict";(function(e){var t,r=n(226),o=n.n(r);t=function(e){e.fn.extend({
/**
     * jQuery plugin for Sortable
     * @author	RubaXa   <trash@rubaxa.org>
     * @license MIT
     */
sortable:function sortable(t){var n,r=arguments;return this.each(function(){var i=e(this),a=i.data("sortable");a||!(t instanceof Object)&&t||(a=new o.a(this,t),i.data("sortable",a)),a&&("widget"===t?n=a:"destroy"===t?(a.destroy(),i.removeData("sortable")):"function"==typeof a[t]?n=a[t].apply(a,[].slice.call(r,1)):t in a.options&&(n=a.option.apply(a,r)))}),void 0===n?this:n},insertAt:function insertAt(e,t){return e<this.children().length?this.children().eq(e).before(t):this.append(t),this},animateCss:function animateCss(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=function(e){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}(document.createElement("div"));return this.css({"animation-duration":r/1e3+"s","animation-delay":o/1e3+"s","-webkit-animation-duration":r/1e3+"s","-webkit-animation-delay":o/1e3+"s"}),this.addClass("animated "+t).one(i,function(){e(this).removeClass("animated "+t),e(this).css({"animation-duration":"","animation-delay":"","-webkit-animation-duration":"","-webkit-animation-delay":""}),"function"==typeof n&&n(this)}),this}})},"function"==typeof define&&n(619)?define(["jquery"],t):t(e)}).call(this,n(22))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){(function(e,t){(function(){"use strict";var r=n(447);r.registerHelper("ifEquals",function(e,t,n){return e==t?n.fn(this):n.inverse(this)}),r.registerHelper("ifContains",function(t,n,r){var o=!1;return(e.isArray(t)||e.isString(t))&&(o=t.indexOf(n)>=0),o?r.fn(this):r.inverse(this)}),r.registerHelper("truncate",function(e,t){if(e.length>t&&e.length>0){var n=e+" ";return n=e.substr(0,t),n=(n=e.substr(0,n.lastIndexOf(" "))).length>0?n:e.substr(0,t),new r.SafeString(n+"...")}return e}),r.registerHelper("OR",function(e,t,n){return e||t||n}),r.registerHelper("longerThan",function(e,t,n){return e.length>t?n.fn(this):n.inverse(this)}),r.registerHelper("math",function(e,t,n,r){return{"+":(e=parseFloat(e))+(n=parseFloat(n)),"-":e-n,"*":e*n,"/":e/n,"%":e%n}[t]}),r.registerHelper("times",function(e,t){for(var n="",r=0;r<e;++r)n+=t.fn(r);return n}),r.registerHelper("capitalize",function(t){return e.capitalize(t)}),r.registerHelper("getConcat",function(e,t){return this.context.get(e+t)}),r.registerHelper("camel",function(t){return e.camelCase(t)}),r.registerHelper("l",function(e,t){return l(e,t)}),r.registerHelper("global",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return window[e]||t}),r.registerHelper("truncateHTML",function(e,n){if((e=t(e).text()).length>n&&e.length>0){var o=e+" ";return o=e.substr(0,n),o=(o=e.substr(0,o.lastIndexOf(" "))).length>0?o:e.substr(0,n),new r.SafeString(o+"...")}return e}),r.registerHelper("ifNotEquals",function(e,t,n){return e!=t?n.fn(this):n.inverse(this)})}).call(this)}).call(this,n(24),n(22))},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function registerDefaultHelpers(e){r.default(e),o.default(e),i.default(e),a.default(e),s.default(e),l.default(e),c.default(e)};var r=_interopRequireDefault(n(622)),o=_interopRequireDefault(n(623)),i=_interopRequireDefault(n(624)),a=_interopRequireDefault(n(625)),s=_interopRequireDefault(n(626)),l=_interopRequireDefault(n(627)),c=_interopRequireDefault(n(628))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(116));t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,a=0,s="",l=void 0,c=void 0;function execIteration(t,o,i){l&&(l.key=t,l.index=o,l.first=0===o,l.last=!!i,c&&(l.contextPath=c+t)),s+=n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[c+t,null])})}if(t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(l=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var u=e.length;a<u;a++)a in e&&execIteration(a,a,a===e.length-1);else{var d=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==d&&execIteration(d,a-1),d=f,a++);void 0!==d&&execIteration(d,a-1,!0)}return 0===a&&(s=i(this)),s})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(116));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79);t.default=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e?"constructor"!==t||e.propertyIsEnumerable(t)?e[t]:void 0:e})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79);t.default=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function registerDefaultDecorators(e){r.default(e)};var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(630))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79);t.default=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(o,i);return n.partials=a,s}),t.partials[o.args[0]]=o.fn,i})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function log(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function SafeString(e){this.string=e}t.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},t.default=SafeString,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.checkRevision=function checkRevision(e){var t=e&&e[0]||1,n=i.COMPILER_REVISION;if(t!==n){if(t<n){var r=i.REVISION_CHANGES[n],a=i.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function template(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function strict(e,t){if(!(t in e))throw new o.default('"'+t+'" not defined in '+e);return e[t]},lookup:function lookup(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function lambda(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function invokePartialWrapper(n,i,a){a.hash&&(i=r.extend({},i,a.hash),a.ids&&(a.ids[0]=!0));n=t.VM.resolvePartial.call(this,n,i,a);var s=t.VM.invokePartial.call(this,n,i,a);null==s&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),s=a.partials[a.name](i,a));if(null!=s){if(a.indent){for(var l=s.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=a.indent+l[c];s=l.join("\n")}return s}throw new o.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function fn(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function program(e,t,n,r,o){var i=this.programs[e],a=this.fn(e);return t||o||r||n?i=wrapProgram(this,e,a,t,n,r,o):i||(i=this.programs[e]=wrapProgram(this,e,a)),i},data:function data(e,t){for(;e&&t--;)e=e._parent;return e},merge:function merge(e,t){var n=e||t;return e&&t&&e!==t&&(n=r.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function ret(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;ret._setup(r),!r.partial&&e.useData&&(o=function initData(e,t){t&&"root"in t||((t=t?i.createFrame(t):{}).root=e);return t}(t,o));var a=void 0,s=e.useBlockParams?[]:void 0;function main(t){return""+e.main(n,t,n.helpers,n.partials,o,s,a)}return e.useDepths&&(a=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(main=executeDecorators(e.main,main,n,r.depths||[],o,s))(t,r)}return ret.isTop=!0,ret._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(r.decorators,t.decorators)))},ret._child=function(t,r,i,a){if(e.useBlockParams&&!i)throw new o.default("must pass block params");if(e.useDepths&&!a)throw new o.default("must pass parent depths");return wrapProgram(n,t,e[t],r,0,i,a)},ret},t.wrapProgram=wrapProgram,t.resolvePartial=function resolvePartial(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function invokePartial(e,t,n){var a=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;n.fn&&n.fn!==noop&&function(){n.data=i.createFrame(n.data);var e=n.fn;s=n.data["partial-block"]=function partialBlockWrapper(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=i.createFrame(n.data),n.data["partial-block"]=a,e(t,n)},e.partials&&(n.partials=r.extend({},n.partials,e.partials))}();void 0===e&&s&&(e=s);if(void 0===e)throw new o.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=noop;var r=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(79)),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(116)),i=n(448);function wrapProgram(e,t,n,r,o,i,a){function prog(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return(prog=executeDecorators(n,prog,e,a,r,i)).program=t,prog.depth=a?a.length:0,prog.blockParams=o||0,prog}function noop(){return""}function executeDecorators(e,t,n,o,i,a){if(e.decorator){var s={};t=e.decorator(t,s,n,o&&o[0],i,a,o),r.extend(t,s)}return t}},function(e,t,n){(function(r){var o,i,a;a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r,o=[n(635),n(22),t],void 0===(i=function(e,t,n){a.Backbone=function(e,t,n,r){var o=e.Backbone,i=Array.prototype.slice;t.VERSION="1.4.0",t.$=r,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a,s=t.Events={},l=/\s+/,c=function(e,t,r,o,i){var a,s=0;if(r&&"object"==typeof r){void 0!==o&&"context"in i&&void 0===i.context&&(i.context=o);for(a=n.keys(r);s<a.length;s++)t=c(e,t,a[s],r[a[s]],i)}else if(r&&l.test(r))for(a=r.split(l);s<a.length;s++)t=e(t,a[s],o,i);else t=e(t,r,o,i);return t};s.on=function(e,t,n){if(this._events=c(u,this._events||{},e,t,{context:n,ctx:this,listening:a}),a){var r=this._listeners||(this._listeners={});r[a.id]=a,a.interop=!1}return this},s.listenTo=function(e,t,r){if(!e)return this;var o=e._listenId||(e._listenId=n.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),s=a=i[o];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=i[o]=new m(this,e));var l=d(e,t,r,this);if(a=void 0,l)throw l;return s.interop&&s.on(t,r),this};var u=function(e,t,n,r){if(n){var o=e[t]||(e[t]=[]),i=r.context,a=r.ctx,s=r.listening;s&&s.count++,o.push({callback:n,context:i,ctx:i||a,listening:s})}return e},d=function(e,t,n,r){try{e.on(t,n,r)}catch(e){return e}};s.off=function(e,t,n){return this._events?(this._events=c(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(e,t,r){var o=this._listeningTo;if(!o)return this;for(var i=e?[e._listenId]:n.keys(o),a=0;a<i.length;a++){var s=o[i[a]];if(!s)break;s.obj.off(t,r,this),s.interop&&s.off(t,r)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var f=function(e,t,r,o){if(e){var i,a=o.context,s=o.listeners,l=0;if(t||a||r){for(i=t?[t]:n.keys(e);l<i.length;l++){t=i[l];var c=e[t];if(!c)break;for(var u=[],d=0;d<c.length;d++){var f=c[d];if(r&&r!==f.callback&&r!==f.callback._callback||a&&a!==f.context)u.push(f);else{var p=f.listening;p&&p.off(t,r)}}u.length?e[t]=u:delete e[t]}return e}for(i=n.keys(s);l<i.length;l++)s[i[l]].cleanup()}};s.once=function(e,t,n){var r=c(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},s.listenToOnce=function(e,t,n){var r=c(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var p=function(e,t,r,o){if(r){var i=e[t]=n.once(function(){o(t,i),r.apply(this,arguments)});i._callback=r}return e};s.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return c(h,this._events,e,void 0,n),this};var h=function(e,t,n,r){if(e){var o=e[t],i=e.all;o&&i&&(i=i.slice()),o&&g(o,r),i&&g(i,[t].concat(r))}return e},g=function(e,t){var n,r=-1,o=e.length,i=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t);return}},m=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=s.on,m.prototype.off=function(e,t){var n;this.interop?(this._events=c(f,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(t,s);var A=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var o=n.result(this,"defaults");r=n.defaults(n.extend({},o,r),o),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(A.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var o;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;var i=r.unset,a=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var f in o)t=o[f],n.isEqual(c[f],t)||s.push(f),n.isEqual(d[f],t)?delete u[f]:u[f]=t,i?delete c[f]:c[f]=t;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,c[s[p]],r)}if(l)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,o={};for(var i in e){var a=e[i];n.isEqual(r[i],a)||(o[i]=a,t=!0)}return!!t&&o},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){var t=this,r=(e=n.extend({parse:!0},e)).success;return e.success=function(n){var o=e.parse?t.parse(n,e):n;if(!t.set(o,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},$(this,e),this.sync("read",this,e)},save:function(e,t,r){var o;null==e||"object"==typeof e?(o=e,r=t):(o={})[e]=t;var i=(r=n.extend({validate:!0,parse:!0},r)).wait;if(o&&!i){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;var a=this,s=r.success,l=this.attributes;r.success=function(e){a.attributes=l;var t=r.parse?a.parse(e,r):e;if(i&&(t=n.extend({},o,t)),t&&!a.set(t,r))return!1;s&&s.call(r.context,a,e,r),a.trigger("sync",a,e,r)},$(this,r),o&&i&&(this.attributes=n.extend({},l,o));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=o);var u=this.sync(c,this,r);return this.attributes=l,u},destroy:function(e){var t=this,r=(e=e?n.clone(e):{}).success,o=e.wait,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){o&&i(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):($(this,e),a=this.sync("delete",this,e)),o||i(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var v=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,o=Array(e.length-n),i=t.length;for(r=0;r<o.length;r++)o[r]=e[r+n];for(r=0;r<i;r++)e[r+n]=t[r];for(r=0;r<o.length;r++)e[r+i+n]=o[r]};n.extend(v.prototype,s,{model:A,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,b))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var o=this._removeModels(e,t);return!t.silent&&o.length&&(t.changes={added:[],merged:[],removed:o},this.trigger("update",this,t)),r?o[0]:o},set:function(e,t){if(null!=e){(t=n.extend({},y,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var o=t.at;null!=o&&(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);var i,a,s=[],l=[],c=[],u=[],d={},f=t.add,p=t.merge,h=t.remove,g=!1,m=this.comparator&&null==o&&!1!==t.sort,A=n.isString(this.comparator)?this.comparator:null;for(a=0;a<e.length;a++){i=e[a];var v=this.get(i);if(v){if(p&&i!==v){var b=this._isModel(i)?i.attributes:i;t.parse&&(b=v.parse(b,t)),v.set(b,t),c.push(v),m&&!g&&(g=v.hasChanged(A))}d[v.cid]||(d[v.cid]=!0,s.push(v)),e[a]=v}else f&&(i=e[a]=this._prepareModel(i,t))&&(l.push(i),this._addReference(i,t),d[i.cid]=!0,s.push(i))}if(h){for(a=0;a<this.length;a++)i=this.models[a],d[i.cid]||u.push(i);u.length&&this._removeModels(u,t)}var _=!1,E=!m&&f&&h;if(s.length&&E?(_=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,w(this.models,s,0),this.length=this.models.length):l.length&&(m&&(g=!0),w(this.models,l,null==o?this.length:o),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(a=0;a<l.length;a++)null!=o&&(t.index=o+a),(i=l[a]).trigger("add",i,this,t);(g||_)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return i.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var o=e.reset?"reset":"set";r[o](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},$(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var o=this,i=t.success;return t.success=function(e,t,n){r&&o.add(e,n),i&&i.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new E(this,C)},keys:function(){return new E(this,S)},entries:function(){return new E(this,T)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var o=this.get(e[r]);if(o){var i=this.indexOf(o);this.models.splice(i,1),this.length--,delete this._byId[o.cid];var a=this.modelId(o.attributes);null!=a&&delete this._byId[a],t.silent||(t.index=i,o.trigger("remove",o,this,t)),n.push(o),this._removeReference(o,t)}}return n},_isModel:function(e){return e instanceof A},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var o=this.modelId(t.previousAttributes()),i=this.modelId(t.attributes);o!==i&&(null!=o&&delete this._byId[o],null!=i&&(this._byId[i]=t))}}this.trigger.apply(this,arguments)}});var _="function"==typeof Symbol&&Symbol.iterator;_&&(v.prototype[_]=v.prototype.values);var E=function(e,t){this._collection=e,this._kind=t,this._index=0},C=1,S=2,T=3;_&&(E.prototype[_]=function(){return this}),E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===C)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===S?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var x=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,k)),this._ensureElement(),this.initialize.apply(this,arguments)},O=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(x.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var o=t.match(O);this.delegate(o[1],o[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var B=function(e,t,r,o){n.each(r,function(n,r){t[r]&&(e.prototype[r]=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,o){return e[n](this[r],P(t,this),o)};case 4:return function(t,o,i){return e[n](this[r],P(t,this),o,i)};default:return function(){var t=i.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}}(t,n,r,o))})},P=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?I(e):n.isString(e)?function(t){return t.get(e)}:e},I=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[v,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[A,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(e){var t=e[0],r=e[1],o=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),function(e,t){return e[t]=0,e},{});B(t,e,r,o)},B(t,n,r,o)}),t.sync=function(e,r,o){var i=R[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:i,dataType:"json"};if(o.url||(a.url=n.result(r,"url")||z()),null!=o.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){a.type="POST",o.emulateJSON&&(a.data._method=i);var s=o.beforeSend;o.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),s)return s.apply(this,arguments)}}"GET"===a.type||o.emulateJSON||(a.processData=!1);var l=o.error;o.error=function(e,t,n){o.textStatus=t,o.errorThrown=n,l&&l.call(o.context,e,t,n)};var c=o.xhr=t.ajax(n.extend(a,o));return r.trigger("request",r,c,o),c};var R={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var L=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,N=/\*\w+/g,F=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(L.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(e,r,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return t.history.route(e,function(n){var a=i._extractParameters(e,n);!1!==i.execute(o,a,r)&&(i.trigger.apply(i,["route:"+r].concat(a)),i.trigger("route",r,a),t.history.trigger("route",i,r,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(F,"\\$&").replace(M,"(?:$1)?").replace(D,function(e,t){return t?e:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var U=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},H=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,Q=/#.*$/;U.started=!1,n.extend(U.prototype,s,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(H,"")},start:function(e){if(U.started)throw new Error("Backbone.history has already been started");if(U.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(j,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,o=r.insertBefore(this.iframe,r.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var i=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),U.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!U.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(Q,"");var o=this.decodeFragment(e);if(this.fragment!==o){if(this.fragment=o,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new U,A.extend=v.extend=L.extend=x.extend=U.extend=function(e,t){var r,o=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,t),r.prototype=n.create(o.prototype,e),r.prototype.constructor=r,r.__super__=o.prototype,r};var z=function(){throw new Error('A "url" property or function must be specified')},$=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(a,n,e,t)}.apply(t,o))||(e.exports=i)}).call(this,n(71))},function(e,t,n){(function(e,n){var r;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=o._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,d=s.toString,f=s.hasOwnProperty,p=Array.isArray,h=Object.keys,g=Object.create,m=function(){},A=function(e){return e instanceof A?e:this instanceof A?void(this._wrapped=e):new A(e)};t.nodeType?o._=A:(!n.nodeType&&n.exports&&(t=n.exports=A),t._=A),A.VERSION="1.9.2";var v,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return A.iteratee!==v?A.iteratee(e,t):null==e?A.identity:A.isFunction(e)?y(e,t,n):A.isObject(e)&&!A.isArray(e)?A.matcher(e):A.property(e)};A.iteratee=v=function(e,t){return b(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}},_=function(e){if(!A.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},C=function(e,t){return null!=e&&f.call(e,t)},S=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},T=Math.pow(2,53)-1,x=E("length"),O=function(e){var t=x(e);return"number"==typeof t&&t>=0&&t<=T};A.each=A.forEach=function(e,t,n){var r,o;if(t=y(t,n),O(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=A.keys(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e},A.map=A.collect=function(e,t,n){t=b(t,n);for(var r=!O(e)&&A.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=t(e[s],s,e)}return i};var k=function(e){return function(t,n,r,o){var i=arguments.length>=3;return function(t,n,r,o){var i=!O(t)&&A.keys(t),a=(i||t).length,s=e>0?0:a-1;for(o||(r=t[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var l=i?i[s]:s;r=n(r,t[l],l,t)}return r}(t,y(n,o,4),r,i)}};A.reduce=A.foldl=A.inject=k(1),A.reduceRight=A.foldr=k(-1),A.find=A.detect=function(e,t,n){var r=(O(e)?A.findIndex:A.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},A.filter=A.select=function(e,t,n){var r=[];return t=b(t,n),A.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},A.reject=function(e,t,n){return A.filter(e,A.negate(b(t)),n)},A.every=A.all=function(e,t,n){t=b(t,n);for(var r=!O(e)&&A.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},A.some=A.any=function(e,t,n){t=b(t,n);for(var r=!O(e)&&A.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},A.contains=A.includes=A.include=function(e,t,n,r){return O(e)||(e=A.values(e)),("number"!=typeof n||r)&&(n=0),A.indexOf(e,t,n)>=0},A.invoke=w(function(e,t,n){var r,o;return A.isFunction(t)?o=t:A.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),A.map(e,function(e){var i=o;if(!i){if(r&&r.length&&(e=S(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)})}),A.pluck=function(e,t){return A.map(e,A.property(t))},A.where=function(e,t){return A.filter(e,A.matcher(t))},A.findWhere=function(e,t){return A.find(e,A.matcher(t))},A.max=function(e,t,n){var r,o,i=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=O(e)?e:A.values(e)).length;s<l;s++)null!=(r=e[s])&&r>i&&(i=r);else t=b(t,n),A.each(e,function(e,n,r){((o=t(e,n,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i},A.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=O(e)?e:A.values(e)).length;s<l;s++)null!=(r=e[s])&&r<i&&(i=r);else t=b(t,n),A.each(e,function(e,n,r){((o=t(e,n,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},A.shuffle=function(e){return A.sample(e,1/0)},A.sample=function(e,t,n){if(null==t||n)return O(e)||(e=A.values(e)),e[A.random(e.length-1)];var r=O(e)?A.clone(e):A.values(e),o=x(r);t=Math.max(Math.min(t,o),0);for(var i=o-1,a=0;a<t;a++){var s=A.random(a,i),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,t)},A.sortBy=function(e,t,n){var r=0;return t=b(t,n),A.pluck(A.map(e,function(e,n,o){return{value:e,index:r++,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var B=function(e,t){return function(n,r,o){var i=t?[[],[]]:{};return r=b(r,o),A.each(n,function(t,o){var a=r(t,o,n);e(i,t,a)}),i}};A.groupBy=B(function(e,t,n){C(e,n)?e[n].push(t):e[n]=[t]}),A.indexBy=B(function(e,t,n){e[n]=t}),A.countBy=B(function(e,t,n){C(e,n)?e[n]++:e[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;A.toArray=function(e){return e?A.isArray(e)?u.call(e):A.isString(e)?e.match(P):O(e)?A.map(e,A.identity):A.values(e):[]},A.size=function(e){return null==e?0:O(e)?e.length:A.keys(e).length},A.partition=B(function(e,t,n){e[n?0:1].push(t)},!0),A.first=A.head=A.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:A.initial(e,e.length-t)},A.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},A.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:A.rest(e,Math.max(0,e.length-t))},A.rest=A.tail=A.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},A.compact=function(e){return A.filter(e,Boolean)};var I=function(e,t,n,r){for(var o=(r=r||[]).length,i=0,a=x(e);i<a;i++){var s=e[i];if(O(s)&&(A.isArray(s)||A.isArguments(s)))if(t)for(var l=0,c=s.length;l<c;)r[o++]=s[l++];else I(s,t,n,r),o=r.length;else n||(r[o++]=s)}return r};A.flatten=function(e,t){return I(e,t,!1)},A.without=w(function(e,t){return A.difference(e,t)}),A.uniq=A.unique=function(e,t,n,r){A.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var o=[],i=[],a=0,s=x(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&i===c||o.push(l),i=c):n?A.contains(i,c)||(i.push(c),o.push(l)):A.contains(o,l)||o.push(l)}return o},A.union=w(function(e){return A.uniq(I(e,!0,!0))}),A.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=x(e);r<o;r++){var i=e[r];if(!A.contains(t,i)){var a;for(a=1;a<n&&A.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},A.difference=w(function(e,t){return t=I(t,!0,!0),A.filter(e,function(e){return!A.contains(t,e)})}),A.unzip=function(e){for(var t=e&&A.max(e,x).length||0,n=Array(t),r=0;r<t;r++)n[r]=A.pluck(e,r);return n},A.zip=w(A.unzip),A.object=function(e,t){for(var n={},r=0,o=x(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var R=function(e){return function(t,n,r){n=b(n,r);for(var o=x(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}};A.findIndex=R(1),A.findLastIndex=R(-1),A.sortedIndex=function(e,t,n,r){for(var o=(n=b(n,r,1))(t),i=0,a=x(e);i<a;){var s=Math.floor((i+a)/2);n(e[s])<o?i=s+1:a=s}return i};var L=function(e,t,n){return function(r,o,i){var a=0,s=x(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=t(u.call(r,a,s),A.isNaN))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}};A.indexOf=L(1,A.findIndex,A.sortedIndex),A.lastIndexOf=L(-1,A.findLastIndex),A.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o},A.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(u.call(e,r,r+=t));return n};var M=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=_(e.prototype),a=e.apply(i,o);return A.isObject(a)?a:i};A.bind=w(function(e,t,n){if(!A.isFunction(e))throw new TypeError("Bind must be called on a function");var r=w(function(o){return M(e,r,t,this,n.concat(o))});return r}),A.partial=w(function(e,t){var n=A.partial.placeholder,r=function(){for(var o=0,i=t.length,a=Array(i),s=0;s<i;s++)a[s]=t[s]===n?arguments[o++]:t[s];for(;o<arguments.length;)a.push(arguments[o++]);return M(e,r,this,this,a)};return r}),A.partial.placeholder=A,A.bindAll=w(function(e,t){var n=(t=I(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=A.bind(e[r],e)}}),A.memoize=function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return C(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},A.delay=w(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),A.defer=A.partial(A.delay,A,1),A.throttle=function(e,t,n){var r,o,i,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:A.now(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=A.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return o=this,i=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),s=0,r=o=i=null},c},A.debounce=function(e,t,n){var r,o,i=function(t,n){r=null,n&&(o=e.apply(t,n))},a=w(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(i,t),s&&(o=e.apply(this,a))}else r=A.delay(i,t,this,a);return o});return a.cancel=function(){clearTimeout(r),r=null},a},A.wrap=function(e,t){return A.partial(t,e)},A.negate=function(e){return function(){return!e.apply(this,arguments)}},A.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},A.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},A.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},A.once=A.partial(A.before,2),A.restArguments=w;var D=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=N.length,r=e.constructor,o=A.isFunction(r)&&r.prototype||s,i="constructor";for(C(e,i)&&!A.contains(t,i)&&t.push(i);n--;)(i=N[n])in e&&e[i]!==o[i]&&!A.contains(t,i)&&t.push(i)};A.keys=function(e){if(!A.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)C(e,n)&&t.push(n);return D&&F(e,t),t},A.allKeys=function(e){if(!A.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&F(e,t),t},A.values=function(e){for(var t=A.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r},A.mapObject=function(e,t,n){t=b(t,n);for(var r=A.keys(e),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=t(e[s],s,e)}return i},A.pairs=function(e){for(var t=A.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},A.invert=function(e){for(var t={},n=A.keys(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t},A.functions=A.methods=function(e){var t=[];for(var n in e)A.isFunction(e[n])&&t.push(n);return t.sort()};var U=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=i[c])}return n}};A.extend=U(A.allKeys),A.extendOwn=A.assign=U(A.keys),A.findKey=function(e,t,n){t=b(t,n);for(var r,o=A.keys(e),i=0,a=o.length;i<a;i++)if(t(e[r=o[i]],r,e))return r};var H,j,Q=function(e,t,n){return t in n};A.pick=w(function(e,t){var n={},r=t[0];if(null==e)return n;A.isFunction(r)?(t.length>1&&(r=y(r,t[1])),t=A.allKeys(e)):(r=Q,t=I(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var a=t[o],s=e[a];r(s,a,e)&&(n[a]=s)}return n}),A.omit=w(function(e,t){var n,r=t[0];return A.isFunction(r)?(r=A.negate(r),t.length>1&&(n=t[1])):(t=A.map(I(t,!1,!1),String),r=function(e,n){return!A.contains(t,n)}),A.pick(e,r,n)}),A.defaults=U(A.allKeys,!0),A.create=function(e,t){var n=_(e);return t&&A.extendOwn(n,t),n},A.clone=function(e){return A.isObject(e)?A.isArray(e)?e.slice():A.extend({},e):e},A.tap=function(e,t){return t(e),e},A.isMatch=function(e,t){var n=A.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0},H=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&j(e,t,n,r)},j=function(e,t,n,r){e instanceof A&&(e=e._wrapped),t instanceof A&&(t=t._wrapped);var o=d.call(e);if(o!==d.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!H(e[c],t[c],n,r))return!1}else{var u,f=A.keys(e);if(c=f.length,A.keys(t).length!==c)return!1;for(;c--;)if(u=f[c],!C(t,u)||!H(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0},A.isEqual=function(e,t){return H(e,t)},A.isEmpty=function(e){return null==e||(O(e)&&(A.isArray(e)||A.isString(e)||A.isArguments(e))?0===e.length:0===A.keys(e).length)},A.isElement=function(e){return!(!e||1!==e.nodeType)},A.isArray=p||function(e){return"[object Array]"===d.call(e)},A.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},A.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){A["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),A.isArguments(arguments)||(A.isArguments=function(e){return C(e,"callee")});var z=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(A.isFunction=function(e){return"function"==typeof e||!1}),A.isFinite=function(e){return!A.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},A.isNaN=function(e){return A.isNumber(e)&&isNaN(e)},A.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},A.isNull=function(e){return null===e},A.isUndefined=function(e){return void 0===e},A.has=function(e,t){if(!A.isArray(t))return C(e,t);for(var n=t.length,r=0;r<n;r++){var o=t[r];if(null==e||!f.call(e,o))return!1;e=e[o]}return!!n},A.noConflict=function(){return o._=i,this},A.identity=function(e){return e},A.constant=function(e){return function(){return e}},A.noop=function(){},A.property=function(e){return A.isArray(e)?function(t){return S(t,e)}:E(e)},A.propertyOf=function(e){return null==e?function(){}:function(t){return A.isArray(t)?S(e,t):e[t]}},A.matcher=A.matches=function(e){return e=A.extendOwn({},e),function(t){return A.isMatch(t,e)}},A.times=function(e,t,n){var r=Array(Math.max(0,e));t=y(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},A.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},A.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=A.invert($),G=function(e){var t=function(t){return e[t]},n="(?:"+A.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};A.escape=G($),A.unescape=G(V),A.result=function(e,t,n){A.isArray(t)||(t=[t]);var r=t.length;if(!r)return A.isFunction(n)?n.call(e):n;for(var o=0;o<r;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=n,o=r),e=A.isFunction(i)?i.call(e):i}return e};var W=0;A.uniqueId=function(e){var t=++W+"";return e?e+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+q[e]};A.template=function(e,t,n){!t&&n&&(t=n),t=A.defaults({},t,A.templateSettings);var r,o=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,n,r,o,s){return a+=e.slice(i,s).replace(Y,X),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,A)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},A.chain=function(e){var t=A(e);return t._chain=!0,t};var J=function(e,t){return e._chain?A(t).chain():t};A.mixin=function(e){return A.each(A.functions(e),function(t){var n=A[t]=e[t];A.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),J(this,n.apply(A,e))}}),A},A.mixin(A),A.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];A.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}}),A.each(["concat","join","slice"],function(e){var t=a[e];A.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}}),A.prototype.value=function(){return this._wrapped},A.prototype.valueOf=A.prototype.toJSON=A.prototype.value,A.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return A}.apply(t,[]))||(n.exports=r)}()}).call(this,n(71),n(120)(e))},function(e,t,n){var r,o,i=n(472),a=n(473),s=0,l=0;e.exports=function v1(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:l+1,m=h-s+(g-l)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=g,o=f;var A=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;u[c++]=A>>>24&255,u[c++]=A>>>16&255,u[c++]=A>>>8&255,u[c++]=255&A;var v=h/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var y=0;y<6;++y)u[c+y]=d[y];return t||a(u)}},function(e,t,n){var r=n(472),o=n(473);e.exports=function v4(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,n){},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'\x3c!-- Providers menu row --\x3e\n<div class="row no-gutters h-100" style="overflow-y: auto; overflow-x: hidden;">\n    <div class="se-cm-sidebar-menu-list list-group list-group-flush w-100">\n\n    </div>\n</div>\n\x3c!-- end Providers menu row --\x3e\n\n\x3c!-- Upload here row --\x3e\n<div class="row no-gutters" style="background: #fff; position: absolute;bottom: 20px;width: 100%;padding-right: 20px;">\n    <div class="col">\n        <div class="se-cm-filepond-wrapper h-auto">\n            <div class="se-cm-filepond-container p-0">\n                <input class="se-cm-fileupload filepond" type="file">\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'        <i class="'+e.escapeExpression("function"==typeof(i=null!=(i=n.icon||(null!=t?t.icon:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:o}):i)+'"></i>\n'},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <img src="'+l("function"==typeof(i=null!=(i=n.image||(null!=t?t.image:t))?i:s)?i.call(a,{name:"image",hash:{},data:o}):i)+'" alt="'+l((n.l||t&&t.l||s).call(a,"Icon",{name:"l",hash:{},data:o}))+'" class="cm-menu-item-img">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<a href="#" class="se-cm-sidebar-menu-item list-group-item list-group-item-action" data-provider="'+c("function"==typeof(a=null!=(a=n.provider||(null!=t?t.provider:t))?a:l)?a.call(s,{name:"provider",hash:{},data:o}):a)+'">\n'+(null!=(i=n.if.call(s,null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=n.if.call(s,null!=t?t.image:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"    "+c((n.l||t&&t.l||l).call(s,null!=t?t.title:t,{name:"l",hash:{},data:o}))+"\n</a>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"active"},3:function(e,t,n,r,o){var i;return null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.editable:t,!1,{name:"ifNotEquals",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:""},4:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'            <i class="se-cm-folder-delete fas fa-times ml-1" data-title="'+l("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:s)?i.call(a,{name:"title",hash:{},data:o}):i)+'" data-id="'+l("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,c=e.escapeExpression;return'<span class="se-cm-category-item theme-category-bubble lm-tag badge badge-outline-light '+(null!=(i=(n.ifEquals||t&&t.ifEquals||l).call(s,null!=t?t.id:t,null!=t?t.selectedCategory:t,{name:"ifEquals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" data-category="'+c("function"==typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)?a.call(s,{name:"id",hash:{},data:o}):a)+'">\n    '+c("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+"\n"+(null!=(i=(n.ifNotEquals||t&&t.ifNotEquals||l).call(s,null!=t?t.id:t,"all",{name:"ifNotEquals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"</span>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'<div class="d-flex py-3 px-1">\n    <div class="flex-fill">\n        <div class="input-group input-group w-100 px-2">\n            <div class="input-group-prepend">\n        <span class="input-group-text" id="inputGroup-sizing-default">\n            <i class="fas fa-search"></i>\n        </span>\n            </div>\n            <input id="se-cm-searchbox" type="text" class="form-control" placeholder="'+s((n.l||t&&t.l||a).call(i,"Search images...",{name:"l",hash:{},data:o}))+'">\n        </div>\n    </div>\n    <div class="">\n        <div class="se-cm-topbar-upload-button-wrapper btn-group btn-group">\n            <button type="button" class="se-cm-upload-button btn btn-secondary">\n                <i class="fas fa-upload"></i>\n                '+s((n.l||t&&t.l||a).call(i,"Upload",{name:"l",hash:{},data:o}))+'\n            </button>\n            <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" id="dropdownMenuReference" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">\n                <span class="sr-only">'+s((n.l||t&&t.l||a).call(i,"Toggle Dropdown",{name:"l",hash:{},data:o}))+'</span>\n            </button>\n            <div class="dropdown-menu" aria-labelledby="dropdownMenuReference">\n                <a class="se-cm-upload-url-button dropdown-item" href="#">'+s((n.l||t&&t.l||a).call(i,"Upload from URL",{name:"l",hash:{},data:o}))+'</a>\n            </div>\n        </div>\n\n\n        <div class="se-cm-selected-actions se-cm-hidden dropdown d-inline">\n            <button type="button" class="se-cm-bulk-deselect btn btn-secondary">\n                <i class="far fa-square"></i>\n                '+s((n.l||t&&t.l||a).call(i,"Deselect all",{name:"l",hash:{},data:o}))+'\n            </button>\n\n            <button class="se-cm-move-to btn btn-info dropdown-toggle" type="button" id="se-cm-image-actions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                <i class="fas fa-folder"></i>\n                '+s((n.l||t&&t.l||a).call(i,"Move to...",{name:"l",hash:{},data:o}))+'\n            </button>\n            <div class="se-cm-bulk-move-wrapper dropdown-menu" aria-labelledby="se-cm-image-actions">\n                <div class="image-overlay animated fadeIn sender-loading-overlay m-5">\n                    <div class="hollow-dots-spinner mx-auto">\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                        <div class="dot"></div>\n                    </div>\n                </div>\n            </div>\n\n            <button type="button" class="se-cm-bulk-delete btn btn-danger">\n                <i class="fas fa-trash"></i>\n                '+s((n.l||t&&t.l||a).call(i,"Delete",{name:"l",hash:{},data:o}))+"\n            </button>\n        </div>\n    </div>\n</div>"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=e.lambda,a=e.escapeExpression;return'<a data-id="'+a(i(null!=t?t.id:t,t))+'" class="se-cm-bulk-move dropdown-item" href="#">'+a(i(null!=t?t.title:t,t))+"</a>\n"},useData:!0})},function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'\n<div class="image-lib-main-view p-0">\n    <div id="tui-image-editor"></div>\n    \x3c!-- Top bar --\x3e\n    <div class="row no-gutters" style="padding: 20px; border-bottom: 1px solid #ccc;">\n        <div class="col">\n            <span style="font-weight: bold; font-size: 18px;">\n                '+s((n.l||t&&t.l||a).call(i,"Image Library",{name:"l",hash:{},data:o}))+'\n            </span>\n        </div>\n        <div class="img-close ml-auto" style="cursor: pointer;">\n            <i class="fas fa-times"></i>\n        </div>\n    </div>\n    \x3c!-- End topbar --\x3e\n\n    \x3c!-- Main container --\x3e\n    <div class="row no-gutters image-lib-content" style="height: calc(90vh - 68px);">\n        \x3c!-- Sidebar --\x3e\n        <div class="image-lib-sidebar-container col-2 p-2">\n\n            \x3c!-- Providers menu row --\x3e\n            <div class="mx-auto p-4 m-4 text-center">\n                <div class="loader"></div>\n            </div>\n            \x3c!-- end Providers menu row --\x3e\n\n        </div>\n        \x3c!-- end Sidebar --\x3e\n\n        \x3c!-- Images container --\x3e\n        <div class="col">\n\n            \x3c!-- Container Category row --\x3e\n            <div class="row no-gutters">\n                <div class="col image-lib-categories-container py-2">\n                </div>\n\n                <div class="image-library-search-container py-2 col-3 mr-3">\n                    <div class="input-group w-100" style="flex-wrap: nowrap">\n                        <div class="input-group-prepend">\n                            <span class="input-group-text bg-white" style="color: #aaa">\n                                <i class="fas fa-search"></i>\n                            </span>\n                        </div>\n                        <input id="se-cm-searchbox" style="border-left: none !important;" class="form-control flex-fill img-search-input" type="search" placeholder="'+s((n.l||t&&t.l||a).call(i,"Search by name",{name:"l",hash:{},data:o}))+'" aria-label="Search">\n                    </div>\n                </div>\n            </div>\n            \x3c!-- end Container Category row --\x3e\n\n            \x3c!-- Images --\x3e\n            <div class="se-cm-image-container row no-gutters" style="height: calc(90vh - 127px); overflow-y: auto;">\n                <div class="image-lib-items-list-container col">\n                    <div class="image-lib-list p-1 d-flex flex-wrap justify-content-center align-content-start">\n\n                    </div>\n                </div>\n\n                <div class="se-cm-load-more-wrapper w-100 mx-auto my-3 text-center se-cm-hidden">\n                    <button class="se-cm-load-more btn btn-lg btn-outline-secondary">\n                        <span class="se-cm-load-spin d-none">\n                            <i class="fas fa-spinner fa-pulse"></i>\n                        </span>'+s((n.l||t&&t.l||a).call(i,"Load more...",{name:"l",hash:{},data:o}))+'\n                    </button>\n                </div>\n\n            </div>\n            \x3c!-- end images --\x3e\n\n        </div>\n        \x3c!-- End images container --\x3e\n\n\n    </div>\n    \x3c!-- end Main container --\x3e\n\n    \x3c!-- Selected toolbox --\x3e\n    <div class="se-cm-toolbox row no-gutters d-none" style="padding:10px;background:#fff;position: absolute;bottom: 0;width: 100%;box-shadow:0 -1px 10px 0px #00000024;">\n        <div class="col">\n            <nav class="navbar navbar-expand-lg navbar-light">\n                <div style="font-size: 20px; margin-right: 20px;">\n                    <span class="se-cm-toolbox-selected" style="font-weight: bold; font-size: 18px;">\n                        0\n                    </span>\n                    <span style="font-size: 18px;">\n                        '+s((n.l||t&&t.l||a).call(i,"images selected",{name:"l",hash:{},data:o}))+'\n                    </span>\n                </div>\n                <div class="se-cm-toolbox-bulk d-none">\n                    <button class="se-topbar-button se-cm-bulk-deselect btn btn-sm btn-secondary">\n                        '+s((n.l||t&&t.l||a).call(i,"Deselect",{name:"l",hash:{},data:o}))+'\n                    </button>\n                    <button class="se-topbar-button se-cm-bulk-select btn btn-sm btn-secondary">\n                        '+s((n.l||t&&t.l||a).call(i,"Select all",{name:"l",hash:{},data:o}))+'\n                    </button>\n                    <button class="se-topbar-button se-cm-bulk-move btn btn-sm btn-secondary">\n                        '+s((n.l||t&&t.l||a).call(i,"Move to...",{name:"l",hash:{},data:o}))+'\n                    </button>\n                    <button class="se-topbar-button se-cm-edit-image btn btn-sm btn-secondary">\n                        '+s((n.l||t&&t.l||a).call(i,"Edit image",{name:"l",hash:{},data:o}))+'\n                    </button>\n                    <button class="se-topbar-button se-cm-bulk-delete btn btn-sm btn-danger">\n                        '+s((n.l||t&&t.l||a).call(i,"Delete selected",{name:"l",hash:{},data:o}))+'\n                    </button>\n                </div>\n                <div class="ml-auto">\n                    <button class="se-topbar-button se-cm-toolbox-insert btn btn-sm btn-success" disabled="true" style="color: #fff;">\n                        '+s((n.l||t&&t.l||a).call(i,"Insert",{name:"l",hash:{},data:o}))+"\n                    </button>\n                </div>\n            </nav>\n        </div>\n    </div>\n    \x3c!-- end selected toolbox --\x3e\n</div>"},useData:!0})},function(e,t,n){},function(e,t,n){"use strict";var r=n(82),o=n(475),i=n(648),a=n(452);function createInstance(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=createInstance(a);s.Axios=i,s.create=function create(e){return createInstance(r.merge(a,e))},s.Cancel=n(479),s.CancelToken=n(662),s.isCancel=n(478),s.all=function all(e){return Promise.all(e)},s.spread=n(663),e.exports=s,e.exports.default=s},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function isBuffer(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(452),o=n(82),i=n(657),a=n(658);function Axios(e){this.defaults=e,this.interceptors={request:new i,response:new i}}Axios.prototype.request=function request(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function unshiftRequestInterceptors(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function pushResponseInterceptors(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function forEachMethodNoData(e){Axios.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function forEachMethodWithData(e){Axios.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=Axios},function(e,t){var n,r,o=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i,a=[],s=!1,l=-1;function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(i=a,a=[];++l<t;)i&&i[l].run();l=-1,t=a.length}i=null,s=!1,function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(82);e.exports=function normalizeHeaderName(e,t){r.forEach(e,function processHeader(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(477);e.exports=function settle(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function enhanceError(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(82);function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,function serialize(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function parseValue(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))}))}),o=i.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(82),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function parser(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(82);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=resolveURL(window.location.href),function isURLSameOrigin(t){var n=r.isString(t)?resolveURL(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function isURLSameOrigin(){return!0}},function(e,t,n){"use strict";var r=n(82);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function read(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},function(e,t,n){"use strict";var r=n(82);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function forEach(e){r.forEach(this.handlers,function forEachHandler(t){null!==t&&e(t)})},e.exports=InterceptorManager},function(e,t,n){"use strict";var r=n(82),o=n(659),i=n(478),a=n(452),s=n(660),l=n(661);function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function dispatchRequest(e){return throwIfCancellationRequested(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function onAdapterResolution(t){return throwIfCancellationRequested(e),t.data=o(t.data,t.headers,e.transformResponse),t},function onAdapterRejection(t){return i(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(82);e.exports=function transformData(e,t,n){return r.forEach(n,function transform(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(479);function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function promiseExecutor(e){t=e});var n=this;e(function cancel(e){n.reason||(n.reason=new r(e),t(n.reason))})}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var e;return{token:new CancelToken(function executor(t){e=t}),cancel:e}},e.exports=CancelToken},function(e,t,n){"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,f,p,h=e[c].replace(a,"%20"),g=h.indexOf(n);g>=0?(u=h.substr(0,g),d=h.substr(g+1)):(u=h,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),hasOwnProperty(i,f)?r(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?map(i(e),function(i){var a=encodeURIComponent(r(i))+n;return o(e[i])?map(e[i],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[i]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(e){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(n,r,i){"use strict";function h(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}var s=n("./lib/oop"),l=n("./lib/event_emitter").EventEmitter,c=n("./lib/lang"),d=n("./range").Range,p=n("./range_list").RangeList,g=n("./keyboard/hash_handler").HashHandler,m=n("./tokenizer").Tokenizer,A=n("./clipboard"),v={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var r=e.session.getTextRange();return n?r.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):r},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return A.getText&&A.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:h.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:h.bind(null,{year:"2-digit"}),CURRENT_MONTH:h.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:h.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:h.bind(null,{month:"short"}),CURRENT_DATE:h.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:h.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:h.bind(null,{weekday:"short"}),CURRENT_HOUR:h.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:h.bind(null,{minute:"2-digit"}),CURRENT_SECOND:h.bind(null,{second:"2-digit"})};v.SELECTED_TEXT=v.SELECTION;var y=function(){this.snippetMap={},this.snippetNameMap={}};(function(){s.implement(this,l),this.getTokenizer=function(){return y.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var r=n[0];return r.fmtString=!0,r.guard=e.slice(1,-1),r.flag="",""},next:"formatString"};return y.$tokenizer=new m({start:[{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return"}"==r&&n.length?e=r:-1!="`$\\".indexOf(r)&&(e=r),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,r){var o=e(t.substr(1));return r.unshift(o[0]),o},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var r=e.slice(1,-1).replace(/\\[,|\\]|,/g,function(e){return 2==e.length?e[1]:"\0"}).split("\0");return n[0].choices=r,[r[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return"}"==r&&n.length?e=r:-1!="`$\\".indexOf(r)?e=r:"n"==r?e="\n":"t"==r?e="\t":-1!="ulULE".indexOf(r)&&(e={changeCase:r,local:r>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var r=n.shift();return r&&(r.flag=e.slice(1,-1)),this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var r={text:e.slice(2)};return n.unshift(r),[r]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var r=n.shift();return this.next=r&&r.tabstopId?"start":"",[r||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return"function"==typeof r&&(r=this.variables[t](e,t,n)),null==r?"":r},this.variables=v,this.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var r=t.flag||"",o=t.guard;o=new RegExp(o,r.replace(/[^gim]/g,""));var i="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,a=this;return e.replace(o,function(){var e=a.variables.__;a.variables.__=[].slice.call(arguments);for(var t=a.resolveVariables(i,n),r="E",o=0;o<t.length;o++){var s=t[o];if("object"==typeof s)if(t[o]="",s.changeCase&&s.local){var l=t[o+1];l&&"string"==typeof l&&("u"==s.changeCase?t[o]=l[0].toUpperCase():t[o]=l[0].toLowerCase(),t[o+1]=l.substr(1))}else s.changeCase&&(r=s.changeCase);else"U"==r?t[o]=s.toUpperCase():"L"==r&&(t[o]=s.toLowerCase())}return a.variables.__=e,t.join("")})},this.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},this.resolveVariables=function(e,t){function f(t){var n=e.indexOf(t,i+1);-1!=n&&(i=n)}for(var n=[],r="",o=!0,i=0;i<e.length;i++){var a=e[i];if("string"!=typeof a){if(a){if(o=!1,a.fmtString){var s=e.indexOf(a,i+1);-1==s&&(s=e.length),a.fmt=e.slice(i+1,s),i=s}if(a.text){var l=this.getVariableValue(t,a.text,r)+"";a.fmtString&&(l=this.tmStrFormat(l,a,t)),a.formatFunction&&(l=this.tmFormatFunction(l,a,t)),l&&!a.ifEnd?(n.push(l),f(a)):!l&&a.ifEnd&&f(a.ifEnd)}else a.elseEnd?f(a.elseEnd):null!=a.tabstopId?n.push(a):null!=a.changeCase&&n.push(a)}}else n.push(a),"\n"==a?(o=!0,r=""):o&&(r=/^\t*/.exec(a)[0],o=/\S/.test(a))}return n},this.insertSnippetForSelection=function(e,t){function f(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("object"==typeof r){if(l[r.tabstopId])continue;r=t[e.lastIndexOf(r,n-1)]||{tabstopId:r.tabstopId}}t[n]=r}return t}var n=e.getCursorPosition(),r=e.session.getLine(n.row),o=e.session.getTabString(),i=r.match(/^\s*/)[0];n.column<i.length&&(i=i.slice(0,n.column)),t=t.replace(/\r/g,"");var a=this.tokenizeTmSnippet(t),s=[];(a=(a=this.resolveVariables(a,e)).map(function(e){return"\n"==e?e+i:"string"==typeof e?e.replace(/\t/g,o):e})).forEach(function(e,t){if("object"==typeof e){var n=e.tabstopId,r=s[n];if(r||((r=s[n]=[]).index=n,r.value="",r.parents={}),-1===r.indexOf(e)){e.choices&&!r.choices&&(r.choices=e.choices),r.push(e);var o=a.indexOf(e,t+1);if(-1!==o){var i=a.slice(t+1,o);i.some(function(e){return"object"==typeof e})&&!r.value?r.value=i:i.length&&(!r.value||"string"!=typeof r.value)&&(r.value=i.join(""))}}}}),s.forEach(function(e){e.length=0});for(var l={},c=0;c<a.length;c++){var u=a[c];if("object"==typeof u){var d=u.tabstopId,p=s[d],h=a.indexOf(u,c+1);if(l[d])l[d]===u&&(delete l[d],Object.keys(l).forEach(function(e){p.parents[e]=!0}));else{l[d]=u;var g=p.value;"string"!=typeof g?g=f(g):u.fmt&&(g=this.tmStrFormat(g,u,e)),a.splice.apply(a,[c+1,Math.max(0,h-c)].concat(g,u)),-1===p.indexOf(u)&&p.push(u)}}}var m=0,A=0,v="";a.forEach(function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(A=t[t.length-1].length,m+=t.length-1):A+=e.length,v+=e}else e&&(e.start?e.end={row:m,column:A}:e.start={row:m,column:A})});var y=e.getSelectionRange(),w=e.session.replace(y,v),_=new b(e),E=e.inVirtualSelectionMode&&e.selection.index;_.addTabstops(s,y.start,w,E)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"===t&&!e.session.$mode.inlinePhp&&(t="html");var n=e.getCursorPosition(),r=e.session.getState(n.row);"object"==typeof r&&(r=r[0]),r.substring&&("js-"==r.substring(0,3)?t="javascript":"css-"==r.substring(0,4)?t="css":"php-"==r.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&n.push.apply(n,r[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,r=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},this.expandSnippetForSelection=function(e,t){var n,r=e.getCursorPosition(),o=e.session.getLine(r.row),i=o.substring(0,r.column),a=o.substr(r.column),s=this.snippetMap;return this.getActiveScopes(e).some(function(e){var t=s[e];return t&&(n=this.findMatchingSnippet(t,i,a)),!!n},this),!!n&&(!(!t||!t.dryRun)||(e.session.doc.removeInLine(r.row,r.column-n.replaceBefore.length,r.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null,!0))},this.findMatchingSnippet=function(e,t,n){for(var r=e.length;r--;){var o=e[r];if((!o.startRe||o.startRe.test(t))&&((!o.endRe||o.endRe.test(n))&&(o.startRe||o.endRe)))return o.matchBefore=o.startRe?o.startRe.exec(t):[""],o.matchAfter=o.endRe?o.endRe.exec(n):[""],o.replaceBefore=o.triggerRe?o.triggerRe.exec(t)[0]:"",o.replaceAfter=o.endTriggerRe?o.endTriggerRe.exec(n)[0]:"",o}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function u(e,t,n){return e=o(e),t=o(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function a(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],r[t]={});var o=r[t];if(e.name){var a=o[e.name];a&&i.unregister(a),o[e.name]=e}n[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=c.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=u(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=u(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}var n=this.snippetMap,r=this.snippetNameMap,i=this;e||(e=[]),e&&e.content?a(e):Array.isArray(e)&&e.forEach(a),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){function i(e){var o=r[e.scope||t];if(o&&o[e.name]){delete o[e.name];var i=n[e.scope||t],a=i&&i.indexOf(e);a>=0&&i.splice(a,1)}}var n=this.snippetMap,r=this.snippetNameMap;e.content?i(e):Array.isArray(e)&&e.forEach(i)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],r={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=o.exec(e);){if(t[1])try{r=JSON.parse(t[1]),n.push(r)}catch(e){}if(t[4])r.content=t[4].replace(/^\t/gm,""),n.push(r),r={};else{var i=t[2],a=t[3];if("regex"==i){var s=/\/((?:[^\/\\]|\\.)*)|$/g;r.guard=s.exec(a)[1],r.trigger=s.exec(a)[1],r.endTrigger=s.exec(a)[1],r.endGuard=s.exec(a)[1]}else"snippet"==i?(r.tabTrigger=a.match(/^\S*/)[0],r.name||(r.name=a)):r[i]=a}}return n},this.getSnippetByName=function(e,t){var n,r=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){var o=r[t];return o&&(n=o[e]),!!n},this),n}}).call(y.prototype);var b=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=c.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},r=n.parents||{},o=(this.tabstops||[]).slice(),i=0;i<o.length;i++){var a=o[i],s=a==n||r[a.index];if(a.rangeList.$bias=s?0:1,"remove"==e.action&&a!==n){var l=a.parents&&a.parents[n.index],c=a.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=a.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var d=a.rangeList.ranges.slice(c,u),f=0;f<d.length;f++)this.removeRange(d[f])}a.rangeList.$onChange(e)}var p=this.editor.session;!this.$inChange&&t&&1==p.getLength()&&!p.getValue()&&this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var t=this.editor.session,n=t.getTextRange(e.firstNonLinked),o=0;o<e.length;o++){var i=e[o];if(i.linked){var a=i.original,s=r.snippetManager.tmStrFormat(n,a,this.editor);t.replace(i,s)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),r=0;r<this.ranges.length;r++)if(!this.ranges[r].linked){var o=this.ranges[r].contains(e.row,e.column),i=n||this.ranges[r].contains(t.row,t.column);if(o&&i)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(this.editor.inVirtualSelectionMode)this.editor.selection.setRange(n);else{var r=this.editor.multiSelect;r.toSingleRange(n.clone());for(var o=0;o<t.length;o++)t.hasLinkedRanges&&t[o].linked||r.addRange(t[o].clone(),!0);r.ranges[0]&&r.addRange(r.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(e,t,n){var r=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var o=d.fromPoints(n,n);_(o.start,t),_(o.end,t),e[0]=[o],e[0].index=0}var i=[this.index+1,0],a=this.ranges;e.forEach(function(e,n){for(var o=this.$openTabstops[n]||e,s=0;s<e.length;s++){var l=e[s],c=d.fromPoints(l.start,l.end||l.start);w(c.start,t),w(c.end,t),c.original=l,c.tabstop=o,a.push(c),o!=e?o.unshift(c):o[s]=c,l.fmtString||o.firstNonLinked&&r?(c.linked=!0,o.hasLinkedRanges=!0):o.firstNonLinked||(o.firstNonLinked=c)}o.firstNonLinked||(o.hasLinkedRanges=!1),o===e&&(i.push(o),this.$openTabstops[n]=o),this.addTabstopMarkers(o),o.rangeList=o.rangeList||new p,o.rangeList.$bias=0,o.rangeList.addList(o)},this),i.length>2&&(this.tabstops.length&&i.push(i.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,i))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new g,this.keyboardHandler.bindKeys({Tab:function(e){r.snippetManager&&r.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}})}).call(b.prototype);var w=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},_=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};n("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),r.snippetManager=new y;var E=n("./editor").Editor;(function(){this.insertSnippet=function(e,t){return r.snippetManager.insertSnippet(this,e,t)},this.expandSnippet=function(e){return r.snippetManager.expandWithTab(this,e)}}).call(E.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../virtual_renderer").VirtualRenderer,o=e("../editor").Editor,i=e("../range").Range,a=e("../lib/event"),s=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new r(e);t.$maxLines=4;var n=new o(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n};l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),t.AcePopup=function(e){var t=l.createElement("div"),n=new c(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),d.start.row=d.end.row=t.row,e.stop()});var o,u=new i(-1,0,-1,1/0),d=new i(-1,0,-1,1/0);d.id=n.session.addMarker(d,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(e){if(o){if(o.x!=e.x||o.y!=e.y){(o=e).scrollTop=n.renderer.scrollTop;var t=o.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),p(t))}}else o=e}),n.renderer.on("beforeRender",function(){if(o&&-1!=u.start.row){o.$pos=null;var e=o.getDocumentPosition().row;u.id||n.setRow(e),p(e,!0)}}),n.renderer.on("afterRender",function(){var e=n.getRow(),t=n.renderer.$textLayer,r=t.element.childNodes[e-t.config.firstRow];r!==t.selectedNode&&t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=r,r&&l.addCssClass(r,"ace_selected")});var f=function(){p(-1)},p=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},a.addListener(n.container,"mouseout",f),n.on("hide",f),n.on("changeSelection",f),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var h=n.session.bgTokenizer;return h.$tokenizeRow=function(e){function s(e,n){e&&r.push({type:(t.className||"")+(n||""),value:e})}var t=n.data[e],r=[];if(!t)return r;"string"==typeof t&&(t={value:t});for(var o=t.caption||t.value||t.name,i=o.toLowerCase(),a=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=a.length;u++)if(u!=c&&(t.matchMask&1<<u||u==a.length)){var d=a.slice(c,u);c=u;var f=i.indexOf(d,l);if(-1==f)continue;s(o.slice(l,f),""),l=f+d.length,s(o.slice(f,l),"completion-highlight")}return s(o.slice(l,o.length),""),t.meta&&r.push({type:"completion-meta",value:t.meta}),t.message&&r.push({type:"completion-message",value:t.message}),r},h.$updateOnChange=r,h.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(s.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return d.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),d.start.row!=e&&(n.selection.clearSelection(),d.start.row=d.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()}),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var i=this.container,a=window.innerHeight,s=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,u=e.top+this.$borderSize;u>a/2&&!r&&u+t+c>a?(l.$maxPixelHeight=u-2*this.$borderSize,i.style.top="",i.style.bottom=a-u+"px",n.isTopdown=!1):(u+=t,l.$maxPixelHeight=a-u-.2*t,i.style.top=u+"px",i.style.bottom="",n.isTopdown=!0),i.style.display="";var d=e.left;d+i.offsetWidth>s&&(d=s-i.offsetWidth),i.style.left=d+"px",this._signal("show"),o=null,n.isOpen=!0},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n},t.$singleLineEditor=c}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t,n){"use strict";t.parForEach=function(e,t,n){var r=0,o=e.length;0===o&&n();for(var i=0;i<o;i++)t(e[i],function(e,t){++r===o&&n(e,t)})};var r=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||r;for(var o=[],i=t-1;i>=0&&n.test(e[i]);i--)o.push(e[i]);return o.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||r;for(var o=[],i=t;i<e.length&&n.test(e[i]);i++)o.push(e[i]);return o},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),r=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(r,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(r,n.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(e,t,n){"use strict";var r=e("./keyboard/hash_handler").HashHandler,o=e("./autocomplete/popup").AcePopup,i=e("./autocomplete/util"),a=e("./lib/lang"),s=e("./lib/dom"),l=e("./snippets").snippetManager,c=e("./config"),u=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=a.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=a.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new o(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var r=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var o=r.layerConfig.lineHeight,i=r.$cursorLayer.getPixelPosition(this.base,!0);i.left-=this.popup.getTextLeftOffset();var a=e.container.getBoundingClientRect();i.top+=a.top-r.layerConfig.offset,i.left+=a.left-e.renderer.scrollLeft,i.left+=r.gutterWidth,this.popup.show(i,o)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),r=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),o=this.popup&&this.popup.container;t!=n&&t.parentNode!=o&&!r&&t!=this.tooltipNode&&e.relatedTarget!=n&&this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var n,r=this.editor.selection.getAllRanges(),o=0;n=r[o];o++)n.start.column-=this.completions.filterText.length,this.editor.session.remove(n);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),r=e.getCursorPosition(),o=i.getCompletionPrefix(e);this.base=n.doc.createAnchor(r.row,r.column-o.length),this.base.$insertRight=!0;var a=[],s=e.completers.length;return e.completers.forEach(function(l,c){l.getCompletions(e,n,r,o,function(n,r){!n&&r&&(a=a.concat(r)),t(null,{prefix:i.getCompletionPrefix(e),matches:a,finished:0==--s})})}),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition(),r=this.editor.session.getTextRange({start:this.base,end:n});if(r==this.completions.filterText)return;return this.completions.setFilter(r),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=r||this.completions.filtered[0].snippet?void this.openPopup(this.editor,r,e):this.detach():this.detach()}if(t&&t.matches){n=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new d(t.matches),this.openPopup(this.editor,"",e)}var o=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var r=function(){if(n.finished)return this.detach()}.bind(this),i=n.prefix,a=n&&n.matches;if(!a||!a.length)return r();if(0===i.indexOf(n.prefix)&&o==this.gatherCompletionsId){this.completions=new d(a),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(i);var s=this.completions.filtered;return s.length&&(1!=s.length||s[0].value!=i||s[0].snippet)?this.autoInsert&&1==s.length&&n.finished?this.insertMatch(s[0]):void this.openPopup(this.editor,i,e):r()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),r=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(e){return e.getDocTooltip&&(r=e.getDocTooltip(n)),r}),!r&&"string"!=typeof n&&(r=n),"string"==typeof r&&(r={docText:r}),r&&(r.docHTML||r.docText)?void this.showDocTooltip(r):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,r=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,t.style.display="block",window.innerWidth-r.right<320?r.left<320?n.isTopdown?(t.style.top=r.bottom+"px",t.style.left=r.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=n.container.offsetTop-t.offsetHeight+"px",t.style.left=r.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-r.left+"px",t.style.left=""):(t.style.left=r.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==e&&this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&this.editor.completer,this.popup=null}}).call(u.prototype),u.for=function(e){return e.completer?e.completer:(c.get("sharedPopups")?(u.$shared||(u.$sharedInstance=new u),e.completer=u.$sharedInstance):(e.completer=new u,e.once("destroy",function(e,t){t.completer.destroy()})),e.completer)},u.startCommand={name:"startAutocomplete",exec:function(e,t){var n=u.for(e);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e;var n=null;t=(t=(t=this.filterCompletions(t,this.filterText)).sort(function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)})).filter(function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var n=[],r=t.toUpperCase(),o=t.toLowerCase();e:for(var i,a=0;i=e[a];a++){var s=i.caption||i.value||i.snippet;if(s){var l,c,u=-1,d=0,f=0;if(this.exactMatch){if(t!==s.substr(0,t.length))continue e}else{var p=s.toLowerCase().indexOf(o);if(p>-1)f=p;else for(var h=0;h<t.length;h++){var g=s.indexOf(o[h],u+1),m=s.indexOf(r[h],u+1);if((l=g>=0&&(m<0||g<m)?g:m)<0)continue e;(c=l-u-1)>0&&(-1===u&&(f+=10),f+=c,d|=1<<h),u=l}}i.matchMask=d,i.exactMatch=f?0:1,i.$score=(i.score||0)-f,n.push(i)}}return n}}).call(d.prototype),t.Autocomplete=u,t.FilteredList=d}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t,n){function s(e,t){return e.getTextRange(r.fromPoints({row:0,column:0},t)).split(i).length-1}function o(e,t){var n=s(e,t),r=e.getValue().split(i),o=Object.create(null),a=r[n];return r.forEach(function(e,t){if(e&&e!==a){var i=Math.abs(n-t),s=r.length-i;o[e]?o[e]=Math.max(s,o[e]):o[e]=s}}),o}var r=e("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,r,i){var a=o(t,n);i(null,Object.keys(a).map(function(e){return{caption:e,value:e,score:a[e],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t,n){"use strict";var r=e("../snippets").snippetManager,o=e("../autocomplete").Autocomplete,i=e("../config"),a=e("../lib/lang"),s=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,r,o){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,r,o);var i=e.session.getState(n.row);o(null,t.$mode.getCompletions(i,t,n,r))}},u={getCompletions:function(e,t,n,o,i){var a=[],s=t.getTokenAt(n.row,n.column);s&&s.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?a.push("html-tag"):a=r.getActiveScopes(e);var l=r.snippetMap,c=[];a.forEach(function(e){for(var t=l[e]||[],n=t.length;n--;){var r=t[n],o=r.name||r.tabTrigger;o&&c.push({caption:o,snippet:r.content,meta:r.tabTrigger&&!r.name?r.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),i(null,c)},getDocTooltip:function(e){"snippet"==e.type&&!e.docHTML&&(e.docHTML=["<b>",a.escapeHTML(e.caption),"</b>","<hr></hr>",a.escapeHTML(e.snippet)].join(""))}},d=[u,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=u;var f={name:"expandSnippet",exec:function(e){return r.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){h(t.session.$mode)},h=function(e){var t=e.$id;r.files||(r.files={}),g(t),e.modes&&e.modes.forEach(h)},g=function(e){if(e&&!r.files[e]){var t=e.replace("mode","snippets");r.files[e]={},i.loadModule(t,function(t){t&&(r.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=r.parseSnippetFile(t.snippetText)),r.register(t.snippets||[],t.scope),t.includeScopes&&(r.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(e){g("ace/mode/"+e)})))})}},m=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!s.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name){if(s.getCompletionPrefix(t)&&!n){var r=o.for(t);r.autoInsert=!1,r.showPopup(t)}}},A=e("../editor").Editor;e("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(o.startCommand)):this.commands.removeCommand(o.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",m)):this.commands.removeListener("afterExec",m)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(f),this.on("changeMode",p),p(0,this)):(this.commands.removeCommand(f),this.off("changeMode",p))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(t){e&&(e.exports=t)})}).call(this,n(120)(e))},function(e,t,n){(function(e){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.require(["ace/theme/monokai"],function(t){e&&(e.exports=t)})}).call(this,n(120)(e))},function(e,t,n){(function(e){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},i.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(i,o),i.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},i.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},i.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=i}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function f(e){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var r=e("../lib/oop"),o=e("./doc_comment_highlight_rules").DocCommentHighlightRules,i=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",l=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),f("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),f("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),(!e||0!=e.jsx)&&function a(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,f("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};r.inherits(l,i),t.JavaScriptHighlightRules=l}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,o=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,i=e.findMatchingBracket({row:t,column:o});if(!i||i.row==t)return 0;var a=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../../range").Range,i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,i),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(r)?"start":o},this.getFoldWidgetRange=function(e,t,n,r){var o,i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);if(o=i.match(this.foldingStartMarker)){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(o=i.match(this.foldingStopMarker))){a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),i=t,a=n.length,s=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=i)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new o(i,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),i=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<i;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>a)return new o(a,r,n,t.length)}}.call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,i=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=i,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};r.inherits(u,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),o=this.getTokenizer().getLineTokens(t,e),i=o.tokens,a=o.state;if(i.length&&"comment"==i[i.length-1].type)return r;if("start"==e||"no_regex"==e)(s=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(r+=n);else if("doc-start"==e){if("start"==a||"no_regex"==a)return"";var s;(s=t.match(/^\s*(\/?)\*/))&&(s[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),i=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",a=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",f=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":a,"support.constant":s,"support.type":i,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:f},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};r.inherits(p,o),t.CssHighlightRules=p}),ace.define("ace/mode/css_completions",["require","exports","module"],function(e,t,n){"use strict";var r={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},o=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var o=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(o)?(/([\w\-]+):[^:]*$/.test(o),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r)}return[]},this.getPropertyCompletions=function(e,t,n,o){return Object.keys(r).map(function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(e,t,n,o){var i=t.getLine(n.row).substr(0,n.column),a=(/([\w\-]+):[^:]*$/.exec(i)||{})[1];if(!a)return[];var s=[];return a in r&&"object"==typeof r[a]&&(s=Object.keys(r[a])),s.map(function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}})}}).call(o.prototype),t.CssCompletions=o}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),i=e("../../token_iterator").TokenIterator,a=function(){this.inherit(o),this.add("colon","insertion",function(e,t,n,r,o){if(":"===o&&n.selection.isEmpty()){var a=n.getCursorPosition(),s=new i(r,a.row,a.column),l=s.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=s.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(a.row);if(":"===c.substring(a.column,a.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(a.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&":"===a){var s=n.getCursorPosition(),l=new i(r,s.row,s.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o}}),this.add("semicolon","insertion",function(e,t,n,r,o){if(";"===o&&n.selection.isEmpty()){var i=n.getCursorPosition();if(";"===r.doc.getLine(i.row).substring(i.column,i.column+1))return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(e,t,n,r,o){if("!"===o&&n.selection.isEmpty()){var i=n.getCursorPosition(),a=r.doc.getLine(i.row);if(/^\s*(;|}|$)/.test(a.substring(i.column)))return{text:"!important",selection:[10,10]}}})};r.inherits(a,o),t.CssBehaviour=a}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,i=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=i,this.$outdent=new a,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};r.inherits(d,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),o=this.getTokenizer().getLineTokens(t,e).tokens;return o.length&&"comment"==o[o.length-1].type?r:(t.match(/^.*\{\s*$/)&&(r+=n),r)},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===i&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),r.inherits(i,o),t.XmlHighlightRules=i}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),i=e("./css_highlight_rules").CssHighlightRules,a=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./xml_highlight_rules").XmlHighlightRules,l=o.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(i,"css-","style"),this.embedTagRules(new a({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};r.inherits(c,s),t.HtmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";function u(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=e("../behaviour").Behaviour,i=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,n,r,o){if('"'==o||"'"==o){var a=o,s=r.doc.getTextRange(n.getSelectionRange());if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return{text:a+s+a,selection:!1};var l=n.getCursorPosition(),c=r.doc.getLine(l.row).substring(l.column,l.column+1),d=new i(r,l.row,l.column),f=d.getCurrentToken();if(c==a&&(u(f,"attribute-value")||u(f,"string")))return{text:"",selection:[1,1]};if(f||(f=d.stepBackward()),!f)return;for(;u(f,"tag-whitespace")||u(f,"whitespace");)f=d.stepBackward();var p=!c||c.match(/\s/);if(u(f,"attribute-equals")&&(p||">"==c)||u(f,"decl-attribute-equals")&&(p||"?"==c))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==i||"'"==i)&&r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==i)return o.end.column++,o}),this.add("autoclosing","insertion",function(e,t,n,r,o){if(">"==o){var a=n.getSelectionRange().start,s=new i(r,a.row,a.column),l=s.getCurrentToken()||s.stepBackward();if(!l||!(u(l,"tag-name")||u(l,"tag-whitespace")||u(l,"attribute-name")||u(l,"attribute-equals")||u(l,"attribute-value")))return;if(u(l,"reference.attribute-value"))return;if(u(l,"attribute-value")){var c=s.getCurrentTokenColumn()+l.value.length;if(a.column<c)return;if(a.column==c){var d=s.stepForward();if(d&&u(d,"attribute-value"))return;s.stepBackward()}}if(/^\s*>/.test(r.getLine(a.row).slice(a.column)))return;for(;!u(l,"tag-name");)if("<"==(l=s.stepBackward()).value){l=s.stepForward();break}var f=s.getCurrentTokenRow(),p=s.getCurrentTokenColumn();if(u(s.stepBackward(),"end-tag-open"))return;var h=l.value;if(f==a.row&&(h=h.substring(0,a.column-p)),this.voidElements.hasOwnProperty(h.toLowerCase()))return;return{text:"></"+h+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,r,o){if("\n"==o){var a=n.getCursorPosition(),s=r.getLine(a.row),l=new i(r,a.row,a.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var f=r.getTokenAt(a.row,a.column+1),p=(s=r.getLine(d),this.$getIndent(s)),h=p+r.getTabString();return f&&"</"===f.value?{text:"\n"+h+"\n"+p,selection:[1,h.length,1,h.length]}:{text:"\n"+h}}}}})});r.inherits(a,o),t.XmlBehaviour=a}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("./fold_mode").FoldMode,i=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(i,o),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var o=this.$getMode(e);return o?o.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(i.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";function l(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),i=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,s=t.FoldMode=function(e,t){i.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(s,i);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),r=new c,o=0;o<n.length;o++){var i=n[o];if(l(i,"tag-open")){if(r.end.column=r.start.column+i.value.length,r.closing=l(i,"end-tag-open"),!(i=n[++o]))return null;for(r.tagName=i.value,r.end.column+=i.value.length,o++;o<n.length;o++)if(i=n[o],r.end.column+=i.value.length,l(i,"tag-close")){r.selfClosing="/>"==i.value;break}return r}if(l(i,"tag-close"))return r.selfClosing="/>"==i.value,r;r.start.column+=i.value.length}return null},this._findEndTagInLine=function(e,t,n,r){for(var o=e.getTokens(t),i=0,a=0;a<o.length;a++){var s=o[a];if(!((i+=s.value.length)<r)&&l(s,"end-tag-open")&&(s=o[a+1])&&s.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(l(t,"tag-open"))n.closing=l(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(l(t,"tag-name"))n.tagName=t.value;else if(l(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(l(t,"tag-open"))return n.closing=l(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;l(t,"tag-name")?n.tagName=t.value:l(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(!t||n.tagName==t.tagName)return e.pop();if(!this.optionalEndTags.hasOwnProperty(n.tagName))return null;e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var i,s=[];if(r.closing||r.selfClosing){c=new a(e,n,r.end.column);for(var l={row:n,column:r.start.column};i=this._readTagBackward(c);)if(i.selfClosing){if(!s.length)return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}else if(i.closing)s.push(i);else if(this._pop(s,i),0==s.length)return i.start.column+=i.tagName.length+2,i.start.row==i.end.row&&i.start.column<i.end.column&&(i.start.column=i.end.column),o.fromPoints(i.start,l)}else{var c=new a(e,n,r.start.column),u={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(u.column=r.end.column);i=this._readTagForward(c);)if(i.selfClosing){if(!s.length)return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}else if(i.closing){if(this._pop(s,i),0==s.length)return o.fromPoints(u,i.start)}else s.push(i)}}}).call(s.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("./mixed").FoldMode,i=e("./xml").FoldMode,a=e("./cstyle").FoldMode,s=t.FoldMode=function(e,t){o.call(this,new i(e,t),{"js-":new a,"css-":new a})};r.inherits(s,o)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function f(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new r(e,t.row,t.column),o=n.getCurrentToken();o&&!f(o,"tag-name");)o=n.stepBackward();if(o)return o.value}function c(e,t){for(var n=new r(e,t.row,t.column),o=n.getCurrentToken();o&&!f(o,"attribute-name");)o=n.stepBackward();if(o)return o.value}var r=e("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),i={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},a=Object.keys(i),s=function(){};(function(){this.getCompletions=function(e,t,n,r){var o=t.getTokenAt(n.row,n.column);if(!o)return[];if(f(o,"tag-name")||f(o,"tag-open")||f(o,"end-tag-open"))return this.getTagCompletions(e,t,n,r);if(f(o,"tag-whitespace")||f(o,"attribute-name"))return this.getAttributeCompletions(e,t,n,r);if(f(o,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,r);var i=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(i)?this.getHTMLEntityCompletions(e,t,n,r):[]},this.getTagCompletions=function(e,t,n,r){return a.map(function(e){return{value:e,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(e,t,n,r){var a=l(t,n);if(!a)return[];var s=o;return a in i&&(s=s.concat(Object.keys(i[a]))),s.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(e,t,n,r){var o=l(t,n),a=c(t,n);if(!o)return[];var s=[];return o in i&&a in i[o]&&"object"==typeof i[o][a]&&(s=Object.keys(i[o][a])),s.map(function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(e,t,n,r){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map(function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}})}}).call(s.prototype),t.HtmlCompletions=s}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),i=e("./text").Mode,a=e("./javascript").Mode,s=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,d=e("./html_completions").HtmlCompletions,f=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],h=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new d,this.createModeDelegates({"js-":a,"css-":s}),this.foldingRules=new u(this.voidElements,o.arrayToMap(h))};r.inherits(g,i),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=o.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==g){var t=new f(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(g.prototype),t.Mode=g}),ace.define("ace/mode/handlebars_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/html_highlight_rules"],function(e,t,n){"use strict";function s(e,t){return t.splice(0,3),t.shift()||"start"}var r=e("../lib/oop"),o=e("./html_highlight_rules").HtmlHighlightRules,i=function(){o.call(this);var e={regex:"(?={{)",push:"handlebars"};for(var t in this.$rules)this.$rules[t].unshift(e);this.$rules.handlebars=[{token:"comment.start",regex:"{{!--",push:[{token:"comment.end",regex:"--}}",next:s},{defaultToken:"comment"}]},{token:"comment.start",regex:"{{!",push:[{token:"comment.end",regex:"}}",next:s},{defaultToken:"comment"}]},{token:"support.function",regex:"{{{",push:[{token:"support.function",regex:"}}}",next:s},{token:"variable.parameter",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"}]},{token:"storage.type.start",regex:"{{[#\\^/&]?",push:[{token:"storage.type.end",regex:"}}",next:s},{token:"variable.parameter",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"}]}],this.normalizeRules()};r.inherits(i,o),t.HandlebarsHighlightRules=i}),ace.define("ace/mode/behaviour/html",["require","exports","module","ace/lib/oop","ace/mode/behaviour/xml"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../behaviour/xml").XmlBehaviour,i=function(){o.call(this)};r.inherits(i,o),t.HtmlBehaviour=i}),ace.define("ace/mode/handlebars",["require","exports","module","ace/lib/oop","ace/mode/html","ace/mode/handlebars_highlight_rules","ace/mode/behaviour/html","ace/mode/folding/html"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./html").Mode,i=e("./handlebars_highlight_rules").HandlebarsHighlightRules,a=e("./behaviour/html").HtmlBehaviour,s=(e("./folding/html").FoldMode,function(){o.call(this),this.HighlightRules=i,this.$behaviour=new a});r.inherits(s,o),function(){this.blockComment={start:"{{!--",end:"--}}"},this.$id="ace/mode/handlebars"}.call(s.prototype),t.Mode=s}),ace.require(["ace/mode/handlebars"],function(t){e&&(e.exports=t)})}).call(this,n(120)(e))},function(e,t,n){(function(e){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},i.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(i,o),i.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},i.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},i.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=i}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function f(e){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var r=e("../lib/oop"),o=e("./doc_comment_highlight_rules").DocCommentHighlightRules,i=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",l=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),f("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),f("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),(!e||0!=e.jsx)&&function a(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,f("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};r.inherits(l,i),t.JavaScriptHighlightRules=l}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,o=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,i=e.findMatchingBracket({row:t,column:o});if(!i||i.row==t)return 0;var a=this.$getIndent(e.getLine(i.row));e.replace(new r(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../../range").Range,i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,i),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(r)?"start":o},this.getFoldWidgetRange=function(e,t,n,r){var o,i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);if(o=i.match(this.foldingStartMarker)){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(o=i.match(this.foldingStopMarker))){a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),i=t,a=n.length,s=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=i)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new o(i,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),i=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<i;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>a)return new o(a,r,n,t.length)}}.call(a.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,i=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=i,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};r.inherits(u,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),o=this.getTokenizer().getLineTokens(t,e),i=o.tokens,a=o.state;if(i.length&&"comment"==i[i.length-1].type)return r;if("start"==e||"no_regex"==e)(s=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(r+=n);else if("doc-start"==e){if("start"==a||"no_regex"==a)return"";var s;(s=t.match(/^\s*(\/?)\*/))&&(s[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(u.prototype),t.Mode=u}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),i=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",a=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",f=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":a,"support.constant":s,"support.type":i,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:f},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};r.inherits(p,o),t.CssHighlightRules=p}),ace.define("ace/mode/css_completions",["require","exports","module"],function(e,t,n){"use strict";var r={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},o=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var o=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(o)?(/([\w\-]+):[^:]*$/.test(o),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r)}return[]},this.getPropertyCompletions=function(e,t,n,o){return Object.keys(r).map(function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(e,t,n,o){var i=t.getLine(n.row).substr(0,n.column),a=(/([\w\-]+):[^:]*$/.exec(i)||{})[1];if(!a)return[];var s=[];return a in r&&"object"==typeof r[a]&&(s=Object.keys(r[a])),s.map(function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}})}}).call(o.prototype),t.CssCompletions=o}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),i=e("../../token_iterator").TokenIterator,a=function(){this.inherit(o),this.add("colon","insertion",function(e,t,n,r,o){if(":"===o&&n.selection.isEmpty()){var a=n.getCursorPosition(),s=new i(r,a.row,a.column),l=s.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=s.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(a.row);if(":"===c.substring(a.column,a.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(a.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&":"===a){var s=n.getCursorPosition(),l=new i(r,s.row,s.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o}}),this.add("semicolon","insertion",function(e,t,n,r,o){if(";"===o&&n.selection.isEmpty()){var i=n.getCursorPosition();if(";"===r.doc.getLine(i.row).substring(i.column,i.column+1))return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(e,t,n,r,o){if("!"===o&&n.selection.isEmpty()){var i=n.getCursorPosition(),a=r.doc.getLine(i.row);if(/^\s*(;|}|$)/.test(a.substring(i.column)))return{text:"!important",selection:[10,10]}}})};r.inherits(a,o),t.CssBehaviour=a}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,i=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=i,this.$outdent=new a,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};r.inherits(d,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),o=this.getTokenizer().getLineTokens(t,e).tokens;return o.length&&"comment"==o[o.length-1].type?r:(t.match(/^.*\{\s*$/)&&(r+=n),r)},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,i=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===i&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),r.inherits(i,o),t.XmlHighlightRules=i}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),i=e("./css_highlight_rules").CssHighlightRules,a=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./xml_highlight_rules").XmlHighlightRules,l=o.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(i,"css-","style"),this.embedTagRules(new a({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};r.inherits(c,s),t.HtmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";function u(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=e("../behaviour").Behaviour,i=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,n,r,o){if('"'==o||"'"==o){var a=o,s=r.doc.getTextRange(n.getSelectionRange());if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return{text:a+s+a,selection:!1};var l=n.getCursorPosition(),c=r.doc.getLine(l.row).substring(l.column,l.column+1),d=new i(r,l.row,l.column),f=d.getCurrentToken();if(c==a&&(u(f,"attribute-value")||u(f,"string")))return{text:"",selection:[1,1]};if(f||(f=d.stepBackward()),!f)return;for(;u(f,"tag-whitespace")||u(f,"whitespace");)f=d.stepBackward();var p=!c||c.match(/\s/);if(u(f,"attribute-equals")&&(p||">"==c)||u(f,"decl-attribute-equals")&&(p||"?"==c))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==i||"'"==i)&&r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==i)return o.end.column++,o}),this.add("autoclosing","insertion",function(e,t,n,r,o){if(">"==o){var a=n.getSelectionRange().start,s=new i(r,a.row,a.column),l=s.getCurrentToken()||s.stepBackward();if(!l||!(u(l,"tag-name")||u(l,"tag-whitespace")||u(l,"attribute-name")||u(l,"attribute-equals")||u(l,"attribute-value")))return;if(u(l,"reference.attribute-value"))return;if(u(l,"attribute-value")){var c=s.getCurrentTokenColumn()+l.value.length;if(a.column<c)return;if(a.column==c){var d=s.stepForward();if(d&&u(d,"attribute-value"))return;s.stepBackward()}}if(/^\s*>/.test(r.getLine(a.row).slice(a.column)))return;for(;!u(l,"tag-name");)if("<"==(l=s.stepBackward()).value){l=s.stepForward();break}var f=s.getCurrentTokenRow(),p=s.getCurrentTokenColumn();if(u(s.stepBackward(),"end-tag-open"))return;var h=l.value;if(f==a.row&&(h=h.substring(0,a.column-p)),this.voidElements.hasOwnProperty(h.toLowerCase()))return;return{text:"></"+h+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,r,o){if("\n"==o){var a=n.getCursorPosition(),s=r.getLine(a.row),l=new i(r,a.row,a.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var f=r.getTokenAt(a.row,a.column+1),p=(s=r.getLine(d),this.$getIndent(s)),h=p+r.getTabString();return f&&"</"===f.value?{text:"\n"+h+"\n"+p,selection:[1,h.length,1,h.length]}:{text:"\n"+h}}}}})});r.inherits(a,o),t.XmlBehaviour=a}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("./fold_mode").FoldMode,i=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(i,o),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var o=this.$getMode(e);return o?o.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(i.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";function l(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),i=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,s=t.FoldMode=function(e,t){i.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(s,i);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),r=new c,o=0;o<n.length;o++){var i=n[o];if(l(i,"tag-open")){if(r.end.column=r.start.column+i.value.length,r.closing=l(i,"end-tag-open"),!(i=n[++o]))return null;for(r.tagName=i.value,r.end.column+=i.value.length,o++;o<n.length;o++)if(i=n[o],r.end.column+=i.value.length,l(i,"tag-close")){r.selfClosing="/>"==i.value;break}return r}if(l(i,"tag-close"))return r.selfClosing="/>"==i.value,r;r.start.column+=i.value.length}return null},this._findEndTagInLine=function(e,t,n,r){for(var o=e.getTokens(t),i=0,a=0;a<o.length;a++){var s=o[a];if(!((i+=s.value.length)<r)&&l(s,"end-tag-open")&&(s=o[a+1])&&s.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(l(t,"tag-open"))n.closing=l(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(l(t,"tag-name"))n.tagName=t.value;else if(l(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(l(t,"tag-open"))return n.closing=l(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;l(t,"tag-name")?n.tagName=t.value:l(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(!t||n.tagName==t.tagName)return e.pop();if(!this.optionalEndTags.hasOwnProperty(n.tagName))return null;e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var i,s=[];if(r.closing||r.selfClosing){c=new a(e,n,r.end.column);for(var l={row:n,column:r.start.column};i=this._readTagBackward(c);)if(i.selfClosing){if(!s.length)return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}else if(i.closing)s.push(i);else if(this._pop(s,i),0==s.length)return i.start.column+=i.tagName.length+2,i.start.row==i.end.row&&i.start.column<i.end.column&&(i.start.column=i.end.column),o.fromPoints(i.start,l)}else{var c=new a(e,n,r.start.column),u={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(u.column=r.end.column);i=this._readTagForward(c);)if(i.selfClosing){if(!s.length)return i.start.column+=i.tagName.length+2,i.end.column-=2,o.fromPoints(i.start,i.end)}else if(i.closing){if(this._pop(s,i),0==s.length)return o.fromPoints(u,i.start)}else s.push(i)}}}).call(s.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("./mixed").FoldMode,i=e("./xml").FoldMode,a=e("./cstyle").FoldMode,s=t.FoldMode=function(e,t){o.call(this,new i(e,t),{"js-":new a,"css-":new a})};r.inherits(s,o)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function f(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new r(e,t.row,t.column),o=n.getCurrentToken();o&&!f(o,"tag-name");)o=n.stepBackward();if(o)return o.value}function c(e,t){for(var n=new r(e,t.row,t.column),o=n.getCurrentToken();o&&!f(o,"attribute-name");)o=n.stepBackward();if(o)return o.value}var r=e("../token_iterator").TokenIterator,o=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),i={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},a=Object.keys(i),s=function(){};(function(){this.getCompletions=function(e,t,n,r){var o=t.getTokenAt(n.row,n.column);if(!o)return[];if(f(o,"tag-name")||f(o,"tag-open")||f(o,"end-tag-open"))return this.getTagCompletions(e,t,n,r);if(f(o,"tag-whitespace")||f(o,"attribute-name"))return this.getAttributeCompletions(e,t,n,r);if(f(o,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,r);var i=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(i)?this.getHTMLEntityCompletions(e,t,n,r):[]},this.getTagCompletions=function(e,t,n,r){return a.map(function(e){return{value:e,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(e,t,n,r){var a=l(t,n);if(!a)return[];var s=o;return a in i&&(s=s.concat(Object.keys(i[a]))),s.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(e,t,n,r){var o=l(t,n),a=c(t,n);if(!o)return[];var s=[];return o in i&&a in i[o]&&"object"==typeof i[o][a]&&(s=Object.keys(i[o][a])),s.map(function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(e,t,n,r){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map(function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}})}}).call(s.prototype),t.HtmlCompletions=s}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),i=e("./text").Mode,a=e("./javascript").Mode,s=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,d=e("./html_completions").HtmlCompletions,f=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],h=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new d,this.createModeDelegates({"js-":a,"css-":s}),this.foldingRules=new u(this.voidElements,o.arrayToMap(h))};r.inherits(g,i),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=o.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==g){var t=new f(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(g.prototype),t.Mode=g}),ace.require(["ace/mode/html"],function(t){e&&(e.exports=t)})}).call(this,n(120)(e))},function(e,t,n){},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=_interopRequireDefault(n(447)),o=_interopRequireDefault(n(481)),i=n(672),a=n(676),s=_interopRequireDefault(n(677)),l=_interopRequireDefault(n(482)),c=_interopRequireDefault(n(471)),u=r.default.create;function create(){var e=u();return e.compile=function(t,n){return a.compile(t,n,e)},e.precompile=function(t,n){return a.precompile(t,n,e)},e.AST=o.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=s.default,e.Parser=i.parser,e.parse=i.parse,e}var d=create();d.create=create,c.default(d),d.Visitor=l.default,d.default=d,t.default=d,e.exports=t.default},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.parse=function parse(e,t){if("Program"===e.type)return e;return r.default.yy=s,s.locInfo=function(e){return new s.SourceLocation(t&&t.srcName,e)},new o.default(t).accept(r.default.parse(e))};var r=_interopRequireDefault(n(673)),o=_interopRequireDefault(n(674)),i=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(675)),a=n(79);t.parser=r.default;var s={};a.extend(s,i)},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){var e=function o(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[2,46],n=[1,20],r=[5,14,15,19,29,34,39,44,47,48,51,55,60],o=[1,35],i=[1,28],a=[1,29],s=[1,30],l=[1,31],c=[1,32],u=[1,34],d=[14,15,19,29,34,39,44,47,48,51,55,60],f=[14,15,19,29,34,44,47,48,51,55,60],p=[1,44],h=[14,15,19,29,34,47,48,51,55,60],g=[33,65,72,80,81,82,83,84,85],m=[23,33,54,65,68,72,75,80,81,82,83,84,85],A=[1,51],v=[23,33,54,65,68,72,75,80,81,82,83,84,85,87],y=[2,45],b=[54,65,72,80,81,82,83,84,85],w=[1,58],_=[1,59],E=[15,18],C=[1,67],S=[33,65,72,75,80,81,82,83,84,85],T=[23,65,72,80,81,82,83,84,85],x=[1,79],O=[65,68,72,80,81,82,83,84,85],k=[33,75],B=[23,33,54,68,72,75],P=[1,109],I=[1,121],R=[72,77],L={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(e,t,n,r,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:this.$=r.prepareProgram(i[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=i[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[s]),strip:r.stripFlags(i[s],i[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[s],value:i[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[s-2],i[s-1],i[s],this._$);break;case 12:this.$={path:i[s-3],params:i[s-2],hash:i[s-1]};break;case 13:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!1,this._$);break;case 14:this.$=r.prepareBlock(i[s-3],i[s-2],i[s-1],i[s],!0,this._$);break;case 15:this.$={open:i[s-5],path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 16:case 17:this.$={path:i[s-4],params:i[s-3],hash:i[s-2],blockParams:i[s-1],strip:r.stripFlags(i[s-5],i[s])};break;case 18:this.$={strip:r.stripFlags(i[s-1],i[s-1]),program:i[s]};break;case 19:var l=r.prepareBlock(i[s-2],i[s-1],i[s],i[s],!1,this._$),c=r.prepareProgram([l],i[s-1].loc);c.chained=!0,this.$={strip:i[s-2].strip,program:c,chain:!0};break;case 21:this.$={path:i[s-1],strip:r.stripFlags(i[s-2],i[s])};break;case 22:case 23:this.$=r.prepareMustache(i[s-3],i[s-2],i[s-1],i[s-4],r.stripFlags(i[s-4],i[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[s-3],params:i[s-2],hash:i[s-1],indent:"",strip:r.stripFlags(i[s-4],i[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[s-2],i[s-1],i[s],this._$);break;case 26:this.$={path:i[s-3],params:i[s-2],hash:i[s-1],strip:r.stripFlags(i[s-4],i[s])};break;case 29:this.$={type:"SubExpression",path:i[s-3],params:i[s-2],hash:i[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[s-2]),value:i[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[s-1]);break;case 35:this.$={type:"StringLiteral",value:i[s],original:i[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[s]),original:Number(i[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[s],original:"true"===i[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 42:this.$=r.preparePath(!0,i[s],this._$);break;case 43:this.$=r.preparePath(!1,i[s],this._$);break;case 44:i[s-2].push({part:r.id(i[s]),original:i[s],separator:i[s-1]}),this.$=i[s-2];break;case 45:this.$=[{part:r.id(i[s]),original:i[s]}];break;case 46:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:i[s-1].push(i[s]);break;case 48:case 98:case 100:this.$=[i[s]]}},table:[e([5,14,15,19,29,34,48,51,55,60],t,{3:1,4:2,6:3}),{1:[3]},{5:[1,4]},e([5,39,44,47],[2,2],{7:5,8:6,9:7,10:8,11:9,12:10,13:11,24:15,27:16,16:17,59:19,14:[1,12],15:n,19:[1,23],29:[1,21],34:[1,22],48:[1,13],51:[1,14],55:[1,18],60:[1,24]}),{1:[2,1]},e(r,[2,47]),e(r,[2,3]),e(r,[2,4]),e(r,[2,5]),e(r,[2,6]),e(r,[2,7]),e(r,[2,8]),e(r,[2,9]),{20:25,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{20:36,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(d,t,{6:3,4:37}),e(f,t,{6:3,4:38}),{13:40,15:n,17:39},{20:42,56:41,64:43,65:p,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(h,t,{6:3,4:45}),e([5,14,15,18,19,29,34,39,44,47,48,51,55,60],[2,10]),{20:46,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{20:47,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{20:48,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{20:42,56:49,64:43,65:p,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(g,[2,78],{49:50}),e(m,[2,33]),e(m,[2,34]),e(m,[2,35]),e(m,[2,36]),e(m,[2,37]),e(m,[2,38]),e(m,[2,39]),e(m,[2,43],{87:A}),{72:o,86:52},e(v,y),e(b,[2,82],{52:53}),{25:54,38:56,39:w,43:57,44:_,45:55,47:[2,54]},{28:60,43:61,44:_,47:[2,56]},{13:63,15:n,18:[1,62]},e(E,[2,48]),e(g,[2,86],{57:64}),e(g,[2,40]),e(g,[2,41]),{20:65,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{26:66,47:C},e(S,[2,58],{30:68}),e(S,[2,64],{35:69}),e(T,[2,50],{21:70}),e(g,[2,90],{61:71}),{20:75,33:[2,80],50:72,63:73,64:76,65:p,69:74,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{72:[1,80]},e(m,[2,42],{87:A}),{20:75,53:81,54:[2,84],63:82,64:76,65:p,69:83,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{26:84,47:C},{47:[2,55]},e(d,t,{6:3,4:85}),{47:[2,20]},{20:86,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(h,t,{6:3,4:87}),{26:88,47:C},{47:[2,57]},e(r,[2,11]),e(E,[2,49]),{20:75,33:[2,88],58:89,63:90,64:76,65:p,69:91,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(O,[2,94],{66:92}),e(r,[2,25]),{20:93,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(k,[2,60],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,31:94,63:95,69:96,65:p,72:x,80:i,81:a,82:s,83:l,84:c,85:u}),e(k,[2,66],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,36:97,63:98,69:99,65:p,72:x,80:i,81:a,82:s,83:l,84:c,85:u}),{20:75,22:100,23:[2,52],63:101,64:76,65:p,69:102,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:p,69:105,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{33:[1,106]},e(g,[2,79]),{33:[2,81]},e(m,[2,27]),e(m,[2,28]),e([23,33,54,68,75],[2,30],{71:107,72:[1,108]}),e(B,[2,98]),e(v,y,{73:P}),e(v,[2,44]),{54:[1,110]},e(b,[2,83]),{54:[2,85]},e(r,[2,13]),{38:56,39:w,43:57,44:_,45:112,46:111,47:[2,76]},e(S,[2,70],{40:113}),{47:[2,18]},e(r,[2,14]),{33:[1,114]},e(g,[2,87]),{33:[2,89]},{20:75,63:116,64:76,65:p,67:115,68:[2,96],69:117,70:77,71:78,72:x,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:I},e(S,[2,59]),e(k,[2,61]),{33:[2,68],37:122,74:123,75:I},e(S,[2,65]),e(k,[2,67]),{23:[1,124]},e(T,[2,51]),{23:[2,53]},{33:[1,125]},e(g,[2,91]),{33:[2,93]},e(r,[2,22]),e(B,[2,99]),{73:P},{20:75,63:126,64:76,65:p,72:o,78:26,79:27,80:i,81:a,82:s,83:l,84:c,85:u,86:33},e(r,[2,23]),{47:[2,19]},{47:[2,77]},e(k,[2,72],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,41:127,63:128,69:129,65:p,72:x,80:i,81:a,82:s,83:l,84:c,85:u}),e(r,[2,24]),{68:[1,130]},e(O,[2,95]),{68:[2,97]},e(r,[2,21]),{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},e(h,[2,26]),e(B,[2,31]),{33:[2,74],42:135,74:136,75:I},e(S,[2,71]),e(k,[2,73]),e(m,[2,29]),e(d,[2,15]),{72:[1,138],77:[1,137]},e(R,[2,100]),e(f,[2,16]),{33:[1,139]},{33:[2,75]},{33:[2,32]},e(R,[2,101]),e(d,[2,17])],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function parseError(e,t){if(!t.recoverable){var n=function _parseError(e,t){this.message=e,this.hash=t};throw n.prototype=new Error,new n(e,t)}this.trace(e)},parse:function parse(e){var t=this,n=[0],r=[null],o=[],i=this.table,a="",s=0,l=0,c=0,u=o.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(f.yy[p]=this.yy[p]);d.setInput(e,f.yy),f.yy.lexer=d,f.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var h=d.yylloc;o.push(h);var g=d.options&&d.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,A,v,y,b,w,_,E,C,S=function lex(){var e;return"number"!=typeof(e=d.lex()||1)&&(e=t.symbols_[e]||e),e},T={};;){if(v=n[n.length-1],this.defaultActions[v]?y=this.defaultActions[v]:(null!==m&&void 0!==m||(m=S()),y=i[v]&&i[v][m]),void 0===y||!y.length||!y[0]){var x="";for(w in C=[],i[v])this.terminals_[w]&&w>2&&C.push("'"+this.terminals_[w]+"'");x=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(x,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:h,expected:C})}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(y[0]){case 1:n.push(m),r.push(d.yytext),o.push(d.yylloc),n.push(y[1]),m=null,A?(m=A,A=null):(l=d.yyleng,a=d.yytext,s=d.yylineno,h=d.yylloc,c>0&&c--);break;case 2:if(_=this.productions_[y[1]][1],T.$=r[r.length-_],T._$={first_line:o[o.length-(_||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(_||1)].first_column,last_column:o[o.length-1].last_column},g&&(T._$.range=[o[o.length-(_||1)].range[0],o[o.length-1].range[1]]),void 0!==(b=this.performAction.apply(T,[a,l,s,f.yy,y[1],r,o].concat(u))))return b;_&&(n=n.slice(0,-1*_*2),r=r.slice(0,-1*_),o=o.slice(0,-1*_)),n.push(this.productions_[y[1]][0]),r.push(T.$),o.push(T._$),E=i[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},M={EOF:1,parseError:function parseError(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function setInput(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function input(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function unput(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function more(){return this._more=!0,this},reject:function reject(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function less(e){this.unput(this.match.slice(e))},pastInput:function pastInput(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function test_match(e,t){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function next(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((n=this._input.match(this.rules[o[i]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var e=this.next();return e||this.lex()},begin:function begin(e){this.conditionStack.push(e)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function pushState(e){this.begin(e)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{},performAction:function anonymous(e,t,n,r){function strip(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(strip(5,9),18);case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};function Parser(){this.yy={}}return L.lexer=M,Parser.prototype=L,L.Parser=Parser,new Parser}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(482));function WhitespaceControl(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function isPrevWhitespace(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],o=e[t-2];return r?"ContentStatement"===r.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function isNextWhitespace(e,t,n){void 0===t&&(t=-1);var r=e[t+1],o=e[t+2];return r?"ContentStatement"===r.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function omitRight(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var o=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==o}}function omitLeft(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var o=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==o,r.leftStripped}}WhitespaceControl.prototype=new r.default,WhitespaceControl.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,o=0,i=r.length;o<i;o++){var a=r[o],s=this.accept(a);if(s){var l=isPrevWhitespace(r,o,n),c=isNextWhitespace(r,o,n),u=s.openStandalone&&l,d=s.closeStandalone&&c,f=s.inlineStandalone&&l&&c;s.close&&omitRight(r,o,!0),s.open&&omitLeft(r,o,!0),t&&f&&(omitRight(r,o),omitLeft(r,o)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(r[o-1].original)[1])),t&&u&&(omitRight((a.program||a.inverse).body),omitLeft(r,o)),t&&d&&(omitRight(r,o),omitLeft((a.inverse||a.program).body))}}return e},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,o=n;if(n&&n.chained)for(r=n.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var i={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:isNextWhitespace(t.body),closeStandalone:isPrevWhitespace((r||t).body)};if(e.openStrip.close&&omitRight(t.body,null,!0),n){var a=e.inverseStrip;a.open&&omitLeft(t.body,null,!0),a.close&&omitRight(r.body,null,!0),e.closeStrip.open&&omitLeft(o.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(t.body)&&isNextWhitespace(r.body)&&(omitLeft(t.body),omitRight(r.body))}else e.closeStrip.open&&omitLeft(t.body,null,!0);return i},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(e){return e.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=WhitespaceControl,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.SourceLocation=function SourceLocation(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function id(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function stripFlags(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function stripComment(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function preparePath(e,t,n){n=this.locInfo(n);for(var o=e?"@":"",i=[],a=0,s=0,l=t.length;s<l;s++){var c=t[s].part,u=t[s].original!==c;if(o+=(t[s].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)i.push(c);else{if(i.length>0)throw new r.default("Invalid path: "+o,{loc:n});".."===c&&a++}}return{type:"PathExpression",data:e,depth:a,parts:i,original:o,loc:n}},t.prepareMustache=function prepareMustache(e,t,n,r,o,i){var a=r.charAt(3)||r.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:o,loc:this.locInfo(i)}},t.prepareRawBlock=function prepareRawBlock(e,t,n,r){validateClose(e,n),r=this.locInfo(r);var o={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},t.prepareBlock=function prepareBlock(e,t,n,o,i,a){o&&o.path&&validateClose(e,o);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),c=n.strip,l=n.program}i&&(i=l,l=t,t=i);return{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(a)}},t.prepareProgram=function prepareProgram(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function preparePartialBlock(e,t,n,r){return validateClose(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(116));function validateClose(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new r.default(e.path.original+" doesn't match "+t,n)}}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Compiler=Compiler,t.precompile=function precompile(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var o=n.parse(e,t),i=(new n.Compiler).compile(o,t);return(new n.JavaScriptCompiler).compile(i,t)},t.compile=function compile(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=o.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var i=void 0;function compileInput(){var r=n.parse(e,t),o=(new n.Compiler).compile(r,t),i=(new n.JavaScriptCompiler).compile(o,t,void 0,!0);return n.template(i)}function ret(e,t){return i||(i=compileInput()),i.call(this,e,t)}return ret._setup=function(e){return i||(i=compileInput()),i._setup(e)},ret._child=function(e,t,n,r){return i||(i=compileInput()),i._child(e,t,n,r)},ret};var r=_interopRequireDefault(n(116)),o=n(79),i=_interopRequireDefault(n(481)),a=[].slice;function Compiler(){}function argEquals(e,t){if(e===t)return!0;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!argEquals(e[n],t[n]))return!1;return!0}}function transformLiteralToPath(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}Compiler.prototype={compiler:Compiler,equals:function equals(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],o=e.opcodes[n];if(r.opcode!==o.opcode||!argEquals(r.args,o.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function compile(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},compileProgram:function compileProgram(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function accept(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function Program(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function BlockStatement(e){transformLiteralToPath(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function DecoratorBlock(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function PartialStatement(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var o=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",i,o,a),this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(e){this.PartialStatement(e)},MustacheStatement:function MustacheStatement(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function Decorator(e){this.DecoratorBlock(e)},ContentStatement:function ContentStatement(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(e){transformLiteralToPath(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function ambiguousSexpr(e,t,n){var r=e.path,o=r.parts[0],i=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",o,i)},simpleSexpr:function simpleSexpr(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(e,t,n){var o=this.setupFullMustacheParams(e,t,n),a=e.path,s=a.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",o.length,s);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+s,e);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",o.length,a.original,i.default.helpers.simpleId(a))}},PathExpression:function PathExpression(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=i.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function StringLiteral(e){this.opcode("pushString",e.value)},NumberLiteral:function NumberLiteral(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function BooleanLiteral(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function opcode(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(e){e&&(this.useDepths=!0)},classifySexpr:function classifySexpr(e){var t=i.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&i.default.helpers.helperExpression(e),o=!n&&(r||t);if(o&&!r){var a=e.path.parts[0],s=this.options;s.knownHelpers[a]?r=!0:s.knownHelpersOnly&&(o=!1)}return r?"helper":o?"ambiguous":"simple"},pushParams:function pushParams(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function pushParam(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||i.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function setupFullMustacheParams(e,t,n,r){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),o},blockParamIndex:function blockParamIndex(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],i=r&&o.indexOf(r,e);if(r&&i>=0)return[t,i]}}}},function(e,t,n){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(448),o=_interopRequireDefault(n(116)),i=n(79),a=_interopRequireDefault(n(678));function Literal(e){this.value=e}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(e,t){return"constructor"===t?["(",e,".propertyIsEnumerable('constructor') ? ",e,".constructor : undefined",")"]:JavaScriptCompiler.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function depthedLookup(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function compilerInfo(){var e=r.COMPILER_REVISION;return[e,r.REVISION_CHANGES[e]]},appendToBuffer:function appendToBuffer(e,t,n){return i.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function initializeBuffer(){return this.quotedString("")},compile:function compile(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,a=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=i.length;l<c;l++)a=i[l],this.source.currentLocation=a.loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(r);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var f=this.context,p=f.programs,h=f.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(d[l]=p[l],h[l]&&(d[l+"_d"]=h[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),r?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function preamble(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function createFunctionContext(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var r=0;for(var o in this.aliases){var i=this.aliases[o];this.aliases.hasOwnProperty(o)&&i.children&&i.referenceCount>1&&(t+=", alias"+ ++r+"="+o,i.children[0]="alias"+r)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function mergeSource(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,o=void 0,i=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(i?e.prepend("  + "):i=e,a=e):(i&&(o?i.prepend("buffer += "):r=!0,a.add(";"),i=a=void 0),o=!0,t||(n=!1))}),n?i?(i.prepend("return "),a.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function blockValue(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function ambiguousBlockValue(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function appendContent(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function append(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(e){this.lastContext=e},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(e,t,n,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[o++])),this.resolvePath("context",e,o,t,n)},lookupBlockParam:function lookupBlockParam(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function lookupData(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function resolvePath(e,t,n,r,o){var i=this;if(this.options.strict||this.options.assumeObjects)this.push(function strictLookup(e,t,n,r){var o=t.popStack(),i=0,a=n.length;e&&a--;for(;i<a;i++)o=t.nameLookup(o,n[i],r);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(n[i]),")"]:o}(this.options.strict&&o,this,t,e));else for(var a=t.length;n<a;n++)this.replaceStack(function(o){var a=i.nameLookup(o,t[n],e);return r?[" && ",a]:[" != null ? ",a," : ",o]})},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function emptyHash(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function pushHash(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function popHash(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function pushString(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function pushLiteral(e){this.pushStackLiteral(e)},pushProgram:function pushProgram(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function registerDecorator(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function invokeHelper(e,t,n){var r=this.popStack(),o=this.setupHelper(e,t),i=n?[o.name," || "]:"",a=["("].concat(i,r);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",o.callParams))},invokeKnownHelper:function invokeKnownHelper(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function invokeAmbiguous(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function invokePartial(e,t,n){var r=[],o=this.setupParams(t,1,r);e&&(t=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),r.push(o),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function assignToHash(e){var t=this.popStack(),n=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&(i.contexts[e]=n),r&&(i.types[e]=r),o&&(i.ids[e]=o),i.values[e]=t},pushId:function pushId(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function compileChildren(e,t){for(var n=e.children,r=void 0,o=void 0,i=0,a=n.length;i<a;i++){r=n[i],o=new this.compiler;var s=this.matchExistingProgram(r);if(null==s){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=o.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=s.index,r.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function matchExistingProgram(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function programExpression(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function useRegister(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function push(e){return e instanceof Literal||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function pushStackLiteral(e){this.push(new Literal(e))},pushSource:function pushSource(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function replaceStack(e){var t=["("],n=void 0,r=void 0,i=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof Literal)t=["(",n=[a.value]],i=!0;else{r=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);i||this.popStack(),r&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function incrStack(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof Literal)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof Literal)return n.value;if(!t){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return n},topStack:function topStack(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof Literal?t.value:t},contextName:function contextName(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function quotedString(e){return this.source.quotedString(e)},objectLiteral:function objectLiteral(e){return this.source.objectLiteral(e)},aliasable:function aliasable(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function setupHelper(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function setupParams(e,t,n){var r={},o=[],i=[],a=[],s=!n,l=void 0;s&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(i[d]=this.popStack(),o[d]=this.popStack());return s&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(i),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function setupHelperArgs(e,t,n,r){var o=this.setupParams(e,t,n);return o=this.objectLiteral(o),r?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=JavaScriptCompiler.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(e){return!JavaScriptCompiler.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=JavaScriptCompiler,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(79),o=void 0;try{}catch(e){}function castChunk(e,t,n){if(r.isArray(e)){for(var o=[],i=0,a=e.length;i<a;i++)o.push(t.wrap(e[i],n));return o}return"boolean"==typeof e||"number"==typeof e?e+"":e}function CodeGen(e){this.srcFile=e,this.source=[]}o||((o=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function add(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function prepend(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}),CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(e,t){this.source.unshift(this.wrap(e,t))},push:function push(e,t){this.source.push(this.wrap(e,t))},merge:function merge(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function each(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function empty(){var e=this.currentLocation||{start:{}};return new o(e.start.line,e.start.column,this.srcFile)},wrap:function wrap(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof o?e:(e=castChunk(e,this,t),new o(t.start.line,t.start.column,this.srcFile,e))},functionCall:function functionCall(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function quotedString(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=castChunk(e[n],this);"undefined"!==r&&t.push([this.quotedString(n),":",r])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function generateList(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(castChunk(e[n],this));return t},generateArray:function generateArray(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=CodeGen,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=(_interopRequireDefault(n(484)),n(680)),i=_interopRequireDefault(n(702)),a=_interopRequireDefault(n(491)),s=_interopRequireDefault(n(236)),l=n(156),c=n(705),u=n(493),d=n(121),f=_interopRequireDefault(d);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function renderElement(e,t,n){var p=e.ownerDocument,h=new l.Bounds(t.scrollX,t.scrollY,t.windowWidth,t.windowHeight),g=p.documentElement?new f.default(getComputedStyle(p.documentElement).backgroundColor):d.TRANSPARENT,m=p.body?new f.default(getComputedStyle(p.body).backgroundColor):d.TRANSPARENT,A=e===p.documentElement?g.isTransparent()?m.isTransparent()?t.backgroundColor?new f.default(t.backgroundColor):null:m:g:t.backgroundColor?new f.default(t.backgroundColor):null;return(t.foreignObjectRendering?s.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(s){return s?(f=new c.DocumentCloner(e,t,n,!0,renderElement)).inlineFonts(p).then(function(){return f.resourceLoader.ready()}).then(function(){var r=new a.default(f.documentElement),o=p.defaultView,i=o.pageXOffset,s=o.pageYOffset,c="HTML"===e.tagName||"BODY"===e.tagName?(0,l.parseDocumentSize)(p):(0,l.parseBounds)(e,i,s),u=c.width,d=c.height,h=c.left,g=c.top;return r.render({backgroundColor:A,logger:n,scale:t.scale,x:"number"==typeof t.x?t.x:h,y:"number"==typeof t.y?t.y:g,width:"number"==typeof t.width?t.width:Math.ceil(u),height:"number"==typeof t.height?t.height:Math.ceil(d),windowWidth:t.windowWidth,windowHeight:t.windowHeight,scrollX:t.scrollX,scrollY:t.scrollY})}):(0,c.cloneWindow)(p,h,e,t,n,renderElement).then(function(e){var a=r(e,3),s=a[0],c=a[1],f=a[2];var h=(0,o.NodeParser)(c,f,n),g=c.ownerDocument;return A===h.container.style.background.backgroundColor&&(h.container.style.background.backgroundColor=d.TRANSPARENT),f.ready().then(function(e){var r=new u.FontMetrics(g);var o=g.defaultView,a=o.pageXOffset,d=o.pageYOffset,f="HTML"===c.tagName||"BODY"===c.tagName?(0,l.parseDocumentSize)(p):(0,l.parseBounds)(c,a,d),m=f.width,v=f.height,y=f.left,b=f.top,w={backgroundColor:A,fontMetrics:r,imageStore:e,logger:n,scale:t.scale,x:"number"==typeof t.x?t.x:y,y:"number"==typeof t.y?t.y:b,width:"number"==typeof t.width?t.width:Math.ceil(m),height:"number"==typeof t.height?t.height:Math.ceil(v)};if(Array.isArray(t.target))return Promise.all(t.target.map(function(e){return new i.default(e,w).render(h)}));var _=new i.default(t.target,w).render(h);return!0===t.removeContainer&&s.parentNode&&s.parentNode.removeChild(s),_})});var f})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var r=_interopRequireDefault(n(681)),o=_interopRequireDefault(n(165)),i=_interopRequireDefault(n(235)),a=n(489),s=n(456),l=n(234);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function NodeParser(e,t,n){var i=0,a=new o.default(e,null,t,i++),s=new r.default(a,null,!0);return u(e,a,s,t,i),s};var c=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],u=function parseNodeTree(e,t,n,u,p){for(var h,g=e.firstChild;g;g=h){h=g.nextSibling;var m=g.ownerDocument.defaultView;if(g instanceof m.Text||g instanceof Text||m.parent&&g instanceof m.parent.Text)g.data.trim().length>0&&t.childNodes.push(i.default.fromTextNode(g,t));else if(g instanceof m.HTMLElement||g instanceof HTMLElement||m.parent&&g instanceof m.parent.HTMLElement){if(-1===c.indexOf(g.nodeName)){var A=new o.default(g,t,u,p++);if(A.isVisible()){"INPUT"===g.tagName?(0,a.inlineInputElement)(g,A):"TEXTAREA"===g.tagName?(0,a.inlineTextAreaElement)(g,A):"SELECT"===g.tagName?(0,a.inlineSelectElement)(g,A):A.style.listStyle&&A.style.listStyle.listStyleType!==l.LIST_STYLE_TYPE.NONE&&(0,s.inlineListItemElement)(g,A,u);var v="TEXTAREA"!==g.tagName,y=d(A,g);if(y||f(A)){var b=y||A.isPositioned()?n.getRealParentStackingContext():n,w=new r.default(A,b,y);b.contexts.push(w),v&&parseNodeTree(g,A,w,u,p)}else n.children.push(A),v&&parseNodeTree(g,A,n,u,p)}}}else if(g instanceof m.SVGSVGElement||g instanceof SVGSVGElement||m.parent&&g instanceof m.parent.SVGSVGElement){var _=new o.default(g,t,u,p++),E=d(_,g);if(E||f(_)){var C=E||_.isPositioned()?n.getRealParentStackingContext():n,S=new r.default(_,C,E);C.contexts.push(S)}else n.children.push(_)}}},d=function createsRealStackingContext(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||p(e,t)},f=function createsStackingContext(e){return e.isPositioned()||e.isFloating()},p=function isBodyWithTransparentRoot(e,t){return"BODY"===t.nodeName&&e.parent instanceof o.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}})(n(165)),n(487);var o=function(){function StackingContext(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StackingContext),this.container=e,this.parent=t,this.contexts=[],this.children=[],this.treatAsRealStackingContext=n}return r(StackingContext,[{key:"getOpacity",value:function getOpacity(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function getRealParentStackingContext(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),StackingContext}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Size(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Size),this.width=e,this.height=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(232),i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(233));var a=function lerp(e,t,n){return new i.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},s=function(){function BezierCurve(e,t,n,r){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BezierCurve),this.type=o.PATH.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return r(BezierCurve,[{key:"subdivide",value:function subdivide(e,t){var n=a(this.start,this.startControl,e),r=a(this.startControl,this.endControl,e),o=a(this.endControl,this.end,e),i=a(n,r,e),s=a(r,o,e),l=a(i,s,e);return t?new BezierCurve(this.start,n,i,l):new BezierCurve(l,s,o,this.end)}},{key:"reverse",value:function reverse(){return new BezierCurve(this.end,this.endControl,this.startControl,this.start)}}]),BezierCurve}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(155));var i=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function parseBorderRadius(e){return i.map(function(t){var n=e.getPropertyValue("border-"+t+"-radius").split(" ").map(o.default.create),i=r(n,2),a=i[0],s=i[1];return void 0===s?[a,a]:[a,s]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},o=function setDisplayBit(e,t){return e|function parseDisplayValue(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE}(t)};t.parseDisplay=function parseDisplay(e){return e.split(" ").reduce(o,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function parseCSSFloat(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseFont=function parseFont(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function parseFontWeight(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseLetterSpacing=function parseLetterSpacing(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function parseLineBreak(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(155));var o=["top","right","bottom","left"];t.parseMargin=function parseMargin(e){return o.map(function(t){return new r.default(e.getPropertyValue("margin-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function parseOverflow(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(121));var o=/^([+-]|\d|\.)$/i;t.parseTextShadow=function parseTextShadow(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,i=[],a=[],s=0,l=null,c=function appendValue(){t.length&&(n?i.push(parseFloat(t)):l=new r.default(t)),n=!1,t=""},u=function appendShadow(){i.length&&null!==l&&a.push({color:l,offsetX:i[0]||0,offsetY:i[1]||0,blur:i[2]||0}),i.splice(0,i.length),l=null},d=0;d<e.length;d++){var f=e[d];switch(f){case"(":t+=f,s++;break;case")":t+=f,s--;break;case",":0===s?(c(),u()):t+=f;break;case" ":0===s?c():t+=f;break;default:0===t.length&&o.test(f)&&(n=!0),t+=f}}return c(),u(),0===a.length?null:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(155));var o=function toFloat(e){return parseFloat(e.trim())},i=/(matrix|matrix3d)\((.+)\)/,a=(t.parseTransform=function parseTransform(e){var t=s(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:a(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function parseTransformOrigin(e){if("string"!=typeof e){var t=new r.default("0");return[t,t]}var n=e.split(" ").map(r.default.create);return[n[0],n[1]]}),s=function parseTransformMatrix(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(i);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(o);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(o);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function parseVisibility(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function parseWordBreak(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseZIndex=function parseZIndex(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(455);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function get(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function get(){return r.fromCodePoint}});var o=n(698);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function get(){return o.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(699),a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(700)),s=n(455);var l=t.LETTER_NUMBER_MODIFIER=50,c=10,u=13,d=15,f=17,p=18,h=19,g=20,m=21,A=22,v=24,y=25,b=26,w=27,_=28,E=30,C=32,S=33,T=34,x=35,O=37,k=38,B=39,P=40,I=42,R=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:c,ZWJ:11,B2:12,BA:u,BB:14,HY:d,CB:16,CL:f,CP:p,EX:h,IN:g,NS:m,OP:A,QU:23,IS:v,NU:y,PO:b,PR:w,SY:_,AI:29,AL:E,CJ:31,EB:C,EM:S,H2:T,H3:x,HL:36,ID:O,JL:k,JV:B,JT:P,RI:41,SA:I,XX:43},t.BREAK_MANDATORY="!"),L=t.BREAK_NOT_ALLOWED="×",M=t.BREAK_ALLOWED="÷",D=t.UnicodeTrie=(0,i.createTrieFromBase64)(a.default),N=[E,36],F=[1,2,3,5],U=[c,8],H=[w,b],j=F.concat(U),Q=[k,B,P,T,x],z=[d,u],$=t.codePointsToCharacterClasses=function codePointsToCharacterClasses(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],o=[];return e.forEach(function(e,i){var a=D.get(e);if(a>l?(o.push(!0),a-=l):o.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(16);if(4===a||11===a){if(0===i)return r.push(i),n.push(E);var s=n[i-1];return-1===j.indexOf(s)?(r.push(r[i-1]),n.push(s)):(r.push(i),n.push(E))}return r.push(i),31===a?n.push("strict"===t?m:O):a===I?n.push(E):29===a?n.push(E):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(O):n.push(E):void n.push(a)}),[r,n,o]},V=function isAdjacentWithSpaceIgnored(e,t,n,r){var o=r[n];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var i=n;i<=r.length;){var a=r[++i];if(a===t)return!0;if(a!==c)break}if(o===c)for(var s=n;s>0;){var l=r[--s];if(Array.isArray(e)?-1!==e.indexOf(l):e===l)for(var u=n;u<=r.length;){var d=r[++u];if(d===t)return!0;if(d!==c)break}if(l!==c)break}return!1},G=function previousNonSpaceClassType(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==c)return r;n--}return 0},W=function _lineBreakAtIndex(e,t,n,r,o){if(0===n[r])return L;var i=r-1;if(Array.isArray(o)&&!0===o[i])return L;var a=i-1,s=i+1,l=t[i],E=a>=0?t[a]:0,I=t[s];if(2===l&&3===I)return L;if(-1!==F.indexOf(l))return R;if(-1!==F.indexOf(I))return L;if(-1!==U.indexOf(I))return L;if(8===G(i,t))return M;if(11===D.get(e[i])&&(I===O||I===C||I===S))return L;if(7===l||7===I)return L;if(9===l)return L;if(-1===[c,u,d].indexOf(l)&&9===I)return L;if(-1!==[f,p,h,v,_].indexOf(I))return L;if(G(i,t)===A)return L;if(V(23,A,i,t))return L;if(V([f,p],m,i,t))return L;if(V(12,12,i,t))return L;if(l===c)return M;if(23===l||23===I)return L;if(16===I||16===l)return M;if(-1!==[u,d,m].indexOf(I)||14===l)return L;if(36===E&&-1!==z.indexOf(l))return L;if(l===_&&36===I)return L;if(I===g&&-1!==N.concat(g,h,y,O,C,S).indexOf(l))return L;if(-1!==N.indexOf(I)&&l===y||-1!==N.indexOf(l)&&I===y)return L;if(l===w&&-1!==[O,C,S].indexOf(I)||-1!==[O,C,S].indexOf(l)&&I===b)return L;if(-1!==N.indexOf(l)&&-1!==H.indexOf(I)||-1!==H.indexOf(l)&&-1!==N.indexOf(I))return L;if(-1!==[w,b].indexOf(l)&&(I===y||-1!==[A,d].indexOf(I)&&t[s+1]===y)||-1!==[A,d].indexOf(l)&&I===y||l===y&&-1!==[y,_,v].indexOf(I))return L;if(-1!==[y,_,v,f,p].indexOf(I))for(var j=i;j>=0;){var $=t[j];if($===y)return L;if(-1===[_,v].indexOf($))break;j--}if(-1!==[w,b].indexOf(I))for(var W=-1!==[f,p].indexOf(l)?a:i;W>=0;){var K=t[W];if(K===y)return L;if(-1===[_,v].indexOf(K))break;W--}if(k===l&&-1!==[k,B,T,x].indexOf(I)||-1!==[B,T].indexOf(l)&&-1!==[B,P].indexOf(I)||-1!==[P,x].indexOf(l)&&I===P)return L;if(-1!==Q.indexOf(l)&&-1!==[g,b].indexOf(I)||-1!==Q.indexOf(I)&&l===w)return L;if(-1!==N.indexOf(l)&&-1!==N.indexOf(I))return L;if(l===v&&-1!==N.indexOf(I))return L;if(-1!==N.concat(y).indexOf(l)&&I===A||-1!==N.concat(y).indexOf(I)&&l===p)return L;if(41===l&&41===I){for(var q=n[i],Y=1;q>0&&41===t[--q];)Y++;if(Y%2!=0)return L}return l===C&&I===S?L:M},K=(t.lineBreakAtIndex=function lineBreakAtIndex(e,t){if(0===t)return L;if(t>=e.length)return R;var n=$(e),r=o(n,2),i=r[0],a=r[1];return W(e,a,i,t)},function cssFormattedClasses(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=$(e,t.lineBreak),r=o(n,3),i=r[0],a=r[1],s=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(a=a.map(function(e){return-1!==[y,E,I].indexOf(e)?O:e})),[i,a,"keep-all"===t.wordBreak?s.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):null]}),q=(t.inlineBreakOpportunities=function inlineBreakOpportunities(e,t){var n=(0,s.toCodePoints)(e),r=L,i=K(n,t),a=o(i,3),l=a[0],c=a[1],u=a[2];return n.forEach(function(e,t){r+=(0,s.fromCodePoint)(e)+(t>=n.length-1?R:W(n,c,l,t+1,u))}),r},function(){function Break(e,t,n,r){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Break),this._codePoints=e,this.required=t===R,this.start=n,this.end=r}return r(Break,[{key:"slice",value:function slice(){return s.fromCodePoint.apply(void 0,function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),Break}());t.LineBreaker=function LineBreaker(e,t){var n=(0,s.toCodePoints)(e),r=K(n,t),i=o(r,3),a=i[0],l=i[1],c=i[2],u=n.length,d=0,f=0;return{next:function next(){if(f>=u)return{done:!0};for(var e=L;f<u&&(e=W(n,l,a,++f,c))===L;);if(e!==L||f===u){var t=new q(n,e,d,f);return d=f,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=n(455);var i=t.UTRIE2_SHIFT_2=5,a=t.UTRIE2_SHIFT_1=11,s=t.UTRIE2_INDEX_SHIFT=2,l=t.UTRIE2_SHIFT_1_2=a-i,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>i,u=t.UTRIE2_DATA_BLOCK_LENGTH=1<<i,d=t.UTRIE2_DATA_MASK=u-1,f=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>i,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+f,h=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,m=t.UTRIE2_INDEX_1_OFFSET=h+g,A=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>a,v=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<l,y=t.UTRIE2_INDEX_2_MASK=v-1,b=(t.createTrieFromBase64=function createTrieFromBase64(e){var t=(0,o.decode)(e),n=Array.isArray(t)?(0,o.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,o.polyUint16Array)(t):new Uint16Array(t),i=r.slice(12,n[4]/2),a=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new b(n[0],n[1],n[2],n[3],i,a)},t.Trie=function(){function Trie(e,t,n,r,o,i){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Trie),this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=i}return r(Trie,[{key:"get",value:function get(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>i])<<s)+(e&d),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>i)])<<s)+(e&d),this.data[t];if(e<this.highStart)return t=m-A+(e>>a),t=this.index[t],t+=e>>i&y,t=((t=this.index[t])<<s)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),Trie}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(232);t.default=function Circle(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Circle),this.type=r.PATH.CIRCLE,this.x=e,this.y=t,this.radius=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=n(156),a=(n(493),n(703)),s=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(235)),l=n(225),c=n(454);var u=function(){function Renderer(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Renderer),this.target=e,this.options=t,e.render(t)}return o(Renderer,[{key:"renderNode",value:function renderNode(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function renderNodeContent(e){var t=this,n=function callback(){if(e.childNodes.length&&e.childNodes.forEach(function(n){if(n instanceof s.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)}),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,i.calculateContentBox)(e.bounds,e.style.padding,e.style.border),o="number"==typeof n.width&&n.width>0?n.width:r.width,a="number"==typeof n.height&&n.height>0?n.height:r.height;o>0&&a>0&&t.target.clip([(0,i.calculatePaddingBoxPath)(e.curvedBounds)],function(){t.target.drawImage(n,new i.Bounds(0,0,o,a),r)})}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function renderNodeBackgroundAndBorders(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some(function(e){return e.borderStyle!==c.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()}),o=function callback(){var r=(0,l.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)}),e.style.border.forEach(function(n,r){n.borderStyle===c.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)})};if(n||r){var i=e.parent?e.parent.getClipPaths():[];i.length?this.target.clip(i,o):o()}}},{key:"renderBackgroundImage",value:function renderBackgroundImage(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach(function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)})}},{key:"renderBackgroundRepeat",value:function renderBackgroundRepeat(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),o=(0,l.calculateBackgroundSize)(t,n,r),i=(0,l.calculateBackgroundPosition)(t.position,o,r),a=(0,l.calculateBackgroundRepeatPath)(t,i,o,r,e.bounds),s=Math.round(r.left+i.x),c=Math.round(r.top+i.y);this.target.renderRepeat(a,n,o,s,c)}}},{key:"renderBackgroundGradient",value:function renderBackgroundGradient(e,t){var n=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,l.calculateGradientBackgroundSize)(t,n),o=(0,l.calculateBackgroundPosition)(t.position,r,n),s=new i.Bounds(Math.round(n.left+o.x),Math.round(n.top+o.y),r.width,r.height),c=(0,a.parseGradient)(e,t.source,s);if(c)switch(c.type){case a.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(s,c);break;case a.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(s,c)}}},{key:"renderBorder",value:function renderBorder(e,t,n){this.target.drawShape((0,i.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function renderStack(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,function(){return t.renderStackContent(e)}):this.renderStackContent(e)}}},{key:"renderStackContent",value:function renderStackContent(e){var t=f(e),n=r(t,5),o=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=d(e),u=r(c,2),h=u[0],g=u[1];this.renderNodeBackgroundAndBorders(e.container),o.sort(p).forEach(this.renderStack,this),this.renderNodeContent(e.container),g.forEach(this.renderNode,this),s.forEach(this.renderStack,this),l.forEach(this.renderStack,this),h.forEach(this.renderNode,this),i.forEach(this.renderStack,this),a.sort(p).forEach(this.renderStack,this)}},{key:"render",value:function render(e){return this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e),this.target.getTarget()}}]),Renderer}();t.default=u;var d=function splitDescendants(e){for(var t=[],n=[],r=e.children.length,o=0;o<r;o++){var i=e.children[o];i.isInlineLevel()?t.push(i):n.push(i)}return[t,n]},f=function splitStackingContexts(e){for(var t=[],n=[],r=[],o=[],i=[],a=e.contexts.length,s=0;s<a;s++){var l=e.contexts[s];l.container.isPositioned()||l.container.style.opacity<1||l.container.isTransformed()?l.container.style.zIndex.order<0?t.push(l):l.container.style.zIndex.order>0?r.push(l):n.push(l):l.container.isFloating()?o.push(l):i.push(l)}return[t,n,r,o,i]},p=function sortByZIndex(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=(_interopRequireDefault(n(165)),n(704)),i=_interopRequireDefault(n(121)),a=n(155),s=_interopRequireDefault(a),l=n(166);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,u=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,d=/(px)|%|( 0)$/i,f=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,p=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,h=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},g=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},m={left:new s.default("0%"),top:new s.default("0%"),center:new s.default("50%"),right:new s.default("100%"),bottom:new s.default("100%")},A=t.LinearGradient=function LinearGradient(e,t){_classCallCheck(this,LinearGradient),this.type=h.LINEAR_GRADIENT,this.colorStops=e,this.direction=t},v=t.RadialGradient=function RadialGradient(e,t,n,r){_classCallCheck(this,RadialGradient),this.type=h.RADIAL_GRADIENT,this.colorStops=e,this.shape=t,this.center=n,this.radius=r},y=(t.parseGradient=function parseGradient(e,t,n){var r=t.args,o=t.method,i=t.prefix;return"linear-gradient"===o?b(r,n,!!i):"gradient"===o&&"linear"===r[0]?b(["to bottom"].concat(k(r.slice(3))),n,!!i):"radial-gradient"===o?w(e,"-webkit-"===i?O(r):r,n):"gradient"===o&&"radial"===r[0]?w(e,k(O(r.slice(1))),n):void 0},function parseColorStops(e,t,n){for(var r=[],o=t;o<e.length;o++){var a=e[o],l=d.test(a),c=a.lastIndexOf(" "),u=new i.default(l?a.substring(0,c):a),f=l?new s.default(a.substring(c+1)):o===t?new s.default("0%"):o===e.length-1?new s.default("100%"):null;r.push({color:u,stop:f})}for(var p=r.map(function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}}),h=p[0].stop,g=0;g<p.length;g++)if(null!==h){var m=p[g].stop;if(null===m){for(var A=g;null===p[A].stop;)A++;for(var v=A-g+1,y=(p[A].stop-h)/v;g<A;g++)h=p[g].stop=h+y}else h=m}return p}),b=function parseLinearGradient(e,t,n){var r=(0,o.parseAngle)(e[0]),i=c.test(e[0]),a=i||null!==r||u.test(e[0]),s=a?null!==r?_(n?r-.5*Math.PI:r,t):i?C(e[0],t):S(e[0],t):_(Math.PI,t),d=a?1:0,f=Math.min((0,l.distance)(Math.abs(s.x0)+Math.abs(s.x1),Math.abs(s.y0)+Math.abs(s.y1)),2*t.width,2*t.height);return new A(y(e,d,f),s)},w=function parseRadialGradient(e,t,n){var r=t[0].match(p),o=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?g.CIRCLE:g.ELLIPSE,i={},s={};r&&(void 0!==r[3]&&(i.x=(0,a.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(i.y=(0,a.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?s.x=m[r[7].toLowerCase()]:void 0!==r[8]&&(s.x=(0,a.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?s.y=m[r[10].toLowerCase()]:void 0!==r[11]&&(s.y=(0,a.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var l={x:void 0===s.x?n.width/2:s.x.getAbsoluteValue(n.width),y:void 0===s.y?n.height/2:s.y.getAbsoluteValue(n.height)},c=x(r&&r[2]||"farthest-corner",o,l,i,n);return new v(y(t,r?1:0,Math.min(c.x,c.y)),o,l,c)},_=function calculateGradientDirection(e,t){var n=t.width,r=t.height,o=.5*n,i=.5*r,a=(Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)))/2,s=o+Math.sin(e)*a,l=i-Math.cos(e)*a;return{x0:s,x1:n-s,y0:l,y1:r-l}},E=function parseTopRight(e){return Math.acos(e.width/2/((0,l.distance)(e.width,e.height)/2))},C=function parseSideOrCorner(e,t){switch(e){case"bottom":case"to top":return _(0,t);case"left":case"to right":return _(Math.PI/2,t);case"right":case"to left":return _(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return _(Math.PI+E(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return _(Math.PI-E(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return _(E(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return _(2*Math.PI-E(t),t);case"top":case"to bottom":default:return _(Math.PI,t)}},S=function parsePercentageAngle(e,t){var n=e.split(" ").map(parseFloat),o=r(n,2),i=o[0],a=o[1],s=i/100*t.width/(a/100*t.height);return _(Math.atan(isNaN(s)?1:s)+Math.PI/2,t)},T=function findCorner(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce(function(e,o){var i=(0,l.distance)(t-o.x,n-o.y);return(r?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:o,optimumDistance:i}:e},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},x=function calculateRadius(e,t,n,r,o){var i=n.x,a=n.y,s=0,c=0;switch(e){case"closest-side":t===g.CIRCLE?s=c=Math.min(Math.abs(i),Math.abs(i-o.width),Math.abs(a),Math.abs(a-o.height)):t===g.ELLIPSE&&(s=Math.min(Math.abs(i),Math.abs(i-o.width)),c=Math.min(Math.abs(a),Math.abs(a-o.height)));break;case"closest-corner":if(t===g.CIRCLE)s=c=Math.min((0,l.distance)(i,a),(0,l.distance)(i,a-o.height),(0,l.distance)(i-o.width,a),(0,l.distance)(i-o.width,a-o.height));else if(t===g.ELLIPSE){var u=Math.min(Math.abs(a),Math.abs(a-o.height))/Math.min(Math.abs(i),Math.abs(i-o.width)),d=T(o,i,a,!0);c=u*(s=(0,l.distance)(d.x-i,(d.y-a)/u))}break;case"farthest-side":t===g.CIRCLE?s=c=Math.max(Math.abs(i),Math.abs(i-o.width),Math.abs(a),Math.abs(a-o.height)):t===g.ELLIPSE&&(s=Math.max(Math.abs(i),Math.abs(i-o.width)),c=Math.max(Math.abs(a),Math.abs(a-o.height)));break;case"farthest-corner":if(t===g.CIRCLE)s=c=Math.max((0,l.distance)(i,a),(0,l.distance)(i,a-o.height),(0,l.distance)(i-o.width,a),(0,l.distance)(i-o.width,a-o.height));else if(t===g.ELLIPSE){var f=Math.max(Math.abs(a),Math.abs(a-o.height))/Math.max(Math.abs(i),Math.abs(i-o.width)),p=T(o,i,a,!1);c=f*(s=(0,l.distance)(p.x-i,(p.y-a)/f))}break;default:s=r.x||0,c=void 0!==r.y?r.y:s}return{x:s,y:c}},O=t.transformWebkitRadialGradientArgs=function transformWebkitRadialGradientArgs(e){var t="",n="",r="",o="",i=0,a=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,s=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,l=e[i].match(a);l&&i++;var c=e[i].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(t=c[1]||"","contain"===(r=c[2]||"")?r="closest-side":"cover"===r&&(r="farthest-corner"),i++);var u=e[i].match(s);u&&i++;var d=e[i].match(a);d&&i++;var f=e[i].match(s);f&&i++;var p=d||l;p&&p[1]&&(o=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(o+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var h=f||u;return h&&(n=h[0],h[1]||(n+="px")),!o||t||n||r||(n=o,o=""),o&&(o="at "+o),[[t,r,n,o].filter(function(e){return!!e}).join(" ")].concat(e.slice(i))},k=function transformObsoleteColorStops(e){return e.map(function(e){return e.match(f)}).map(function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function parseAngle(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=n(156),a=n(494),s=_interopRequireDefault(n(706)),l=n(166),c=n(225),u=_interopRequireDefault(n(483)),d=n(707);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var f=t.DocumentCloner=function(){function DocumentCloner(e,t,n,r,o){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DocumentCloner),this.referenceElement=e,this.scrolledElements=[],this.copyStyles=r,this.inlineImages=r,this.logger=n,this.options=t,this.renderer=o,this.resourceLoader=new s.default(t,n,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return o(DocumentCloner,[{key:"inlineAllImages",value:function inlineAllImages(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,c.parseBackgroundImage)(n.backgroundImage).map(function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then(function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"}).catch(function(e){0}):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")})).then(function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")}),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then(function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,l.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}}).catch(function(e){0})}}},{key:"inlineFonts",value:function inlineFonts(e){var t=this;return Promise.all(Array.from(e.styleSheets).map(function(t){return t.href?fetch(t.href).then(function(e){return e.text()}).then(function(e){return h(e,t.href)}).catch(function(e){return[]}):p(t,e)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}).then(function(e){return Promise.all(e.map(function(e){return fetch(e.formats[0].src).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)})}).then(function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "})}))}).then(function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)})}},{key:"createElementClone",value:function createElementClone(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){0}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),o=C();r.setAttribute("data-html2canvas-internal-iframe-key",o);var a=(0,i.parseBounds)(e,0,0),s=a.width,c=a.height;return this.resourceLoader.cache[o]=T(e,this.options).then(function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new u.default,width:s,height:c,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(o))}).then(function(t){return new Promise(function(n,o){var i=document.createElement("img");i.onload=function(){return n(t)},i.onerror=o,i.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,l.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),i),r)})}),r}if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var d=[].slice.call(e.sheet.cssRules,0).reduce(function(e,n){try{return n&&n.cssText?e+n.cssText:e}catch(r){return t.logger.log("Unable to access cssText property",n.name),e}},""),f=e.cloneNode(!1);return f.textContent=d,f}return e.cloneNode(!1)}},{key:"cloneNode",value:function cloneNode(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,o=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&w(t);for(var a=(0,d.parseCounterReset)(r,this.pseudoContentData),s=(0,d.resolvePseudoContent)(e,o,this.pseudoContentData),c=e.firstChild;c;c=c.nextSibling)c.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===c.nodeName||c.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.copyStyles&&"STYLE"===c.nodeName||t.appendChild(this.cloneNode(c));var u=(0,d.resolvePseudoContent)(e,i,this.pseudoContentData);if((0,d.popCounters)(a,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(o&&this.inlineAllImages(m(e,t,o,s,A)),i&&this.inlineAllImages(m(e,t,i,u,v)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,l.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||g(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),DocumentCloner}(),p=function getSheetFonts(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).map(function(e){for(var n=(0,c.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],o=0;o<n.length;o++)if("url"===n[o].method&&n[o+1]&&"format"===n[o+1].method){var i=t.createElement("a");i.href=n[o].args[0],t.body&&t.body.appendChild(i);var a={src:i.href,format:n[o+1].args[0]};r.push(a)}return{formats:r.filter(function(e){return/^woff/i.test(e.format)}),fontFace:e.style}}).filter(function(e){return e.formats.length})},h=function createStyleSheetFontsFromText(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var o=document.createElement("style");return o.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(o),o.sheet?p(o.sheet,n):[]},g=function cloneCanvasContents(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(e){}},m=function inlinePseudoElement(e,t,n,r,o){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var i=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,l.copyCSSStyles)(n,i),r)for(var a=r.length,s=0;s<a;s++){var u=r[s];switch(u.type){case d.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var f=t.ownerDocument.createElement("img");f.src=(0,c.parseBackgroundImage)("url("+u.value+")")[0].args[0],f.style.opacity="1",i.appendChild(f);break;case d.PSEUDO_CONTENT_ITEM_TYPE.TEXT:i.appendChild(t.ownerDocument.createTextNode(u.value))}}return i.className=y+" "+b,t.className+=o===A?" "+y:" "+b,o===A?t.insertBefore(i,t.firstChild):t.appendChild(i),i}},A=":before",v=":after",y="___html2canvas___pseudoelement_before",b="___html2canvas___pseudoelement_after",w=function createPseudoHideStyles(e){_(e,"."+y+A+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+b+v+'{\n    content: "" !important;\n    display: none !important;\n}')},_=function createStyles(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},E=function initNode(e){var t=r(e,3),n=t[0],o=t[1],i=t[2];n.scrollLeft=o,n.scrollTop=i},C=function generateIframeKey(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},S=/^data:text\/(.+);(base64)?,(.*)$/i,T=function getIframeDocumentElement(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,a.Proxy)(e.src,t).then(function(e){var t=e.match(S);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()}).then(function(t){return x(e.ownerDocument,(0,i.parseBounds)(e,0,0)).then(function(e){var n=e.contentWindow.document;n.open(),n.write(t);var r=O(e).then(function(){return n.documentElement});return n.close(),r})}):Promise.reject()}},x=function createIframeContainer(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("")},O=function iframeLoader(e){var t=e.contentWindow,n=t.document;return new Promise(function(r,o){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))},50)}})},k=(t.cloneWindow=function cloneWindow(e,t,n,r,o,i){var a=new f(n,r,o,!1,i),s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset;return x(e,t).then(function(o){var i=o.contentWindow,c=i.document,u=O(o).then(function(){a.scrolledElements.forEach(E),i.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||i.scrollY===t.top&&i.scrollX===t.left||(c.documentElement.style.top=-t.top+"px",c.documentElement.style.left=-t.left+"px",c.documentElement.style.position="absolute");var n=Promise.resolve([o,a.clonedReferenceElement,a.resourceLoader]),s=r.onclone;return a.clonedReferenceElement instanceof i.HTMLElement||a.clonedReferenceElement instanceof e.defaultView.HTMLElement||a.clonedReferenceElement instanceof HTMLElement?"function"==typeof s?Promise.resolve().then(function(){return s(c)}).then(function(){return n}):n:Promise.reject("")});return c.open(),c.write(k(document.doctype)+"<html></html>"),function restoreOwnerScroll(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,s,l),c.replaceChild(c.adoptNode(a.documentElement),c.documentElement),c.close(),u})},function serializeDoctype(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(236)),i=n(494);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function ResourceLoader(e,t,n){_classCallCheck(this,ResourceLoader),this.options=e,this._window=n,this.origin=this.getOrigin(n.location.href),this.cache={},this.logger=t,this._index=0}return r(ResourceLoader,[{key:"loadImage",value:function loadImage(e){var t=this;if(this.hasResourceInCache(e))return e;if(p(e))return this.cache[e]=g(e,this.options.imageTimeout||0),e;if(!h(e)||o.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||d(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,i.Proxy)(e,this.options).then(function(e){return g(e,t.options.imageTimeout||0)}),e;if(!0===this.options.useCORS&&o.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function inlineImage(e){var t=this;return d(e)?g(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,i.Proxy)(e,this.options).then(function(e){return g(e,t.options.imageTimeout||0)})}},{key:"xhrImage",value:function xhrImage(e){var t=this;return this.cache[e]=new Promise(function(n,r){var o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4===o.readyState)if(200!==o.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+o.status);else{var t=new FileReader;t.addEventListener("load",function(){var e=t.result;n(e)},!1),t.addEventListener("error",function(e){return r(e)},!1),t.readAsDataURL(o.response)}},o.responseType="blob",t.options.imageTimeout){var i=t.options.imageTimeout;o.timeout=i,o.ontimeout=function(){return r("")}}o.open("GET",e,!0),o.send()}).then(function(e){return g(e,t.options.imageTimeout||0)}),this.cache[e]}},{key:"loadCanvas",value:function loadCanvas(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function hasResourceInCache(e){return void 0!==this.cache[e]}},{key:"addImage",value:function addImage(e,t,n){var r=this;var i=function imageLoadHandler(e){return new Promise(function(o,i){var a=new Image;if(a.onload=function(){return o(a)},e&&!n||(a.crossOrigin="anonymous"),a.onerror=i,a.src=t,!0===a.complete&&setTimeout(function(){o(a)},500),r.options.imageTimeout){var s=r.options.imageTimeout;setTimeout(function(){return i("")},s)}})};return this.cache[e]=f(t)&&!h(t)?o.default.SUPPORT_BASE64_DRAWING(t).then(i):i(!0),e}},{key:"isSameOrigin",value:function isSameOrigin(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function getOrigin(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function ready(){var e=this,t=Object.keys(this.cache),n=t.map(function(t){return e.cache[t].catch(function(e){return null})});return Promise.all(n).then(function(e){return new s(t,e)})}}]),ResourceLoader}();t.default=a;var s=t.ResourceStore=function(){function ResourceStore(e,t){_classCallCheck(this,ResourceStore),this._keys=e,this._resources=t}return r(ResourceStore,[{key:"get",value:function get(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),ResourceStore}(),l=/^data:image\/svg\+xml/i,c=/^data:image\/.*;base64,/i,u=/^data:image\/.*/i,d=function isInlineImage(e){return u.test(e)},f=function isInlineBase64Image(e){return c.test(e)},p=function isBlobImage(e){return"blob"===e.substr(0,4)},h=function isSVG(e){return"svg"===e.substr(-3).toLowerCase()||l.test(e)},g=function _loadImage(e,t){return new Promise(function(n,r){var o=new Image;o.onload=function(){return n(o)},o.onerror=r,o.src=e,!0===o.complete&&setTimeout(function(){n(o)},500),t&&setTimeout(function(){return r("")},t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(456),i=n(234),a=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},s=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},l=(t.parseCounterReset=function parseCounterReset(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],o=e.counterReset.split(/\s*,\s*/),i=o.length,a=0;a<i;a++){var s=o[a].split(/\s+/),l=r(s,2),c=l[0],u=l[1];n.push(c);var d=t.counters[c];d||(d=t.counters[c]=[]),d.push(parseInt(u||0,10))}return n},t.popCounters=function popCounters(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function resolvePseudoContent(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var o=l(t.content),i=o.length,c=[],f="",p=t.counterIncrement;if(p&&"none"!==p){var h=p.split(/\s+/),g=r(h,2),m=g[0],A=g[1],v=n.counters[m];v&&(v[v.length-1]+=void 0===A?1:parseInt(A,10))}for(var y=0;y<i;y++){var b=o[y];switch(b.type){case s.STRING:f+=b.value||"";break;case s.ATTRIBUTE:e instanceof HTMLElement&&b.value&&(f+=e.getAttribute(b.value)||"");break;case s.COUNTER:var w=n.counters[b.name||""];w&&(f+=d([w[w.length-1]],"",b.format));break;case s.COUNTERS:var _=n.counters[b.name||""];_&&(f+=d(_,b.glue,b.format));break;case s.OPENQUOTE:f+=u(t,!0,n.quoteDepth),n.quoteDepth++;break;case s.CLOSEQUOTE:n.quoteDepth--,f+=u(t,!1,n.quoteDepth);break;case s.URL:f&&(c.push({type:a.TEXT,value:f}),f=""),c.push({type:a.IMAGE,value:b.value||""})}}return f&&c.push({type:a.TEXT,value:f}),c},t.parseContent=function parseContent(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,o=!1,i=!1,a=!1,l="",u="",d=[],f=0;f<r;f++){var p=e.charAt(f);switch(p){case"'":case'"':i?l+=p:(o=!o,a||o||(n.push({type:s.STRING,value:l}),l=""));break;case"\\":i?(l+=p,i=!1):i=!0;break;case"(":o?l+=p:(a=!0,u=l,l="",d=[]);break;case")":if(o)l+=p;else if(a){switch(l&&d.push(l),u){case"attr":d.length>0&&n.push({type:s.ATTRIBUTE,value:d[0]});break;case"counter":if(d.length>0){var h={type:s.COUNTER,name:d[0]};d.length>1&&(h.format=d[1]),n.push(h)}break;case"counters":if(d.length>0){var g={type:s.COUNTERS,name:d[0]};d.length>1&&(g.glue=d[1]),d.length>2&&(g.format=d[2]),n.push(g)}break;case"url":d.length>0&&n.push({type:s.URL,value:d[0]})}a=!1,l=""}break;case",":o?l+=p:a&&(d.push(l),l="");break;case" ":case"\t":o?l+=p:l&&(c(n,l),l="");break;default:l+=p}"\\"!==p&&(i=!1)}return l&&c(n,l),t&&(t[e]=n),n}),c=function addOtherToken(e,t){switch(t){case"open-quote":e.push({type:s.OPENQUOTE});break;case"close-quote":e.push({type:s.CLOSEQUOTE})}},u=function getQuote(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],o=2*n;return o>=r.length&&(o=r.length-2),t||++o,r[o].replace(/^["']|["']$/g,"")},d=function formatCounterValue(e,t,n){for(var r=e.length,a="",s=0;s<r;s++)s>0&&(a+=t||""),a+=(0,o.createCounterText)(e[s],(0,i.parseListStyleType)(n||"decimal"),!1);return a}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(98),o=n(276),i=1;t.a=function matches(e){return Object(o.a)(Object(r.a)(e,i))}},function(e,t,n){"use strict";var r=n(98),o=1,i=4;t.a=function cloneDeep(e){return Object(r.a)(e,o|i)}},function(e,t,n){"use strict";var r=n(98),o=4;t.a=function clone(e){return Object(r.a)(e,o)}},function(e,t,n){"use strict";var r=n(275),o=n(259),i=Object(o.a)(function(e,t,n,o){Object(r.a)(e,t,n,o)});t.a=i},function(e,t,n){"use strict";var r=n(98),o=1,i=4;t.a=function cloneDeepWith(e,t){return t="function"==typeof t?t:void 0,Object(r.a)(e,o|i,t)}},function(e,t,n){"use strict";var r=n(23),o=n(282),i=n(159),a="Expected a function",s=Math.max,l=Math.min;t.a=function debounce(e,t,n){var c,u,d,f,p,h,g=0,m=!1,A=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function invokeFunc(t){var n=c,r=u;return c=u=void 0,g=t,f=e.apply(r,n)}function shouldInvoke(e){var n=e-h;return void 0===h||n>=t||n<0||A&&e-g>=d}function timerExpired(){var e=Object(o.a)();if(shouldInvoke(e))return trailingEdge(e);p=setTimeout(timerExpired,function remainingWait(e){var n=t-(e-h);return A?l(n,d-(e-g)):n}(e))}function trailingEdge(e){return p=void 0,v&&c?invokeFunc(e):(c=u=void 0,f)}function debounced(){var e=Object(o.a)(),n=shouldInvoke(e);if(c=arguments,u=this,h=e,n){if(void 0===p)return function leadingEdge(e){return g=e,p=setTimeout(timerExpired,t),m?invokeFunc(e):f}(h);if(A)return clearTimeout(p),p=setTimeout(timerExpired,t),invokeFunc(h)}return void 0===p&&(p=setTimeout(timerExpired,t)),f}return t=Object(i.a)(t)||0,Object(r.a)(n)&&(m=!!n.leading,d=(A="maxWait"in n)?s(Object(i.a)(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),debounced.cancel=function cancel(){void 0!==p&&clearTimeout(p),g=0,c=h=u=p=void 0},debounced.flush=function flush(){return void 0===p?f:trailingEdge(Object(o.a)())},debounced}},function(e,t,n){"use strict";var r=n(53),o=n(99),i=n(267),a=n(17);t.a=function map(e,t){return(Object(a.a)(e)?r.a:i.a)(e,Object(o.a)(t,3))}},function(e,t,n){"use strict";var r=n(20),o=n(93),i=/^\s+/,a=r.a.parseInt;t.a=function parseInt(e,t,n){return n||null==t?t=0:t&&(t=+t),a(Object(o.a)(e).replace(i,""),t||0)}},function(e,t,n){"use strict";var r=n(53),o=n(263),i=n(85),a=n(262),s=Object(i.a)(function(e){var t=Object(r.a)(e,a.a);return t.length&&t[0]===e[0]?Object(o.a)(t):[]});t.a=s},function(e,t,n){"use strict";var r=n(191),o=n(81),i=n(94),a=n(17),s=n(48),l=n(91),c=n(122),u=n(131),d="[object Map]",f="[object Set]",p=Object.prototype.hasOwnProperty;t.a=function isEmpty(e){if(null==e)return!0;if(Object(s.a)(e)&&(Object(a.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(l.a)(e)||Object(u.a)(e)||Object(i.a)(e)))return!e.length;var t=Object(o.a)(e);if(t==d||t==f)return!e.size;if(Object(c.a)(e))return!Object(r.a)(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(53),o=n(99),i=n(267);var a=function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},s=n(66),l=n(92);var c=function compareAscending(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Object(l.a)(e),a=void 0!==t,s=null===t,c=t==t,u=Object(l.a)(t);if(!s&&!u&&!i&&e>t||i&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!c)return-1}return 0};var u=function compareMultiple(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l=c(o[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},d=n(83);var f=function baseOrderBy(e,t,n){var l=-1;t=Object(r.a)(t.length?t:[d.a],Object(s.a)(o.a));var c=Object(i.a)(e,function(e,n,o){return{criteria:Object(r.a)(t,function(t){return t(e)}),index:++l,value:e}});return a(c,function(e,t){return u(e,t,n)})},p=n(17);t.a=function orderBy(e,t,n,r){return null==e?[]:(Object(p.a)(t)||(t=null==t?[]:[t]),n=r?void 0:n,Object(p.a)(n)||(n=null==n?[]:[n]),f(e,t,n))}},function(e,t,n){"use strict";var r=n(191),o=n(81),i=n(48),a=n(281),s=n(248),l=Object(s.a)("length"),c=n(183),u="[\\ud800-\\udfff]",d="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",f="\\ud83c[\\udffb-\\udfff]",p="[^\\ud800-\\udfff]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="(?:"+d+"|"+f+")"+"?",A="[\\ufe0e\\ufe0f]?"+m+("(?:\\u200d(?:"+[p,h,g].join("|")+")[\\ufe0e\\ufe0f]?"+m+")*"),v="(?:"+[p+d+"?",d,h,g,u].join("|")+")",y=RegExp(f+"(?="+f+")|"+v+A,"g");var b=function unicodeSize(e){for(var t=y.lastIndex=0;y.test(e);)++t;return t};var w=function stringSize(e){return Object(c.a)(e)?b(e):l(e)},_="[object Map]",E="[object Set]";t.a=function size(e){if(null==e)return 0;if(Object(i.a)(e))return Object(a.a)(e)?w(e):e.length;var t=Object(o.a)(e);return t==_||t==E?e.size:Object(r.a)(e).length}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;var o=function baseHas(e,t){return null!=e&&r.call(e,t)},i=n(245);t.a=function has(e,t){return null!=e&&Object(i.a)(e,t,o)}}]);
//# sourceMappingURL=bundle.index.0f8a1f02b1abe084be9c.js.map